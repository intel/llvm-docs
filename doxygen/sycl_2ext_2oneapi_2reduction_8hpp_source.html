<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPC++ Runtime: include/sycl/ext/oneapi/reduction.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPC++ Runtime
   </div>
   <div id="projectbrief">Runtime libraries for oneAPI Data Parallel C++</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sycl_2ext_2oneapi_2reduction_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">reduction.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sycl_2ext_2oneapi_2reduction_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//==---------------- reduction.hpp - SYCL reduction ------------*- C++ -*---==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// ===--------------------------------------------------------------------=== //</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="accessor_8hpp.html">CL/sycl/accessor.hpp</a>&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="CL_2sycl_2atomic_8hpp.html">CL/sycl/atomic.hpp</a>&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="tuple_8hpp.html">CL/sycl/detail/tuple.hpp</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="handler_8hpp.html">CL/sycl/handler.hpp</a>&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="kernel_8hpp.html">CL/sycl/kernel.hpp</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="known__identity_8hpp.html">CL/sycl/known_identity.hpp</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="accessor__property__list_8hpp.html">sycl/ext/oneapi/accessor_property_list.hpp</a>&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="sycl_2ext_2oneapi_2group__algorithm_8hpp.html">sycl/ext/oneapi/group_algorithm.hpp</a>&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<a class="code" href="defines__elementary_8hpp.html#af014229c51476c8c275e6e94d0549384">__SYCL_INLINE_NAMESPACE</a>(<a class="code" href="namespacecl.html">cl</a>) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span>sycl {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span>ext {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span>oneapi {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#abe0d3a7302fa94b2522b6182113606fa">cl::sycl::detail::bool_constant</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">cl::sycl::detail::enable_if_t</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1detail_1_1queue__impl.html">cl::sycl::detail::queue_impl</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">using</span> <a class="code" href="structcl_1_1sycl_1_1detail_1_1remove__AS.html">cl::sycl::detail::remove_AS</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// This type trait is used to detect if the atomic operation BinaryOperation</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// used with operands of the type T is available for using in reduction.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// The order in which the atomic operations are performed may be arbitrary and</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// thus may cause different results from run to run even on the same elements</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// and on same device. The macro SYCL_REDUCTION_DETERMINISTIC prohibits using</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// atomic operations for reduction and helps to produce stable results.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// SYCL_REDUCTION_DETERMINISTIC is a short term solution, which perhaps become</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// deprecated eventually and is replaced by a sycl property passed to reduction.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> BinaryOperation&gt;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">IsReduOptForFastAtomicFetch</a> =</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef SYCL_REDUCTION_DETERMINISTIC</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    bool_constant&lt;false&gt;;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    bool_constant&lt;sycl::detail::is_sgeninteger&lt;T&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                  sycl::detail::IsValidAtomicType&lt;T&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                  (sycl::detail::IsPlus&lt;T, BinaryOperation&gt;::value ||</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                   sycl::detail::IsMinimum&lt;T, BinaryOperation&gt;::value ||</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                   sycl::detail::IsMaximum&lt;T, BinaryOperation&gt;::value ||</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                   sycl::detail::IsBitOR&lt;T, BinaryOperation&gt;::value ||</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                   sycl::detail::IsBitXOR&lt;T, BinaryOperation&gt;::value ||</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">   54</a></span>&#160;                   <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ab84f15b358f2e86681ee0137e779c968">sycl::detail::IsBitAND&lt;T, BinaryOperation&gt;::value</a>)&gt;;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// This type trait is used to detect if the atomic operation BinaryOperation</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">// used with operands of the type T is available for using in reduction, in</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// addition to the cases covered by &quot;IsReduOptForFastAtomicFetch&quot;, if the device</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">// has the atomic64 aspect. This type trait should only be used if the device</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// has the atomic64 aspect.  Note that this type trait is currently a subset of</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">// IsReduOptForFastReduce. The macro SYCL_REDUCTION_DETERMINISTIC prohibits</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">// using the reduce_over_group() algorithm to produce stable results across same</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// type devices.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// TODO 32 bit floating point atomics are eventually expected to be supported by</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// the has_fast_atomics specialization. Once the reducer class is updated to</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// replace the deprecated atomic class with atomic_ref, the (sizeof(T) == 4)</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// case should be removed here and replaced in IsReduOptForFastAtomicFetch.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> BinaryOperation&gt;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a073c5106e84508bb0187cfdbbdef893d">IsReduOptForAtomic64Add</a> =</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#ifdef SYCL_REDUCTION_DETERMINISTIC</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classbool__constant.html">bool_constant&lt;false&gt;</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classbool__constant.html">bool_constant&lt;sycl::detail::IsPlus&lt;T, BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                  <a class="code" href="structcl_1_1sycl_1_1detail_1_1is__contained.html">sycl::detail::is_sgenfloat&lt;T&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a073c5106e84508bb0187cfdbbdef893d">   76</a></span>&#160;                  (<span class="keyword">sizeof</span>(T) == 4 || <span class="keyword">sizeof</span>(T) == 8)&gt;;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">// This type trait is used to detect if the group algorithm reduce() used with</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">// operands of the type T and the operation BinaryOperation is available</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">// for using in reduction.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// The macro SYCL_REDUCTION_DETERMINISTIC prohibits using the reduce() algorithm</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// to produce stable results across same type devices.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> BinaryOperation&gt;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad3e0e7612da1886967eb29ee33bf53d8">IsReduOptForFastReduce</a> =</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#ifdef SYCL_REDUCTION_DETERMINISTIC</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classbool__constant.html">bool_constant&lt;false&gt;</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classbool__constant.html">bool_constant</a>&lt;((<a class="code" href="structcl_1_1sycl_1_1detail_1_1is__contained.html">sycl::detail::is_sgeninteger&lt;T&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                    (<span class="keyword">sizeof</span>(T) == 4 || <span class="keyword">sizeof</span>(T) == 8)) ||</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                   <a class="code" href="structcl_1_1sycl_1_1detail_1_1is__contained.html">sycl::detail::is_sgenfloat&lt;T&gt;::value</a>) &amp;&amp;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                  (<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a2a06a440fb8fa3f1e0fd16eafea559fd">sycl::detail::IsPlus&lt;T, BinaryOperation&gt;::value</a> ||</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                   <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af3a08224432b6ca8b5f85582b9369b73">sycl::detail::IsMinimum&lt;T, BinaryOperation&gt;::value</a> ||</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad3e0e7612da1886967eb29ee33bf53d8">   94</a></span>&#160;                   <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ab2b35347cfd42afb5e3aace8902dcb83">sycl::detail::IsMaximum&lt;T, BinaryOperation&gt;::value</a>)&gt;;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">// std::tuple seems to be a) too heavy and b) not copyable to device now</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">// Thus sycl::detail::tuple is used instead.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">// Switching from sycl::device::tuple to std::tuple can be done by re-defining</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">// the ReduTupleT type and makeReduTupleT() function below.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a77fc752d52d480f17cc02f493749215e">  101</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Ts&gt; <span class="keyword">using</span> <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT</a> = <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">sycl::detail::tuple</a>&lt;Ts...&gt;;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#af480d7298291a40770b25c9b9fb36f76">  102</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Ts&gt; <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT</a>&lt;Ts...&gt; <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#af480d7298291a40770b25c9b9fb36f76">makeReduTupleT</a>(Ts... Elements) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">sycl::detail::make_tuple</a>(Elements...);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;__SYCL_EXPORT <span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa9646851619b0962872dfd49da602047">reduGetMaxWGSize</a>(std::shared_ptr&lt;queue_impl&gt; Queue,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                      <span class="keywordtype">size_t</span> LocalMemBytesPerWorkItem);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;__SYCL_EXPORT <span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a3bd9b409851150bf9b390554f35f33f7">reduComputeWGSize</a>(<span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> MaxWGSize,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                       <span class="keywordtype">size_t</span> &amp;NWorkGroups);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> BinaryOperation, <span class="keyword">typename</span> Subst = <span class="keywordtype">void</span>&gt;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html">  116</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html">reducer</a> {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a4561a59a94658b5be97df37f3bc44552">  118</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a4561a59a94658b5be97df37f3bc44552">reducer</a>(<span class="keyword">const</span> T &amp;Identity, BinaryOperation BOp)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      : MValue(Identity), MIdentity(Identity), MBinaryOp(BOp) {}</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#ad7a78a6d8d3c618f3b45f318bf41e7a3">  120</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#ad7a78a6d8d3c618f3b45f318bf41e7a3">combine</a>(<span class="keyword">const</span> T &amp;Partial) { MValue = MBinaryOp(MValue, Partial); }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a364dd7ce041766cab54c361bf37551c5">  122</a></span>&#160;  T <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a364dd7ce041766cab54c361bf37551c5">getIdentity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> MIdentity; }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsPlus&lt;_T, BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;              <a class="code" href="structcl_1_1sycl_1_1detail_1_1is__contained.html">sycl::detail::is_geninteger&lt;_T&gt;::value</a>&gt;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#ae2837109bf26d9fe9d4f7f4c37a0c835">  127</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#ae2837109bf26d9fe9d4f7f4c37a0c835">operator++</a>() {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    combine(<span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(1));</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsPlus&lt;_T, BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;              <a class="code" href="structcl_1_1sycl_1_1detail_1_1is__contained.html">sycl::detail::is_geninteger&lt;_T&gt;::value</a>&gt;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a0dcb92f31e48904efc68478f56dffdae">  134</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a0dcb92f31e48904efc68478f56dffdae">operator++</a>(<span class="keywordtype">int</span>) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    combine(<span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(1));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsPlus&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a43f539a2f3d5da489899326e6c3cf998">  140</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a43f539a2f3d5da489899326e6c3cf998">operator+=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsMultiplies&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a5cf4d44142d6f815d512dd44c481eebd">  146</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a5cf4d44142d6f815d512dd44c481eebd">operator*=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsBitOR&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a7431c0d412f98822b052517013c52869">  152</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a7431c0d412f98822b052517013c52869">operator|=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsBitXOR&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a39cc0ad492f4aaa4ebf7b49891ed883c">  158</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a39cc0ad492f4aaa4ebf7b49891ed883c">operator^=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsBitAND&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a8d7c5169eb54abe3df69e10358fb8f28">  164</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a8d7c5169eb54abe3df69e10358fb8f28">operator&amp;=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a201c6cd96483e6d3e0e99b988e53ecce">  168</a></span>&#160;  T <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a201c6cd96483e6d3e0e99b988e53ecce">MValue</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keyword">const</span> T MIdentity;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  BinaryOperation MBinaryOp;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;};</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// TODO: More types and ops can be added to here later.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> BinaryOperation&gt;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html">  193</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html">reducer</a>&lt;T, BinaryOperation,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t</a>&lt;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a334fcfcbb51d54e2b6875b51cacb66f1">IsKnownIdentityOp</a>&lt;T, BinaryOperation&gt;::value&gt;&gt; {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ac21af25edee1caaf7c01c9ffa7223721">  196</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ac21af25edee1caaf7c01c9ffa7223721">reducer</a>() : MValue(getIdentity()) {}</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a60fe268d8cf867c7197d72a1d268bee1">  197</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a60fe268d8cf867c7197d72a1d268bee1">reducer</a>(<span class="keyword">const</span> T &amp;, BinaryOperation) : MValue(getIdentity()) {}</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#aa968c93700468d02f9e704299d0b0591">  199</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#aa968c93700468d02f9e704299d0b0591">combine</a>(<span class="keyword">const</span> T &amp;Partial) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    BinaryOperation BOp;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    MValue = BOp(MValue, Partial);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T, <span class="keyword">class</span> _BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">static</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;has_known_identity_impl&lt;_BinaryOperation, _T&gt;::value</a>, _T&gt;</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a49f0c0f5f6e8640a74bfd2544770c0fc">  206</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a49f0c0f5f6e8640a74bfd2544770c0fc">getIdentity</a>() {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structcl_1_1sycl_1_1detail_1_1known__identity__impl.html">known_identity_impl&lt;_BinaryOperation, _T&gt;::value</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsPlus&lt;_T, BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;              <a class="code" href="structcl_1_1sycl_1_1detail_1_1is__contained.html">sycl::detail::is_geninteger&lt;_T&gt;::value</a>&gt;</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ae6c385a707d1fcc1fb96904bfdc100ab">  213</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ae6c385a707d1fcc1fb96904bfdc100ab">operator++</a>() {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    combine(<span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(1));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsPlus&lt;_T, BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              <a class="code" href="structcl_1_1sycl_1_1detail_1_1is__contained.html">sycl::detail::is_geninteger&lt;_T&gt;::value</a>&gt;</div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a281a70ef2569bfd5b90b0b5745bc922c">  220</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a281a70ef2569bfd5b90b0b5745bc922c">operator++</a>(<span class="keywordtype">int</span>) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    combine(<span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(1));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsPlus&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a31268c695c97fdd1ca35f60d5719b4b4">  226</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a31268c695c97fdd1ca35f60d5719b4b4">operator+=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsMultiplies&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ac1e0411b9e3b982b7aba8ec08ce90df8">  232</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ac1e0411b9e3b982b7aba8ec08ce90df8">operator*=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsBitOR&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a54e2d3bfe83528d485ec6c28c0576451">  238</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a54e2d3bfe83528d485ec6c28c0576451">operator|=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsBitXOR&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a05e63e9f5df8d85115196045d237ba48">  244</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a05e63e9f5df8d85115196045d237ba48">operator^=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T&gt;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;sycl::detail::IsBitAND&lt;_T, BinaryOperation&gt;::value</a>&gt;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a005082cb0891c0ed09379bdc08091611">  250</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a005082cb0891c0ed09379bdc08091611">operator&amp;=</a>(<span class="keyword">const</span> _T &amp;Partial) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    combine(Partial);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keyword">template</span> &lt;access::address_space Space&gt;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="namespacecl_1_1sycl.html#a823084f3298e44dd9bb84291cf334daa">memory_scope</a> getMemoryScope() {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> Space == access::address_space::local_space</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;               ? memory_scope::work_group</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;               : <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">memory_scope::device</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keyword">template</span> &lt;<a class="code" href="namespacecl_1_1sycl_1_1access.html#a0b32461aa4a1867f288b640d7fc64fbf">access::address_space</a> Space = access::address_space::global_space,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keyword">typename</span> _T = <a class="code" href="classT.html">T</a>, <span class="keyword">class </span>_BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;std::is_same&lt;typename remove_AS&lt;_T&gt;::type</a>, <a class="code" href="classT.html">T</a>&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;              (IsReduOptForFastAtomicFetch&lt;T, _BinaryOperation&gt;::value ||</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;               IsReduOptForAtomic64Add&lt;T, _BinaryOperation&gt;::value) &amp;&amp;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a2a06a440fb8fa3f1e0fd16eafea559fd">sycl::detail::IsPlus&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;              (Space == access::address_space::global_space ||</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;               Space == access::address_space::local_space)&gt;</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#acad6749bffae84a1fdc71b88a1f05e24">  272</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#acad6749bffae84a1fdc71b88a1f05e24">atomic_combine</a>(_T *ReduVarPtr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref&lt;T, memory_order::relaxed, getMemoryScope&lt;Space&gt;</a>(), Space&gt;(</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        *<a class="code" href="classcl_1_1sycl_1_1multi__ptr.html">multi_ptr&lt;T, Space&gt;</a>(ReduVarPtr))</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        .fetch_add(MValue);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keyword">template</span> &lt;<a class="code" href="namespacecl_1_1sycl_1_1access.html#a0b32461aa4a1867f288b640d7fc64fbf">access::address_space</a> Space = access::address_space::global_space,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keyword">typename</span> _T = T, <span class="keyword">class </span>_BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;std::is_same&lt;typename remove_AS&lt;_T&gt;::type</a>, T&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">IsReduOptForFastAtomicFetch&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a3977f60b33b9bb7c9c6e7afdc055f5be">sycl::detail::IsBitOR&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;              (Space == access::address_space::global_space ||</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;               Space == access::address_space::local_space)&gt;</div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ab61362292663e62f27dad52958040cbc">  286</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ab61362292663e62f27dad52958040cbc">atomic_combine</a>(_T *ReduVarPtr) <span class="keyword">const</span> {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref&lt;T, memory_order::relaxed, getMemoryScope&lt;Space&gt;</a>(), Space&gt;(</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        *<a class="code" href="classcl_1_1sycl_1_1multi__ptr.html">multi_ptr&lt;T, Space&gt;</a>(ReduVarPtr))</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        .fetch_or(MValue);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">template</span> &lt;<a class="code" href="namespacecl_1_1sycl_1_1access.html#a0b32461aa4a1867f288b640d7fc64fbf">access::address_space</a> Space = access::address_space::global_space,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keyword">typename</span> _T = T, <span class="keyword">class </span>_BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;std::is_same&lt;typename remove_AS&lt;_T&gt;::type</a>, T&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">IsReduOptForFastAtomicFetch&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a2ed767501fa07ec154ca7bb83b512635">sycl::detail::IsBitXOR&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;              (Space == access::address_space::global_space ||</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;               Space == access::address_space::local_space)&gt;</div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a58ac7e400d46f39732011d8cdf71f254">  300</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a58ac7e400d46f39732011d8cdf71f254">atomic_combine</a>(_T *ReduVarPtr) <span class="keyword">const</span> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref&lt;T, memory_order::relaxed, getMemoryScope&lt;Space&gt;</a>(), Space&gt;(</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        *<a class="code" href="classcl_1_1sycl_1_1multi__ptr.html">multi_ptr&lt;T, Space&gt;</a>(ReduVarPtr))</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        .fetch_xor(MValue);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keyword">template</span> &lt;<a class="code" href="namespacecl_1_1sycl_1_1access.html#a0b32461aa4a1867f288b640d7fc64fbf">access::address_space</a> Space = access::address_space::global_space,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keyword">typename</span> _T = T, <span class="keyword">class </span>_BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;std::is_same&lt;typename remove_AS&lt;_T&gt;::type</a>, T&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">IsReduOptForFastAtomicFetch&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ab84f15b358f2e86681ee0137e779c968">sycl::detail::IsBitAND&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;              (Space == access::address_space::global_space ||</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;               Space == access::address_space::local_space)&gt;</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a31d5ce5f0afd934b647558d8b9479723">  314</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a31d5ce5f0afd934b647558d8b9479723">atomic_combine</a>(_T *ReduVarPtr) <span class="keyword">const</span> {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref&lt;T, memory_order::relaxed, getMemoryScope&lt;Space&gt;</a>(), Space&gt;(</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        *<a class="code" href="classcl_1_1sycl_1_1multi__ptr.html">multi_ptr&lt;T, Space&gt;</a>(ReduVarPtr))</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        .fetch_and(MValue);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keyword">template</span> &lt;<a class="code" href="namespacecl_1_1sycl_1_1access.html#a0b32461aa4a1867f288b640d7fc64fbf">access::address_space</a> Space = access::address_space::global_space,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keyword">typename</span> _T = T, <span class="keyword">class </span>_BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;std::is_same&lt;typename remove_AS&lt;_T&gt;::type</a>, T&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">IsReduOptForFastAtomicFetch&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af3a08224432b6ca8b5f85582b9369b73">sycl::detail::IsMinimum&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;              (Space == access::address_space::global_space ||</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;               Space == access::address_space::local_space)&gt;</div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#afa45c79654a82ccbb2233a0c39c59721">  328</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#afa45c79654a82ccbb2233a0c39c59721">atomic_combine</a>(_T *ReduVarPtr) <span class="keyword">const</span> {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref&lt;T, memory_order::relaxed, getMemoryScope&lt;Space&gt;</a>(), Space&gt;(</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        *<a class="code" href="classcl_1_1sycl_1_1multi__ptr.html">multi_ptr&lt;T, Space&gt;</a>(ReduVarPtr))</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        .fetch_min(MValue);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keyword">template</span> &lt;<a class="code" href="namespacecl_1_1sycl_1_1access.html#a0b32461aa4a1867f288b640d7fc64fbf">access::address_space</a> Space = access::address_space::global_space,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keyword">typename</span> _T = T, <span class="keyword">class </span>_BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;std::is_same&lt;typename remove_AS&lt;_T&gt;::type</a>, T&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">IsReduOptForFastAtomicFetch&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;              <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ab2b35347cfd42afb5e3aace8902dcb83">sycl::detail::IsMaximum&lt;T, _BinaryOperation&gt;::value</a> &amp;&amp;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;              (Space == access::address_space::global_space ||</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;               Space == access::address_space::local_space)&gt;</div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a41500014380c61525a1511a91e1be202">  342</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a41500014380c61525a1511a91e1be202">atomic_combine</a>(_T *ReduVarPtr) <span class="keyword">const</span> {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref&lt;T, memory_order::relaxed, getMemoryScope&lt;Space&gt;</a>(), Space&gt;(</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        *<a class="code" href="classcl_1_1sycl_1_1multi__ptr.html">multi_ptr&lt;T, Space&gt;</a>(ReduVarPtr))</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        .fetch_max(MValue);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a582beed0db36ed1e397ff393436bc9af">  348</a></span>&#160;  T <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a582beed0db36ed1e397ff393436bc9af">MValue</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;};</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl__base.html">  353</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl__base.html">reduction_impl_base</a> {};</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> FirstT, <span class="keyword">typename</span>... RestT&gt; <span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions.html">AreAllButLastReductions</a> {</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions.html#a148b565b8b60645e720a129465938308">  358</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> value =</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      std::is_base_of&lt;reduction_impl_base, FirstT&gt;::value &amp;&amp;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions.html">AreAllButLastReductions</a>&lt;RestT...&gt;::value;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;};</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions_3_01T_01_4.html">  365</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions.html">AreAllButLastReductions</a>&lt;T&gt; {</div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions_3_01T_01_4.html#aeb6603f4f0a0660a8431f192cae51246">  366</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> value = !std::is_base_of&lt;reduction_impl_base, T&gt;::value;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;};</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class </span>BinaryOperation, <span class="keywordtype">int</span> Dims, <span class="keywordtype">bool</span> IsUSM,</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          <a class="code" href="namespacecl_1_1sycl_1_1access.html#af1c616691dbceeaca9cdd537a8ab0af9">access::placeholder</a> IsPlaceholder = access::placeholder::false_t&gt;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keyword">class </span><a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html">reduction_impl</a> : <span class="keyword">private</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl__base.html">reduction_impl_base</a> {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a27e035d00bfa289a89c00ccfc19a5ba5">  375</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html">reducer_type</a> = <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html">reducer&lt;T, BinaryOperation&gt;</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a674caef9d2a4030ab2001d7848b1cd78">  376</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a674caef9d2a4030ab2001d7848b1cd78">result_type</a> = T;</div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a75aa6361145c4d0bce440d759130e426">  377</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a75aa6361145c4d0bce440d759130e426">binary_operation</a> = BinaryOperation;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a> =</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="classcl_1_1sycl_1_1accessor.html">accessor</a>&lt;T, Dims, access::mode::read_write, <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">access::target::device</a>,</div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#acad60df737e085d5406475729aa82060">  380</a></span>&#160;               IsPlaceholder, <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1accessor__property__list.html">ext::oneapi::accessor_property_list&lt;&gt;</a>&gt;;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1accessor.html">dw_accessor_type</a> =</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="classcl_1_1sycl_1_1accessor.html">accessor</a>&lt;T, Dims, access::mode::discard_write, <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">access::target::device</a>,</div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a335954e7a2a73e7ce1b3d3987c62080a">  383</a></span>&#160;               IsPlaceholder, <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1accessor__property__list.html">ext::oneapi::accessor_property_list&lt;&gt;</a>&gt;;</div>
<div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ae2e734b081dabf3a73f97f526f654331">  384</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> accessor_dim = Dims;</div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a9f6d79a2cb3661116b5a209dd883548e">  385</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> buffer_dim = (Dims == 0) ? 1 : Dims;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a382af711e834b7a3dade1882f97b8791">  387</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> has_atomic_add_float64 =</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a073c5106e84508bb0187cfdbbdef893d">IsReduOptForAtomic64Add&lt;T, BinaryOperation&gt;::value</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a9030b00a5d8619226391284e206d90b2">  389</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> has_fast_atomics =</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">IsReduOptForFastAtomicFetch&lt;T, BinaryOperation&gt;::value</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a7bace5c4c8f9527f3244d921cb739f47">  391</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> has_fast_reduce =</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad3e0e7612da1886967eb29ee33bf53d8">IsReduOptForFastReduce&lt;T, BinaryOperation&gt;::value</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1fda4fc57eca16c54ac1f56bfac6777c">  393</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_usm = IsUSM;</div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1a406fbe5030e340f325a58ad4467dd5">  394</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_placeholder =</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      (IsPlaceholder == access::placeholder::true_t);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// Only scalar (i.e. 0-dim and 1-dim with 1 element) reductions supported now.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// TODO: suport (Dims &gt; 1) accessors/reductions.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// TODO: support true 1-Dimensional accessors/reductions (size() &gt; 1).</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// (size() == 1) is checked in the constructor of reduction_impl.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  static_assert(Dims &lt;= 1,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="stringliteral">&quot;Multi-dimensional reductions are not supported yet.&quot;</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T, <span class="keyword">class</span> _BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, _BinaryOperation&gt;::value</a>,</div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#aa72f7282ac898351fdf49146ecca4d0e">  407</a></span>&#160;              _T&gt; constexpr <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#aa72f7282ac898351fdf49146ecca4d0e">getIdentity</a>() {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> reducer_type::getIdentity();</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = T, <span class="keyword">class</span> _BinaryOperation = BinaryOperation&gt;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!IsKnownIdentityOp&lt;_T, _BinaryOperation&gt;::value</a>, _T&gt;</div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1ded568b5a88418ecade0e3d334fa50d">  414</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1ded568b5a88418ecade0e3d334fa50d">getIdentity</a>() {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span> MIdentity;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T, <span class="keyword">typename</span> AllocatorT,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            std::enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value&gt; * =</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a7e183f64cdc98888f8521b91aee922ad">  423</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a7e183f64cdc98888f8521b91aee922ad">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1buffer.html">buffer&lt;_T, 1, AllocatorT&gt;</a> Buffer, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                 <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      : MRWAcc(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a>&gt;(Buffer)),</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        MIdentity(getIdentity()), <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a8d5e397ffe5aede6b455150254459c91">associateWithHandler</a>(CGH);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (Buffer.<a class="code" href="classcl_1_1sycl_1_1buffer.html#a8c08290fd97b67a56da028539b9b1b37">size</a>() != 1)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1e39bd348a8dd9d64afcd9ef6c1f81e0">  438</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1e39bd348a8dd9d64afcd9ef6c1f81e0">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a> &amp;Acc)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      : MRWAcc(new <a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a>(Acc)), MIdentity(getIdentity()),</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(false) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (Acc.<a class="code" href="classcl_1_1sycl_1_1accessor.html#a077078a5714ecb2894dece295de8bf9b">size</a>() != 1)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a131461c394ea57f260b5577ef559f7f4">  451</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a131461c394ea57f260b5577ef559f7f4">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">dw_accessor_type</a> &amp;Acc)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      : MDWAcc(new <a class="code" href="classcl_1_1sycl_1_1accessor.html">dw_accessor_type</a>(Acc)), MIdentity(getIdentity()),</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(true) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (Acc.<a class="code" href="classcl_1_1sycl_1_1accessor.html#a077078a5714ecb2894dece295de8bf9b">size</a>() != 1)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keyword">typename</span> _T, <span class="keyword">typename</span> AllocatorT,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a6cb03196263cb1683f6b75f9a79e3a36">  466</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a6cb03196263cb1683f6b75f9a79e3a36">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1buffer.html">buffer&lt;_T, 1, AllocatorT&gt;</a> Buffer, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                 <span class="keyword">const</span> T &amp; <span class="comment">/*Identity*/</span>, BinaryOperation,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                 <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      : MRWAcc(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a>&gt;(Buffer)),</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        MIdentity(getIdentity()), <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a8d5e397ffe5aede6b455150254459c91">associateWithHandler</a>(CGH);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">if</span> (Buffer.<a class="code" href="classcl_1_1sycl_1_1buffer.html#a8c08290fd97b67a56da028539b9b1b37">size</a>() != 1)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// For now the implementation ignores the identity value given by user</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// when the implementation knows the identity.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// The SPEC could prohibit passing identity parameter to operations with</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="comment">// known identity, but that could have some bad consequences too.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// For example, at some moment the implementation may NOT know the identity</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">// for COMPLEX-PLUS reduction. User may create a program that would pass</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">// COMPLEX value (0,0) as identity for PLUS reduction. At some later moment</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// when the implementation starts handling COMPLEX-PLUS as known operation</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// the existing user&#39;s program remains compilable and working correctly.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// I.e. with this constructor here, adding more reduction operations to the</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// list of known operations does not break the existing programs.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a128547b5c96be0e885a6175b211256c7">  494</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a128547b5c96be0e885a6175b211256c7">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a> &amp;Acc, <span class="keyword">const</span> T &amp; <span class="comment">/*Identity*/</span>, BinaryOperation)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      : MRWAcc(new <a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a>(Acc)), MIdentity(getIdentity()),</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(false) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (Acc.<a class="code" href="classcl_1_1sycl_1_1accessor.html#a077078a5714ecb2894dece295de8bf9b">size</a>() != 1)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// For now the implementation ignores the identity value given by user</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// when the implementation knows the identity.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// The SPEC could prohibit passing identity parameter to operations with</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// known identity, but that could have some bad consequences too.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// For example, at some moment the implementation may NOT know the identity</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// for COMPLEX-PLUS reduction. User may create a program that would pass</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// COMPLEX value (0,0) as identity for PLUS reduction. At some later moment</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// when the implementation starts handling COMPLEX-PLUS as known operation</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// the existing user&#39;s program remains compilable and working correctly.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// I.e. with this constructor here, adding more reduction operations to the</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// list of known operations does not break the existing programs.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a8d5ddd976d48fd888b1cfcc2865835b9">  519</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a8d5ddd976d48fd888b1cfcc2865835b9">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">dw_accessor_type</a> &amp;Acc, <span class="keyword">const</span> T &amp; <span class="comment">/*Identity*/</span>, BinaryOperation)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      : MDWAcc(new <a class="code" href="classcl_1_1sycl_1_1accessor.html">dw_accessor_type</a>(Acc)), MIdentity(getIdentity()),</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(true) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span> (Acc.<a class="code" href="classcl_1_1sycl_1_1accessor.html#a077078a5714ecb2894dece295de8bf9b">size</a>() != 1)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">// For now the implementation ignores the identity value given by user</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// when the implementation knows the identity.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">// The SPEC could prohibit passing identity parameter to operations with</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// known identity, but that could have some bad consequences too.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// For example, at some moment the implementation may NOT know the identity</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// for COMPLEX-PLUS reduction. User may create a program that would pass</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">// COMPLEX value (0,0) as identity for PLUS reduction. At some later moment</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// when the implementation starts handling COMPLEX-PLUS as known operation</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">// the existing user&#39;s program remains compilable and working correctly.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// I.e. with this constructor here, adding more reduction operations to the</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// list of known operations does not break the existing programs.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keyword">typename</span> _T, <span class="keyword">typename</span> AllocatorT,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#af55a894e9edbf922155daaf8c957c956">  544</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#af55a894e9edbf922155daaf8c957c956">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1buffer.html">buffer&lt;_T, 1, AllocatorT&gt;</a> Buffer, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                 <span class="keyword">const</span> T &amp;Identity, BinaryOperation BOp,</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                 <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      : MRWAcc(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a>&gt;(Buffer)), MIdentity(Identity),</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        MBinaryOp(BOp), <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a8d5e397ffe5aede6b455150254459c91">associateWithHandler</a>(CGH);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (Buffer.<a class="code" href="classcl_1_1sycl_1_1buffer.html#a8c08290fd97b67a56da028539b9b1b37">size</a>() != 1)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a679046e1e539c2dd3225432128ec3f53">  560</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a679046e1e539c2dd3225432128ec3f53">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a> &amp;Acc, <span class="keyword">const</span> T &amp;Identity, BinaryOperation BOp)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      : MRWAcc(new <a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a>(Acc)), MIdentity(Identity), MBinaryOp(BOp),</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(false) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (Acc.<a class="code" href="classcl_1_1sycl_1_1accessor.html#a077078a5714ecb2894dece295de8bf9b">size</a>() != 1)</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a3477215b22896372a7e2db29f3a3fa66">  573</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a3477215b22896372a7e2db29f3a3fa66">reduction_impl</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">dw_accessor_type</a> &amp;Acc, <span class="keyword">const</span> T &amp;Identity, BinaryOperation BOp)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      : MDWAcc(new <a class="code" href="classcl_1_1sycl_1_1accessor.html">dw_accessor_type</a>(Acc)), MIdentity(Identity), MBinaryOp(BOp),</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(true) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> (Acc.<a class="code" href="classcl_1_1sycl_1_1accessor.html#a077078a5714ecb2894dece295de8bf9b">size</a>() != 1)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">throw</span> sycl::runtime_error(errc::invalid,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                <span class="stringliteral">&quot;Reduction variable must be a scalar.&quot;</span>,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                <a class="code" href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ad25c8a4f549cc6531bb1d06469902d4a">  589</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ad25c8a4f549cc6531bb1d06469902d4a">reduction_impl</a>(T *VarPtr, <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a> = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      : MIdentity(getIdentity()), MUSMPointer(VarPtr),</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>) {}</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a9a457ccdd00c09196ae58a7755da0700">  601</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a9a457ccdd00c09196ae58a7755da0700">reduction_impl</a>(T *VarPtr, <span class="keyword">const</span> T &amp;Identity, BinaryOperation,</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                 <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a> = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      : MIdentity(Identity), MUSMPointer(VarPtr),</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// For now the implementation ignores the identity value given by user</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// when the implementation knows the identity.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// The SPEC could prohibit passing identity parameter to operations with</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// known identity, but that could have some bad consequences too.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// For example, at some moment the implementation may NOT know the identity</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// for COMPLEX-PLUS reduction. User may create a program that would pass</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// COMPLEX value (0,0) as identity for PLUS reduction. At some later moment</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// when the implementation starts handling COMPLEX-PLUS as known operation</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// the existing user&#39;s program remains compilable and working correctly.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// I.e. with this constructor here, adding more reduction operations to the</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// list of known operations does not break the existing programs.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keyword">template</span> &lt;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keyword">typename</span> _T = T,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!IsKnownIdentityOp&lt;_T, BinaryOperation&gt;::value</a>&gt; * = <span class="keyword">nullptr</span>&gt;</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a043b0c9eef8a4beb0ee5c4d78604df84">  625</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a043b0c9eef8a4beb0ee5c4d78604df84">reduction_impl</a>(T *VarPtr, <span class="keyword">const</span> T &amp;Identity, BinaryOperation BOp,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                 <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a> = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      : MIdentity(Identity), MUSMPointer(VarPtr), MBinaryOp(BOp),</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>) {}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#adbe68813e8304b8da8f0a84a25791484">  633</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#adbe68813e8304b8da8f0a84a25791484">associateWithHandler</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor">#ifndef __SYCL_DEVICE_ONLY__</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (MRWAcc)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      CGH.associateWithHandler(MRWAcc.get(), <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">access::target::device</a>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MDWAcc)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      CGH.associateWithHandler(MDWAcc.get(), <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">access::target::device</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    (void)CGH;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> _T = result_type&gt;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keyword">static</span> <a class="code" href="classcl_1_1sycl_1_1accessor.html">accessor</a>&lt;_T, buffer_dim, access::mode::read_write,</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                  access::target::local&gt;</div>
<div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a66436470336cdccf81d4f3556542c6bf">  651</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a66436470336cdccf81d4f3556542c6bf">getReadWriteLocalAcc</a>(<span class="keywordtype">size_t</span> Size, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">return</span> {Size, CGH};</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1accessor.html">accessor&lt;T, buffer_dim, access::mode::read&gt;</a></div>
<div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#aaf9a8564741eb9c0b3951b8524c0927b">  656</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#aaf9a8564741eb9c0b3951b8524c0927b">getReadAccToPreviousPartialReds</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    CGH.addReduction(MOutBufPtr);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> {*MOutBufPtr, CGH};</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> IsOneWG, <span class="keywordtype">bool</span> _IsUSM = is_usm&gt;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  std::enable_if_t&lt;IsOneWG &amp;&amp; _IsUSM, result_type *&gt;</div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#afea54df77aca21df63dd3e4d1d9c6c6a">  664</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#afea54df77aca21df63dd3e4d1d9c6c6a">getWriteMemForPartialReds</a>(<span class="keywordtype">size_t</span>, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span> getUSMPointer();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> IsOneWG, <span class="keywordtype">bool</span> _IsUSM = is_usm&gt;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  std::enable_if_t&lt;IsOneWG &amp;&amp; !_IsUSM, rw_accessor_type&gt;</div>
<div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a4b7a5c190de374ad1cd4be18c6272ab7">  673</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a4b7a5c190de374ad1cd4be18c6272ab7">getWriteMemForPartialReds</a>(<span class="keywordtype">size_t</span>, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (MRWAcc)</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">return</span> *MRWAcc;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">return</span> getWriteMemForPartialReds&lt;false&gt;(1, CGH);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> IsOneWG&gt;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  std::enable_if_t&lt;!IsOneWG, rw_accessor_type&gt;</div>
<div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab741768a8257fe030eccc886718bfd47">  683</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab741768a8257fe030eccc886718bfd47">getWriteMemForPartialReds</a>(<span class="keywordtype">size_t</span> Size, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    MOutBufPtr = std::make_shared&lt;buffer&lt;T, buffer_dim&gt;&gt;(<a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>(Size));</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    CGH.addReduction(MOutBufPtr);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">return</span> createHandlerWiredReadWriteAccessor(CGH, *MOutBufPtr);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ae8f443a95d6ab5b443a4576605389052">  695</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ae8f443a95d6ab5b443a4576605389052">getWriteAccForPartialReds</a>(<span class="keywordtype">size_t</span> Size, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (Size == 1 &amp;&amp; MRWAcc != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a8d5e397ffe5aede6b455150254459c91">associateWithHandler</a>(CGH);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="keywordflow">return</span> *MRWAcc;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// Create a new output buffer and return an accessor to it.</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    MOutBufPtr = std::make_shared&lt;buffer&lt;T, buffer_dim&gt;&gt;(<a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>(Size));</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    CGH.addReduction(MOutBufPtr);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> createHandlerWiredReadWriteAccessor(CGH, *MOutBufPtr);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> HasFastAtomics = (has_fast_atomics || has_atomic_add_<span class="keywordtype">float</span>64)&gt;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  std::enable_if_t&lt;HasFastAtomics, rw_accessor_type&gt;</div>
<div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a54c98baab6c98c3f34ff507391cbde48">  714</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a54c98baab6c98c3f34ff507391cbde48">getReadWriteAccessorToInitializedMem</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (!is_usm &amp;&amp; !initializeToIdentity())</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">return</span> *MRWAcc;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keyword">auto</span> RWReduVal = std::make_shared&lt;T&gt;(MIdentity);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    CGH.addReduction(RWReduVal);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    MOutBufPtr = std::make_shared&lt;buffer&lt;T, 1&gt;&gt;(RWReduVal.get(), <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>(1));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    MOutBufPtr-&gt;set_final_data();</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    CGH.addReduction(MOutBufPtr);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> createHandlerWiredReadWriteAccessor(CGH, *MOutBufPtr);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1accessor.html">accessor</a>&lt;int, 1, access::mode::read_write, <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">access::target::device</a>,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;           access::placeholder::false_t&gt;</div>
<div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a203c9669a8e6c4eb5fe252f79f2ee27b">  728</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a203c9669a8e6c4eb5fe252f79f2ee27b">getReadWriteAccessorToInitializedGroupsCounter</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keyword">auto</span> CounterMem = std::make_shared&lt;int&gt;(0);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    CGH.addReduction(CounterMem);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keyword">auto</span> CounterBuf = std::make_shared&lt;buffer&lt;int, 1&gt;&gt;(CounterMem.get(), 1);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    CounterBuf-&gt;set_final_data();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    CGH.addReduction(CounterBuf);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">return</span> {*CounterBuf, CGH};</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab3f173bfc909d8c1039a4bef61f078b2">  737</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab3f173bfc909d8c1039a4bef61f078b2">hasUserDiscardWriteAccessor</a>() { <span class="keywordflow">return</span> MDWAcc != <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> _IsUSM = IsUSM&gt;</div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#abcd39cea1c9658613103dcc7dd4236e6">  740</a></span>&#160;  std::enable_if_t&lt;!_IsUSM, rw_accessor_type &amp;&gt; <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#abcd39cea1c9658613103dcc7dd4236e6">getUserReadWriteAccessor</a>() {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">return</span> *MRWAcc;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> _IsUSM = IsUSM&gt;</div>
<div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a008e630235d72882a0e9f3e888f55fab">  745</a></span>&#160;  std::enable_if_t&lt;!_IsUSM, dw_accessor_type &amp;&gt; <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a008e630235d72882a0e9f3e888f55fab">getUserDiscardWriteAccessor</a>() {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> *MDWAcc;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ad6057b1e3b8ea90f68e2d6ec40513942">  749</a></span>&#160;  <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a674caef9d2a4030ab2001d7848b1cd78">result_type</a> *<a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ad6057b1e3b8ea90f68e2d6ec40513942">getUSMPointer</a>() {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    assert(is_usm &amp;&amp; <span class="stringliteral">&quot;Unexpected call of getUSMPointer().&quot;</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">return</span> MUSMPointer;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#abf1fb6912b66abb0a33046c431df4dc2">  754</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a674caef9d2a4030ab2001d7848b1cd78">result_type</a> *<a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#abf1fb6912b66abb0a33046c431df4dc2">getOutPointer</a>(<span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1accessor.html">rw_accessor_type</a> &amp;OutAcc) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> OutAcc.<a class="code" href="classcl_1_1sycl_1_1accessor.html#a14c3f1a038eb6e7dd2ee8dd7a2a4b597">get_pointer</a>().get();</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab1b663453c1ec9a56baa987f956d8a04">  758</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a674caef9d2a4030ab2001d7848b1cd78">result_type</a> *<a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab1b663453c1ec9a56baa987f956d8a04">getOutPointer</a>(<a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a674caef9d2a4030ab2001d7848b1cd78">result_type</a> *OutPtr) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">return</span> OutPtr;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#af862d8e84bf623dfd17606cc9e4993b9">  763</a></span>&#160;  BinaryOperation <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#af862d8e84bf623dfd17606cc9e4993b9">getBinaryOperation</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> MBinaryOp; }</div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#afe8401ed4bf3a79246cb65ad57032df5">  764</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#afe8401ed4bf3a79246cb65ad57032df5">initializeToIdentity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>; }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> BufferT, access::placeholder IsPH = IsPlaceholder&gt;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  std::enable_if_t&lt;IsPH == access::placeholder::false_t, rw_accessor_type&gt;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  createHandlerWiredReadWriteAccessor(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, BufferT Buffer) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> {Buffer, CGH};</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> BufferT, access::placeholder IsPH = IsPlaceholder&gt;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  std::enable_if_t&lt;IsPH == access::placeholder::true_t, rw_accessor_type&gt;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  createHandlerWiredReadWriteAccessor(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, BufferT Buffer) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    rw_accessor_type Acc(Buffer);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#ae15174598d704c69779e60fdb86da80e">require</a>(Acc);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> Acc;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keyword">const</span> T MIdentity;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  std::shared_ptr&lt;rw_accessor_type&gt; MRWAcc;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  std::shared_ptr&lt;dw_accessor_type&gt; MDWAcc;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  std::shared_ptr&lt;buffer&lt;T, buffer_dim&gt;&gt; MOutBufPtr;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  T *MUSMPointer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  BinaryOperation MBinaryOp;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">InitializeToIdentity</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;};</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keywordtype">bool</span> B1, <span class="keywordtype">bool</span> B2, <span class="keyword">typename</span> T2&gt;</div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__main__kernel.html">  804</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__main__kernel.html">__sycl_reduction_main_kernel</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keywordtype">bool</span> B1, <span class="keywordtype">bool</span> B2, <span class="keyword">typename</span> T2&gt;</div>
<div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__aux__kernel.html">  806</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__aux__kernel.html">__sycl_reduction_aux_kernel</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Name, <span class="keyword">typename</span> Type, <span class="keywordtype">bool</span> B1, <span class="keywordtype">bool</span> B2, <span class="keyword">typename</span> T3 = <span class="keywordtype">void</span>&gt;</div>
<div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">  813</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a> {</div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html#a4c08195d96e573bdb209e695df49dd96">  814</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__main__kernel.html">name</a> = <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__main__kernel.html">__sycl_reduction_main_kernel&lt;Name, B1, B2, T3&gt;</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;};</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type, <span class="keywordtype">bool</span> B1, <span class="keywordtype">bool</span> B2, <span class="keyword">typename</span> T3&gt;</div>
<div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t_3_01sycl_1_19240e68f984513db23697e30fd10153.html">  817</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;sycl::<a class="code" href="classcl_1_1sycl_1_1detail_1_1auto__name.html">detail::auto_name</a>, Type, B1, B2,</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                                        T3&gt; {</div>
<div class="line"><a name="l00819"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t_3_01sycl_1_19240e68f984513db23697e30fd10153.html#a86be191fd376a6c7296f9926bdb496fe">  819</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1detail_1_1auto__name.html">name</a> = <a class="code" href="classcl_1_1sycl_1_1detail_1_1auto__name.html">sycl::detail::auto_name</a>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;};</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Name, <span class="keyword">typename</span> Type, <span class="keywordtype">bool</span> B1, <span class="keywordtype">bool</span> B2, <span class="keyword">typename</span> T3&gt;</div>
<div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html">  822</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html">get_reduction_aux_kernel_name_t</a> {</div>
<div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html#a7effebeeb72421ccfbece018f0b30541">  823</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__aux__kernel.html">name</a> = <a class="code" href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__aux__kernel.html">__sycl_reduction_aux_kernel&lt;Name, B1, B2, T3&gt;</a>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;};</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type, <span class="keywordtype">bool</span> B1, <span class="keywordtype">bool</span> B2, <span class="keyword">typename</span> T3&gt;</div>
<div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t_3_01sycl_1_1590f26a8fd7d414e71e1c4a5a7e09894.html">  826</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html">get_reduction_aux_kernel_name_t</a>&lt;sycl::<a class="code" href="classcl_1_1sycl_1_1detail_1_1auto__name.html">detail::auto_name</a>, Type, B1, B2,</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                       T3&gt; {</div>
<div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t_3_01sycl_1_1590f26a8fd7d414e71e1c4a5a7e09894.html#af33944fbb162995b14342c4e7e6898e7">  828</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1detail_1_1auto__name.html">name</a> = <a class="code" href="classcl_1_1sycl_1_1detail_1_1auto__name.html">sycl::detail::auto_name</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;};</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelFunc, <span class="keywordtype">int</span> Dims, <span class="keyword">typename</span> ReducerT&gt;</div>
<div class="line"><a name="l00837"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a33291fdcb7a41ec98716ad5986cfb6d3">  837</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a33291fdcb7a41ec98716ad5986cfb6d3">reductionLoop</a>(<span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;Dims&gt;</a> &amp;Range, ReducerT &amp;Reducer,</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;1&gt;</a> &amp;NdId, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a> &amp;F) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keywordtype">size_t</span> Start = NdId.<a class="code" href="classcl_1_1sycl_1_1nd__item.html#af92b451ad44714db07f7dd55f9362b13">get_global_id</a>(0);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordtype">size_t</span> End = Range.<a class="code" href="classcl_1_1sycl_1_1range.html#af952e02a526c0134e18ba20c84de9858">size</a>();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordtype">size_t</span> Stride = NdId.<a class="code" href="classcl_1_1sycl_1_1nd__item.html#af8033693a26cbb79f07a05a252e7bf0c">get_global_range</a>(0);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> I = Start; I &lt; End; I += Stride)</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    F(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#afec828b57cdcfbb63d665470285ada03">sycl::detail::getDelinearizedId</a>(Range, I), Reducer);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;std::enable_if_t&lt;Reduction::has_fast_atomics&gt;</div>
<div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a48815c8bd1f2bd6c26debe10b108f908">  848</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;               <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;1&gt;</a> &amp;NDRange, Reduction &amp;Redu) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keyword">auto</span> Out = Redu.getReadWriteAccessorToInitializedMem(CGH);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keyword">auto</span> GroupSum = Reduction::getReadWriteLocalAcc(1, CGH);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keyword">using</span> Name =</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;KernelName, KernelType,</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                                                Reduction::is_usm, <span class="keyword">false</span>&gt;::name;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(NDRange, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;1&gt;</a> NDId) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// Call user&#39;s functions. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a33291fdcb7a41ec98716ad5986cfb6d3">reductionLoop</a>(Range, Reducer, NDId, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keyword">auto</span> LID = NDId.get_local_id(0);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (LID == 0)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      GroupSum[0] = Reducer.getIdentity();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    Reducer.template atomic_combine&lt;access::address_space::local_space&gt;(</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        &amp;GroupSum[0]);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      Reducer.MValue = GroupSum[0];</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      Reducer.template atomic_combine(Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  });</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;std::enable_if_t&lt;!Reduction::has_fast_atomics &amp;&amp; Reduction::has_fast_reduce&gt;</div>
<div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a171c0efdff38610e0eb845fc4c97f79c">  877</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;               <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;1&gt;</a> &amp;NDRange, Reduction &amp;Redu) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordtype">size_t</span> WGSize = NDRange.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = NDRange.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">get_group_range</a>().size();</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordtype">bool</span> IsUpdateOfUserVar = !Reduction::is_usm &amp;&amp; !Redu.initializeToIdentity();</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keyword">auto</span> PartialSums = Redu.getWriteAccForPartialReds(NWorkGroups, CGH);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keyword">auto</span> Out =</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      (NWorkGroups == 1) ? PartialSums : Redu.getWriteAccForPartialReds(1, CGH);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keyword">auto</span> NWorkGroupsFinished =</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      Redu.getReadWriteAccessorToInitializedGroupsCounter(CGH);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keyword">auto</span> DoReducePartialSumsInLastWG =</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      Reduction::template getReadWriteLocalAcc&lt;int&gt;(1, CGH);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keyword">using</span> Name =</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;KernelName, KernelType,</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                                                Reduction::is_usm, <span class="keyword">false</span>&gt;::name;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(NDRange, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;1&gt;</a> NDId) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">// Call user&#39;s functions. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a33291fdcb7a41ec98716ad5986cfb6d3">reductionLoop</a>(Range, Reducer, NDId, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keyword">typename</span> Reduction::binary_operation BOp;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keyword">auto</span> Group = NDId.get_group();</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    Reducer.MValue = <a class="code" href="namespacecl_1_1sycl.html#ae789c881c32c7090a7c7dc39ef8c493e">reduce_over_group</a>(Group, Reducer.MValue, BOp);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordtype">size_t</span> LID = NDId.get_local_id(0);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">if</span> (NWorkGroups == 1 &amp;&amp; IsUpdateOfUserVar)</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        Reducer.MValue = BOp(Reducer.MValue, *Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="comment">// if NWorkGroups == 1, then PartialsSum and Out point to same memory.</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      Reduction::getOutPointer(PartialSums)[NDId.get_group_linear_id()] =</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;          Reducer.MValue;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keyword">auto</span> NFinished =</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;          <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref</a>&lt;int, memory_order::relaxed, <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">memory_scope::device</a>,</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                     access::address_space::global_space&gt;(</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;              NWorkGroupsFinished[0]);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      DoReducePartialSumsInLastWG[0] =</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;          ++NFinished == NWorkGroups &amp;&amp; NWorkGroups &gt; 1;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">if</span> (DoReducePartialSumsInLastWG[0]) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keyword">auto</span> LocalSum = Reducer.getIdentity();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> I = LID; I &lt; NWorkGroups; I += WGSize)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        LocalSum = BOp(LocalSum, PartialSums[I]);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      Reducer.MValue = <a class="code" href="namespacecl_1_1sycl.html#ae789c881c32c7090a7c7dc39ef8c493e">reduce_over_group</a>(Group, LocalSum, BOp);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordflow">if</span> (IsUpdateOfUserVar)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;          Reducer.MValue = BOp(Reducer.MValue, *Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        Reduction::getOutPointer(Out)[0] = Reducer.MValue;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  });</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;std::enable_if_t&lt;!Reduction::has_fast_atomics &amp;&amp; !Reduction::has_fast_reduce&gt;</div>
<div class="line"><a name="l00937"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#afd4b86b61ac9a8ad2b6cc27729d77c24">  937</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;               <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;1&gt;</a> &amp;NDRange, Reduction &amp;Redu) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordtype">size_t</span> WGSize = NDRange.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = NDRange.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">get_group_range</a>().size();</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordtype">bool</span> IsUpdateOfUserVar = !Reduction::is_usm &amp;&amp; !Redu.initializeToIdentity();</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keyword">auto</span> PartialSums = Redu.getWriteAccForPartialReds(NWorkGroups, CGH);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keyword">auto</span> Out =</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      (NWorkGroups == 1) ? PartialSums : Redu.getWriteAccForPartialReds(1, CGH);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keyword">auto</span> LocalReds = Reduction::getReadWriteLocalAcc(WGSize + 1, CGH);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keyword">auto</span> NWorkGroupsFinished =</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      Redu.getReadWriteAccessorToInitializedGroupsCounter(CGH);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keyword">auto</span> DoReducePartialSumsInLastWG =</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      Reduction::template getReadWriteLocalAcc&lt;int&gt;(1, CGH);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keyword">auto</span> Identity = Redu.getIdentity();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keyword">auto</span> BOp = Redu.getBinaryOperation();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keyword">using</span> Name =</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;KernelName, KernelType,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                                Reduction::is_usm, <span class="keyword">false</span>&gt;::name;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(NDRange, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;1&gt;</a> NDId) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="comment">// Call user&#39;s functions. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer(Identity, BOp);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a33291fdcb7a41ec98716ad5986cfb6d3">reductionLoop</a>(Range, Reducer, NDId, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// Copy the element to local memory to prepare it for tree-reduction.</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordtype">size_t</span> LID = NDId.get_local_linear_id();</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    LocalReds[LID] = Reducer.MValue;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> (LID == 0)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      LocalReds[WGSize] = Identity;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="comment">// Tree-reduction: reduce the local array LocalReds[:] to LocalReds[0].</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="comment">// LocalReds[WGSize] accumulates last/odd elements when the step</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">// of tree-reduction loop is not even.</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordtype">size_t</span> PrevStep = WGSize;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> CurStep = PrevStep &gt;&gt; 1; CurStep &gt; 0; CurStep &gt;&gt;= 1) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <span class="keywordflow">if</span> (LID &lt; CurStep)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        LocalReds[LID] = BOp(LocalReds[LID], LocalReds[LID + CurStep]);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LID == CurStep &amp;&amp; (PrevStep &amp; 0x1))</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        LocalReds[WGSize] = BOp(LocalReds[WGSize], LocalReds[PrevStep - 1]);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      PrevStep = CurStep;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keyword">auto</span> V = BOp(LocalReds[0], LocalReds[WGSize]);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">if</span> (NWorkGroups == 1 &amp;&amp; IsUpdateOfUserVar)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        V = BOp(V, *Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="comment">// if NWorkGroups == 1, then PartialsSum and Out point to same memory.</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      Reduction::getOutPointer(PartialSums)[NDId.get_group_linear_id()] = V;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <span class="keyword">auto</span> NFinished =</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;          <a class="code" href="classcl_1_1sycl_1_1atomic__ref.html">atomic_ref</a>&lt;int, memory_order::relaxed, <a class="code" href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">memory_scope::device</a>,</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                     access::address_space::global_space&gt;(</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;              NWorkGroupsFinished[0]);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      DoReducePartialSumsInLastWG[0] =</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          ++NFinished == NWorkGroups &amp;&amp; NWorkGroups &gt; 1;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (DoReducePartialSumsInLastWG[0]) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keyword">auto</span> LocalSum = Identity;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> I = LID; I &lt; NWorkGroups; I += WGSize)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        LocalSum = BOp(LocalSum, Reduction::getOutPointer(PartialSums)[I]);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      LocalReds[LID] = LocalSum;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">if</span> (LID == 0)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        LocalReds[WGSize] = Identity;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <span class="keywordtype">size_t</span> PrevStep = WGSize;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> CurStep = PrevStep &gt;&gt; 1; CurStep &gt; 0; CurStep &gt;&gt;= 1) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">if</span> (LID &lt; CurStep)</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;          LocalReds[LID] = BOp(LocalReds[LID], LocalReds[LID + CurStep]);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LID == CurStep &amp;&amp; (PrevStep &amp; 0x1))</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;          LocalReds[WGSize] = BOp(LocalReds[WGSize], LocalReds[PrevStep - 1]);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">sycl::detail::workGroupBarrier</a>();</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        PrevStep = CurStep;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keyword">auto</span> V = BOp(LocalReds[0], LocalReds[WGSize]);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">if</span> (IsUpdateOfUserVar)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          V = BOp(V, *Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        Reduction::getOutPointer(Out)[0] = V;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    }</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  });</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;}</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa27085747a154abe2798f3a44ab646ff"> 1028</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa27085747a154abe2798f3a44ab646ff">reduCGFunc</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                <span class="keywordtype">size_t</span> MaxWGSize, uint32_t NumConcurrentWorkGroups,</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                Reduction &amp;Redu) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordtype">size_t</span> NWorkItems = Range.<a class="code" href="classcl_1_1sycl_1_1range.html#af952e02a526c0134e18ba20c84de9858">size</a>();</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordtype">size_t</span> WGSize = std::min(NWorkItems, MaxWGSize);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = NWorkItems / WGSize;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">if</span> (NWorkItems % WGSize)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    NWorkGroups++;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordtype">size_t</span> MaxNWorkGroups = NumConcurrentWorkGroups;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  NWorkGroups = std::min(NWorkGroups, MaxNWorkGroups);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordtype">size_t</span> NDRItems = NWorkGroups * WGSize;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;1&gt;</a> NDRange{<a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>{NDRItems}, <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>{WGSize}};</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  reduCGFuncImpl&lt;KernelName&gt;(CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, NDRange, Redu);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;}</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class </span>Reduction,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;          <span class="keywordtype">bool</span> IsPow2WG&gt;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;Reduction::has_fast_reduce &amp;&amp; Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aeed7da8484c139b6ed44e94b55c16161"> 1056</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;               Reduction &amp;, <span class="keyword">typename</span> Reduction::rw_accessor_type Out) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      KernelName, KernelType, Reduction::is_usm, IsPow2WG&gt;::name;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;Dims&gt;</a> NDIt) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="comment">// Call user&#39;s function. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>(NDIt, Reducer);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keyword">typename</span> Reduction::binary_operation BOp;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    Reducer.MValue = <a class="code" href="std_2experimental_2simd_8hpp.html#ab7a7d8773cfa3e48b79fbf0874731e4e">ext::oneapi::reduce</a>(NDIt.get_group(), Reducer.MValue, BOp);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (NDIt.get_local_linear_id() == 0)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      Reducer.atomic_combine(Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  });</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class </span>Reduction,</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;          <span class="keywordtype">bool</span> IsPow2WG&gt;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!Reduction::has_fast_reduce &amp;&amp; Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad48b27bb8764bc239495112682bfe82b"> 1083</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;               Reduction &amp;, <span class="keyword">typename</span> Reduction::rw_accessor_type Out) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordtype">size_t</span> WGSize = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// Use local memory to reduce elements in work-groups into zero-th element.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="comment">// If WGSize is not power of two, then WGSize+1 elements are allocated.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="comment">// The additional last element is used to catch reduce elements that could</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// otherwise be lost in the tree-reduction algorithm used in the kernel.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordtype">size_t</span> NLocalElements = WGSize + (IsPow2WG ? 0 : 1);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keyword">auto</span> LocalReds = Reduction::getReadWriteLocalAcc(NLocalElements, CGH);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      KernelName, KernelType, Reduction::is_usm, IsPow2WG&gt;::name;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;Dims&gt;</a> NDIt) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// Call user&#39;s functions. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>(NDIt, Reducer);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordtype">size_t</span> WGSize = NDIt.get_local_range().size();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordtype">size_t</span> LID = NDIt.get_local_linear_id();</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="comment">// Copy the element to local memory to prepare it for tree-reduction.</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    LocalReds[LID] = Reducer.MValue;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> (!IsPow2WG)</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      LocalReds[WGSize] = Reducer.getIdentity();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    NDIt.barrier();</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="comment">// Tree-reduction: reduce the local array LocalReds[:] to LocalReds[0].</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// LocalReds[WGSize] accumulates last/odd elements when the step</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// of tree-reduction loop is not even.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keyword">typename</span> Reduction::binary_operation BOp;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordtype">size_t</span> PrevStep = WGSize;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> CurStep = PrevStep &gt;&gt; 1; CurStep &gt; 0; CurStep &gt;&gt;= 1) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">if</span> (LID &lt; CurStep)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        LocalReds[LID] = BOp(LocalReds[LID], LocalReds[LID + CurStep]);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!IsPow2WG &amp;&amp; LID == CurStep &amp;&amp; (PrevStep &amp; 0x1))</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        LocalReds[WGSize] = BOp(LocalReds[WGSize], LocalReds[PrevStep - 1]);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      NDIt.barrier();</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      PrevStep = CurStep;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      Reducer.MValue =</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;          IsPow2WG ? LocalReds[0] : BOp(LocalReds[0], LocalReds[WGSize]);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      Reducer.atomic_combine(Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  });</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;}</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a77e18e24d8cb73aace18d73f0559584c"> 1134</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa27085747a154abe2798f3a44ab646ff">reduCGFunc</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;           Reduction &amp;Redu) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordtype">size_t</span> WGSize = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// User&#39;s initialized read-write accessor is re-used here if</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// initialize_to_identity is not set (i.e. if user&#39;s variable is initialized).</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="comment">// Otherwise, a new buffer is initialized with identity value and a new</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">// read-write accessor to that buffer is created. That is done because</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="comment">// atomic operations update some initialized memory.</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="comment">// User&#39;s USM pointer is not re-used even when initialize_to_identity is not</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// set because it does not worth the creation of an additional variant of</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="comment">// a user&#39;s kernel for that case.</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keyword">auto</span> Out = Redu.getReadWriteAccessorToInitializedMem(CGH);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="comment">// If the work group size is not pow of 2, then the kernel runs some</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="comment">// additional code and checks in it.</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">// If the reduction has fast reduce then the kernel does not care if the work</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="comment">// group size is pow of 2 or not, assume true for such cases.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordtype">bool</span> IsPow2WG = Reduction::has_fast_reduce || ((WGSize &amp; (WGSize - 1)) == 0);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordflow">if</span> (IsPow2WG)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    reduCGFuncImpl&lt;KernelName, KernelType, Dims, Reduction, true&gt;(</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, Redu, Out);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    reduCGFuncImpl&lt;KernelName, KernelType, Dims, Reduction, false&gt;(</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, Redu, Out);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;}</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class </span>Reduction,</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;          <span class="keywordtype">bool</span> IsPow2WG&gt;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;Reduction::has_fast_reduce &amp;&amp; !Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a37c12e5cb329f2e902e1e7d935f26af8"> 1173</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;               Reduction &amp;Redu, <span class="keyword">typename</span> Reduction::rw_accessor_type Out) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">get_group_range</a>().size();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordtype">bool</span> IsUpdateOfUserVar =</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      !Reduction::is_usm &amp;&amp; !Redu.initializeToIdentity() &amp;&amp; NWorkGroups == 1;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      KernelName, KernelType, Reduction::is_usm, IsPow2WG&gt;::name;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;Dims&gt;</a> NDIt) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="comment">// Call user&#39;s functions. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>(NDIt, Reducer);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="comment">// Compute the partial sum/reduction for the work-group.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordtype">size_t</span> WGID = NDIt.get_group_linear_id();</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keyword">typename</span> Reduction::result_type PSum = Reducer.MValue;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keyword">typename</span> Reduction::binary_operation BOp;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    PSum = <a class="code" href="std_2experimental_2simd_8hpp.html#ab7a7d8773cfa3e48b79fbf0874731e4e">ext::oneapi::reduce</a>(NDIt.get_group(), PSum, BOp);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">if</span> (NDIt.get_local_linear_id() == 0) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">if</span> (IsUpdateOfUserVar)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        PSum = BOp(*(Reduction::getOutPointer(Out)), PSum);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      Reduction::getOutPointer(Out)[WGID] = PSum;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  });</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class </span>Reduction,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;          <span class="keywordtype">bool</span> IsPow2WG&gt;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!Reduction::has_fast_reduce &amp;&amp; !Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01211"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#afe6a874391fd0e3badf551952b9160ff"> 1211</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;               Reduction &amp;Redu, <span class="keyword">typename</span> Reduction::rw_accessor_type Out) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordtype">size_t</span> WGSize = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">get_group_range</a>().size();</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordtype">bool</span> IsUpdateOfUserVar =</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      !Reduction::is_usm &amp;&amp; !Redu.initializeToIdentity() &amp;&amp; NWorkGroups == 1;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="comment">// Use local memory to reduce elements in work-groups into 0-th element.</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment">// If WGSize is not power of two, then WGSize+1 elements are allocated.</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment">// The additional last element is used to catch elements that could</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="comment">// otherwise be lost in the tree-reduction algorithm.</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordtype">size_t</span> NumLocalElements = WGSize + (IsPow2WG ? 0 : 1);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keyword">auto</span> LocalReds = Reduction::getReadWriteLocalAcc(NumLocalElements, CGH);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keyword">typename</span> Reduction::result_type ReduIdentity = Redu.getIdentity();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      KernelName, KernelType, Reduction::is_usm, IsPow2WG&gt;::name;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keyword">auto</span> BOp = Redu.getBinaryOperation();</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;Dims&gt;</a> NDIt) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// Call user&#39;s functions. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer(ReduIdentity, BOp);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>(NDIt, Reducer);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordtype">size_t</span> WGSize = NDIt.get_local_range().size();</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordtype">size_t</span> LID = NDIt.get_local_linear_id();</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="comment">// Copy the element to local memory to prepare it for tree-reduction.</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    LocalReds[LID] = Reducer.MValue;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">if</span> (!IsPow2WG)</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      LocalReds[WGSize] = ReduIdentity;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    NDIt.barrier();</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">// Tree-reduction: reduce the local array LocalReds[:] to LocalReds[0]</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="comment">// LocalReds[WGSize] accumulates last/odd elements when the step</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="comment">// of tree-reduction loop is not even.</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordtype">size_t</span> PrevStep = WGSize;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> CurStep = PrevStep &gt;&gt; 1; CurStep &gt; 0; CurStep &gt;&gt;= 1) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">if</span> (LID &lt; CurStep)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        LocalReds[LID] = BOp(LocalReds[LID], LocalReds[LID + CurStep]);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!IsPow2WG &amp;&amp; LID == CurStep &amp;&amp; (PrevStep &amp; 0x1))</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        LocalReds[WGSize] = BOp(LocalReds[WGSize], LocalReds[PrevStep - 1]);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      NDIt.barrier();</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      PrevStep = CurStep;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="comment">// Compute the partial sum/reduction for the work-group.</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="keywordtype">size_t</span> GrID = NDIt.get_group_linear_id();</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="keyword">typename</span> Reduction::result_type PSum =</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          IsPow2WG ? LocalReds[0] : BOp(LocalReds[0], LocalReds[WGSize]);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="keywordflow">if</span> (IsUpdateOfUserVar)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        PSum = BOp(*(Reduction::getOutPointer(Out)), PSum);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      Reduction::getOutPointer(Out)[GrID] = PSum;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  });</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01269"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a46586da4eb792cb44e860b8d40e498f8"> 1269</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa27085747a154abe2798f3a44ab646ff">reduCGFunc</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;           Reduction &amp;Redu) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordtype">size_t</span> WGSize = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">get_group_range</a>().size();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160; </div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// If the work group size is not pow of 2, then the kernel runs some</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="comment">// additional code and checks in it.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// If the reduction has fast reduce then the kernel does not care if the work</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="comment">// group size is pow of 2 or not, assume true for such cases.</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordtype">bool</span> IsPow2WG = Reduction::has_fast_reduce || ((WGSize &amp; (WGSize - 1)) == 0);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keyword">auto</span> Out = Redu.getWriteAccForPartialReds(NWorkGroups, CGH);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="keywordflow">if</span> (IsPow2WG)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    reduCGFuncImpl&lt;KernelName, KernelType, Dims, Reduction, true&gt;(</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, Redu, Out);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    reduCGFuncImpl&lt;KernelName, KernelType, Dims, Reduction, false&gt;(</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, Redu, Out);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;}</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">bool</span> UniformWG,</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;          <span class="keyword">class </span>Reduction, <span class="keyword">typename</span> InputT, <span class="keyword">typename</span> OutputT&gt;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;Reduction::has_fast_reduce &amp;&amp; !Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01300"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abf4c50e6def1090c9bc2b6c954c7527a"> 1300</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a85a45e42604c16e4f7fdb67c739a3e09">reduAuxCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, <span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> NWorkGroups,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                  <span class="keywordtype">size_t</span> WGSize, Reduction &amp;Redu, InputT In, OutputT Out) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html">get_reduction_aux_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      KernelName, KernelType, Reduction::is_usm, UniformWG, OutputT&gt;::name;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="keywordtype">bool</span> IsUpdateOfUserVar =</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      !Reduction::is_usm &amp;&amp; !Redu.initializeToIdentity() &amp;&amp; NWorkGroups == 1;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a> GlobalRange = {UniformWG ? NWorkItems : NWorkGroups * WGSize};</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;1&gt;</a> Range{GlobalRange, <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>(WGSize)};</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;1&gt;</a> NDIt) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keyword">typename</span> Reduction::binary_operation BOp;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordtype">size_t</span> WGID = NDIt.get_group_linear_id();</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordtype">size_t</span> GID = NDIt.get_global_linear_id();</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keyword">typename</span> Reduction::result_type PSum =</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        (UniformWG || (GID &lt; NWorkItems))</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            ? In[GID]</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            : Reduction::reducer_type::getIdentity();</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    PSum = <a class="code" href="std_2experimental_2simd_8hpp.html#ab7a7d8773cfa3e48b79fbf0874731e4e">ext::oneapi::reduce</a>(NDIt.get_group(), PSum, BOp);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">if</span> (NDIt.get_local_linear_id() == 0) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">if</span> (IsUpdateOfUserVar)</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        PSum = BOp(*(Reduction::getOutPointer(Out)), PSum);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      Reduction::getOutPointer(Out)[WGID] = PSum;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  });</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;}</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">bool</span> UniformPow2WG,</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;          <span class="keyword">class </span>Reduction, <span class="keyword">typename</span> InputT, <span class="keyword">typename</span> OutputT&gt;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!Reduction::has_fast_reduce &amp;&amp; !Reduction::has_fast_atomics&gt;</a></div>
<div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5b064afc11fe7bb02af2cf46f8ef9e0c"> 1335</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a85a45e42604c16e4f7fdb67c739a3e09">reduAuxCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, <span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> NWorkGroups,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                  <span class="keywordtype">size_t</span> WGSize, Reduction &amp;Redu, InputT In, OutputT Out) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordtype">bool</span> IsUpdateOfUserVar =</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      !Reduction::is_usm &amp;&amp; !Redu.initializeToIdentity() &amp;&amp; NWorkGroups == 1;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="comment">// Use local memory to reduce elements in work-groups into 0-th element.</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="comment">// If WGSize is not power of two, then WGSize+1 elements are allocated.</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// The additional last element is used to catch elements that could</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// otherwise be lost in the tree-reduction algorithm.</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordtype">size_t</span> NumLocalElements = WGSize + (UniformPow2WG ? 0 : 1);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keyword">auto</span> LocalReds = Reduction::getReadWriteLocalAcc(NumLocalElements, CGH);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keyword">auto</span> ReduIdentity = Redu.getIdentity();</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keyword">auto</span> BOp = Redu.getBinaryOperation();</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html">get_reduction_aux_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      KernelName, KernelType, Reduction::is_usm, UniformPow2WG, OutputT&gt;::name;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a> GlobalRange = {UniformPow2WG ? NWorkItems : NWorkGroups * WGSize};</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;1&gt;</a> Range{GlobalRange, <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>(WGSize)};</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;1&gt;</a> NDIt) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordtype">size_t</span> WGSize = NDIt.get_local_range().size();</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordtype">size_t</span> LID = NDIt.get_local_linear_id();</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordtype">size_t</span> GID = NDIt.get_global_linear_id();</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="comment">// Copy the element to local memory to prepare it for tree-reduction.</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    LocalReds[LID] =</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        (UniformPow2WG || GID &lt; NWorkItems) ? In[GID] : ReduIdentity;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">if</span> (!UniformPow2WG)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      LocalReds[WGSize] = ReduIdentity;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    NDIt.barrier();</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="comment">// Tree-reduction: reduce the local array LocalReds[:] to LocalReds[0]</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">// LocalReds[WGSize] accumulates last/odd elements when the step</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="comment">// of tree-reduction loop is not even.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordtype">size_t</span> PrevStep = WGSize;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> CurStep = PrevStep &gt;&gt; 1; CurStep &gt; 0; CurStep &gt;&gt;= 1) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">if</span> (LID &lt; CurStep)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        LocalReds[LID] = BOp(LocalReds[LID], LocalReds[LID + CurStep]);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!UniformPow2WG &amp;&amp; LID == CurStep &amp;&amp; (PrevStep &amp; 0x1))</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        LocalReds[WGSize] = BOp(LocalReds[WGSize], LocalReds[PrevStep - 1]);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      NDIt.barrier();</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      PrevStep = CurStep;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="comment">// Compute the partial sum/reduction for the work-group.</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="keywordtype">size_t</span> GrID = NDIt.get_group_linear_id();</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="keyword">typename</span> Reduction::result_type PSum =</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;          UniformPow2WG ? LocalReds[0] : BOp(LocalReds[0], LocalReds[WGSize]);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">if</span> (IsUpdateOfUserVar)</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        PSum = BOp(*(Reduction::getOutPointer(Out)), PSum);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      Reduction::getOutPointer(Out)[GrID] = PSum;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  });</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;}</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;!Reduction::has_fast_atomics, size_t&gt;</a></div>
<div class="line"><a name="l01396"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae4f7d055556f4a03ebd4c6248166cc97"> 1396</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae4f7d055556f4a03ebd4c6248166cc97">reduAuxCGFunc</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, <span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> MaxWGSize,</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;              Reduction &amp;Redu) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordtype">size_t</span> WGSize = <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a3bd9b409851150bf9b390554f35f33f7">reduComputeWGSize</a>(NWorkItems, MaxWGSize, NWorkGroups);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="comment">// The last work-group may be not fully loaded with work, or the work group</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="comment">// size may be not power of two. Those two cases considered inefficient</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="comment">// as they require additional code and checks in the kernel.</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordtype">bool</span> HasUniformWG = NWorkGroups * WGSize == NWorkItems;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">if</span> (!Reduction::has_fast_reduce)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    HasUniformWG = HasUniformWG &amp;&amp; (WGSize &amp; (WGSize - 1)) == 0;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="comment">// Get read accessor to the buffer that was used as output</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">// in the previous kernel.</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keyword">auto</span> In = Redu.getReadAccToPreviousPartialReds(CGH);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keyword">auto</span> Out = Redu.getWriteAccForPartialReds(NWorkGroups, CGH);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">if</span> (HasUniformWG)</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    reduAuxCGFuncImpl&lt;KernelName, KernelType, true&gt;(</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        CGH, NWorkItems, NWorkGroups, WGSize, Redu, In, Out);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    reduAuxCGFuncImpl&lt;KernelName, KernelType, false&gt;(</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        CGH, NWorkItems, NWorkGroups, WGSize, Redu, In, Out);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordflow">return</span> NWorkGroups;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;}</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">// This method is used for implementation of parallel_for accepting 1 reduction.</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">// TODO: remove this method when everything is switched to general algorithm</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">// implementing arbitrary number of reductions in parallel_for().</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;std::enable_if_t&lt;!Reduction::is_usm&gt;</div>
<div class="line"><a name="l01430"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5658e51ecad6b6a0b8077ed8e0a890a7"> 1430</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5658e51ecad6b6a0b8077ed8e0a890a7">reduSaveFinalResultToUserMem</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, Reduction &amp;Redu) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="keyword">auto</span> InAcc = Redu.getReadAccToPreviousPartialReds(CGH);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  Redu.associateWithHandler(CGH);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keywordflow">if</span> (Redu.hasUserDiscardWriteAccessor())</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#af1ac55c7343044b1280e3f650842b2fa">copy</a>(InAcc, Redu.getUserDiscardWriteAccessor());</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#af1ac55c7343044b1280e3f650842b2fa">copy</a>(InAcc, Redu.getUserReadWriteAccessor());</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;}</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment">// This method is used for implementation of parallel_for accepting 1 reduction.</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="comment">// TODO: remove this method when everything is switched to general algorithm</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="comment">// implementing arbitrary number of reductions in parallel_for().</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;std::enable_if_t&lt;Reduction::is_usm&gt;</div>
<div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a7818f8cbabe0a18267141349a62b694d"> 1446</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5658e51ecad6b6a0b8077ed8e0a890a7">reduSaveFinalResultToUserMem</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, Reduction &amp;Redu) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="keyword">auto</span> InAcc = Redu.getReadAccToPreviousPartialReds(CGH);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keyword">auto</span> UserVarPtr = Redu.getUSMPointer();</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordtype">bool</span> IsUpdateOfUserVar = !Redu.initializeToIdentity();</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keyword">auto</span> BOp = Redu.getBinaryOperation();</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a725e255af60b5545d5af97e1420856b0">single_task</a>&lt;KernelName&gt;([=] {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">if</span> (IsUpdateOfUserVar)</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      *UserVarPtr = BOp(*UserVarPtr, *(InAcc.get_pointer()));</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      *UserVarPtr = *(InAcc.get_pointer());</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  });</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;}</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01463"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a24b8ec1da96ca7da69c2090da994081c"> 1463</a></span>&#160;<span class="keyword">auto</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a24b8ec1da96ca7da69c2090da994081c">createReduLocalAccs</a>(<span class="keywordtype">size_t</span> Size, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH,</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                         std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#af480d7298291a40770b25c9b9fb36f76">makeReduTupleT</a>(</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a0e48b52f862a22dc22fa7af17d7ba3d9">std::tuple_element_t</a>&lt;Is, std::tuple&lt;Reductions...&gt;&gt;::getReadWriteLocalAcc(</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;          Size, CGH)...);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> IsOneWG, <span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0e06ba852a36df843c2fdf81fd5c58e1"> 1474</a></span>&#160;<span class="keyword">auto</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0e06ba852a36df843c2fdf81fd5c58e1">createReduOutAccs</a>(<span class="keywordtype">size_t</span> NWorkGroups, <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH,</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                       std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                       std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#af480d7298291a40770b25c9b9fb36f76">makeReduTupleT</a>(</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      std::get&lt;Is&gt;(ReduTuple).<span class="keyword">template</span> getWriteMemForPartialReds&lt;IsOneWG&gt;(</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;          NWorkGroups, CGH)...);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01486"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#acdd5473e1ba62e34b631cb4beb077a40"> 1486</a></span>&#160;<span class="keyword">auto</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#acdd5473e1ba62e34b631cb4beb077a40">getReadAccsToPreviousPartialReds</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                      std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                                      std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#af480d7298291a40770b25c9b9fb36f76">makeReduTupleT</a>(</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      std::get&lt;Is&gt;(ReduTuple).getReadAccToPreviousPartialReds(CGH)...);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;}</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a77fc752d52d480f17cc02f493749215e">ReduTupleT</a>&lt;<span class="keyword">typename</span> Reductions::result_type...&gt;</div>
<div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a13eed94e196a9b9cfb2bc73caf376cff"> 1495</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a13eed94e196a9b9cfb2bc73caf376cff">getReduIdentities</a>(std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                  std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">return</span> {std::get&lt;Is&gt;(ReduTuple).getIdentity()...};</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;}</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a77fc752d52d480f17cc02f493749215e">ReduTupleT</a>&lt;<span class="keyword">typename</span> Reductions::binary_operation...&gt;</div>
<div class="line"><a name="l01502"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa155de40c2feaafe006759f249c5ac44"> 1502</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa155de40c2feaafe006759f249c5ac44">getReduBOPs</a>(std::tuple&lt;Reductions...&gt; &amp;ReduTuple, std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">return</span> {std::get&lt;Is&gt;(ReduTuple).getBinaryOperation()...};</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;}</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;std::array&lt;bool, <span class="keyword">sizeof</span>...(Reductions)&gt;</div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a122e5c89a166516622ded97273b922f0"> 1508</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a122e5c89a166516622ded97273b922f0">getInitToIdentityProperties</a>(std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                            std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">return</span> {std::get&lt;Is&gt;(ReduTuple).initializeToIdentity()...};</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;std::tuple&lt;<span class="keyword">typename</span> Reductions::reducer_type...&gt;</div>
<div class="line"><a name="l01515"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#affc20a56174ee39370b15a473c8c1d42"> 1515</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#affc20a56174ee39370b15a473c8c1d42">createReducers</a>(<a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;typename Reductions::result_type...&gt;</a> Identities,</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;               <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;typename Reductions::binary_operation...&gt;</a> BOPsTuple,</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;               std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">return</span> {<span class="keyword">typename</span> Reductions::reducer_type{std::get&lt;Is&gt;(Identities),</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                                            std::get&lt;Is&gt;(BOPsTuple)}...};</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;}</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">typename</span>... ReducerT, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5f55a59ba876fd561c5b3d22a4f9a11d"> 1523</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5f55a59ba876fd561c5b3d22a4f9a11d">callReduUserKernelFunc</a>(KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, <a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;Dims&gt;</a> NDIt,</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                            std::tuple&lt;ReducerT...&gt; &amp;Reducers,</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                            std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>(NDIt, std::get&lt;Is&gt;(Reducers)...);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;}</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> Pow2WG, <span class="keyword">typename</span>... LocalAccT, <span class="keyword">typename</span>... ReducerT,</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;          <span class="keyword">typename</span>... ResultT, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01531"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a9b8580c4745a8e0d368864aac0cf4708"> 1531</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae2798767f76cf05d62a267e0a7ad4e87">initReduLocalAccs</a>(<span class="keywordtype">size_t</span> LID, <span class="keywordtype">size_t</span> WGSize,</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                       <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;LocalAccT...&gt;</a> LocalAccs,</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                       <span class="keyword">const</span> std::tuple&lt;ReducerT...&gt; &amp;Reducers,</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                       <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;ResultT...&gt;</a> Identities,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                       std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(std::get&lt;Is&gt;(LocalAccs)[LID]...) =</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(Reducers).MValue...);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160; </div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// For work-groups, which size is not power of two, local accessors have</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// an additional element with index WGSize that is used by the tree-reduction</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">// algorithm. Initialize those additional elements with identity values here.</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">if</span> (!Pow2WG)</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(std::get&lt;Is&gt;(LocalAccs)[WGSize]...) =</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(Identities)...);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;}</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> UniformPow2WG, <span class="keyword">typename</span>... LocalAccT, <span class="keyword">typename</span>... InputAccT,</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;          <span class="keyword">typename</span>... ResultT, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01549"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae2798767f76cf05d62a267e0a7ad4e87"> 1549</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae2798767f76cf05d62a267e0a7ad4e87">initReduLocalAccs</a>(<span class="keywordtype">size_t</span> LID, <span class="keywordtype">size_t</span> GID, <span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> WGSize,</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                       <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;InputAccT...&gt;</a> LocalAccs,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                       <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;LocalAccT...&gt;</a> InputAccs,</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                       <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;ResultT...&gt;</a> Identities,</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                       std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="comment">// Normally, the local accessors are initialized with elements from the input</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="comment">// accessors. The exception is the case when (GID &gt;= NWorkItems), which</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="comment">// possible only when UniformPow2WG is false. For that case the elements of</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="comment">// local accessors are initialized with identity value, so they would not</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// give any impact into the final partial sums during the tree-reduction</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="comment">// algorithm work.</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">if</span> (UniformPow2WG || GID &lt; NWorkItems)</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(std::get&lt;Is&gt;(LocalAccs)[LID]...) =</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(InputAccs)[GID]...);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(std::get&lt;Is&gt;(LocalAccs)[LID]...) =</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(Identities)...);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="comment">// For work-groups, which size is not power of two, local accessors have</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="comment">// an additional element with index WGSize that is used by the tree-reduction</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="comment">// algorithm. Initialize those additional elements with identity values here.</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="keywordflow">if</span> (!UniformPow2WG)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(std::get&lt;Is&gt;(LocalAccs)[WGSize]...) =</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(Identities)...);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;}</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... LocalAccT, <span class="keyword">typename</span>... BOPsT, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01576"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a78c908979783305ce0d63ddad130f0a6"> 1576</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a78c908979783305ce0d63ddad130f0a6">reduceReduLocalAccs</a>(<span class="keywordtype">size_t</span> IndexA, <span class="keywordtype">size_t</span> IndexB,</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                         <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;LocalAccT...&gt;</a> LocalAccs,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                         <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;BOPsT...&gt;</a> BOPs,</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                         std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(std::get&lt;Is&gt;(LocalAccs)[IndexA]...) =</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>((std::get&lt;Is&gt;(BOPs)(std::get&lt;Is&gt;(LocalAccs)[IndexA],</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                          std::get&lt;Is&gt;(LocalAccs)[IndexB]))...);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;}</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> Pow2WG, <span class="keywordtype">bool</span> IsOneWG, <span class="keyword">typename</span>... Reductions,</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;          <span class="keyword">typename</span>... OutAccT, <span class="keyword">typename</span>... LocalAccT, <span class="keyword">typename</span>... BOPsT,</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;          <span class="keyword">typename</span>... Ts, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01588"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad97d52b0f111a8363fee07c20e173c3c"> 1588</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad97d52b0f111a8363fee07c20e173c3c">writeReduSumsToOutAccs</a>(</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordtype">size_t</span> OutAccIndex, <span class="keywordtype">size_t</span> WGSize, std::tuple&lt;Reductions...&gt; *,</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;OutAccT...&gt;</a> OutAccs, <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;LocalAccT...&gt;</a> LocalAccs,</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;BOPsT...&gt;</a> BOPs, <a class="code" href="structcl_1_1sycl_1_1detail_1_1tuple.html">ReduTupleT&lt;Ts...&gt;</a> IdentityVals,</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    std::array&lt;<span class="keywordtype">bool</span>, <span class="keyword">sizeof</span>...(Reductions)&gt; IsInitializeToIdentity,</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">// Add the initial value of user&#39;s variable to the final result.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">if</span> (IsOneWG)</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(std::get&lt;Is&gt;(LocalAccs)[0]...) = <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        BOPs)(std::get&lt;Is&gt;(LocalAccs)[0],</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;              IsInitializeToIdentity[Is]</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                  ? std::get&lt;Is&gt;(IdentityVals)</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                  : <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a0e48b52f862a22dc22fa7af17d7ba3d9">std::tuple_element_t</a>&lt;Is, std::tuple&lt;Reductions...&gt;&gt;::</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                        getOutPointer(std::get&lt;Is&gt;(OutAccs))[0])...);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">if</span> (Pow2WG) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">// The partial sums for the work-group are stored in 0-th elements of local</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="comment">// accessors. Simply write those sums to output accessors.</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a0e48b52f862a22dc22fa7af17d7ba3d9">std::tuple_element_t</a>&lt;Is, std::tuple&lt;Reductions...&gt;&gt;::getOutPointer(</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        std::get&lt;Is&gt;(OutAccs))[OutAccIndex]...) =</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(LocalAccs)[0]...);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// Each of local accessors keeps two partial sums: in 0-th and WGsize-th</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="comment">// elements. Combine them into final partial sums and write to output</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="comment">// accessors.</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">std::tie</a>(<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a0e48b52f862a22dc22fa7af17d7ba3d9">std::tuple_element_t</a>&lt;Is, std::tuple&lt;Reductions...&gt;&gt;::getOutPointer(</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        std::get&lt;Is&gt;(OutAccs))[OutAccIndex]...) =</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">std::make_tuple</a>(std::get&lt;Is&gt;(BOPs)(std::get&lt;Is&gt;(LocalAccs)[0],</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                                           std::get&lt;Is&gt;(LocalAccs)[WGSize])...);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;}</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment">// Concatenate an empty sequence.</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a46b4179ece22b6ef9cffc00cffce28b4"> 1621</a></span>&#160;constexpr std::index_sequence&lt;&gt; <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9">concat_sequences</a>(std::index_sequence&lt;&gt;) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment">// Concatenate a sequence consisting of 1 element.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> I&gt;</div>
<div class="line"><a name="l01627"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6708456d3a8c334fbd06144163e58620"> 1627</a></span>&#160;constexpr std::index_sequence&lt;I&gt; <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9">concat_sequences</a>(std::index_sequence&lt;I&gt;) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;}</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">// Concatenate two potentially empty sequences.</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>... Is, <span class="keywordtype">size_t</span>... Js&gt;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;constexpr std::index_sequence&lt;Is..., Js...&gt;</div>
<div class="line"><a name="l01634"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abf4dc53ec9a0c498d8588117fbc7e7a0"> 1634</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9">concat_sequences</a>(std::index_sequence&lt;Is...&gt;, std::index_sequence&lt;Js...&gt;) {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment">// Concatenate more than 2 sequences.</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>... Is, <span class="keywordtype">size_t</span>... Js, <span class="keyword">class</span>... Rs&gt;</div>
<div class="line"><a name="l01640"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9"> 1640</a></span>&#160;constexpr <span class="keyword">auto</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9">concat_sequences</a>(std::index_sequence&lt;Is...&gt;,</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                                std::index_sequence&lt;Js...&gt;, Rs...) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9">concat_sequences</a>(std::index_sequence&lt;Is..., Js...&gt;{}, Rs{}...);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;}</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate.html"> 1645</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate.html">IsNonUsmReductionPredicate</a> {</div>
<div class="line"><a name="l01646"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate_1_1Func.html"> 1646</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate_1_1Func.html">Func</a> {</div>
<div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate_1_1Func.html#a53e08e546a74777757b684985b66c4d5"> 1647</a></span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> value = !std::remove_pointer_t&lt;T&gt;::is_usm;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  };</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;};</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate.html"> 1651</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate.html">EmptyReductionPredicate</a> {</div>
<div class="line"><a name="l01652"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate_1_1Func.html#a7b90a18f03d50ee1dcdc9a099a528be4"> 1652</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate_1_1Func.html">Func</a> { <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> value = <span class="keyword">false</span>; };</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;};</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement.html"> 1655</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> Cond, <span class="keywordtype">size_t</span> I&gt; <span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement.html">FilterElement</a> {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="keyword">using</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement.html#ab3bdf3c5032f4b1e9b3ddc3948ead1ca">type</a> =</div>
<div class="line"><a name="l01657"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement.html#ab3bdf3c5032f4b1e9b3ddc3948ead1ca"> 1657</a></span>&#160;      std::conditional_t&lt;Cond, std::index_sequence&lt;I&gt;, std::index_sequence&lt;&gt;&gt;;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;};</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... T, <span class="keyword">typename</span> FunctorT, <span class="keywordtype">size_t</span>... Is,</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;          <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">std::enable_if_t</a>&lt;(<span class="keyword">sizeof</span>...(Is) &gt; 0), <span class="keywordtype">int</span>&gt; Z = 0&gt;</div>
<div class="line"><a name="l01667"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad7368538e943bc3c9a29ef0c719e2bc3"> 1667</a></span>&#160;constexpr <span class="keyword">auto</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad7368538e943bc3c9a29ef0c719e2bc3">filterSequenceHelper</a>(FunctorT, std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9">concat_sequences</a>(</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement.html">FilterElement</a>&lt;FunctorT::template Func&lt;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#a0e48b52f862a22dc22fa7af17d7ba3d9">std::tuple_element_t</a>&lt;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                                 Is, std::tuple&lt;T...&gt;&gt;&gt;::value,</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                             Is&gt;::<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1intel_1_1experimental.html#a303ff30027ade1cadb4ba5f31bfb660b">type</a>{}...);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;}</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="classT.html">T</a>, <span class="keyword">typename</span> FunctorT, <span class="keywordtype">size_t</span>... Is,</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;          <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">std::enable_if_t</a>&lt;(<span class="keyword">sizeof</span>...(Is) == 0), <span class="keywordtype">int</span>&gt; Z = 0&gt;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;constexpr <span class="keyword">auto</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad7368538e943bc3c9a29ef0c719e2bc3">filterSequenceHelper</a>(FunctorT, std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="keywordflow">return</span> std::index_sequence&lt;&gt;{};</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;}</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... T, <span class="keyword">typename</span> FunctorT, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01683"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a892e66977a1f941f1f60c2df4903fc21"> 1683</a></span>&#160;constexpr <span class="keyword">auto</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a892e66977a1f941f1f60c2df4903fc21">filterSequence</a>(FunctorT F, std::index_sequence&lt;Is...&gt; Indices) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad7368538e943bc3c9a29ef0c719e2bc3">filterSequenceHelper</a>&lt;T...&gt;(F, Indices);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;}</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keywordtype">bool</span> Pow2WG, <span class="keywordtype">bool</span> IsOneWG, <span class="keyword">typename</span> KernelType,</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;          <span class="keywordtype">int</span> Dims, <span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01689"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea"> 1689</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">reduCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>,</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                    std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                    std::index_sequence&lt;Is...&gt; ReduIndices) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordtype">size_t</span> WGSize = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordtype">size_t</span> LocalAccSize = WGSize + (Pow2WG ? 0 : 1);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keyword">auto</span> LocalAccsTuple =</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a24b8ec1da96ca7da69c2090da994081c">createReduLocalAccs</a>&lt;Reductions...&gt;(LocalAccSize, CGH, ReduIndices);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = IsOneWG ? 1 : Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">get_group_range</a>().size();</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keyword">auto</span> OutAccsTuple =</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      createReduOutAccs&lt;IsOneWG&gt;(NWorkGroups, CGH, ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="keyword">auto</span> IdentitiesTuple = <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a13eed94e196a9b9cfb2bc73caf376cff">getReduIdentities</a>(ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keyword">auto</span> BOPsTuple = <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa155de40c2feaafe006759f249c5ac44">getReduBOPs</a>(ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keyword">auto</span> InitToIdentityProps =</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a122e5c89a166516622ded97273b922f0">getInitToIdentityProperties</a>(ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      KernelName, KernelType, Pow2WG, IsOneWG, decltype(OutAccsTuple)&gt;::name;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  CGH.parallel_for&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;Dims&gt;</a> NDIt) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keyword">auto</span> ReduIndices = std::index_sequence_for&lt;Reductions...&gt;();</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keyword">auto</span> ReducersTuple =</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#affc20a56174ee39370b15a473c8c1d42">createReducers</a>&lt;Reductions...&gt;(IdentitiesTuple, BOPsTuple, ReduIndices);</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="comment">// The .MValue field of each of the elements in ReducersTuple</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="comment">// gets initialized in this call.</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5f55a59ba876fd561c5b3d22a4f9a11d">callReduUserKernelFunc</a>(<a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, NDIt, ReducersTuple, ReduIndices);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordtype">size_t</span> WGSize = NDIt.get_local_range().size();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="keywordtype">size_t</span> LID = NDIt.get_local_linear_id();</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    initReduLocalAccs&lt;Pow2WG&gt;(LID, WGSize, LocalAccsTuple, ReducersTuple,</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                              IdentitiesTuple, ReduIndices);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    NDIt.barrier();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordtype">size_t</span> PrevStep = WGSize;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> CurStep = PrevStep &gt;&gt; 1; CurStep &gt; 0; CurStep &gt;&gt;= 1) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="keywordflow">if</span> (LID &lt; CurStep) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="comment">// LocalReds[LID] = BOp(LocalReds[LID], LocalReds[LID + CurStep]);</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a78c908979783305ce0d63ddad130f0a6">reduceReduLocalAccs</a>(LID, LID + CurStep, LocalAccsTuple, BOPsTuple,</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                            ReduIndices);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Pow2WG &amp;&amp; LID == CurStep &amp;&amp; (PrevStep &amp; 0x1)) {</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="comment">// LocalReds[WGSize] = BOp(LocalReds[WGSize], LocalReds[PrevStep - 1]);</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a78c908979783305ce0d63ddad130f0a6">reduceReduLocalAccs</a>(WGSize, PrevStep - 1, LocalAccsTuple, BOPsTuple,</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                            ReduIndices);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      NDIt.barrier();</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      PrevStep = CurStep;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="comment">// Compute the partial sum/reduction for the work-group.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      <span class="keywordtype">size_t</span> GrID = NDIt.get_group_linear_id();</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      writeReduSumsToOutAccs&lt;Pow2WG, IsOneWG&gt;(</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;          GrID, WGSize, (std::tuple&lt;Reductions...&gt; *)<span class="keyword">nullptr</span>, OutAccsTuple,</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;          LocalAccsTuple, BOPsTuple, IdentitiesTuple, InitToIdentityProps,</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;          ReduIndices);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  });</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;}</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims,</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;          <span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01751"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa998fa61916aa5206e9d1c1055c20d96"> 1751</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa27085747a154abe2798f3a44ab646ff">reduCGFunc</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>,</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range,</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                std::index_sequence&lt;Is...&gt; ReduIndices) {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordtype">size_t</span> WGSize = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">get_local_range</a>().size();</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups = Range.<a class="code" href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">get_group_range</a>().size();</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="keywordtype">bool</span> Pow2WG = (WGSize &amp; (WGSize - 1)) == 0;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="keywordflow">if</span> (NWorkGroups == 1) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="comment">// TODO: consider having only one variant of kernel instead of two here.</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="comment">// Having two kernels, where one is just slighly more efficient than</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">// another, and only for the purpose of running 1 work-group may be too</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="comment">// expensive.</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">if</span> (Pow2WG)</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      reduCGFuncImpl&lt;KernelName, true, true&gt;(CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, ReduTuple,</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                                             ReduIndices);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      reduCGFuncImpl&lt;KernelName, false, true&gt;(CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, ReduTuple,</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                                              ReduIndices);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">if</span> (Pow2WG)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      reduCGFuncImpl&lt;KernelName, true, false&gt;(CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, ReduTuple,</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                                              ReduIndices);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      reduCGFuncImpl&lt;KernelName, false, false&gt;(CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range,</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                                               ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;}</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">// Specialization for devices with the atomic64 aspect, which guarantees 64 (and</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">// temporarily 32) bit floating point support for atomic add.</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment">// TODO 32 bit floating point atomics are eventually expected to be supported by</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="comment">// the has_fast_atomics specialization. Corresponding changes to</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="comment">// IsReduOptForAtomic64Add, as prescribed in its documentation, should then also</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="comment">// be made.</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;std::enable_if_t&lt;Reduction::has_atomic_add_float64&gt;</div>
<div class="line"><a name="l01787"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ab9204defec2a627207bd4af13892fafd"> 1787</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ab9204defec2a627207bd4af13892fafd">reduCGFuncImplAtomic64</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>,</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range, Reduction &amp;,</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                       <span class="keyword">typename</span> Reduction::rw_accessor_type Out) {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <span class="keyword">using</span> Name = <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">get_reduction_main_kernel_name_t</a>&lt;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      KernelName, KernelType, Reduction::is_usm,</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      Reduction::has_atomic_add_float64,</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="keyword">typename</span> Reduction::rw_accessor_type&gt;::name;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  CGH.<a class="code" href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">parallel_for</a>&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;Dims&gt;</a> NDIt) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="comment">// Call user&#39;s function. Reducer.MValue gets initialized there.</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keyword">typename</span> Reduction::reducer_type Reducer;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>(NDIt, Reducer);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160; </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keyword">typename</span> Reduction::binary_operation BOp;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    Reducer.MValue = <a class="code" href="namespacecl_1_1sycl.html#ae789c881c32c7090a7c7dc39ef8c493e">reduce_over_group</a>(NDIt.get_group(), Reducer.MValue, BOp);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">if</span> (NDIt.get_local_linear_id() == 0) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      Reducer.atomic_combine(Reduction::getOutPointer(Out));</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    }</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  });</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;}</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="comment">// Specialization for devices with the atomic64 aspect, which guarantees 64 (and</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="comment">// temporarily 32) bit floating point support for atomic add.</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="comment">// TODO 32 bit floating point atomics are eventually expected to be supported by</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">// the has_fast_atomics specialization. Corresponding changes to</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="comment">// IsReduOptForAtomic64Add, as prescribed in its documentation, should then also</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment">// be made.</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">int</span> Dims, <span class="keyword">class</span> Reduction&gt;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t&lt;Reduction::has_atomic_add_float64&gt;</a></div>
<div class="line"><a name="l01815"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0350558c8f5607d0a5ee8347db925074"> 1815</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0350558c8f5607d0a5ee8347db925074">reduCGFuncAtomic64</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, KernelType <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>,</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;Dims&gt;</a> &amp;Range, Reduction &amp;Redu) {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="keyword">auto</span> Out = Redu.getReadWriteAccessorToInitializedMem(CGH);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  reduCGFuncImplAtomic64&lt;KernelName, KernelType, Dims, Reduction&gt;(</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      CGH, <a class="code" href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a>, Range, Redu, Out);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;}</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a7ee955f5d7eb01eeaeab15d5845c002b"> 1823</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a35ba8a49cb84849915bfe63cfafb754e">associateReduAccsWithHandlerHelper</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;) {}</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReductionT&gt;</div>
<div class="line"><a name="l01826"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6f50064db37c9687f435c52e4e56dbdd"> 1826</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a35ba8a49cb84849915bfe63cfafb754e">associateReduAccsWithHandlerHelper</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, ReductionT &amp;Redu) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  Redu.associateWithHandler(CGH);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;}</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReductionT, <span class="keyword">typename</span>... RestT,</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;          <a class="code" href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">enable_if_t</a>&lt;(<span class="keyword">sizeof</span>...(RestT) &gt; 0), <span class="keywordtype">int</span>&gt; Z = 0&gt;</div>
<div class="line"><a name="l01832"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a35ba8a49cb84849915bfe63cfafb754e"> 1832</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a35ba8a49cb84849915bfe63cfafb754e">associateReduAccsWithHandlerHelper</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, ReductionT &amp;Redu,</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                                        RestT &amp;... Rest) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  Redu.associateWithHandler(CGH);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a35ba8a49cb84849915bfe63cfafb754e">associateReduAccsWithHandlerHelper</a>(CGH, Rest...);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;}</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01839"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a578f6095333d8eb1f99c1092c672341c"> 1839</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a578f6095333d8eb1f99c1092c672341c">associateReduAccsWithHandler</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH,</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                                  std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                                  std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a35ba8a49cb84849915bfe63cfafb754e">associateReduAccsWithHandlerHelper</a>(CGH, std::get&lt;Is&gt;(ReduTuple)...);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;}</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160; </div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keywordtype">bool</span> UniformPow2WG,</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;          <span class="keywordtype">bool</span> IsOneWG, <span class="keyword">typename</span>... Reductions, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01847"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a85a45e42604c16e4f7fdb67c739a3e09"> 1847</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a85a45e42604c16e4f7fdb67c739a3e09">reduAuxCGFuncImpl</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, <span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> NWorkGroups,</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                       <span class="keywordtype">size_t</span> WGSize, std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                       std::index_sequence&lt;Is...&gt; ReduIndices) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="comment">// The last kernel DOES write to user&#39;s accessor passed to reduction.</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// Associate it with handler manually.</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1detail.html#ac666de109fc99c49823e41f88b82bddd">std::conditional_t</a>&lt;IsOneWG, <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate.html">IsNonUsmReductionPredicate</a>,</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                     <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate.html">EmptyReductionPredicate</a>&gt;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      Predicate;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keyword">auto</span> AccReduIndices = <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a892e66977a1f941f1f60c2df4903fc21">filterSequence</a>&lt;Reductions...&gt;(Predicate, ReduIndices);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a578f6095333d8eb1f99c1092c672341c">associateReduAccsWithHandler</a>(CGH, ReduTuple, AccReduIndices);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="keywordtype">size_t</span> LocalAccSize = WGSize + (UniformPow2WG ? 0 : 1);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keyword">auto</span> LocalAccsTuple =</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a24b8ec1da96ca7da69c2090da994081c">createReduLocalAccs</a>&lt;Reductions...&gt;(LocalAccSize, CGH, ReduIndices);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keyword">auto</span> InAccsTuple =</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#acdd5473e1ba62e34b631cb4beb077a40">getReadAccsToPreviousPartialReds</a>(CGH, ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keyword">auto</span> OutAccsTuple =</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      createReduOutAccs&lt;IsOneWG&gt;(NWorkGroups, CGH, ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keyword">auto</span> IdentitiesTuple = <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a13eed94e196a9b9cfb2bc73caf376cff">getReduIdentities</a>(ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keyword">auto</span> BOPsTuple = <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa155de40c2feaafe006759f249c5ac44">getReduBOPs</a>(ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keyword">auto</span> InitToIdentityProps =</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a122e5c89a166516622ded97273b922f0">getInitToIdentityProperties</a>(ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keyword">using</span> Name =</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="keyword">typename</span> <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html">get_reduction_aux_kernel_name_t</a>&lt;KernelName, KernelType,</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                                               UniformPow2WG, IsOneWG,</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                                               decltype(OutAccsTuple)&gt;::name;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a> GlobalRange = {UniformPow2WG ? NWorkItems : NWorkGroups * WGSize};</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <a class="code" href="classcl_1_1sycl_1_1nd__range.html">nd_range&lt;1&gt;</a> Range{GlobalRange, <a class="code" href="classcl_1_1sycl_1_1range.html">range&lt;1&gt;</a>(WGSize)};</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  CGH.parallel_for&lt;Name&gt;(Range, [=](<a class="code" href="classcl_1_1sycl_1_1nd__item.html">nd_item&lt;1&gt;</a> NDIt) {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keyword">auto</span> ReduIndices = std::index_sequence_for&lt;Reductions...&gt;();</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="keywordtype">size_t</span> WGSize = NDIt.get_local_range().size();</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="keywordtype">size_t</span> LID = NDIt.get_local_linear_id();</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <span class="keywordtype">size_t</span> GID = NDIt.get_global_linear_id();</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    initReduLocalAccs&lt;UniformPow2WG&gt;(LID, GID, NWorkItems, WGSize,</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                                     LocalAccsTuple, InAccsTuple,</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                                     IdentitiesTuple, ReduIndices);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    NDIt.barrier();</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160; </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordtype">size_t</span> PrevStep = WGSize;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> CurStep = PrevStep &gt;&gt; 1; CurStep &gt; 0; CurStep &gt;&gt;= 1) {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">if</span> (LID &lt; CurStep) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <span class="comment">// LocalAcc[LID] = BOp(LocalAcc[LID], LocalAcc[LID + CurStep]);</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a78c908979783305ce0d63ddad130f0a6">reduceReduLocalAccs</a>(LID, LID + CurStep, LocalAccsTuple, BOPsTuple,</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                            ReduIndices);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!UniformPow2WG &amp;&amp; LID == CurStep &amp;&amp; (PrevStep &amp; 0x1)) {</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="comment">// LocalAcc[WGSize] = BOp(LocalAcc[WGSize], LocalAcc[PrevStep - 1]);</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a78c908979783305ce0d63ddad130f0a6">reduceReduLocalAccs</a>(WGSize, PrevStep - 1, LocalAccsTuple, BOPsTuple,</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                            ReduIndices);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      NDIt.barrier();</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      PrevStep = CurStep;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    }</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160; </div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="comment">// Compute the partial sum/reduction for the work-group.</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">if</span> (LID == 0) {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <span class="keywordtype">size_t</span> GrID = NDIt.get_group_linear_id();</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      writeReduSumsToOutAccs&lt;UniformPow2WG, IsOneWG&gt;(</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;          GrID, WGSize, (std::tuple&lt;Reductions...&gt; *)<span class="keyword">nullptr</span>, OutAccsTuple,</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;          LocalAccsTuple, BOPsTuple, IdentitiesTuple, InitToIdentityProps,</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;          ReduIndices);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    }</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  });</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;}</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160; </div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KernelName, <span class="keyword">typename</span> KernelType, <span class="keyword">typename</span>... Reductions,</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;          <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01914"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a9dce52e5d9d920bcdeea09128092b66c"> 1914</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae4f7d055556f4a03ebd4c6248166cc97">reduAuxCGFunc</a>(<a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> &amp;CGH, <span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> MaxWGSize,</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                     std::tuple&lt;Reductions...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                     std::index_sequence&lt;Is...&gt; ReduIndices) {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="keywordtype">size_t</span> NWorkGroups;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="keywordtype">size_t</span> WGSize = <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a3bd9b409851150bf9b390554f35f33f7">reduComputeWGSize</a>(NWorkItems, MaxWGSize, NWorkGroups);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="keywordtype">bool</span> Pow2WG = (WGSize &amp; (WGSize - 1)) == 0;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="keywordtype">bool</span> HasUniformWG = Pow2WG &amp;&amp; (NWorkGroups * WGSize == NWorkItems);</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">if</span> (NWorkGroups == 1) {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordflow">if</span> (HasUniformWG)</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      reduAuxCGFuncImpl&lt;KernelName, KernelType, true, true&gt;(</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;          CGH, NWorkItems, NWorkGroups, WGSize, ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      reduAuxCGFuncImpl&lt;KernelName, KernelType, false, true&gt;(</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;          CGH, NWorkItems, NWorkGroups, WGSize, ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">if</span> (HasUniformWG)</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      reduAuxCGFuncImpl&lt;KernelName, KernelType, true, false&gt;(</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;          CGH, NWorkItems, NWorkGroups, WGSize, ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      reduAuxCGFuncImpl&lt;KernelName, KernelType, false, false&gt;(</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;          CGH, NWorkItems, NWorkGroups, WGSize, ReduTuple, ReduIndices);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">return</span> NWorkGroups;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;}</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ab09465d9496a3a80db86cf70c7c00b2c"> 1941</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e">reduSaveFinalResultToUserMemHelper</a>(std::vector&lt;event&gt; &amp;,</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                   std::shared_ptr&lt;detail::queue_impl&gt;, <span class="keywordtype">bool</span>) {}</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Reduction, <span class="keyword">typename</span>... RestT&gt;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;std::enable_if_t&lt;Reduction::is_usm&gt;</div>
<div class="line"><a name="l01946"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e"> 1946</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e">reduSaveFinalResultToUserMemHelper</a>(std::vector&lt;event&gt; &amp;Events,</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                                   std::shared_ptr&lt;detail::queue_impl&gt; Queue,</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                                   <span class="keywordtype">bool</span> IsHost, Reduction &amp;, RestT... Rest) {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// Reductions initialized with USM pointer currently do not require copying</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">// because the last kernel write directly to USM memory.</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e">reduSaveFinalResultToUserMemHelper</a>(Events, Queue, IsHost, Rest...);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;}</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Reduction, <span class="keyword">typename</span>... RestT&gt;</div>
<div class="line"><a name="l01955"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae90cf253c2aec11064f0655789b48dec"> 1955</a></span>&#160;std::enable_if_t&lt;!Reduction::is_usm&gt; <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e">reduSaveFinalResultToUserMemHelper</a>(</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    std::vector&lt;event&gt; &amp;Events, std::shared_ptr&lt;detail::queue_impl&gt; Queue,</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="keywordtype">bool</span> IsHost, Reduction &amp;Redu, RestT... Rest) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="keywordflow">if</span> (Redu.hasUserDiscardWriteAccessor()) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <a class="code" href="classcl_1_1sycl_1_1handler.html">handler</a> CopyHandler(Queue, IsHost);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keyword">auto</span> InAcc = Redu.getReadAccToPreviousPartialReds(CopyHandler);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keyword">auto</span> OutAcc = Redu.getUserDiscardWriteAccessor();</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    Redu.associateWithHandler(CopyHandler);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">if</span> (!Events.empty())</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      CopyHandler.<a class="code" href="classcl_1_1sycl_1_1handler.html#ad5a22feb8adda7a95632c517f5d27fb7">depends_on</a>(Events.back());</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    CopyHandler.<a class="code" href="classcl_1_1sycl_1_1handler.html#af1ac55c7343044b1280e3f650842b2fa">copy</a>(InAcc, OutAcc);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keyword">event</span> CopyEvent = CopyHandler.finalize();</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    Events.push_back(CopyEvent);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e">reduSaveFinalResultToUserMemHelper</a>(Events, Queue, IsHost, Rest...);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;}</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Reduction, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;std::shared_ptr&lt;event&gt;</div>
<div class="line"><a name="l01978"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad5452a71cd25e9156964a667512ba691"> 1978</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5658e51ecad6b6a0b8077ed8e0a890a7">reduSaveFinalResultToUserMem</a>(std::shared_ptr&lt;detail::queue_impl&gt; Queue,</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                             <span class="keywordtype">bool</span> IsHost, std::tuple&lt;Reduction...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                             std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  std::vector&lt;event&gt; Events;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e">reduSaveFinalResultToUserMemHelper</a>(Events, Queue, IsHost,</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                                     std::get&lt;Is&gt;(ReduTuple)...);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">if</span> (!Events.empty())</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">return</span> std::make_shared&lt;event&gt;(Events.back());</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <span class="keywordflow">return</span> std::shared_ptr&lt;event&gt;();</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;}</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160; </div>
<div class="line"><a name="l01989"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a107c794e03968c4645850c89f18f7f3b"> 1989</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Reduction&gt; <span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a54549d24f63ea1a0cfab882529953949">reduGetMemPerWorkItemHelper</a>(Reduction &amp;) {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<span class="keyword">typename</span> Reduction::result_type);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;}</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Reduction, <span class="keyword">typename</span>... RestT&gt;</div>
<div class="line"><a name="l01994"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a54549d24f63ea1a0cfab882529953949"> 1994</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a54549d24f63ea1a0cfab882529953949">reduGetMemPerWorkItemHelper</a>(Reduction &amp;, RestT... Rest) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<span class="keyword">typename</span> Reduction::result_type) +</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;         <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a54549d24f63ea1a0cfab882529953949">reduGetMemPerWorkItemHelper</a>(Rest...);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;}</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... ReductionT, <span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="line"><a name="l02000"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a46400d34368c66e3dd72e4c01c1e9e2a"> 2000</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a46400d34368c66e3dd72e4c01c1e9e2a">reduGetMemPerWorkItem</a>(std::tuple&lt;ReductionT...&gt; &amp;ReduTuple,</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                             std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a54549d24f63ea1a0cfab882529953949">reduGetMemPerWorkItemHelper</a>(std::get&lt;Is&gt;(ReduTuple)...);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;}</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> TupleT, std::size_t... Is&gt;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;std::tuple&lt;std::tuple_element_t&lt;Is, TupleT&gt;...&gt;</div>
<div class="line"><a name="l02009"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0aee675ca2625c3d3d914769468cfd9d"> 2009</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0aee675ca2625c3d3d914769468cfd9d">tuple_select_elements</a>(TupleT Tuple, std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keywordflow">return</span> {std::get&lt;Is&gt;(std::move(Tuple))...};</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;}</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160; </div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;} <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class </span>BinaryOperation, <span class="keywordtype">int</span> Dims, <a class="code" href="namespacecl_1_1sycl_1_1access.html#a9ae8c23f772316322be407bbb6498b17">access::mode</a> AccMode,</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;          <a class="code" href="namespacecl_1_1sycl_1_1access.html#af1c616691dbceeaca9cdd537a8ab0af9">access::placeholder</a> IsPH&gt;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;detail::reduction_impl&lt;T, BinaryOperation, Dims, false, IsPH&gt;</div>
<div class="line"><a name="l02022"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#ab80d6d2e1d92534930cd78b55ef11e6b"> 2022</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a35ffed9455d53a453eed9431d76ff848">reduction</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">accessor&lt;T, Dims, AccMode, access::target::device, IsPH&gt;</a> &amp;Acc,</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;          <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;Identity, BinaryOperation BOp) {</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="keywordflow">return</span> {Acc, Identity, BOp};</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;}</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class </span>BinaryOperation, <span class="keywordtype">int</span> Dims, <a class="code" href="namespacecl_1_1sycl_1_1access.html#a9ae8c23f772316322be407bbb6498b17">access::mode</a> AccMode,</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;          <a class="code" href="namespacecl_1_1sycl_1_1access.html#af1c616691dbceeaca9cdd537a8ab0af9">access::placeholder</a> IsPH&gt;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;std::enable_if_t&lt;detail::IsKnownIdentityOp&lt;T, BinaryOperation&gt;::value,</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                 detail::reduction_impl&lt;T, BinaryOperation, Dims, false, IsPH&gt;&gt;</div>
<div class="line"><a name="l02035"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a813c1faab018d2a65d4e865bbca2be65"> 2035</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a35ffed9455d53a453eed9431d76ff848">reduction</a>(<a class="code" href="classcl_1_1sycl_1_1accessor.html">accessor&lt;T, Dims, AccMode, access::target::device, IsPH&gt;</a> &amp;Acc,</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;          BinaryOperation) {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  <span class="keywordflow">return</span> {Acc};</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;}</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> BinaryOperation&gt;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;detail::reduction_impl&lt;T, BinaryOperation, 1, true&gt;</div>
<div class="line"><a name="l02046"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a1b7e5386d5395a8a8bebf9f64deb10c5"> 2046</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a35ffed9455d53a453eed9431d76ff848">reduction</a>(<a class="code" href="classT.html">T</a> *VarPtr, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;Identity, BinaryOperation BOp) {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="keywordflow">return</span> {VarPtr, Identity, BOp};</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;}</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> BinaryOperation&gt;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;std::enable_if_t&lt;detail::IsKnownIdentityOp&lt;T, BinaryOperation&gt;::value,</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                 detail::reduction_impl&lt;T, BinaryOperation, 1, true&gt;&gt;</div>
<div class="line"><a name="l02058"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a35ffed9455d53a453eed9431d76ff848"> 2058</a></span>&#160;<a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a35ffed9455d53a453eed9431d76ff848">reduction</a>(<a class="code" href="classT.html">T</a> *VarPtr, BinaryOperation) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keywordflow">return</span> {VarPtr};</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;}</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="comment">// ---- has_known_identity</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BinaryOperation, <span class="keyword">typename</span> AccumulatorT&gt;</div>
<div class="line"><a name="l02064"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1has__known__identity.html"> 2064</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1has__known__identity.html">has_known_identity</a></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    : <a class="code" href="structcl_1_1sycl_1_1has__known__identity.html">sycl::has_known_identity</a>&lt;BinaryOperation, AccumulatorT&gt; {};</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160; </div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BinaryOperation, <span class="keyword">typename</span> AccumulatorT&gt;</div>
<div class="line"><a name="l02068"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a8f9d1af2b3f518f22e9ba191a74c85fb"> 2068</a></span>&#160;<a class="code" href="defines__elementary_8hpp.html#a1a96b3da1b5f2ba568477a3c259e88ba">__SYCL_INLINE_CONSTEXPR</a> <span class="keywordtype">bool</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a8f9d1af2b3f518f22e9ba191a74c85fb">has_known_identity_v</a> =</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1has__known__identity.html">has_known_identity&lt;BinaryOperation, AccumulatorT&gt;::value</a>;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160; </div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="comment">// ---- known_identity</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BinaryOperation, <span class="keyword">typename</span> AccumulatorT&gt;</div>
<div class="line"><a name="l02073"></a><span class="lineno"><a class="line" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1known__identity.html"> 2073</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1known__identity.html">known_identity</a> : <a class="code" href="structcl_1_1sycl_1_1known__identity.html">sycl::known_identity</a>&lt;BinaryOperation, AccumulatorT&gt; {};</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BinaryOperation, <span class="keyword">typename</span> AccumulatorT&gt;</div>
<div class="line"><a name="l02076"></a><span class="lineno"><a class="line" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#ae7a8aa9db30ae96aea83f4554c4bc383"> 2076</a></span>&#160;<a class="code" href="defines__elementary_8hpp.html#a1a96b3da1b5f2ba568477a3c259e88ba">__SYCL_INLINE_CONSTEXPR</a> AccumulatorT <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#ae7a8aa9db30ae96aea83f4554c4bc383">known_identity_v</a> =</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <a class="code" href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1known__identity.html">known_identity&lt;BinaryOperation, AccumulatorT&gt;::value</a>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;} <span class="comment">// namespace oneapi</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;} <span class="comment">// namespace ext</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;<span class="preprocessor">#ifdef __SYCL_INTERNAL_API</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;<span class="keyword">namespace </span><a class="code" href="defines__elementary_8hpp.html#ac02b2c3d65e385d087c513c04c358f7a">__SYCL2020_DEPRECATED</a>(&quot;use &#39;ext::oneapi&#39; <a class="code" href="namespacecl_1_1sycl.html#a44f4f8651c501bc92fd763973a52e9de">instead</a>&quot;) ONEAPI {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keyword">using namespace </span>ext::oneapi;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="keyword">using</span> <a class="code" href="classcl_1_1sycl_1_1detail_1_1queue__impl.html">cl::sycl::detail::queue_impl</a>;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  __SYCL_EXPORT <span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa9646851619b0962872dfd49da602047">reduGetMaxWGSize</a>(std::shared_ptr&lt;queue_impl&gt; Queue,</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                                        <span class="keywordtype">size_t</span> LocalMemBytesPerWorkItem);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  __SYCL_EXPORT <span class="keywordtype">size_t</span> <a class="code" href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a3bd9b409851150bf9b390554f35f33f7">reduComputeWGSize</a>(<span class="keywordtype">size_t</span> NWorkItems, <span class="keywordtype">size_t</span> MaxWGSize,</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                                         <span class="keywordtype">size_t</span> &amp;NWorkGroups);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  } <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;} <span class="comment">// namespace ONEAPI</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="preprocessor">#endif // __SYCL_INTERNAL_API</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;} <span class="comment">// namespace sycl</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;} <span class="comment">// __SYCL_INLINE_NAMESPACE(cl)</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a8d5e397ffe5aede6b455150254459c91"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a8d5e397ffe5aede6b455150254459c91">cl::sycl::detail::associateWithHandler</a></div><div class="ttdeci">void associateWithHandler(handler &amp;, AccessorBaseHost *, access::target)</div><div class="ttdef"><b>Definition:</b> <a href="handler__proxy_8cpp_source.html#l00017">handler_proxy.cpp:17</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_html_a35ffed9455d53a453eed9431d76ff848"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a35ffed9455d53a453eed9431d76ff848">cl::sycl::ext::oneapi::reduction</a></div><div class="ttdeci">std::enable_if_t&lt; detail::IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value, detail::reduction_impl&lt; T, BinaryOperation, 1, true &gt; &gt; reduction(T *VarPtr, BinaryOperation)</div><div class="ttdoc">Creates and returns an object implementing the reduction functionality.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l02058">reduction.hpp:2058</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a54e2d3bfe83528d485ec6c28c0576451"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a54e2d3bfe83528d485ec6c28c0576451">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::operator|=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsBitOR&lt; _T, BinaryOperation &gt;::value &gt; operator|=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00238">reduction.hpp:238</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1nd__range_html"><div class="ttname"><a href="classcl_1_1sycl_1_1nd__range.html">cl::sycl::nd_range</a></div><div class="ttdoc">Defines the iteration domain of both the work-groups and the overall dispatch.</div><div class="ttdef"><b>Definition:</b> <a href="nd__range_8hpp_source.html#l00023">nd_range.hpp:23</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a201c6cd96483e6d3e0e99b988e53ecce"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a201c6cd96483e6d3e0e99b988e53ecce">cl::sycl::ext::oneapi::detail::reducer::MValue</a></div><div class="ttdeci">T MValue</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00168">reduction.hpp:168</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_afe8401ed4bf3a79246cb65ad57032df5"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#afe8401ed4bf3a79246cb65ad57032df5">cl::sycl::ext::oneapi::detail::reduction_impl::initializeToIdentity</a></div><div class="ttdeci">bool initializeToIdentity() const</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00764">reduction.hpp:764</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a9a457ccdd00c09196ae58a7755da0700"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a9a457ccdd00c09196ae58a7755da0700">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(T *VarPtr, const T &amp;Identity, BinaryOperation, bool InitializeToIdentity=false)</div><div class="ttdoc">Constructs reduction_impl when the identity value is statically known, and user still passed the iden...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00601">reduction.hpp:601</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1detail_1_1known__identity__impl_html"><div class="ttname"><a href="structcl_1_1sycl_1_1detail_1_1known__identity__impl.html">cl::sycl::detail::known_identity_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00122">known_identity.hpp:122</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a3977f60b33b9bb7c9c6e7afdc055f5be"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a3977f60b33b9bb7c9c6e7afdc055f5be">cl::sycl::detail::IsBitOR</a></div><div class="ttdeci">bool_constant&lt; std::is_same&lt; BinaryOperation, sycl::bit_or&lt; T &gt; &gt;::value||std::is_same&lt; BinaryOperation, sycl::bit_or&lt; void &gt; &gt;::value &gt; IsBitOR</div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00049">known_identity.hpp:49</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_afec828b57cdcfbb63d665470285ada03"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#afec828b57cdcfbb63d665470285ada03">cl::sycl::detail::getDelinearizedId</a></div><div class="ttdeci">id&lt; 1 &gt; getDelinearizedId(const range&lt; 1 &gt; &amp;, size_t Index)</div><div class="ttdef"><b>Definition:</b> <a href="id_8hpp_source.html#l00318">id.hpp:318</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a41500014380c61525a1511a91e1be202"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a41500014380c61525a1511a91e1be202">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::atomic_combine</a></div><div class="ttdeci">enable_if_t&lt; std::is_same&lt; typename remove_AS&lt; _T &gt;::type, T &gt;::value &amp;&amp;IsReduOptForFastAtomicFetch&lt; T, _BinaryOperation &gt;::value &amp;&amp;sycl::detail::IsMaximum&lt; T, _BinaryOperation &gt;::value &amp;&amp;(Space==access::address_space::global_space||Space==access::address_space::local_space)&gt; atomic_combine(_T *ReduVarPtr) const</div><div class="ttdoc">Atomic MAX operation: *ReduVarPtr = sycl::maximum(*ReduVarPtr, MValue);.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00342">reduction.hpp:342</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html">cl::sycl::ext::oneapi::detail::reducer</a></div><div class="ttdoc">Class that is used to represent objects that are passed to user's lambda functions and representing u...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00116">reduction.hpp:116</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a54549d24f63ea1a0cfab882529953949"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a54549d24f63ea1a0cfab882529953949">cl::sycl::ext::oneapi::detail::reduGetMemPerWorkItemHelper</a></div><div class="ttdeci">size_t reduGetMemPerWorkItemHelper(Reduction &amp;, RestT... Rest)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01994">reduction.hpp:1994</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_afa45c79654a82ccbb2233a0c39c59721"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#afa45c79654a82ccbb2233a0c39c59721">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::atomic_combine</a></div><div class="ttdeci">enable_if_t&lt; std::is_same&lt; typename remove_AS&lt; _T &gt;::type, T &gt;::value &amp;&amp;IsReduOptForFastAtomicFetch&lt; T, _BinaryOperation &gt;::value &amp;&amp;sycl::detail::IsMinimum&lt; T, _BinaryOperation &gt;::value &amp;&amp;(Space==access::address_space::global_space||Space==access::address_space::local_space)&gt; atomic_combine(_T *ReduVarPtr) const</div><div class="ttdoc">Atomic MIN operation: *ReduVarPtr = sycl::minimum(*ReduVarPtr, MValue);.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00328">reduction.hpp:328</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1info_html_ab329ccdc28ac4187f67d14db9cbb6190"><div class="ttname"><a href="namespacecl_1_1sycl_1_1info.html#ab329ccdc28ac4187f67d14db9cbb6190">cl::sycl::info::device</a></div><div class="ttdeci">device</div><div class="ttdef"><b>Definition:</b> <a href="info__desc_8hpp_source.html#l00053">info_desc.hpp:53</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a79bcf19d1e2b7f945a7d791d4b2e4c30"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a79bcf19d1e2b7f945a7d791d4b2e4c30">cl::sycl::detail::make_tuple</a></div><div class="ttdeci">constexpr tuple&lt; Ts... &gt; make_tuple(Ts... Args)</div><div class="ttdef"><b>Definition:</b> <a href="tuple_8hpp_source.html#l00036">tuple.hpp:36</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a0dcb92f31e48904efc68478f56dffdae"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a0dcb92f31e48904efc68478f56dffdae">cl::sycl::ext::oneapi::detail::reducer::operator++</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsPlus&lt; _T, BinaryOperation &gt;::value &amp;&amp;sycl::detail::is_geninteger&lt; _T &gt;::value &gt; operator++(int)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00134">reduction.hpp:134</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_ad7368538e943bc3c9a29ef0c719e2bc3"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad7368538e943bc3c9a29ef0c719e2bc3">cl::sycl::ext::oneapi::detail::filterSequenceHelper</a></div><div class="ttdeci">constexpr auto filterSequenceHelper(FunctorT, std::index_sequence&lt; Is... &gt;)</div><div class="ttdoc">For each index 'I' from the given indices pack 'Is' this function initially creates a number of short...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01667">reduction.hpp:1667</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a7431c0d412f98822b052517013c52869"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a7431c0d412f98822b052517013c52869">cl::sycl::ext::oneapi::detail::reducer::operator|=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsBitOR&lt; _T, BinaryOperation &gt;::value &gt; operator|=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00152">reduction.hpp:152</a></div></div>
<div class="ttc" id="adefines__elementary_8hpp_html_ac02b2c3d65e385d087c513c04c358f7a"><div class="ttname"><a href="defines__elementary_8hpp.html#ac02b2c3d65e385d087c513c04c358f7a">__SYCL2020_DEPRECATED</a></div><div class="ttdeci">#define __SYCL2020_DEPRECATED(message)</div><div class="ttdef"><b>Definition:</b> <a href="defines__elementary_8hpp_source.html#l00056">defines_elementary.hpp:56</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1known__identity_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1known__identity.html">cl::sycl::ext::oneapi::known_identity</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l02073">reduction.hpp:2073</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__main__kernel__name__t.html">cl::sycl::ext::oneapi::detail::get_reduction_main_kernel_name_t</a></div><div class="ttdoc">Helper structs to get additional kernel name types based on given Name and additional template parame...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00813">reduction.hpp:813</a></div></div>
<div class="ttc" id="atuple_8hpp_html"><div class="ttname"><a href="tuple_8hpp.html">tuple.hpp</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1access_html_af1c616691dbceeaca9cdd537a8ab0af9"><div class="ttname"><a href="namespacecl_1_1sycl_1_1access.html#af1c616691dbceeaca9cdd537a8ab0af9">cl::sycl::access::placeholder</a></div><div class="ttdeci">placeholder</div><div class="ttdef"><b>Definition:</b> <a href="access_8hpp_source.html#l00043">access.hpp:43</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a2a06a440fb8fa3f1e0fd16eafea559fd"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a2a06a440fb8fa3f1e0fd16eafea559fd">cl::sycl::detail::IsPlus</a></div><div class="ttdeci">bool_constant&lt; std::is_same&lt; BinaryOperation, sycl::plus&lt; T &gt; &gt;::value||std::is_same&lt; BinaryOperation, sycl::plus&lt; void &gt; &gt;::value &gt; IsPlus</div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00024">known_identity.hpp:24</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement_html_ab3bdf3c5032f4b1e9b3ddc3948ead1ca"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement.html#ab3bdf3c5032f4b1e9b3ddc3948ead1ca">cl::sycl::ext::oneapi::detail::FilterElement::type</a></div><div class="ttdeci">std::conditional_t&lt; Cond, std::index_sequence&lt; I &gt;, std::index_sequence&lt;&gt; &gt; type</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01657">reduction.hpp:1657</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1intel_1_1experimental_html_a303ff30027ade1cadb4ba5f31bfb660b"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1intel_1_1experimental.html#a303ff30027ade1cadb4ba5f31bfb660b">cl::sycl::ext::intel::experimental::type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="experimental_2fpga__utils_8hpp_source.html#l00022">fpga_utils.hpp:22</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a5658e51ecad6b6a0b8077ed8e0a890a7"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5658e51ecad6b6a0b8077ed8e0a890a7">cl::sycl::ext::oneapi::detail::reduSaveFinalResultToUserMem</a></div><div class="ttdeci">std::enable_if_t&lt;!Reduction::is_usm &gt; reduSaveFinalResultToUserMem(handler &amp;CGH, Reduction &amp;Redu)</div><div class="ttdoc">Copies the final reduction result kept in read-write accessor to user's accessor.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01430">reduction.hpp:1430</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_html_ae7a8aa9db30ae96aea83f4554c4bc383"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#ae7a8aa9db30ae96aea83f4554c4bc383">cl::sycl::ext::oneapi::known_identity_v</a></div><div class="ttdeci">__SYCL_INLINE_CONSTEXPR AccumulatorT known_identity_v</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l02076">reduction.hpp:2076</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__main__kernel_html"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__main__kernel.html">cl::sycl::ext::oneapi::detail::__sycl_reduction_main_kernel</a></div><div class="ttdoc">These are the forward declaration for the classes that help to create names for additional kernels.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00804">reduction.hpp:804</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a40a063097235eddf08bf5152dfdca067"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a40a063097235eddf08bf5152dfdca067">cl::sycl::detail::workGroupBarrier</a></div><div class="ttdeci">static void workGroupBarrier()</div><div class="ttdef"><b>Definition:</b> <a href="group_8hpp_source.html#l00033">group.hpp:33</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a58ac7e400d46f39732011d8cdf71f254"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a58ac7e400d46f39732011d8cdf71f254">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::atomic_combine</a></div><div class="ttdeci">enable_if_t&lt; std::is_same&lt; typename remove_AS&lt; _T &gt;::type, T &gt;::value &amp;&amp;IsReduOptForFastAtomicFetch&lt; T, _BinaryOperation &gt;::value &amp;&amp;sycl::detail::IsBitXOR&lt; T, _BinaryOperation &gt;::value &amp;&amp;(Space==access::address_space::global_space||Space==access::address_space::local_space)&gt; atomic_combine(_T *ReduVarPtr) const</div><div class="ttdoc">Atomic BITWISE XOR operation: *ReduVarPtr ^= MValue;.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00300">reduction.hpp:300</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a281a70ef2569bfd5b90b0b5745bc922c"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a281a70ef2569bfd5b90b0b5745bc922c">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::operator++</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsPlus&lt; _T, BinaryOperation &gt;::value &amp;&amp;sycl::detail::is_geninteger&lt; _T &gt;::value &gt; operator++(int)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00220">reduction.hpp:220</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a334fcfcbb51d54e2b6875b51cacb66f1"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a334fcfcbb51d54e2b6875b51cacb66f1">cl::sycl::detail::IsKnownIdentityOp</a></div><div class="ttdeci">bool_constant&lt; IsZeroIdentityOp&lt; T, BinaryOperation &gt;::value||IsOneIdentityOp&lt; T, BinaryOperation &gt;::value||IsOnesIdentityOp&lt; T, BinaryOperation &gt;::value||IsMinimumIdentityOp&lt; T, BinaryOperation &gt;::value||IsMaximumIdentityOp&lt; T, BinaryOperation &gt;::value||IsFalseIdentityOp&lt; T, BinaryOperation &gt;::value||IsTrueIdentityOp&lt; T, BinaryOperation &gt;::value &gt; IsKnownIdentityOp</div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00114">known_identity.hpp:114</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_html_ae789c881c32c7090a7c7dc39ef8c493e"><div class="ttname"><a href="namespacecl_1_1sycl.html#ae789c881c32c7090a7c7dc39ef8c493e">cl::sycl::reduce_over_group</a></div><div class="ttdeci">detail::enable_if_t&lt;(is_group_v&lt; std::decay_t&lt; Group &gt;&gt; &amp;&amp;detail::is_scalar_arithmetic&lt; T &gt;::value &amp;&amp;detail::is_native_op&lt; T, BinaryOperation &gt;::value), T &gt; reduce_over_group(Group, T x, BinaryOperation binary_op)</div><div class="ttdef"><b>Definition:</b> <a href="CL_2sycl_2group__algorithm_8hpp_source.html#l00176">group_algorithm.hpp:176</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a24b8ec1da96ca7da69c2090da994081c"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a24b8ec1da96ca7da69c2090da994081c">cl::sycl::ext::oneapi::detail::createReduLocalAccs</a></div><div class="ttdeci">auto createReduLocalAccs(size_t Size, handler &amp;CGH, std::index_sequence&lt; Is... &gt;)</div><div class="ttdoc">For the given 'Reductions' types pack and indices enumerating only the reductions for which a local a...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01463">reduction.hpp:1463</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_ab1b663453c1ec9a56baa987f956d8a04"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab1b663453c1ec9a56baa987f956d8a04">cl::sycl::ext::oneapi::detail::reduction_impl::getOutPointer</a></div><div class="ttdeci">static result_type * getOutPointer(result_type *OutPtr)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00758">reduction.hpp:758</a></div></div>
<div class="ttc" id="aaccessor__property__list_8hpp_html"><div class="ttname"><a href="accessor__property__list_8hpp.html">accessor_property_list.hpp</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a2eae51c3e175afe53cac98dd4221c31e"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a2eae51c3e175afe53cac98dd4221c31e">cl::sycl::ext::oneapi::detail::reduSaveFinalResultToUserMemHelper</a></div><div class="ttdeci">std::enable_if_t&lt; Reduction::is_usm &gt; reduSaveFinalResultToUserMemHelper(std::vector&lt; event &gt; &amp;Events, std::shared_ptr&lt; detail::queue_impl &gt; Queue, bool IsHost, Reduction &amp;, RestT... Rest)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01946">reduction.hpp:1946</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1detail_1_1is__contained_html"><div class="ttname"><a href="structcl_1_1sycl_1_1detail_1_1is__contained.html">cl::sycl::detail::is_contained</a></div><div class="ttdef"><b>Definition:</b> <a href="type__list_8hpp_source.html#l00054">type_list.hpp:54</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_ae6c385a707d1fcc1fb96904bfdc100ab"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ae6c385a707d1fcc1fb96904bfdc100ab">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::operator++</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsPlus&lt; _T, BinaryOperation &gt;::value &amp;&amp;sycl::detail::is_geninteger&lt; _T &gt;::value &gt; operator++()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00213">reduction.hpp:213</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a1e39bd348a8dd9d64afcd9ef6c1f81e0"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1e39bd348a8dd9d64afcd9ef6c1f81e0">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(rw_accessor_type &amp;Acc)</div><div class="ttdoc">Constructs reduction_impl when the identity value is statically known.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00438">reduction.hpp:438</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a892e66977a1f941f1f60c2df4903fc21"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a892e66977a1f941f1f60c2df4903fc21">cl::sycl::ext::oneapi::detail::filterSequence</a></div><div class="ttdeci">constexpr auto filterSequence(FunctorT F, std::index_sequence&lt; Is... &gt; Indices)</div><div class="ttdoc">For each index 'I' from the given indices pack 'Is' this function returns an index sequence consistin...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01683">reduction.hpp:1683</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_ad97d52b0f111a8363fee07c20e173c3c"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad97d52b0f111a8363fee07c20e173c3c">cl::sycl::ext::oneapi::detail::writeReduSumsToOutAccs</a></div><div class="ttdeci">void writeReduSumsToOutAccs(size_t OutAccIndex, size_t WGSize, std::tuple&lt; Reductions... &gt; *, ReduTupleT&lt; OutAccT... &gt; OutAccs, ReduTupleT&lt; LocalAccT... &gt; LocalAccs, ReduTupleT&lt; BOPsT... &gt; BOPs, ReduTupleT&lt; Ts... &gt; IdentityVals, std::array&lt; bool, sizeof...(Reductions)&gt; IsInitializeToIdentity, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01588">reduction.hpp:1588</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_affc20a56174ee39370b15a473c8c1d42"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#affc20a56174ee39370b15a473c8c1d42">cl::sycl::ext::oneapi::detail::createReducers</a></div><div class="ttdeci">std::tuple&lt; typename Reductions::reducer_type... &gt; createReducers(ReduTupleT&lt; typename Reductions::result_type... &gt; Identities, ReduTupleT&lt; typename Reductions::binary_operation... &gt; BOPsTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01515">reduction.hpp:1515</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1nd__range_html_a52318d86ebfb0e26406b7acbb4237b15"><div class="ttname"><a href="classcl_1_1sycl_1_1nd__range.html#a52318d86ebfb0e26406b7acbb4237b15">cl::sycl::nd_range::get_group_range</a></div><div class="ttdeci">range&lt; dimensions &gt; get_group_range() const</div><div class="ttdef"><b>Definition:</b> <a href="nd__range_8hpp_source.html#l00044">nd_range.hpp:44</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_ae2798767f76cf05d62a267e0a7ad4e87"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae2798767f76cf05d62a267e0a7ad4e87">cl::sycl::ext::oneapi::detail::initReduLocalAccs</a></div><div class="ttdeci">void initReduLocalAccs(size_t LID, size_t GID, size_t NWorkItems, size_t WGSize, ReduTupleT&lt; InputAccT... &gt; LocalAccs, ReduTupleT&lt; LocalAccT... &gt; InputAccs, ReduTupleT&lt; ResultT... &gt; Identities, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01549">reduction.hpp:1549</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_ad6057b1e3b8ea90f68e2d6ec40513942"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ad6057b1e3b8ea90f68e2d6ec40513942">cl::sycl::ext::oneapi::detail::reduction_impl::getUSMPointer</a></div><div class="ttdeci">result_type * getUSMPointer()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00749">reduction.hpp:749</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_abf1fb6912b66abb0a33046c431df4dc2"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#abf1fb6912b66abb0a33046c431df4dc2">cl::sycl::ext::oneapi::detail::reduction_impl::getOutPointer</a></div><div class="ttdeci">static result_type * getOutPointer(const rw_accessor_type &amp;OutAcc)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00754">reduction.hpp:754</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a8d7c5169eb54abe3df69e10358fb8f28"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a8d7c5169eb54abe3df69e10358fb8f28">cl::sycl::ext::oneapi::detail::reducer::operator&amp;=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsBitAND&lt; _T, BinaryOperation &gt;::value &gt; operator&amp;=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00164">reduction.hpp:164</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_acdd5473e1ba62e34b631cb4beb077a40"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#acdd5473e1ba62e34b631cb4beb077a40">cl::sycl::ext::oneapi::detail::getReadAccsToPreviousPartialReds</a></div><div class="ttdeci">auto getReadAccsToPreviousPartialReds(handler &amp;CGH, std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdoc">For the given 'Reductions' types pack and indices enumerating them this function returns accessors to...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01486">reduction.hpp:1486</a></div></div>
<div class="ttc" id="aclassbool__constant_html"><div class="ttname"><a href="classbool__constant.html">bool_constant</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1multi__ptr_html"><div class="ttname"><a href="classcl_1_1sycl_1_1multi__ptr.html">cl::sycl::multi_ptr</a></div><div class="ttdoc">Provides constructors for address space qualified and non address space qualified pointers to allow i...</div><div class="ttdef"><b>Definition:</b> <a href="CL_2sycl_2atomic_8hpp_source.html#l00032">atomic.hpp:32</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_ae1a756937aa50d6cc66faefd689f15c9"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae1a756937aa50d6cc66faefd689f15c9">cl::sycl::ext::oneapi::detail::concat_sequences</a></div><div class="ttdeci">constexpr auto concat_sequences(std::index_sequence&lt; Is... &gt;, std::index_sequence&lt; Js... &gt;, Rs...)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01640">reduction.hpp:1640</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a5cf4d44142d6f815d512dd44c481eebd"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a5cf4d44142d6f815d512dd44c481eebd">cl::sycl::ext::oneapi::detail::reducer::operator*=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsMultiplies&lt; _T, BinaryOperation &gt;::value &gt; operator*=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00146">reduction.hpp:146</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1has__known__identity_html"><div class="ttname"><a href="structcl_1_1sycl_1_1has__known__identity.html">cl::sycl::has_known_identity</a></div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00379">known_identity.hpp:379</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a5f55a59ba876fd561c5b3d22a4f9a11d"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a5f55a59ba876fd561c5b3d22a4f9a11d">cl::sycl::ext::oneapi::detail::callReduUserKernelFunc</a></div><div class="ttdeci">void callReduUserKernelFunc(KernelType KernelFunc, nd_item&lt; Dims &gt; NDIt, std::tuple&lt; ReducerT... &gt; &amp;Reducers, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01523">reduction.hpp:1523</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a54c98baab6c98c3f34ff507391cbde48"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a54c98baab6c98c3f34ff507391cbde48">cl::sycl::ext::oneapi::detail::reduction_impl::getReadWriteAccessorToInitializedMem</a></div><div class="ttdeci">std::enable_if_t&lt; HasFastAtomics, rw_accessor_type &gt; getReadWriteAccessorToInitializedMem(handler &amp;CGH)</div><div class="ttdoc">If reduction is initialized with read-write accessor, which does not require initialization with iden...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00714">reduction.hpp:714</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_acad6749bffae84a1fdc71b88a1f05e24"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#acad6749bffae84a1fdc71b88a1f05e24">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::atomic_combine</a></div><div class="ttdeci">enable_if_t&lt; std::is_same&lt; typename remove_AS&lt; _T &gt;::type, T &gt;::value &amp;&amp;(IsReduOptForFastAtomicFetch&lt; T, _BinaryOperation &gt;::value||IsReduOptForAtomic64Add&lt; T, _BinaryOperation &gt;::value) &amp;&amp;sycl::detail::IsPlus&lt; T, _BinaryOperation &gt;::value &amp;&amp;(Space==access::address_space::global_space||Space==access::address_space::local_space)&gt; atomic_combine(_T *ReduVarPtr) const</div><div class="ttdoc">Atomic ADD operation: *ReduVarPtr += MValue;.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00272">reduction.hpp:272</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_ad3e0e7612da1886967eb29ee33bf53d8"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ad3e0e7612da1886967eb29ee33bf53d8">cl::sycl::ext::oneapi::detail::IsReduOptForFastReduce</a></div><div class="ttdeci">bool_constant&lt;((sycl::detail::is_sgeninteger&lt; T &gt;::value &amp;&amp;(sizeof(T)==4||sizeof(T)==8))||sycl::detail::is_sgenfloat&lt; T &gt;::value) &amp;&amp;(sycl::detail::IsPlus&lt; T, BinaryOperation &gt;::value||sycl::detail::IsMinimum&lt; T, BinaryOperation &gt;::value||sycl::detail::IsMaximum&lt; T, BinaryOperation &gt;::value)&gt; IsReduOptForFastReduce</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00094">reduction.hpp:94</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1buffer_html"><div class="ttname"><a href="classcl_1_1sycl_1_1buffer.html">cl::sycl::buffer</a></div><div class="ttdoc">Defines a shared array that can be used by kernels in queues.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8hpp_source.html#l00046">buffer.hpp:46</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_abcd39cea1c9658613103dcc7dd4236e6"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#abcd39cea1c9658613103dcc7dd4236e6">cl::sycl::ext::oneapi::detail::reduction_impl::getUserReadWriteAccessor</a></div><div class="ttdeci">std::enable_if_t&lt;!_IsUSM, rw_accessor_type &amp; &gt; getUserReadWriteAccessor()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00740">reduction.hpp:740</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl__base_html"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl__base.html">cl::sycl::ext::oneapi::detail::reduction_impl_base</a></div><div class="ttdoc">Base non-template class which is a base class for all reduction implementation classes.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00353">reduction.hpp:353</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_ad25c8a4f549cc6531bb1d06469902d4a"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ad25c8a4f549cc6531bb1d06469902d4a">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(T *VarPtr, bool InitializeToIdentity=false)</div><div class="ttdoc">Constructs reduction_impl when the identity value is statically known.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00589">reduction.hpp:589</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_abc6f5d42088e76226349962f9ca9bc02"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#abc6f5d42088e76226349962f9ca9bc02">cl::sycl::ext::oneapi::detail::IsReduOptForFastAtomicFetch</a></div><div class="ttdeci">bool_constant&lt; sycl::detail::is_sgeninteger&lt; T &gt;::value &amp;&amp;sycl::detail::IsValidAtomicType&lt; T &gt;::value &amp;&amp;(sycl::detail::IsPlus&lt; T, BinaryOperation &gt;::value||sycl::detail::IsMinimum&lt; T, BinaryOperation &gt;::value||sycl::detail::IsMaximum&lt; T, BinaryOperation &gt;::value||sycl::detail::IsBitOR&lt; T, BinaryOperation &gt;::value||sycl::detail::IsBitXOR&lt; T, BinaryOperation &gt;::value||sycl::detail::IsBitAND&lt; T, BinaryOperation &gt;::value)&gt; IsReduOptForFastAtomicFetch</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00054">reduction.hpp:54</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1range_html"><div class="ttname"><a href="classcl_1_1sycl_1_1range.html">cl::sycl::range&lt; 1 &gt;</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_ab84f15b358f2e86681ee0137e779c968"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#ab84f15b358f2e86681ee0137e779c968">cl::sycl::detail::IsBitAND</a></div><div class="ttdeci">bool_constant&lt; std::is_same&lt; BinaryOperation, sycl::bit_and&lt; T &gt; &gt;::value||std::is_same&lt; BinaryOperation, sycl::bit_and&lt; void &gt; &gt;::value &gt; IsBitAND</div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00044">known_identity.hpp:44</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_af3a08224432b6ca8b5f85582b9369b73"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#af3a08224432b6ca8b5f85582b9369b73">cl::sycl::detail::IsMinimum</a></div><div class="ttdeci">bool_constant&lt; std::is_same&lt; BinaryOperation, sycl::minimum&lt; T &gt; &gt;::value||std::is_same&lt; BinaryOperation, sycl::minimum&lt; void &gt; &gt;::value &gt; IsMinimum</div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00034">known_identity.hpp:34</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_ab61362292663e62f27dad52958040cbc"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ab61362292663e62f27dad52958040cbc">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::atomic_combine</a></div><div class="ttdeci">enable_if_t&lt; std::is_same&lt; typename remove_AS&lt; _T &gt;::type, T &gt;::value &amp;&amp;IsReduOptForFastAtomicFetch&lt; T, _BinaryOperation &gt;::value &amp;&amp;sycl::detail::IsBitOR&lt; T, _BinaryOperation &gt;::value &amp;&amp;(Space==access::address_space::global_space||Space==access::address_space::local_space)&gt; atomic_combine(_T *ReduVarPtr) const</div><div class="ttdoc">Atomic BITWISE OR operation: *ReduVarPtr |= MValue;.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00286">reduction.hpp:286</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_aaf9a8564741eb9c0b3951b8524c0927b"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#aaf9a8564741eb9c0b3951b8524c0927b">cl::sycl::ext::oneapi::detail::reduction_impl::getReadAccToPreviousPartialReds</a></div><div class="ttdeci">accessor&lt; T, buffer_dim, access::mode::read &gt; getReadAccToPreviousPartialReds(handler &amp;CGH) const</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00656">reduction.hpp:656</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1handler_html_ad5a22feb8adda7a95632c517f5d27fb7"><div class="ttname"><a href="classcl_1_1sycl_1_1handler.html#ad5a22feb8adda7a95632c517f5d27fb7">cl::sycl::handler::depends_on</a></div><div class="ttdeci">void depends_on(event Event)</div><div class="ttdoc">Registers event dependencies on this command group.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8cpp_source.html#l00796">handler.cpp:796</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1buffer_html_a8c08290fd97b67a56da028539b9b1b37"><div class="ttname"><a href="classcl_1_1sycl_1_1buffer.html#a8c08290fd97b67a56da028539b9b1b37">cl::sycl::buffer::size</a></div><div class="ttdeci">size_t size() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8hpp_source.html#l00367">buffer.hpp:367</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1range_html_af952e02a526c0134e18ba20c84de9858"><div class="ttname"><a href="classcl_1_1sycl_1_1range.html#af952e02a526c0134e18ba20c84de9858">cl::sycl::range::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="range_8hpp_source.html#l00050">range.hpp:50</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_aa9646851619b0962872dfd49da602047"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa9646851619b0962872dfd49da602047">cl::sycl::ext::oneapi::detail::reduGetMaxWGSize</a></div><div class="ttdeci">size_t reduGetMaxWGSize(std::shared_ptr&lt; queue_impl &gt; Queue, size_t LocalMemBytesPerWorkItem)</div></div>
<div class="ttc" id="anamespacecl_1_1sycl_html_a823084f3298e44dd9bb84291cf334daa"><div class="ttname"><a href="namespacecl_1_1sycl.html#a823084f3298e44dd9bb84291cf334daa">cl::sycl::memory_scope</a></div><div class="ttdeci">memory_scope</div><div class="ttdef"><b>Definition:</b> <a href="memory__enums_8hpp_source.html#l00026">memory_enums.hpp:26</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_aa27085747a154abe2798f3a44ab646ff"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa27085747a154abe2798f3a44ab646ff">cl::sycl::ext::oneapi::detail::reduCGFunc</a></div><div class="ttdeci">void reduCGFunc(handler &amp;CGH, KernelType KernelFunc, const range&lt; Dims &gt; &amp;Range, size_t MaxWGSize, uint32_t NumConcurrentWorkGroups, Reduction &amp;Redu)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01028">reduction.hpp:1028</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a005082cb0891c0ed09379bdc08091611"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a005082cb0891c0ed09379bdc08091611">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::operator&amp;=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsBitAND&lt; _T, BinaryOperation &gt;::value &gt; operator&amp;=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00250">reduction.hpp:250</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1handler_html_ae15174598d704c69779e60fdb86da80e"><div class="ttname"><a href="classcl_1_1sycl_1_1handler.html#ae15174598d704c69779e60fdb86da80e">cl::sycl::handler::require</a></div><div class="ttdeci">void require(accessor&lt; DataT, Dims, AccMode, AccTarget, access::placeholder::true_t &gt; Acc)</div><div class="ttdoc">Requires access to the memory object associated with the placeholder accessor.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l01362">handler.hpp:1362</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1handler_html_a534a4723975d044713a59904347f6587"><div class="ttname"><a href="classcl_1_1sycl_1_1handler.html#a534a4723975d044713a59904347f6587">cl::sycl::handler::parallel_for</a></div><div class="ttdeci">void parallel_for(range&lt; 1 &gt; NumWorkItems, KernelType KernelFunc)</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l01459">handler.hpp:1459</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_ac666de109fc99c49823e41f88b82bddd"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#ac666de109fc99c49823e41f88b82bddd">cl::sycl::detail::conditional_t</a></div><div class="ttdeci">typename std::conditional&lt; B, T, F &gt;::type conditional_t</div><div class="ttdef"><b>Definition:</b> <a href="stl__type__traits_8hpp_source.html#l00027">stl_type_traits.hpp:27</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a78c908979783305ce0d63ddad130f0a6"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a78c908979783305ce0d63ddad130f0a6">cl::sycl::ext::oneapi::detail::reduceReduLocalAccs</a></div><div class="ttdeci">void reduceReduLocalAccs(size_t IndexA, size_t IndexB, ReduTupleT&lt; LocalAccT... &gt; LocalAccs, ReduTupleT&lt; BOPsT... &gt; BOPs, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01576">reduction.hpp:1576</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a122e5c89a166516622ded97273b922f0"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a122e5c89a166516622ded97273b922f0">cl::sycl::ext::oneapi::detail::getInitToIdentityProperties</a></div><div class="ttdeci">std::array&lt; bool, sizeof...(Reductions)&gt; getInitToIdentityProperties(std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01508">reduction.hpp:1508</a></div></div>
<div class="ttc" id="akernel_8hpp_html"><div class="ttname"><a href="kernel_8hpp.html">kernel.hpp</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a0aee675ca2625c3d3d914769468cfd9d"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0aee675ca2625c3d3d914769468cfd9d">cl::sycl::ext::oneapi::detail::tuple_select_elements</a></div><div class="ttdeci">std::tuple&lt; std::tuple_element_t&lt; Is, TupleT &gt;... &gt; tuple_select_elements(TupleT Tuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdoc">Utility function: for the given tuple.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l02009">reduction.hpp:2009</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1nd__item_html_af8033693a26cbb79f07a05a252e7bf0c"><div class="ttname"><a href="classcl_1_1sycl_1_1nd__item.html#af8033693a26cbb79f07a05a252e7bf0c">cl::sycl::nd_item::get_global_range</a></div><div class="ttdeci">range&lt; dimensions &gt; get_global_range() const</div><div class="ttdef"><b>Definition:</b> <a href="nd__item_8hpp_source.html#l00092">nd_item.hpp:92</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a128547b5c96be0e885a6175b211256c7"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a128547b5c96be0e885a6175b211256c7">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(rw_accessor_type &amp;Acc, const T &amp;, BinaryOperation)</div><div class="ttdoc">Constructs reduction_impl when the identity value is statically known, and user still passed the iden...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00494">reduction.hpp:494</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate_1_1Func_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate_1_1Func.html">cl::sycl::ext::oneapi::detail::EmptyReductionPredicate::Func</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01652">reduction.hpp:1652</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_abe0d3a7302fa94b2522b6182113606fa"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#abe0d3a7302fa94b2522b6182113606fa">cl::sycl::detail::bool_constant</a></div><div class="ttdeci">std::integral_constant&lt; bool, V &gt; bool_constant</div><div class="ttdef"><b>Definition:</b> <a href="stl__type__traits_8hpp_source.html#l00040">stl_type_traits.hpp:40</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__aux__kernel_html"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1____sycl__reduction__aux__kernel.html">cl::sycl::ext::oneapi::detail::__sycl_reduction_aux_kernel</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00806">reduction.hpp:806</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a008e630235d72882a0e9f3e888f55fab"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a008e630235d72882a0e9f3e888f55fab">cl::sycl::ext::oneapi::detail::reduction_impl::getUserDiscardWriteAccessor</a></div><div class="ttdeci">std::enable_if_t&lt;!_IsUSM, dw_accessor_type &amp; &gt; getUserDiscardWriteAccessor()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00745">reduction.hpp:745</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a60fe268d8cf867c7197d72a1d268bee1"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a60fe268d8cf867c7197d72a1d268bee1">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::reducer</a></div><div class="ttdeci">reducer(const T &amp;, BinaryOperation)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00197">reduction.hpp:197</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a43f539a2f3d5da489899326e6c3cf998"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a43f539a2f3d5da489899326e6c3cf998">cl::sycl::ext::oneapi::detail::reducer::operator+=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsPlus&lt; _T, BinaryOperation &gt;::value &gt; operator+=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00140">reduction.hpp:140</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_aa968c93700468d02f9e704299d0b0591"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#aa968c93700468d02f9e704299d0b0591">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::combine</a></div><div class="ttdeci">void combine(const T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00199">reduction.hpp:199</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a674caef9d2a4030ab2001d7848b1cd78"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a674caef9d2a4030ab2001d7848b1cd78">cl::sycl::ext::oneapi::detail::reduction_impl::result_type</a></div><div class="ttdeci">T result_type</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00376">reduction.hpp:376</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a35ba8a49cb84849915bfe63cfafb754e"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a35ba8a49cb84849915bfe63cfafb754e">cl::sycl::ext::oneapi::detail::associateReduAccsWithHandlerHelper</a></div><div class="ttdeci">void associateReduAccsWithHandlerHelper(handler &amp;CGH, ReductionT &amp;Redu, RestT &amp;... Rest)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01832">reduction.hpp:1832</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a1ded568b5a88418ecade0e3d334fa50d"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a1ded568b5a88418ecade0e3d334fa50d">cl::sycl::ext::oneapi::detail::reduction_impl::getIdentity</a></div><div class="ttdeci">enable_if_t&lt;!IsKnownIdentityOp&lt; _T, _BinaryOperation &gt;::value, _T &gt; getIdentity()</div><div class="ttdoc">Returns the identity value given by user.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00414">reduction.hpp:414</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_ae4f7d055556f4a03ebd4c6248166cc97"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ae4f7d055556f4a03ebd4c6248166cc97">cl::sycl::ext::oneapi::detail::reduAuxCGFunc</a></div><div class="ttdeci">enable_if_t&lt;!Reduction::has_fast_atomics, size_t &gt; reduAuxCGFunc(handler &amp;CGH, size_t NWorkItems, size_t MaxWGSize, Reduction &amp;Redu)</div><div class="ttdoc">Implements a command group function that enqueues a kernel that does one iteration of reduction of el...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01396">reduction.hpp:1396</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1AreAllButLastReductions.html">cl::sycl::ext::oneapi::detail::AreAllButLastReductions</a></div><div class="ttdoc">Predicate returning true if all template type parameters except the last one are reductions.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l00322">handler.hpp:322</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a578f6095333d8eb1f99c1092c672341c"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a578f6095333d8eb1f99c1092c672341c">cl::sycl::ext::oneapi::detail::associateReduAccsWithHandler</a></div><div class="ttdeci">void associateReduAccsWithHandler(handler &amp;CGH, std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01839">reduction.hpp:1839</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1accessor_html"><div class="ttname"><a href="classcl_1_1sycl_1_1accessor.html">cl::sycl::accessor</a></div><div class="ttdoc">Buffer accessor.</div><div class="ttdef"><b>Definition:</b> <a href="accessor_8hpp_source.html#l00223">accessor.hpp:223</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a13eed94e196a9b9cfb2bc73caf376cff"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a13eed94e196a9b9cfb2bc73caf376cff">cl::sycl::ext::oneapi::detail::getReduIdentities</a></div><div class="ttdeci">ReduTupleT&lt; typename Reductions::result_type... &gt; getReduIdentities(std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01495">reduction.hpp:1495</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a131461c394ea57f260b5577ef559f7f4"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a131461c394ea57f260b5577ef559f7f4">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(dw_accessor_type &amp;Acc)</div><div class="ttdoc">Constructs reduction_impl when the identity value is statically known.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00451">reduction.hpp:451</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1handler_html_af1ac55c7343044b1280e3f650842b2fa"><div class="ttname"><a href="classcl_1_1sycl_1_1handler.html#af1ac55c7343044b1280e3f650842b2fa">cl::sycl::handler::copy</a></div><div class="ttdeci">void copy(accessor&lt; T_Src, Dims, AccessMode, AccessTarget, IsPlaceholder &gt; Src, std::shared_ptr&lt; T_Dst &gt; Dst)</div><div class="ttdoc">Copies the content of memory object accessed by Src into the memory pointed by Dst.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l02284">handler.hpp:2284</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_ac21af25edee1caaf7c01c9ffa7223721"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ac21af25edee1caaf7c01c9ffa7223721">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::reducer</a></div><div class="ttdeci">reducer()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00196">reduction.hpp:196</a></div></div>
<div class="ttc" id="anamespacecl_html"><div class="ttname"><a href="namespacecl.html">cl</a></div><div class="ttdoc">We provide new interfaces for matrix muliply in this patch:</div><div class="ttdef"><b>Definition:</b> <a href="access_8hpp_source.html#l00013">access.hpp:13</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a7e183f64cdc98888f8521b91aee922ad"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a7e183f64cdc98888f8521b91aee922ad">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(buffer&lt; _T, 1, AllocatorT &gt; Buffer, handler &amp;CGH, bool InitializeToIdentity)</div><div class="ttdoc">SYCL-2020.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00423">reduction.hpp:423</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_ab9204defec2a627207bd4af13892fafd"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#ab9204defec2a627207bd4af13892fafd">cl::sycl::ext::oneapi::detail::reduCGFuncImplAtomic64</a></div><div class="ttdeci">std::enable_if_t&lt; Reduction::has_atomic_add_float64 &gt; reduCGFuncImplAtomic64(handler &amp;CGH, KernelType KernelFunc, const nd_range&lt; Dims &gt; &amp;Range, Reduction &amp;, typename Reduction::rw_accessor_type Out)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01787">reduction.hpp:1787</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a33291fdcb7a41ec98716ad5986cfb6d3"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a33291fdcb7a41ec98716ad5986cfb6d3">cl::sycl::ext::oneapi::detail::reductionLoop</a></div><div class="ttdeci">void reductionLoop(const range&lt; Dims &gt; &amp;Range, ReducerT &amp;Reducer, const nd_item&lt; 1 &gt; &amp;NdId, KernelFunc &amp;F)</div><div class="ttdoc">Called in device code.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00837">reduction.hpp:837</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a2ed767501fa07ec154ca7bb83b512635"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a2ed767501fa07ec154ca7bb83b512635">cl::sycl::detail::IsBitXOR</a></div><div class="ttdeci">bool_constant&lt; std::is_same&lt; BinaryOperation, sycl::bit_xor&lt; T &gt; &gt;::value||std::is_same&lt; BinaryOperation, sycl::bit_xor&lt; void &gt; &gt;::value &gt; IsBitXOR</div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00054">known_identity.hpp:54</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a85a45e42604c16e4f7fdb67c739a3e09"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a85a45e42604c16e4f7fdb67c739a3e09">cl::sycl::ext::oneapi::detail::reduAuxCGFuncImpl</a></div><div class="ttdeci">void reduAuxCGFuncImpl(handler &amp;CGH, size_t NWorkItems, size_t NWorkGroups, size_t WGSize, std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt; ReduIndices)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01847">reduction.hpp:1847</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_ac8fe869e725c65087b1b0597ab01cbf7"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#ac8fe869e725c65087b1b0597ab01cbf7">cl::sycl::detail::tie</a></div><div class="ttdeci">auto tie(Ts &amp;... Args)</div><div class="ttdef"><b>Definition:</b> <a href="tuple_8hpp_source.html#l00040">tuple.hpp:40</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a0350558c8f5607d0a5ee8347db925074"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0350558c8f5607d0a5ee8347db925074">cl::sycl::ext::oneapi::detail::reduCGFuncAtomic64</a></div><div class="ttdeci">enable_if_t&lt; Reduction::has_atomic_add_float64 &gt; reduCGFuncAtomic64(handler &amp;CGH, KernelType KernelFunc, const nd_range&lt; Dims &gt; &amp;Range, Reduction &amp;Redu)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01815">reduction.hpp:1815</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1atomic__ref_html"><div class="ttname"><a href="classcl_1_1sycl_1_1atomic__ref.html">cl::sycl::atomic_ref</a></div><div class="ttdef"><b>Definition:</b> <a href="CL_2sycl_2atomic__ref_8hpp_source.html#l00661">atomic_ref.hpp:661</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html">cl::sycl::ext::oneapi::detail::reduction_impl</a></div><div class="ttdoc">This class encapsulates the reduction variable/accessor, the reduction operator and an optional opera...</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l00245">handler.hpp:245</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a0e06ba852a36df843c2fdf81fd5c58e1"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a0e06ba852a36df843c2fdf81fd5c58e1">cl::sycl::ext::oneapi::detail::createReduOutAccs</a></div><div class="ttdeci">auto createReduOutAccs(size_t NWorkGroups, handler &amp;CGH, std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdoc">For the given 'Reductions' types pack and indices enumerating them this function either creates new t...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01474">reduction.hpp:1474</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1handler_html"><div class="ttname"><a href="classcl_1_1sycl_1_1handler.html">cl::sycl::handler</a></div><div class="ttdoc">Command group handler class.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l00361">handler.hpp:361</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1accessor__property__list_html"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1accessor__property__list.html">cl::sycl::ext::oneapi::accessor_property_list</a></div><div class="ttdoc">Objects of the accessor_property_list class are containers for the SYCL properties.</div><div class="ttdef"><b>Definition:</b> <a href="property__list_8hpp_source.html#l00019">property_list.hpp:19</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a203c9669a8e6c4eb5fe252f79f2ee27b"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a203c9669a8e6c4eb5fe252f79f2ee27b">cl::sycl::ext::oneapi::detail::reduction_impl::getReadWriteAccessorToInitializedGroupsCounter</a></div><div class="ttdeci">accessor&lt; int, 1, access::mode::read_write, access::target::device, access::placeholder::false_t &gt; getReadWriteAccessorToInitializedGroupsCounter(handler &amp;CGH)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00728">reduction.hpp:728</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1accessor_html_a14c3f1a038eb6e7dd2ee8dd7a2a4b597"><div class="ttname"><a href="classcl_1_1sycl_1_1accessor.html#a14c3f1a038eb6e7dd2ee8dd7a2a4b597">cl::sycl::accessor::get_pointer</a></div><div class="ttdeci">DataT * get_pointer() const</div><div class="ttdef"><b>Definition:</b> <a href="accessor_8hpp_source.html#l01777">accessor.hpp:1777</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a679046e1e539c2dd3225432128ec3f53"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a679046e1e539c2dd3225432128ec3f53">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(rw_accessor_type &amp;Acc, const T &amp;Identity, BinaryOperation BOp)</div><div class="ttdoc">Constructs reduction_impl when the identity value is unknown.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00560">reduction.hpp:560</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1detail_1_1queue__impl_html"><div class="ttname"><a href="classcl_1_1sycl_1_1detail_1_1queue__impl.html">cl::sycl::detail::queue_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="queue__impl_8hpp_source.html#l00054">queue_impl.hpp:54</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_af862d8e84bf623dfd17606cc9e4993b9"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#af862d8e84bf623dfd17606cc9e4993b9">cl::sycl::ext::oneapi::detail::reduction_impl::getBinaryOperation</a></div><div class="ttdeci">BinaryOperation getBinaryOperation() const</div><div class="ttdoc">Returns the binary operation associated with the reduction.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00763">reduction.hpp:763</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1access_html_a0b32461aa4a1867f288b640d7fc64fbf"><div class="ttname"><a href="namespacecl_1_1sycl_1_1access.html#a0b32461aa4a1867f288b640d7fc64fbf">cl::sycl::access::address_space</a></div><div class="ttdeci">address_space</div><div class="ttdef"><b>Definition:</b> <a href="access_8hpp_source.html#l00045">access.hpp:45</a></div></div>
<div class="ttc" id="aaccessor_8hpp_html"><div class="ttname"><a href="accessor_8hpp.html">accessor.hpp</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_ae2837109bf26d9fe9d4f7f4c37a0c835"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#ae2837109bf26d9fe9d4f7f4c37a0c835">cl::sycl::ext::oneapi::detail::reducer::operator++</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsPlus&lt; _T, BinaryOperation &gt;::value &amp;&amp;sycl::detail::is_geninteger&lt; _T &gt;::value &gt; operator++()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00127">reduction.hpp:127</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_aa155de40c2feaafe006759f249c5ac44"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#aa155de40c2feaafe006759f249c5ac44">cl::sycl::ext::oneapi::detail::getReduBOPs</a></div><div class="ttdeci">ReduTupleT&lt; typename Reductions::binary_operation... &gt; getReduBOPs(std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01502">reduction.hpp:1502</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate_1_1Func_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate_1_1Func.html">cl::sycl::ext::oneapi::detail::IsNonUsmReductionPredicate::Func</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01646">reduction.hpp:1646</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1nd__item_html_af92b451ad44714db07f7dd55f9362b13"><div class="ttname"><a href="classcl_1_1sycl_1_1nd__item.html#af92b451ad44714db07f7dd55f9362b13">cl::sycl::nd_item::get_global_id</a></div><div class="ttdeci">id&lt; dimensions &gt; get_global_id() const</div><div class="ttdef"><b>Definition:</b> <a href="nd__item_8hpp_source.html#l00040">nd_item.hpp:40</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_ab741768a8257fe030eccc886718bfd47"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab741768a8257fe030eccc886718bfd47">cl::sycl::ext::oneapi::detail::reduction_impl::getWriteMemForPartialReds</a></div><div class="ttdeci">std::enable_if_t&lt;!IsOneWG, rw_accessor_type &gt; getWriteMemForPartialReds(size_t Size, handler &amp;CGH)</div><div class="ttdoc">Constructs a new temporary buffer to hold partial sums and returns the accessor for that buffer.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00683">reduction.hpp:683</a></div></div>
<div class="ttc" id="api__esimd__emulator_8cpp_html_a9903e50fda5881be885f6e5131ab5bdf"><div class="ttname"><a href="pi__esimd__emulator_8cpp.html#a9903e50fda5881be885f6e5131ab5bdf">KernelFunc</a></div><div class="ttdeci">std::function&lt; void(const sycl::nd_item&lt; NDims &gt; &amp;)&gt; KernelFunc</div><div class="ttdef"><b>Definition:</b> <a href="pi__esimd__emulator_8cpp_source.html#l00144">pi_esimd_emulator.cpp:144</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a77f2e70072cd746b3ce56a3b5788bfdaa6a5117fc47073fcf86c51ec49bf88381">cl::sycl::detail::InitializeToIdentity</a></div><div class="ttdeci">@ InitializeToIdentity</div><div class="ttdef"><b>Definition:</b> <a href="property__helper_8hpp_source.html#l00034">property_helper.hpp:34</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_af480d7298291a40770b25c9b9fb36f76"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#af480d7298291a40770b25c9b9fb36f76">cl::sycl::ext::oneapi::detail::makeReduTupleT</a></div><div class="ttdeci">ReduTupleT&lt; Ts... &gt; makeReduTupleT(Ts... Elements)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00102">reduction.hpp:102</a></div></div>
<div class="ttc" id="api_8h_html_a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b"><div class="ttname"><a href="pi_8h.html#a15a332a6c4c1701b7e20d5bf0afef717a257fdcd14dec8f4eacfe0e8478ce4c7b">PI_INVALID_VALUE</a></div><div class="ttdeci">@ PI_INVALID_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="pi_8h_source.html#l00088">pi.h:88</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1detail_1_1remove__AS_html"><div class="ttname"><a href="structcl_1_1sycl_1_1detail_1_1remove__AS.html">cl::sycl::detail::remove_AS</a></div><div class="ttdef"><b>Definition:</b> <a href="access_8hpp_source.html#l00204">access.hpp:204</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a043b0c9eef8a4beb0ee5c4d78604df84"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a043b0c9eef8a4beb0ee5c4d78604df84">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(T *VarPtr, const T &amp;Identity, BinaryOperation BOp, bool InitializeToIdentity=false)</div><div class="ttdoc">Constructs reduction_impl when the identity value is unknown.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00625">reduction.hpp:625</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1detail_1_1tuple_html"><div class="ttname"><a href="structcl_1_1sycl_1_1detail_1_1tuple.html">cl::sycl::detail::tuple&lt; Ts... &gt;</a></div></div>
<div class="ttc" id="aCL_2sycl_2atomic_8hpp_html"><div class="ttname"><a href="CL_2sycl_2atomic_8hpp.html">atomic.hpp</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1detail_1_1auto__name_html"><div class="ttname"><a href="classcl_1_1sycl_1_1detail_1_1auto__name.html">cl::sycl::detail::auto_name</a></div><div class="ttdoc">This class is the default KernelName template parameter type for kernel invocation APIs such as singl...</div><div class="ttdef"><b>Definition:</b> <a href="kernel_8hpp_source.html#l00035">kernel.hpp:35</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a77fc752d52d480f17cc02f493749215e"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a77fc752d52d480f17cc02f493749215e">cl::sycl::ext::oneapi::detail::ReduTupleT</a></div><div class="ttdeci">sycl::detail::tuple&lt; Ts... &gt; ReduTupleT</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00101">reduction.hpp:101</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1accessor_html_a077078a5714ecb2894dece295de8bf9b"><div class="ttname"><a href="classcl_1_1sycl_1_1accessor.html#a077078a5714ecb2894dece295de8bf9b">cl::sycl::accessor::size</a></div><div class="ttdeci">size_t size() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="accessor_8hpp_source.html#l01690">accessor.hpp:1690</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1nd__item_html"><div class="ttname"><a href="classcl_1_1sycl_1_1nd__item.html">cl::sycl::nd_item</a></div><div class="ttdoc">Identifies an instance of the function object executing at each point in an nd_range.</div><div class="ttdef"><b>Definition:</b> <a href="helpers_8hpp_source.html#l00032">helpers.hpp:32</a></div></div>
<div class="ttc" id="ahandler_8hpp_html"><div class="ttname"><a href="handler_8hpp.html">handler.hpp</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_ac1e0411b9e3b982b7aba8ec08ce90df8"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#ac1e0411b9e3b982b7aba8ec08ce90df8">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::operator*=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsMultiplies&lt; _T, BinaryOperation &gt;::value &gt; operator*=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00232">reduction.hpp:232</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_ab2b35347cfd42afb5e3aace8902dcb83"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#ab2b35347cfd42afb5e3aace8902dcb83">cl::sycl::detail::IsMaximum</a></div><div class="ttdeci">bool_constant&lt; std::is_same&lt; BinaryOperation, sycl::maximum&lt; T &gt; &gt;::value||std::is_same&lt; BinaryOperation, sycl::maximum&lt; void &gt; &gt;::value &gt; IsMaximum</div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00039">known_identity.hpp:39</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a05e63e9f5df8d85115196045d237ba48"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a05e63e9f5df8d85115196045d237ba48">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::operator^=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsBitXOR&lt; _T, BinaryOperation &gt;::value &gt; operator^=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00244">reduction.hpp:244</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="accessor_8hpp_source.html#l02616">accessor.hpp:2616</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1IsNonUsmReductionPredicate.html">cl::sycl::ext::oneapi::detail::IsNonUsmReductionPredicate</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01645">reduction.hpp:1645</a></div></div>
<div class="ttc" id="adefines__elementary_8hpp_html_a1a96b3da1b5f2ba568477a3c259e88ba"><div class="ttname"><a href="defines__elementary_8hpp.html#a1a96b3da1b5f2ba568477a3c259e88ba">__SYCL_INLINE_CONSTEXPR</a></div><div class="ttdeci">#define __SYCL_INLINE_CONSTEXPR</div><div class="ttdef"><b>Definition:</b> <a href="defines__elementary_8hpp_source.html#l00065">defines_elementary.hpp:65</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_af55a894e9edbf922155daaf8c957c956"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#af55a894e9edbf922155daaf8c957c956">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(buffer&lt; _T, 1, AllocatorT &gt; Buffer, handler &amp;CGH, const T &amp;Identity, BinaryOperation BOp, bool InitializeToIdentity)</div><div class="ttdoc">SYCL-2020.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00544">reduction.hpp:544</a></div></div>
<div class="ttc" id="astd_2experimental_2simd_8hpp_html_ab7a7d8773cfa3e48b79fbf0874731e4e"><div class="ttname"><a href="std_2experimental_2simd_8hpp.html#ab7a7d8773cfa3e48b79fbf0874731e4e">reduce</a></div><div class="ttdeci">_Tp reduce(const simd&lt; _Tp, _Abi &gt; &amp;, _BinaryOp=_BinaryOp())</div></div>
<div class="ttc" id="asycl_2ext_2oneapi_2group__algorithm_8hpp_html"><div class="ttname"><a href="sycl_2ext_2oneapi_2group__algorithm_8hpp.html">group_algorithm.hpp</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a6bc9db26732bb57c3f091ae9854a3eea"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a6bc9db26732bb57c3f091ae9854a3eea">cl::sycl::ext::oneapi::detail::reduCGFuncImpl</a></div><div class="ttdeci">void reduCGFuncImpl(handler &amp;CGH, KernelType KernelFunc, const nd_range&lt; Dims &gt; &amp;Range, std::tuple&lt; Reductions... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt; ReduIndices)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01689">reduction.hpp:1689</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_html_a8f9d1af2b3f518f22e9ba191a74c85fb"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi.html#a8f9d1af2b3f518f22e9ba191a74c85fb">cl::sycl::ext::oneapi::has_known_identity_v</a></div><div class="ttdeci">__SYCL_INLINE_CONSTEXPR bool has_known_identity_v</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l02068">reduction.hpp:2068</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a39cc0ad492f4aaa4ebf7b49891ed883c"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a39cc0ad492f4aaa4ebf7b49891ed883c">cl::sycl::ext::oneapi::detail::reducer::operator^=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsBitXOR&lt; _T, BinaryOperation &gt;::value &gt; operator^=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00158">reduction.hpp:158</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1handler_html_a725e255af60b5545d5af97e1420856b0"><div class="ttname"><a href="classcl_1_1sycl_1_1handler.html#a725e255af60b5545d5af97e1420856b0">cl::sycl::handler::single_task</a></div><div class="ttdeci">void single_task(KernelType KernelFunc)</div><div class="ttdoc">Defines and invokes a SYCL kernel function as a function object type.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l01438">handler.hpp:1438</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a49f0c0f5f6e8640a74bfd2544770c0fc"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a49f0c0f5f6e8640a74bfd2544770c0fc">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::getIdentity</a></div><div class="ttdeci">static enable_if_t&lt; has_known_identity_impl&lt; _BinaryOperation, _T &gt;::value, _T &gt; getIdentity()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00206">reduction.hpp:206</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1known__identity_html"><div class="ttname"><a href="structcl_1_1sycl_1_1known__identity.html">cl::sycl::known_identity</a></div><div class="ttdef"><b>Definition:</b> <a href="known__identity_8hpp_source.html#l00389">known_identity.hpp:389</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_a0e48b52f862a22dc22fa7af17d7ba3d9"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#a0e48b52f862a22dc22fa7af17d7ba3d9">cl::sycl::detail::tuple_element_t</a></div><div class="ttdeci">typename tuple_element&lt; I, T &gt;::type tuple_element_t</div><div class="ttdef"><b>Definition:</b> <a href="tuple_8hpp_source.html#l00056">tuple.hpp:56</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a6cb03196263cb1683f6b75f9a79e3a36"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a6cb03196263cb1683f6b75f9a79e3a36">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(buffer&lt; _T, 1, AllocatorT &gt; Buffer, handler &amp;CGH, const T &amp;, BinaryOperation, bool InitializeToIdentity)</div><div class="ttdoc">SYCL-2020.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00466">reduction.hpp:466</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a3477215b22896372a7e2db29f3a3fa66"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a3477215b22896372a7e2db29f3a3fa66">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(dw_accessor_type &amp;Acc, const T &amp;Identity, BinaryOperation BOp)</div><div class="ttdoc">Constructs reduction_impl when the identity value is unknown.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00573">reduction.hpp:573</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a364dd7ce041766cab54c361bf37551c5"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a364dd7ce041766cab54c361bf37551c5">cl::sycl::ext::oneapi::detail::reducer::getIdentity</a></div><div class="ttdeci">T getIdentity() const</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00122">reduction.hpp:122</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_afea54df77aca21df63dd3e4d1d9c6c6a"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#afea54df77aca21df63dd3e4d1d9c6c6a">cl::sycl::ext::oneapi::detail::reduction_impl::getWriteMemForPartialReds</a></div><div class="ttdeci">std::enable_if_t&lt; IsOneWG &amp;&amp;_IsUSM, result_type * &gt; getWriteMemForPartialReds(size_t, handler &amp;)</div><div class="ttdoc">Returns user's USM pointer passed to reduction for editing.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00664">reduction.hpp:664</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a31d5ce5f0afd934b647558d8b9479723"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a31d5ce5f0afd934b647558d8b9479723">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::atomic_combine</a></div><div class="ttdeci">enable_if_t&lt; std::is_same&lt; typename remove_AS&lt; _T &gt;::type, T &gt;::value &amp;&amp;IsReduOptForFastAtomicFetch&lt; T, _BinaryOperation &gt;::value &amp;&amp;sycl::detail::IsBitAND&lt; T, _BinaryOperation &gt;::value &amp;&amp;(Space==access::address_space::global_space||Space==access::address_space::local_space)&gt; atomic_combine(_T *ReduVarPtr) const</div><div class="ttdoc">Atomic BITWISE AND operation: *ReduVarPtr &amp;= MValue;.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00314">reduction.hpp:314</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1FilterElement.html">cl::sycl::ext::oneapi::detail::FilterElement</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01655">reduction.hpp:1655</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1access_html_a9ae8c23f772316322be407bbb6498b17"><div class="ttname"><a href="namespacecl_1_1sycl_1_1access.html#a9ae8c23f772316322be407bbb6498b17">cl::sycl::access::mode</a></div><div class="ttdeci">mode</div><div class="ttdef"><b>Definition:</b> <a href="access_8hpp_source.html#l00028">access.hpp:28</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_html_a44f4f8651c501bc92fd763973a52e9de"><div class="ttname"><a href="namespacecl_1_1sycl.html#a44f4f8651c501bc92fd763973a52e9de">cl::sycl::instead</a></div><div class="ttdeci">std::uint8_t instead</div><div class="ttdef"><b>Definition:</b> <a href="aliases_8hpp_source.html#l00068">aliases.hpp:68</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a46400d34368c66e3dd72e4c01c1e9e2a"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a46400d34368c66e3dd72e4c01c1e9e2a">cl::sycl::ext::oneapi::detail::reduGetMemPerWorkItem</a></div><div class="ttdeci">size_t reduGetMemPerWorkItem(std::tuple&lt; ReductionT... &gt; &amp;ReduTuple, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l02000">reduction.hpp:2000</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_ad7a78a6d8d3c618f3b45f318bf41e7a3"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#ad7a78a6d8d3c618f3b45f318bf41e7a3">cl::sycl::ext::oneapi::detail::reducer::combine</a></div><div class="ttdeci">void combine(const T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00120">reduction.hpp:120</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a073c5106e84508bb0187cfdbbdef893d"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a073c5106e84508bb0187cfdbbdef893d">cl::sycl::ext::oneapi::detail::IsReduOptForAtomic64Add</a></div><div class="ttdeci">bool_constant&lt; sycl::detail::IsPlus&lt; T, BinaryOperation &gt;::value &amp;&amp;sycl::detail::is_sgenfloat&lt; T &gt;::value &amp;&amp;(sizeof(T)==4||sizeof(T)==8)&gt; IsReduOptForAtomic64Add</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00076">reduction.hpp:76</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a75aa6361145c4d0bce440d759130e426"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a75aa6361145c4d0bce440d759130e426">cl::sycl::ext::oneapi::detail::reduction_impl::binary_operation</a></div><div class="ttdeci">BinaryOperation binary_operation</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00377">reduction.hpp:377</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_ae8f443a95d6ab5b443a4576605389052"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ae8f443a95d6ab5b443a4576605389052">cl::sycl::ext::oneapi::detail::reduction_impl::getWriteAccForPartialReds</a></div><div class="ttdeci">rw_accessor_type getWriteAccForPartialReds(size_t Size, handler &amp;CGH)</div><div class="ttdoc">Returns an accessor accessing the memory that will hold the reduction partial sums.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00695">reduction.hpp:695</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_aa72f7282ac898351fdf49146ecca4d0e"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#aa72f7282ac898351fdf49146ecca4d0e">cl::sycl::ext::oneapi::detail::reduction_impl::getIdentity</a></div><div class="ttdeci">constexpr enable_if_t&lt; IsKnownIdentityOp&lt; _T, _BinaryOperation &gt;::value, _T &gt; getIdentity()</div><div class="ttdoc">Returns the statically known identity value.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00407">reduction.hpp:407</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1detail_html_af45cb3f9724853d5ea66e37de686a383"><div class="ttname"><a href="namespacecl_1_1sycl_1_1detail.html#af45cb3f9724853d5ea66e37de686a383">cl::sycl::detail::enable_if_t</a></div><div class="ttdeci">typename std::enable_if&lt; B, T &gt;::type enable_if_t</div><div class="ttdef"><b>Definition:</b> <a href="stl__type__traits_8hpp_source.html#l00024">stl_type_traits.hpp:24</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1has__known__identity_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1has__known__identity.html">cl::sycl::ext::oneapi::has_known_identity</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l02064">reduction.hpp:2064</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a66436470336cdccf81d4f3556542c6bf"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a66436470336cdccf81d4f3556542c6bf">cl::sycl::ext::oneapi::detail::reduction_impl::getReadWriteLocalAcc</a></div><div class="ttdeci">static accessor&lt; _T, buffer_dim, access::mode::read_write, access::target::local &gt; getReadWriteLocalAcc(size_t Size, handler &amp;CGH)</div><div class="ttdoc">Creates and returns a local accessor with the Size elements.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00651">reduction.hpp:651</a></div></div>
<div class="ttc" id="aknown__identity_8hpp_html"><div class="ttname"><a href="known__identity_8hpp.html">known_identity.hpp</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_adbe68813e8304b8da8f0a84a25791484"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#adbe68813e8304b8da8f0a84a25791484">cl::sycl::ext::oneapi::detail::reduction_impl::associateWithHandler</a></div><div class="ttdeci">void associateWithHandler(handler &amp;CGH)</div><div class="ttdoc">Associates the reduction accessor to user's memory with CGH handler to keep the accessor alive until ...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00633">reduction.hpp:633</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1get__reduction__aux__kernel__name__t.html">cl::sycl::ext::oneapi::detail::get_reduction_aux_kernel_name_t</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00822">reduction.hpp:822</a></div></div>
<div class="ttc" id="astructcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate_html"><div class="ttname"><a href="structcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1EmptyReductionPredicate.html">cl::sycl::ext::oneapi::detail::EmptyReductionPredicate</a></div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l01651">reduction.hpp:1651</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1nd__range_html_a622e1cc738ebd326105dfaf98aebb8d6"><div class="ttname"><a href="classcl_1_1sycl_1_1nd__range.html#a622e1cc738ebd326105dfaf98aebb8d6">cl::sycl::nd_range::get_local_range</a></div><div class="ttdeci">range&lt; dimensions &gt; get_local_range() const</div><div class="ttdef"><b>Definition:</b> <a href="nd__range_8hpp_source.html#l00042">nd_range.hpp:42</a></div></div>
<div class="ttc" id="anamespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail_html_a3bd9b409851150bf9b390554f35f33f7"><div class="ttname"><a href="namespacecl_1_1sycl_1_1ext_1_1oneapi_1_1detail.html#a3bd9b409851150bf9b390554f35f33f7">cl::sycl::ext::oneapi::detail::reduComputeWGSize</a></div><div class="ttdeci">size_t reduComputeWGSize(size_t NWorkItems, size_t MaxWGSize, size_t &amp;NWorkGroups)</div><div class="ttdef"><b>Definition:</b> <a href="reduction_8cpp_source.html#l00020">reduction.cpp:20</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_html_a4561a59a94658b5be97df37f3bc44552"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer.html#a4561a59a94658b5be97df37f3bc44552">cl::sycl::ext::oneapi::detail::reducer::reducer</a></div><div class="ttdeci">reducer(const T &amp;Identity, BinaryOperation BOp)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00118">reduction.hpp:118</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a31268c695c97fdd1ca35f60d5719b4b4"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a31268c695c97fdd1ca35f60d5719b4b4">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::operator+=</a></div><div class="ttdeci">enable_if_t&lt; sycl::detail::IsPlus&lt; _T, BinaryOperation &gt;::value &gt; operator+=(const _T &amp;Partial)</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00226">reduction.hpp:226</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3_html_a582beed0db36ed1e397ff393436bc9af"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reducer_3_01T_00_01BinaryOperation_00_01enable__if5eb68cd0974104ad8fb32b9fb30d5ce3.html#a582beed0db36ed1e397ff393436bc9af">cl::sycl::ext::oneapi::detail::reducer&lt; T, BinaryOperation, enable_if_t&lt; IsKnownIdentityOp&lt; T, BinaryOperation &gt;::value &gt; &gt;::MValue</a></div><div class="ttdeci">T MValue</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00348">reduction.hpp:348</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a8d5ddd976d48fd888b1cfcc2865835b9"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a8d5ddd976d48fd888b1cfcc2865835b9">cl::sycl::ext::oneapi::detail::reduction_impl::reduction_impl</a></div><div class="ttdeci">reduction_impl(dw_accessor_type &amp;Acc, const T &amp;, BinaryOperation)</div><div class="ttdoc">Constructs reduction_impl when the identity value is statically known, and user still passed the iden...</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00519">reduction.hpp:519</a></div></div>
<div class="ttc" id="adefines__elementary_8hpp_html_af014229c51476c8c275e6e94d0549384"><div class="ttname"><a href="defines__elementary_8hpp.html#af014229c51476c8c275e6e94d0549384">__SYCL_INLINE_NAMESPACE</a></div><div class="ttdeci">#define __SYCL_INLINE_NAMESPACE(X)</div><div class="ttdef"><b>Definition:</b> <a href="defines__elementary_8hpp_source.html#l00012">defines_elementary.hpp:12</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_ab3f173bfc909d8c1039a4bef61f078b2"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#ab3f173bfc909d8c1039a4bef61f078b2">cl::sycl::ext::oneapi::detail::reduction_impl::hasUserDiscardWriteAccessor</a></div><div class="ttdeci">bool hasUserDiscardWriteAccessor()</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00737">reduction.hpp:737</a></div></div>
<div class="ttc" id="aclasscl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl_html_a4b7a5c190de374ad1cd4be18c6272ab7"><div class="ttname"><a href="classcl_1_1sycl_1_1ext_1_1oneapi_1_1detail_1_1reduction__impl.html#a4b7a5c190de374ad1cd4be18c6272ab7">cl::sycl::ext::oneapi::detail::reduction_impl::getWriteMemForPartialReds</a></div><div class="ttdeci">std::enable_if_t&lt; IsOneWG &amp;&amp;!_IsUSM, rw_accessor_type &gt; getWriteMemForPartialReds(size_t, handler &amp;CGH)</div><div class="ttdoc">Returns user's accessor passed to reduction for editing if that is the read-write accessor.</div><div class="ttdef"><b>Definition:</b> <a href="sycl_2ext_2oneapi_2reduction_8hpp_source.html#l00673">reduction.hpp:673</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_0d7e0c259facfc42867cbdec0029234e.html">sycl</a></li><li class="navelem"><a class="el" href="dir_772cb676c9cb27b05c05d69faa4dcaec.html">ext</a></li><li class="navelem"><a class="el" href="dir_517f14359a8026618a091d2ba023021e.html">oneapi</a></li><li class="navelem"><a class="el" href="sycl_2ext_2oneapi_2reduction_8hpp.html">reduction.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
