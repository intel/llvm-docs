<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPC++ Runtime: source/detail/global_handler.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPC++ Runtime
   </div>
   <div id="projectbrief">Runtime libraries for oneAPI DPC++</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('global__handler_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">global_handler.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="global__handler_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//==--------- global_handler.cpp --- Global objects handler ----------------==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifdef ENABLE_STACK_TRACE</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/StringRef.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;llvm/Support/Signals.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="config_8hpp.html">detail/config.hpp</a>&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="global__handler_8hpp.html">detail/global_handler.hpp</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="platform__impl_8hpp.html">detail/platform_impl.hpp</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="plugin_8hpp.html">detail/plugin.hpp</a>&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="program__manager_8hpp.html">detail/program_manager/program_manager.hpp</a>&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="scheduler_8hpp.html">detail/scheduler/scheduler.hpp</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="thread__pool_8hpp.html">detail/thread_pool.hpp</a>&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="xpti__registry_8hpp.html">detail/xpti_registry.hpp</a>&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="device__filter_8hpp.html">sycl/detail/device_filter.hpp</a>&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="pi_8hpp.html">sycl/detail/pi.hpp</a>&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="spinlock_8hpp.html">sycl/detail/spinlock.hpp</a>&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacesycl.html">sycl</a> {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">inline</span> <span class="keyword">namespace </span>_V1 {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="namespacesycl_1_1__V1_1_1detail.html#ab5860ca52712fff555ab9f910a45ae08">   36</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#ab5860ca52712fff555ab9f910a45ae08">LockGuard</a> = std::lock_guard&lt;SpinLock&gt;;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1SpinLock.html">SpinLock</a> GlobalHandler::MSyclGlobalHandlerProtector{};</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// Utility class to track references on object.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// Used for GlobalHandler now and created as thread_local object on the first</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// Scheduler usage. Origin idea is to track usage of Scheduler from main and</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// other used threads - they increment MCounter; and to use but not add extra</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// reference by our thread_pool threads. For this control MIncrementCounter</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// class member is used.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html">   45</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html">ObjectUsageCounter</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html#a44537759c461f6ffba4ece3f295d352d">   47</a></span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html#a44537759c461f6ffba4ece3f295d352d">ObjectUsageCounter</a>(<span class="keywordtype">bool</span> ModifyCounter) : MModifyCounter(ModifyCounter) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (MModifyCounter)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      MCounter++;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html#a8aa6caab98c94ee7849f5e2fecf7ead1">   51</a></span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html#a8aa6caab98c94ee7849f5e2fecf7ead1">~ObjectUsageCounter</a>() {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (!MModifyCounter)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#ab5860ca52712fff555ab9f910a45ae08">LockGuard</a> Guard(GlobalHandler::MSyclGlobalHandlerProtector);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    MCounter--;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a> *RTGlobalObjHandler = GlobalHandler::getInstancePtr();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (RTGlobalObjHandler) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      RTGlobalObjHandler-&gt;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a8ff0ad2b177404d156492e1ade838832">prepareSchedulerToRelease</a>(!MCounter);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">static</span> std::atomic_uint MCounter;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">bool</span> MModifyCounter;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;std::atomic_uint ObjectUsageCounter::MCounter{0};</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;GlobalHandler::GlobalHandler() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;GlobalHandler::~GlobalHandler() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a69c35963ec3354400d31b35a7a628f9a">   72</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a69c35963ec3354400d31b35a7a628f9a">GlobalHandler::InitXPTI</a>() {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#ifdef XPTI_ENABLE_INSTRUMENTATION</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// Let subscribers know a new stream is being initialized</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a61ed53a3dfb328d4f6098b32a78d2ae2">getXPTIRegistry</a>().<a class="code" href="classsycl_1_1__V1_1_1detail_1_1XPTIRegistry.html#abf41338702dcc751bd0ecf41be3797d3">initializeStream</a>(<a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a3a2b0c897cfe5f9cbd6c65b049b796f2">SYCL_STREAM_NAME</a>, <a class="code" href="tracing_8cpp.html#a4910e0d1dda2453acc7da684d0cdb844">GMajVer</a>, <a class="code" href="tracing_8cpp.html#aafb51c1e035a0c36878682d4f150a84a">GMinVer</a>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                     <a class="code" href="tracing_8cpp.html#ac2835c44372157429e172a7f1bfa68de">GVerStr</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  xpti::payload_t SYCLPayload(<span class="stringliteral">&quot;SYCL Runtime Exceptions&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  uint64_t SYCLInstanceNo;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  GSYCLCallEvent = xptiMakeEvent(<span class="stringliteral">&quot;SYCL Try-catch Exceptions&quot;</span>, &amp;SYCLPayload,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                 xpti::trace_algorithm_event, xpti_at::active,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                 &amp;SYCLInstanceNo);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a9942f769ebfff89dd19cdaeba0298024">   85</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a9942f769ebfff89dd19cdaeba0298024">GlobalHandler::TraceEventXPTI</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *Message) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (!Message)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#ifdef XPTI_ENABLE_INSTRUMENTATION</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keyword">static</span> std::once_flag InitXPTIFlag;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> (xptiTraceEnabled()) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    std::call_once(InitXPTIFlag, [&amp;]() { <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a69c35963ec3354400d31b35a7a628f9a">InitXPTI</a>(); });</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// We have to handle the cases where: (1) we may have just the code location</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// set and not UID and (2) UID set</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="classsycl_1_1__V1_1_1detail_1_1tls__code__loc__t.html">detail::tls_code_loc_t</a> Tls;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">auto</span> CodeLocation = Tls.<a class="code" href="classsycl_1_1__V1_1_1detail_1_1tls__code__loc__t.html#a37a3fe878ee7a8132ae59aeaddbffc9f">query</a>();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// Creating a tracepoint will convert a CodeLocation to UID, if not set</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    xpti::framework::tracepoint_t TP(</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        CodeLocation.fileName(), CodeLocation.functionName(),</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        CodeLocation.lineNumber(), CodeLocation.columnNumber(), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// The call to notify will have the signature of:</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// (1) the stream defined in .stream()</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// (2) The trace type equal to what is set by .trace_type()</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// (3) Parent event set to NULL</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// (4) Current event set to one created from CodeLocation and UID</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// (5) An instance ID that records the number of times this code location</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// has been seen (6) The message generated by the exception handler</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    TP.stream(<a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a3a2b0c897cfe5f9cbd6c65b049b796f2">SYCL_STREAM_NAME</a>)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        .trace_type(xpti::trace_point_type_t::diagnostics)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        .notify(<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(Message));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a> *&amp;GlobalHandler::getInstancePtr() {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">static</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a> *RTGlobalObjHandler = <span class="keyword">new</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> RTGlobalObjHandler;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#af1eefc10f6df32edf8e249bc617a3e52">  123</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a> &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#af1eefc10f6df32edf8e249bc617a3e52">GlobalHandler::instance</a>() {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a> *RTGlobalObjHandler = GlobalHandler::getInstancePtr();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  assert(RTGlobalObjHandler &amp;&amp; <span class="stringliteral">&quot;Handler must not be deallocated earlier&quot;</span>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">return</span> *RTGlobalObjHandler;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... Types&gt;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;T &amp;GlobalHandler::getOrCreate(InstWithLock&lt;T&gt; &amp;IWL, Types... Args) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#ab5860ca52712fff555ab9f910a45ae08">LockGuard</a> Lock{IWL.Lock};</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (!IWL.Inst)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    IWL.Inst = std::make_unique&lt;T&gt;(Args...);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">return</span> *IWL.Inst;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#aa903a198e8286a01cf987f242462c482">  139</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#aa903a198e8286a01cf987f242462c482">GlobalHandler::attachScheduler</a>(<a class="code" href="classsycl_1_1__V1_1_1detail_1_1Scheduler.html">Scheduler</a> *<a class="code" href="classsycl_1_1__V1_1_1detail_1_1Scheduler.html">Scheduler</a>) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// The method is used in unit tests only. Do not protect with lock since</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// releaseResources will cause dead lock due to host queue release</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (MScheduler.Inst)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a8ff0ad2b177404d156492e1ade838832">prepareSchedulerToRelease</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  MScheduler.Inst.reset(<a class="code" href="classsycl_1_1__V1_1_1detail_1_1Scheduler.html">Scheduler</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="namespacesycl_1_1__V1_1_1detail.html#adbd9058f4316cbea718081cba812e3bd">  147</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#adbd9058f4316cbea718081cba812e3bd">enableOnCrashStackPrinting</a>() {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#ifdef ENABLE_STACK_TRACE</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keyword">static</span> std::once_flag PrintStackFlag;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  std::call_once(PrintStackFlag, []() {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    llvm::sys::PrintStackTraceOnErrorSignal(llvm::StringRef());</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  });</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#ae8e281c4249619d6bd426692edc9fbf8">  156</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1Scheduler.html">Scheduler</a> &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#ae8e281c4249619d6bd426692edc9fbf8">GlobalHandler::getScheduler</a>() {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  getOrCreate(MScheduler);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#abb4e63f9f98bc89d381d126b73d5f989">registerSchedulerUsage</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// On Windows the registration of the signal handler before main function</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// (e.g. from DLLMain or from constructors of program scope objects) doesn&#39;t</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// work. So, registering signal handler here because:</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// 1) getScheduler is likely to be called for any non-trivial application;</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// 2) first call to getScheduler is likely to be done after main starts.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// The same is done in getPlugins.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#adbd9058f4316cbea718081cba812e3bd">enableOnCrashStackPrinting</a>();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">return</span> *MScheduler.Inst;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a3844b6998207120988ea7e21684c2276">  169</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a3844b6998207120988ea7e21684c2276">GlobalHandler::isSchedulerAlive</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> MScheduler.Inst.get(); }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#abb4e63f9f98bc89d381d126b73d5f989">  171</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#abb4e63f9f98bc89d381d126b73d5f989">GlobalHandler::registerSchedulerUsage</a>(<span class="keywordtype">bool</span> ModifyCounter) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  thread_local <a class="code" href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html">ObjectUsageCounter</a> SchedulerCounter(ModifyCounter);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a65cb7233078666b161285291c1b7961a">  175</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1ProgramManager.html">ProgramManager</a> &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a65cb7233078666b161285291c1b7961a">GlobalHandler::getProgramManager</a>() {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MProgramManager);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;std::unordered_map&lt;PlatformImplPtr, ContextImplPtr&gt; &amp;</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a7cc8b70f19998c84ffa892dbe7755dbb">  180</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a7cc8b70f19998c84ffa892dbe7755dbb">GlobalHandler::getPlatformToDefaultContextCache</a>() {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MPlatformToDefaultContextCache);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#ac9f4213ffaa63fd7af8dc41549ab4d4e">  184</a></span>&#160;std::mutex &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#ac9f4213ffaa63fd7af8dc41549ab4d4e">GlobalHandler::getPlatformToDefaultContextCacheMutex</a>() {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MPlatformToDefaultContextCacheMutex);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a72b47b09c7fa07ad7f041f0b383613da">  188</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1Sync.html">Sync</a> &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a72b47b09c7fa07ad7f041f0b383613da">GlobalHandler::getSync</a>() { <span class="keywordflow">return</span> getOrCreate(MSync); }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a5db9c2cd9b81c78ac020ffdd40bc1b41">  190</a></span>&#160;std::vector&lt;PlatformImplPtr&gt; &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a5db9c2cd9b81c78ac020ffdd40bc1b41">GlobalHandler::getPlatformCache</a>() {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MPlatformCache);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a9b9f4e7a21c447d691bbed66bb4b76e3">  194</a></span>&#160;std::mutex &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a9b9f4e7a21c447d691bbed66bb4b76e3">GlobalHandler::getPlatformMapMutex</a>() {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MPlatformMapMutex);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#acb74a446a603f4cd11f2f9dc4936a88a">  198</a></span>&#160;std::mutex &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#acb74a446a603f4cd11f2f9dc4936a88a">GlobalHandler::getFilterMutex</a>() {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MFilterMutex);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a85ca973520f3ec2ed1d3550b099e1ad0">  201</a></span>&#160;std::vector&lt;PluginPtr&gt; &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a85ca973520f3ec2ed1d3550b099e1ad0">GlobalHandler::getPlugins</a>() {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#adbd9058f4316cbea718081cba812e3bd">enableOnCrashStackPrinting</a>();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MPlugins);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1ods__target__list.html">ods_target_list</a> &amp;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a1e363126a73fd9fb233d342221dbf8bf">  207</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a1e363126a73fd9fb233d342221dbf8bf">GlobalHandler::getOneapiDeviceSelectorTargets</a>(<span class="keyword">const</span> std::string &amp;InitValue) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MOneapiDeviceSelectorTargets, InitValue);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a61ed53a3dfb328d4f6098b32a78d2ae2">  211</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1XPTIRegistry.html">XPTIRegistry</a> &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a61ed53a3dfb328d4f6098b32a78d2ae2">GlobalHandler::getXPTIRegistry</a>() {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">return</span> getOrCreate(MXPTIRegistry);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc3077cef70b04aaa1898c98197073de">  215</a></span>&#160;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1ThreadPool.html">ThreadPool</a> &amp;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc3077cef70b04aaa1898c98197073de">GlobalHandler::getHostTaskThreadPool</a>() {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordtype">int</span> Size = <a class="code" href="classsycl_1_1__V1_1_1detail_1_1SYCLConfig.html#a899ad42eab81c0d81564cca640e31042">SYCLConfig&lt;SYCL_QUEUE_THREAD_POOL_SIZE&gt;::get</a>();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1ThreadPool.html">ThreadPool</a> &amp;TP = getOrCreate(MHostTaskThreadPool, Size);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">return</span> TP;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a4cf479ff33050bf291de9cd2debfecd7">  222</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a4cf479ff33050bf291de9cd2debfecd7">GlobalHandler::releaseDefaultContexts</a>() {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// Release shared-pointers to SYCL objects.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Note that on Windows the destruction of the default context</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// races with the detaching of the DLL object that calls piTearDown.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  MPlatformToDefaultContextCache.Inst.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler.html">  230</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler.html">DefaultContextReleaseHandler</a> {</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler.html#a1666e1d492ca8dd9f81aeb698e2af925">  231</a></span>&#160;  <a class="code" href="structsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler.html#a1666e1d492ca8dd9f81aeb698e2af925">~DefaultContextReleaseHandler</a>() {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#af1eefc10f6df32edf8e249bc617a3e52">GlobalHandler::instance</a>().<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a4cf479ff33050bf291de9cd2debfecd7">releaseDefaultContexts</a>();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;};</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a47676127663af155e5f8cd8578238817">  236</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a47676127663af155e5f8cd8578238817">GlobalHandler::registerDefaultContextReleaseHandler</a>() {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keyword">static</span> <a class="code" href="structsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler.html">DefaultContextReleaseHandler</a> <a class="code" href="classsycl_1_1__V1_1_1handler.html">handler</a>{};</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">// Note: Split from shutdown so it is available to the unittests for ensuring</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//       that the mock plugin is the lone plugin.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc62375adb85aabc8b104835a4afefd0">  242</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc62375adb85aabc8b104835a4afefd0">GlobalHandler::unloadPlugins</a>() {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// Call to GlobalHandler::instance().getPlugins() initializes plugins. If</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// user application has loaded SYCL runtime, and never called any APIs,</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// there&#39;s no need to load and unload plugins.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">if</span> (MPlugins.Inst) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#aa15227d5fb26f3631308efc6594a3596">PluginPtr</a> &amp;Plugin : <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a85ca973520f3ec2ed1d3550b099e1ad0">getPlugins</a>()) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="comment">// PluginParameter for Teardown is the boolean tracking if a</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="comment">// given plugin has been teardown successfully.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">// This tracking prevents usage of this plugin after teardown</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="comment">// has been completed to avoid invalid resource access.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      Plugin-&gt;call&lt;<a class="code" href="pi_8h.html#a5ac98e3290841a01e0de5131b5935c49">PiApiKind::piTearDown</a>&gt;(&amp;Plugin-&gt;pluginReleased);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      Plugin-&gt;unload();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// Clear after unload to avoid uses after unload.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a85ca973520f3ec2ed1d3550b099e1ad0">getPlugins</a>().clear();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a8ff0ad2b177404d156492e1ade838832">  260</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a8ff0ad2b177404d156492e1ade838832">GlobalHandler::prepareSchedulerToRelease</a>(<span class="keywordtype">bool</span> Blocking) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (Blocking)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a59802474bc6c77d9e3641831ea61b3b6">drainThreadPool</a>();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (MScheduler.Inst)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    MScheduler.Inst-&gt;releaseResources(Blocking ? <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a3f1b4d53372cc5857a58ccea9da9517ea57a1181affee87e0545054a3e9f4696a">BlockingT::BLOCKING</a></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                               : <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a3f1b4d53372cc5857a58ccea9da9517ea269f9b4a08a3792a4ac47cd87d0e0cc3">BlockingT::NON_BLOCKING</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a59802474bc6c77d9e3641831ea61b3b6">  270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a59802474bc6c77d9e3641831ea61b3b6">GlobalHandler::drainThreadPool</a>() {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">if</span> (MHostTaskThreadPool.Inst)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    MHostTaskThreadPool.Inst-&gt;drain();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">// because of something not-yet-understood on Windows</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">// threads may be shutdown once the end of main() is reached</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">// making an orderly shutdown difficult. Fortunately, Windows</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">// itself is very aggressive about reclaiming memory. Thus,</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">// we focus solely on unloading the plugins, so as to not</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">// accidentally retain device handles. etc</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a216e871cdaede5ad6cf7e67478a75f03">shutdown</a>() {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a> *&amp;Handler = GlobalHandler::getInstancePtr();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  Handler-&gt;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc62375adb85aabc8b104835a4afefd0">unloadPlugins</a>();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a7861ee1569802186a619778efc85af13">  287</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a216e871cdaede5ad6cf7e67478a75f03">shutdown</a>() {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#ab5860ca52712fff555ab9f910a45ae08">LockGuard</a> Lock{GlobalHandler::MSyclGlobalHandlerProtector};</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">GlobalHandler</a> *&amp;Handler = GlobalHandler::getInstancePtr();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (!Handler)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Ensure neither host task is working so that no default context is accessed</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// upon its release</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  Handler-&gt;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a8ff0ad2b177404d156492e1ade838832">prepareSchedulerToRelease</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (Handler-&gt;MHostTaskThreadPool.Inst)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    Handler-&gt;MHostTaskThreadPool.Inst-&gt;finishAndWait();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// If default contexts are requested after the first default contexts have</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// been released there may be a new default context. These must be released</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// prior to closing the plugins.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// Note: Releasing a default context here may cause failures in plugins with</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// global state as the global state may have been released.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  Handler-&gt;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a4cf479ff33050bf291de9cd2debfecd7">releaseDefaultContexts</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// First, release resources, that may access plugins.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  Handler-&gt;MPlatformCache.Inst.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  Handler-&gt;MScheduler.Inst.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  Handler-&gt;MProgramManager.Inst.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// Clear the plugins and reset the instance if it was there.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  Handler-&gt;<a class="code" href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc62375adb85aabc8b104835a4afefd0">unloadPlugins</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (Handler-&gt;MPlugins.Inst)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    Handler-&gt;MPlugins.Inst.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  Handler-&gt;MXPTIRegistry.Inst.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// Release the rest of global resources.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keyword">delete</span> Handler;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  Handler = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> __SYCL_EXPORT BOOL WINAPI DllMain(HINSTANCE hinstDLL,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                             DWORD fdwReason,</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                             LPVOID lpReserved) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordtype">bool</span> PrintPiTrace = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *PiTrace = std::getenv(<span class="stringliteral">&quot;SYCL_PI_TRACE&quot;</span>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> PiTraceValue = PiTrace ? std::stoi(PiTrace) : 0;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">if</span> (PiTraceValue == -1 || PiTraceValue == 2) { <span class="comment">// Means print all PI traces</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    PrintPiTrace = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// Perform actions based on the reason for calling.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">switch</span> (fdwReason) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">case</span> DLL_PROCESS_DETACH:</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (PrintPiTrace)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <a class="code" href="namespacestd.html#a89ad7e93ceeef4d5506bbd30d2f9f681">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;---&gt; DLL_PROCESS_DETACH syclx.dll\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#ifdef XPTI_ENABLE_INSTRUMENTATION</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (xptiTraceEnabled())</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">return</span> TRUE; <span class="comment">// When doing xpti tracing, we can&#39;t safely call shutdown.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                   <span class="comment">// TODO: figure out what XPTI is doing that prevents release.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a216e871cdaede5ad6cf7e67478a75f03">shutdown</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">case</span> DLL_PROCESS_ATTACH:</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (PrintPiTrace)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <a class="code" href="namespacestd.html#a89ad7e93ceeef4d5506bbd30d2f9f681">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;---&gt; DLL_PROCESS_ATTACH syclx.dll\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">case</span> DLL_THREAD_ATTACH:</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">case</span> DLL_THREAD_DETACH:</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">return</span> TRUE; <span class="comment">// Successful DLL_PROCESS_ATTACH.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">// Setting low priority on destructor ensures it runs after all other global</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">// destructors. Priorities 0-100 are reserved by the compiler. The priority</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// value 110 allows SYCL users to run their destructors after runtime library</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// deinitialization.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="namespacesycl_1_1__V1_1_1detail.html#aaf4ac1e5d25cf18f6663747fc67599ff">  366</a></span>&#160;<a class="code" href="namespacesycl_1_1__V1_1_1detail.html#aaf4ac1e5d25cf18f6663747fc67599ff">__attribute__</a>((destructor(110))) static <span class="keywordtype">void</span> syclUnload() { <a class="code" href="namespacesycl_1_1__V1_1_1detail.html#a216e871cdaede5ad6cf7e67478a75f03">shutdown</a>(); }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;} <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;} <span class="comment">// namespace _V1</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;} <span class="comment">// namespace sycl</span></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html">sycl::_V1::detail::GlobalHandler</a></div><div class="ttdoc">Wrapper class for global data structures with non-trivial destructors.</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8hpp_source.html#l00046">global_handler.hpp:46</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a1e363126a73fd9fb233d342221dbf8bf"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a1e363126a73fd9fb233d342221dbf8bf">sycl::_V1::detail::GlobalHandler::getOneapiDeviceSelectorTargets</a></div><div class="ttdeci">ods_target_list &amp; getOneapiDeviceSelectorTargets(const std::string &amp;InitValue)</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00207">global_handler.cpp:207</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a3844b6998207120988ea7e21684c2276"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a3844b6998207120988ea7e21684c2276">sycl::_V1::detail::GlobalHandler::isSchedulerAlive</a></div><div class="ttdeci">bool isSchedulerAlive() const</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00169">global_handler.cpp:169</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a47676127663af155e5f8cd8578238817"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a47676127663af155e5f8cd8578238817">sycl::_V1::detail::GlobalHandler::registerDefaultContextReleaseHandler</a></div><div class="ttdeci">static void registerDefaultContextReleaseHandler()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00236">global_handler.cpp:236</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a4cf479ff33050bf291de9cd2debfecd7"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a4cf479ff33050bf291de9cd2debfecd7">sycl::_V1::detail::GlobalHandler::releaseDefaultContexts</a></div><div class="ttdeci">void releaseDefaultContexts()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00222">global_handler.cpp:222</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a59802474bc6c77d9e3641831ea61b3b6"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a59802474bc6c77d9e3641831ea61b3b6">sycl::_V1::detail::GlobalHandler::drainThreadPool</a></div><div class="ttdeci">void drainThreadPool()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00270">global_handler.cpp:270</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a5db9c2cd9b81c78ac020ffdd40bc1b41"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a5db9c2cd9b81c78ac020ffdd40bc1b41">sycl::_V1::detail::GlobalHandler::getPlatformCache</a></div><div class="ttdeci">std::vector&lt; PlatformImplPtr &gt; &amp; getPlatformCache()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00190">global_handler.cpp:190</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a61ed53a3dfb328d4f6098b32a78d2ae2"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a61ed53a3dfb328d4f6098b32a78d2ae2">sycl::_V1::detail::GlobalHandler::getXPTIRegistry</a></div><div class="ttdeci">XPTIRegistry &amp; getXPTIRegistry()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00211">global_handler.cpp:211</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a65cb7233078666b161285291c1b7961a"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a65cb7233078666b161285291c1b7961a">sycl::_V1::detail::GlobalHandler::getProgramManager</a></div><div class="ttdeci">ProgramManager &amp; getProgramManager()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00175">global_handler.cpp:175</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a69c35963ec3354400d31b35a7a628f9a"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a69c35963ec3354400d31b35a7a628f9a">sycl::_V1::detail::GlobalHandler::InitXPTI</a></div><div class="ttdeci">void InitXPTI()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00072">global_handler.cpp:72</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a72b47b09c7fa07ad7f041f0b383613da"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a72b47b09c7fa07ad7f041f0b383613da">sycl::_V1::detail::GlobalHandler::getSync</a></div><div class="ttdeci">Sync &amp; getSync()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00188">global_handler.cpp:188</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a7cc8b70f19998c84ffa892dbe7755dbb"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a7cc8b70f19998c84ffa892dbe7755dbb">sycl::_V1::detail::GlobalHandler::getPlatformToDefaultContextCache</a></div><div class="ttdeci">std::unordered_map&lt; PlatformImplPtr, ContextImplPtr &gt; &amp; getPlatformToDefaultContextCache()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00180">global_handler.cpp:180</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a85ca973520f3ec2ed1d3550b099e1ad0"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a85ca973520f3ec2ed1d3550b099e1ad0">sycl::_V1::detail::GlobalHandler::getPlugins</a></div><div class="ttdeci">std::vector&lt; PluginPtr &gt; &amp; getPlugins()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00201">global_handler.cpp:201</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a8ff0ad2b177404d156492e1ade838832"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a8ff0ad2b177404d156492e1ade838832">sycl::_V1::detail::GlobalHandler::prepareSchedulerToRelease</a></div><div class="ttdeci">void prepareSchedulerToRelease(bool Blocking)</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00260">global_handler.cpp:260</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a9942f769ebfff89dd19cdaeba0298024"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a9942f769ebfff89dd19cdaeba0298024">sycl::_V1::detail::GlobalHandler::TraceEventXPTI</a></div><div class="ttdeci">void TraceEventXPTI(const char *Message)</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00085">global_handler.cpp:85</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_a9b9f4e7a21c447d691bbed66bb4b76e3"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#a9b9f4e7a21c447d691bbed66bb4b76e3">sycl::_V1::detail::GlobalHandler::getPlatformMapMutex</a></div><div class="ttdeci">std::mutex &amp; getPlatformMapMutex()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00194">global_handler.cpp:194</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_aa903a198e8286a01cf987f242462c482"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#aa903a198e8286a01cf987f242462c482">sycl::_V1::detail::GlobalHandler::attachScheduler</a></div><div class="ttdeci">void attachScheduler(Scheduler *Scheduler)</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00139">global_handler.cpp:139</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_abb4e63f9f98bc89d381d126b73d5f989"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#abb4e63f9f98bc89d381d126b73d5f989">sycl::_V1::detail::GlobalHandler::registerSchedulerUsage</a></div><div class="ttdeci">void registerSchedulerUsage(bool ModifyCounter=true)</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00171">global_handler.cpp:171</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_ac9f4213ffaa63fd7af8dc41549ab4d4e"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#ac9f4213ffaa63fd7af8dc41549ab4d4e">sycl::_V1::detail::GlobalHandler::getPlatformToDefaultContextCacheMutex</a></div><div class="ttdeci">std::mutex &amp; getPlatformToDefaultContextCacheMutex()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00184">global_handler.cpp:184</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_acb74a446a603f4cd11f2f9dc4936a88a"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#acb74a446a603f4cd11f2f9dc4936a88a">sycl::_V1::detail::GlobalHandler::getFilterMutex</a></div><div class="ttdeci">std::mutex &amp; getFilterMutex()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00198">global_handler.cpp:198</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_adc3077cef70b04aaa1898c98197073de"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc3077cef70b04aaa1898c98197073de">sycl::_V1::detail::GlobalHandler::getHostTaskThreadPool</a></div><div class="ttdeci">ThreadPool &amp; getHostTaskThreadPool()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00215">global_handler.cpp:215</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_adc62375adb85aabc8b104835a4afefd0"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#adc62375adb85aabc8b104835a4afefd0">sycl::_V1::detail::GlobalHandler::unloadPlugins</a></div><div class="ttdeci">void unloadPlugins()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00242">global_handler.cpp:242</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_ae8e281c4249619d6bd426692edc9fbf8"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#ae8e281c4249619d6bd426692edc9fbf8">sycl::_V1::detail::GlobalHandler::getScheduler</a></div><div class="ttdeci">Scheduler &amp; getScheduler()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00156">global_handler.cpp:156</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1GlobalHandler_html_af1eefc10f6df32edf8e249bc617a3e52"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1GlobalHandler.html#af1eefc10f6df32edf8e249bc617a3e52">sycl::_V1::detail::GlobalHandler::instance</a></div><div class="ttdeci">static GlobalHandler &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00123">global_handler.cpp:123</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1ObjectUsageCounter_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html">sycl::_V1::detail::ObjectUsageCounter</a></div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00045">global_handler.cpp:45</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1ObjectUsageCounter_html_a44537759c461f6ffba4ece3f295d352d"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html#a44537759c461f6ffba4ece3f295d352d">sycl::_V1::detail::ObjectUsageCounter::ObjectUsageCounter</a></div><div class="ttdeci">ObjectUsageCounter(bool ModifyCounter)</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00047">global_handler.cpp:47</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1ObjectUsageCounter_html_a8aa6caab98c94ee7849f5e2fecf7ead1"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1ObjectUsageCounter.html#a8aa6caab98c94ee7849f5e2fecf7ead1">sycl::_V1::detail::ObjectUsageCounter::~ObjectUsageCounter</a></div><div class="ttdeci">~ObjectUsageCounter()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00051">global_handler.cpp:51</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1ProgramManager_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1ProgramManager.html">sycl::_V1::detail::ProgramManager</a></div><div class="ttdef"><b>Definition:</b> <a href="program__manager_8hpp_source.html#l00088">program_manager.hpp:88</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1SYCLConfig_html_a899ad42eab81c0d81564cca640e31042"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1SYCLConfig.html#a899ad42eab81c0d81564cca640e31042">sycl::_V1::detail::SYCLConfig::get</a></div><div class="ttdeci">static const char * get()</div><div class="ttdef"><b>Definition:</b> <a href="config_8hpp_source.html#l00115">config.hpp:115</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1Scheduler_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1Scheduler.html">sycl::_V1::detail::Scheduler</a></div><div class="ttdoc">DPC++ graph scheduler class.</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8hpp_source.html#l00367">scheduler.hpp:367</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1SpinLock_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1SpinLock.html">sycl::_V1::detail::SpinLock</a></div><div class="ttdoc">SpinLock is a synchronization primitive, that uses atomic variable and causes thread trying acquire l...</div><div class="ttdef"><b>Definition:</b> <a href="spinlock_8hpp_source.html#l00027">spinlock.hpp:27</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1Sync_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1Sync.html">sycl::_V1::detail::Sync</a></div><div class="ttdoc">Groups and provides access to all the locks used the SYCL runtime.</div><div class="ttdef"><b>Definition:</b> <a href="detail_2util_8hpp_source.html#l00025">util.hpp:25</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1ThreadPool_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1ThreadPool.html">sycl::_V1::detail::ThreadPool</a></div><div class="ttdef"><b>Definition:</b> <a href="thread__pool_8hpp_source.html#l00025">thread_pool.hpp:25</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1XPTIRegistry_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1XPTIRegistry.html">sycl::_V1::detail::XPTIRegistry</a></div><div class="ttdef"><b>Definition:</b> <a href="xpti__registry_8hpp_source.html#l00066">xpti_registry.hpp:66</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1XPTIRegistry_html_abf41338702dcc751bd0ecf41be3797d3"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1XPTIRegistry.html#abf41338702dcc751bd0ecf41be3797d3">sycl::_V1::detail::XPTIRegistry::initializeStream</a></div><div class="ttdeci">void initializeStream(const std::string &amp;StreamName, uint32_t MajVer, uint32_t MinVer, const std::string &amp;VerStr)</div><div class="ttdoc">Notifies XPTI subscribers about new stream.</div><div class="ttdef"><b>Definition:</b> <a href="xpti__registry_8hpp_source.html#l00097">xpti_registry.hpp:97</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1ods__target__list_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1ods__target__list.html">sycl::_V1::detail::ods_target_list</a></div><div class="ttdef"><b>Definition:</b> <a href="device__filter_8hpp_source.html#l00058">device_filter.hpp:58</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1tls__code__loc__t_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1tls__code__loc__t.html">sycl::_V1::detail::tls_code_loc_t</a></div><div class="ttdoc">Data type that manages the code_location information in TLS.</div><div class="ttdef"><b>Definition:</b> <a href="detail_2common_8hpp_source.html#l00129">common.hpp:129</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1detail_1_1tls__code__loc__t_html_a37a3fe878ee7a8132ae59aeaddbffc9f"><div class="ttname"><a href="classsycl_1_1__V1_1_1detail_1_1tls__code__loc__t.html#a37a3fe878ee7a8132ae59aeaddbffc9f">sycl::_V1::detail::tls_code_loc_t::query</a></div><div class="ttdeci">const detail::code_location &amp; query()</div><div class="ttdoc">Query the information in the TLS slot.</div><div class="ttdef"><b>Definition:</b> <a href="common_8cpp_source.html#l00054">common.cpp:54</a></div></div>
<div class="ttc" id="aclasssycl_1_1__V1_1_1handler_html"><div class="ttname"><a href="classsycl_1_1__V1_1_1handler.html">sycl::_V1::handler</a></div><div class="ttdoc">Command group handler class.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8hpp_source.html#l00461">handler.hpp:461</a></div></div>
<div class="ttc" id="aconfig_8hpp_html"><div class="ttname"><a href="config_8hpp.html">config.hpp</a></div></div>
<div class="ttc" id="adevice__filter_8hpp_html"><div class="ttname"><a href="device__filter_8hpp.html">device_filter.hpp</a></div></div>
<div class="ttc" id="aglobal__handler_8hpp_html"><div class="ttname"><a href="global__handler_8hpp.html">global_handler.hpp</a></div></div>
<div class="ttc" id="anamespacestd_html_a89ad7e93ceeef4d5506bbd30d2f9f681"><div class="ttname"><a href="namespacestd.html#a89ad7e93ceeef4d5506bbd30d2f9f681">std::cout</a></div><div class="ttdeci">__SYCL_EXTERN_STREAM_ATTRS ostream cout</div><div class="ttdoc">Linked to standard output.</div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_a216e871cdaede5ad6cf7e67478a75f03"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#a216e871cdaede5ad6cf7e67478a75f03">sycl::_V1::detail::shutdown</a></div><div class="ttdeci">void shutdown()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00287">global_handler.cpp:287</a></div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_a3a2b0c897cfe5f9cbd6c65b049b796f2"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#a3a2b0c897cfe5f9cbd6c65b049b796f2">sycl::_V1::detail::SYCL_STREAM_NAME</a></div><div class="ttdeci">constexpr const char * SYCL_STREAM_NAME</div><div class="ttdef"><b>Definition:</b> <a href="xpti__registry_8hpp_source.html#l00029">xpti_registry.hpp:29</a></div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_a3f1b4d53372cc5857a58ccea9da9517ea269f9b4a08a3792a4ac47cd87d0e0cc3"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#a3f1b4d53372cc5857a58ccea9da9517ea269f9b4a08a3792a4ac47cd87d0e0cc3">sycl::_V1::detail::NON_BLOCKING</a></div><div class="ttdeci">@ NON_BLOCKING</div><div class="ttdef"><b>Definition:</b> <a href="commands_8hpp_source.html#l00059">commands.hpp:59</a></div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_a3f1b4d53372cc5857a58ccea9da9517ea57a1181affee87e0545054a3e9f4696a"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#a3f1b4d53372cc5857a58ccea9da9517ea57a1181affee87e0545054a3e9f4696a">sycl::_V1::detail::BLOCKING</a></div><div class="ttdeci">@ BLOCKING</div><div class="ttdef"><b>Definition:</b> <a href="commands_8hpp_source.html#l00059">commands.hpp:59</a></div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_aa15227d5fb26f3631308efc6594a3596"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#aa15227d5fb26f3631308efc6594a3596">sycl::_V1::detail::PluginPtr</a></div><div class="ttdeci">std::shared_ptr&lt; plugin &gt; PluginPtr</div><div class="ttdef"><b>Definition:</b> <a href="pi_8hpp_source.html#l00048">pi.hpp:48</a></div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_aaf4ac1e5d25cf18f6663747fc67599ff"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#aaf4ac1e5d25cf18f6663747fc67599ff">sycl::_V1::detail::__attribute__</a></div><div class="ttdeci">__attribute__((destructor(110))) static void syclUnload()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00366">global_handler.cpp:366</a></div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_ab5860ca52712fff555ab9f910a45ae08"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#ab5860ca52712fff555ab9f910a45ae08">sycl::_V1::detail::LockGuard</a></div><div class="ttdeci">std::lock_guard&lt; SpinLock &gt; LockGuard</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00036">global_handler.cpp:36</a></div></div>
<div class="ttc" id="anamespacesycl_1_1__V1_1_1detail_html_adbd9058f4316cbea718081cba812e3bd"><div class="ttname"><a href="namespacesycl_1_1__V1_1_1detail.html#adbd9058f4316cbea718081cba812e3bd">sycl::_V1::detail::enableOnCrashStackPrinting</a></div><div class="ttdeci">static void enableOnCrashStackPrinting()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00147">global_handler.cpp:147</a></div></div>
<div class="ttc" id="anamespacesycl_html"><div class="ttname"><a href="namespacesycl.html">sycl</a></div><div class="ttdef"><b>Definition:</b> <a href="access_8hpp_source.html#l00018">access.hpp:18</a></div></div>
<div class="ttc" id="api_8h_html_a5ac98e3290841a01e0de5131b5935c49"><div class="ttname"><a href="pi_8h.html#a5ac98e3290841a01e0de5131b5935c49">piTearDown</a></div><div class="ttdeci">pi_result piTearDown(void *PluginParameter)</div><div class="ttdoc">API to notify that the plugin should clean up its resources.</div><div class="ttdef"><b>Definition:</b> <a href="pi__cuda_8cpp_source.html#l01243">pi_cuda.cpp:1243</a></div></div>
<div class="ttc" id="api_8hpp_html"><div class="ttname"><a href="pi_8hpp.html">pi.hpp</a></div><div class="ttdoc">C++ wrapper of extern &quot;C&quot; PI interfaces.</div></div>
<div class="ttc" id="aplatform__impl_8hpp_html"><div class="ttname"><a href="platform__impl_8hpp.html">platform_impl.hpp</a></div></div>
<div class="ttc" id="aplugin_8hpp_html"><div class="ttname"><a href="plugin_8hpp.html">plugin.hpp</a></div></div>
<div class="ttc" id="aprogram__manager_8hpp_html"><div class="ttname"><a href="program__manager_8hpp.html">program_manager.hpp</a></div></div>
<div class="ttc" id="ascheduler_8hpp_html"><div class="ttname"><a href="scheduler_8hpp.html">scheduler.hpp</a></div></div>
<div class="ttc" id="aspinlock_8hpp_html"><div class="ttname"><a href="spinlock_8hpp.html">spinlock.hpp</a></div></div>
<div class="ttc" id="astructsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler_html"><div class="ttname"><a href="structsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler.html">sycl::_V1::detail::DefaultContextReleaseHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00230">global_handler.cpp:230</a></div></div>
<div class="ttc" id="astructsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler_html_a1666e1d492ca8dd9f81aeb698e2af925"><div class="ttname"><a href="structsycl_1_1__V1_1_1detail_1_1DefaultContextReleaseHandler.html#a1666e1d492ca8dd9f81aeb698e2af925">sycl::_V1::detail::DefaultContextReleaseHandler::~DefaultContextReleaseHandler</a></div><div class="ttdeci">~DefaultContextReleaseHandler()</div><div class="ttdef"><b>Definition:</b> <a href="global__handler_8cpp_source.html#l00231">global_handler.cpp:231</a></div></div>
<div class="ttc" id="athread__pool_8hpp_html"><div class="ttname"><a href="thread__pool_8hpp.html">thread_pool.hpp</a></div></div>
<div class="ttc" id="atracing_8cpp_html_a4910e0d1dda2453acc7da684d0cdb844"><div class="ttname"><a href="tracing_8cpp.html#a4910e0d1dda2453acc7da684d0cdb844">GMajVer</a></div><div class="ttdeci">constexpr int GMajVer</div><div class="ttdef"><b>Definition:</b> <a href="tracing_8cpp_source.html#l00027">tracing.cpp:27</a></div></div>
<div class="ttc" id="atracing_8cpp_html_aafb51c1e035a0c36878682d4f150a84a"><div class="ttname"><a href="tracing_8cpp.html#aafb51c1e035a0c36878682d4f150a84a">GMinVer</a></div><div class="ttdeci">constexpr int GMinVer</div><div class="ttdef"><b>Definition:</b> <a href="tracing_8cpp_source.html#l00028">tracing.cpp:28</a></div></div>
<div class="ttc" id="atracing_8cpp_html_ac2835c44372157429e172a7f1bfa68de"><div class="ttname"><a href="tracing_8cpp.html#ac2835c44372157429e172a7f1bfa68de">GVerStr</a></div><div class="ttdeci">constexpr auto GVerStr</div><div class="ttdef"><b>Definition:</b> <a href="tracing_8cpp_source.html#l00026">tracing.cpp:26</a></div></div>
<div class="ttc" id="axpti__registry_8hpp_html"><div class="ttname"><a href="xpti__registry_8hpp.html">xpti_registry.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_0945a81bfe8e5e34b6f48739b152e3bb.html">detail</a></li><li class="navelem"><a class="el" href="global__handler_8cpp.html">global_handler.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
