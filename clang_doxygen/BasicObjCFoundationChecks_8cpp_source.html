<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: lib/StaticAnalyzer/Checkers/BasicObjCFoundationChecks.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">clang
   &#160;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_5323669f7aaa7f9ff43db9a3c9e1bf2d.html">StaticAnalyzer</a></li><li class="navelem"><a class="el" href="dir_98a0d9a5a3820cce728a787f3e823141.html">Checkers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BasicObjCFoundationChecks.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="BasicObjCFoundationChecks_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//== BasicObjCFoundationChecks.cpp - Simple Apple-Foundation checks -*- C++ -*--</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//  This file defines BasicObjCFoundationChecks, a class that encapsulates</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//  a set of simple checks to run on Objective-C code using Apple&#39;s Foundation</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//  classes.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ASTContext_8h.html">clang/AST/ASTContext.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DeclObjC_8h.html">clang/AST/DeclObjC.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Expr_8h.html">clang/AST/Expr.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ExprObjC_8h.html">clang/AST/ExprObjC.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StmtObjC_8h.html">clang/AST/StmtObjC.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CocoaConventions_8h.html">clang/Analysis/DomainSpecific/CocoaConventions.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectorExtras_8h.html">clang/Analysis/SelectorExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BuiltinCheckerRegistration_8h.html">clang/StaticAnalyzer/Checkers/BuiltinCheckerRegistration.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BugType_8h.html">clang/StaticAnalyzer/Core/BugReporter/BugType.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Checker_8h.html">clang/StaticAnalyzer/Core/Checker.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CheckerManager_8h.html">clang/StaticAnalyzer/Core/CheckerManager.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallDescription_8h.html">clang/StaticAnalyzer/Core/PathSensitive/CallDescription.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallEvent_8h.html">clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CheckerContext_8h.html">clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ExplodedGraph_8h.html">clang/StaticAnalyzer/Core/PathSensitive/ExplodedGraph.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ExprEngine_8h.html">clang/StaticAnalyzer/Core/PathSensitive/ExprEngine.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemRegion_8h.html">clang/StaticAnalyzer/Core/PathSensitive/MemRegion.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProgramState_8h.html">clang/StaticAnalyzer/Core/PathSensitive/ProgramState.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/SmallString.h&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/StringMap.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;llvm/Support/raw_ostream.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceclang.html">clang</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">using namespace </span>ento;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">class </span>APIMisuse : <span class="keyword">public</span> BugType {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  APIMisuse(<span class="keyword">const</span> CheckerBase *checker, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceclang_1_1transformer.html#afb9ae3f6ff9907205cd12c218f76df7e">name</a>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      : BugType(checker, <a class="code" href="namespaceclang_1_1transformer.html#afb9ae3f6ff9907205cd12c218f76df7e">name</a>, <span class="stringliteral">&quot;API Misuse (Apple)&quot;</span>) {}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;};</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Utility functions.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#ab91fe16a4acf42262c10101f460a4e25">   53</a></span>&#160;<span class="keyword">static</span> StringRef <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ab91fe16a4acf42262c10101f460a4e25">GetReceiverInterfaceName</a>(<span class="keyword">const</span> ObjCMethodCall &amp;msg) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a> = msg.getReceiverInterface())</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>-&gt;getIdentifier()-&gt;getName();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">return</span> StringRef();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">   59</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> {</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a21e7aeccc42f26b2e942ae4655e793cb">   60</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a21e7aeccc42f26b2e942ae4655e793cb">FC_None</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">   61</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">   62</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6acaaf606a7c8158230ec2717bdde06b5b">   63</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6acaaf606a7c8158230ec2717bdde06b5b">FC_NSEnumerator</a>,</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a28092e02c5f3e1dae5d13d8ca0226db1">   64</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a28092e02c5f3e1dae5d13d8ca0226db1">FC_NSNull</a>,</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">   65</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>,</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">   66</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a>,</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a9bc9a52cef75b57a1891076b8b08cb4c">   67</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a9bc9a52cef75b57a1891076b8b08cb4c">FC_NSString</a></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;};</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">   70</a></span>&#160;<span class="keyword">static</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                      <span class="keywordtype">bool</span> IncludeSuperclasses = <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keyword">static</span> llvm::StringMap&lt;FoundationClass&gt; Classes;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span> (Classes.empty()) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    Classes[<span class="stringliteral">&quot;NSArray&quot;</span>] = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    Classes[<span class="stringliteral">&quot;NSDictionary&quot;</span>] = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    Classes[<span class="stringliteral">&quot;NSEnumerator&quot;</span>] = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6acaaf606a7c8158230ec2717bdde06b5b">FC_NSEnumerator</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    Classes[<span class="stringliteral">&quot;NSNull&quot;</span>] = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a28092e02c5f3e1dae5d13d8ca0226db1">FC_NSNull</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    Classes[<span class="stringliteral">&quot;NSOrderedSet&quot;</span>] = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    Classes[<span class="stringliteral">&quot;NSSet&quot;</span>] = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    Classes[<span class="stringliteral">&quot;NSString&quot;</span>] = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a9bc9a52cef75b57a1891076b8b08cb4c">FC_NSString</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// FIXME: Should we cache this at all?</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> result = Classes.lookup(<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>-&gt;getIdentifier()-&gt;getName());</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> (result == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a21e7aeccc42f26b2e942ae4655e793cb">FC_None</a> &amp;&amp; IncludeSuperclasses)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *Super = <a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>-&gt;getSuperClass())</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(Super);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">// NilArgChecker - Check for prohibited nil arguments to ObjC method calls.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keyword">class </span>NilArgChecker : <span class="keyword">public</span> Checker&lt;check::PreObjCMessage,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                       check::PostStmt&lt;ObjCDictionaryLiteral&gt;,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                       check::PostStmt&lt;ObjCArrayLiteral&gt; &gt; {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">mutable</span> std::unique_ptr&lt;APIMisuse&gt; BT;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">mutable</span> llvm::SmallDenseMap&lt;Selector, unsigned, 16&gt; StringSelectors;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> ArrayWithObjectSel;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> AddObjectSel;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> InsertObjectAtIndexSel;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> ReplaceObjectAtIndexWithObjectSel;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> SetObjectAtIndexedSubscriptSel;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> ArrayByAddingObjectSel;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> DictionaryWithObjectForKeySel;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> SetObjectForKeySel;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> SetObjectForKeyedSubscriptSel;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> RemoveObjectForKeySel;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">void</span> warnIfNilExpr(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">char</span> *Msg,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                       CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">void</span> warnIfNilArg(CheckerContext &amp;C,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                      <span class="keyword">const</span> ObjCMethodCall &amp;msg, <span class="keywordtype">unsigned</span> Arg,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                      <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> Class,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                      <span class="keywordtype">bool</span> CanBeSubscript = <span class="keyword">false</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">void</span> generateBugReport(ExplodedNode *N,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                           StringRef Msg,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                           <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> Range,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="classclang_1_1Expr.html">Expr</a>,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                           CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">void</span> checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCDictionaryLiteral.html">ObjCDictionaryLiteral</a> *DL,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                       CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCArrayLiteral.html">ObjCArrayLiteral</a> *AL,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                       CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  };</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keywordtype">void</span> NilArgChecker::warnIfNilExpr(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *Msg,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                  CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;isNull(<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(E)).isConstrainedTrue()) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (ExplodedNode *N = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.generateErrorNode()) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      generateBugReport(N, Msg, E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>(), E, C);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keywordtype">void</span> NilArgChecker::warnIfNilArg(CheckerContext &amp;C,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                 <span class="keyword">const</span> ObjCMethodCall &amp;msg,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Arg,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                 <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> Class,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                 <span class="keywordtype">bool</span> CanBeSubscript)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// Check if the argument is nil.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;isNull(msg.getArgSVal(Arg)).isConstrainedTrue())</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// NOTE: We cannot throw non-fatal errors from warnIfNilExpr,</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// because it&#39;s called multiple times from some callers, so it&#39;d cause</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// an unwanted state split if two or more non-fatal errors are thrown</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// within the same checker callback. For now we don&#39;t want to, but</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// it&#39;ll need to be fixed if we ever want to.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">if</span> (ExplodedNode *N = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.generateErrorNode()) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;128&gt;</a> sbuf;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    llvm::raw_svector_ostream os(sbuf);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (CanBeSubscript &amp;&amp; msg.getMessageKind() == <a class="code" href="namespaceclang_1_1ento.html#ae57ee8ff4e3f7b9ab8a477d9e00cc52daa17cbd516e91f8961541342be0fc1480">OCM_Subscript</a>) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">if</span> (Class == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;Array element cannot be nil&quot;</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Class == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span> (Arg == 0) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          os &lt;&lt; <span class="stringliteral">&quot;Value stored into &#39;&quot;</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          os &lt;&lt; <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ab91fe16a4acf42262c10101f460a4e25">GetReceiverInterfaceName</a>(msg) &lt;&lt; <span class="stringliteral">&quot;&#39; cannot be nil&quot;</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          assert(Arg == 1);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          os &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>&lt;&lt; <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ab91fe16a4acf42262c10101f460a4e25">GetReceiverInterfaceName</a>(msg) &lt;&lt; <span class="stringliteral">&quot;&#39; key cannot be nil&quot;</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        llvm_unreachable(<span class="stringliteral">&quot;Missing foundation class for the subscript expr&quot;</span>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">if</span> (Class == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">if</span> (Arg == 0)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          os &lt;&lt; <span class="stringliteral">&quot;Value argument &quot;</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          assert(Arg == 1);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          os &lt;&lt; <span class="stringliteral">&quot;Key argument &quot;</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;to &#39;&quot;</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        msg.getSelector().print(os);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;&#39; cannot be nil&quot;</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;Argument to &#39;&quot;</span> &lt;&lt; <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ab91fe16a4acf42262c10101f460a4e25">GetReceiverInterfaceName</a>(msg) &lt;&lt; <span class="stringliteral">&quot;&#39; method &#39;&quot;</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        msg.getSelector().print(os);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;&#39; cannot be nil&quot;</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    generateBugReport(N, os.str(), msg.getArgSourceRange(Arg),</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                      msg.getArgExpr(Arg), C);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keywordtype">void</span> NilArgChecker::generateBugReport(ExplodedNode *N,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                      StringRef Msg,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                      <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> Range,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                      CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (!BT)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    BT.reset(<span class="keyword">new</span> APIMisuse(<span class="keyword">this</span>, <span class="stringliteral">&quot;nil argument&quot;</span>));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keyword">auto</span> R = std::make_unique&lt;PathSensitiveBugReport&gt;(*BT, Msg, N);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  R-&gt;addRange(Range);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="namespaceclang_1_1ento_1_1bugreporter.html#a9f4acbc86c4e8c0a8601b7e7e42814c9">bugreporter::trackExpressionValue</a>(N, E, *R);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.emitReport(std::move(R));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keywordtype">void</span> NilArgChecker::checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;msg,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                        CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a> = msg.getReceiverInterface();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af">Class</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> InvalidArgIndex = <a class="code" href="limits_8h.html#ac998ea02fbd821fc123d60445ce76f38">UINT_MAX</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">unsigned</span> Arg = InvalidArgIndex;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordtype">bool</span> CanBeSubscript = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">if</span> (Class == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a9bc9a52cef75b57a1891076b8b08cb4c">FC_NSString</a>) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="classclang_1_1Selector.html">Selector</a> S = msg.getSelector();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (S.isUnarySelector())</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (StringSelectors.empty()) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <a class="code" href="classclang_1_1Selector.html">Selector</a> Sels[] = {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;caseInsensitiveCompare&quot;</span>),</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;compare&quot;</span>),</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;compare&quot;</span>, <span class="stringliteral">&quot;options&quot;</span>),</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;compare&quot;</span>, <span class="stringliteral">&quot;options&quot;</span>, <span class="stringliteral">&quot;range&quot;</span>),</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;compare&quot;</span>, <span class="stringliteral">&quot;options&quot;</span>, <span class="stringliteral">&quot;range&quot;</span>, <span class="stringliteral">&quot;locale&quot;</span>),</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;componentsSeparatedByCharactersInSet&quot;</span>),</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;initWithFormat&quot;</span>),</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;localizedCaseInsensitiveCompare&quot;</span>),</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;localizedCompare&quot;</span>),</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;localizedStandardCompare&quot;</span>),</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      };</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1Selector.html">Selector</a> KnownSel : Sels)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        StringSelectors[KnownSel] = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keyword">auto</span> I = StringSelectors.find(S);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (I == StringSelectors.end())</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    Arg = I-&gt;second;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Class == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classclang_1_1Selector.html">Selector</a> S = msg.getSelector();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (S.isUnarySelector())</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (ArrayWithObjectSel.isNull()) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      ArrayWithObjectSel = <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;arrayWithObject&quot;</span>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      AddObjectSel = <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;addObject&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      InsertObjectAtIndexSel =</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;insertObject&quot;</span>, <span class="stringliteral">&quot;atIndex&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      ReplaceObjectAtIndexWithObjectSel =</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;replaceObjectAtIndex&quot;</span>, <span class="stringliteral">&quot;withObject&quot;</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      SetObjectAtIndexedSubscriptSel =</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;setObject&quot;</span>, <span class="stringliteral">&quot;atIndexedSubscript&quot;</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      ArrayByAddingObjectSel = <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;arrayByAddingObject&quot;</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (S == ArrayWithObjectSel || S == AddObjectSel ||</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        S == InsertObjectAtIndexSel || S == ArrayByAddingObjectSel) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      Arg = 0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S == SetObjectAtIndexedSubscriptSel) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      Arg = 0;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      CanBeSubscript = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S == ReplaceObjectAtIndexWithObjectSel) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      Arg = 1;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Class == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classclang_1_1Selector.html">Selector</a> S = msg.getSelector();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (S.isUnarySelector())</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (DictionaryWithObjectForKeySel.isNull()) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      DictionaryWithObjectForKeySel =</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;dictionaryWithObject&quot;</span>, <span class="stringliteral">&quot;forKey&quot;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      SetObjectForKeySel = <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;setObject&quot;</span>, <span class="stringliteral">&quot;forKey&quot;</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      SetObjectForKeyedSubscriptSel =</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;          <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;setObject&quot;</span>, <span class="stringliteral">&quot;forKeyedSubscript&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      RemoveObjectForKeySel = <a class="code" href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">getKeywordSelector</a>(Ctx, <span class="stringliteral">&quot;removeObjectForKey&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (S == DictionaryWithObjectForKeySel || S == SetObjectForKeySel) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      Arg = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      warnIfNilArg(C, msg, <span class="comment">/* Arg */</span>1, Class);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S == SetObjectForKeyedSubscriptSel) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      CanBeSubscript = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      Arg = 1;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S == RemoveObjectForKeySel) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      Arg = 0;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// If argument is &#39;0&#39;, report a warning.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> ((Arg != InvalidArgIndex))</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    warnIfNilArg(C, msg, Arg, Class, CanBeSubscript);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="keywordtype">void</span> NilArgChecker::checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCArrayLiteral.html">ObjCArrayLiteral</a> *AL,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                  CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordtype">unsigned</span> NumOfElements = AL-&gt;<a class="code" href="classclang_1_1ObjCArrayLiteral.html#a685c5582acd247f9b4a9fdc00fd96114">getNumElements</a>();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; NumOfElements; ++i) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    warnIfNilExpr(AL-&gt;<a class="code" href="classclang_1_1ObjCArrayLiteral.html#ad597d76758a8cfea7d67918b3a0d8b16">getElement</a>(i), <span class="stringliteral">&quot;Array element cannot be nil&quot;</span>, C);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="keywordtype">void</span> NilArgChecker::checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCDictionaryLiteral.html">ObjCDictionaryLiteral</a> *DL,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                  CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordtype">unsigned</span> NumOfElements = DL-&gt;<a class="code" href="classclang_1_1ObjCDictionaryLiteral.html#a470aecb5b60f0735a5a065dae9bd506b">getNumElements</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; NumOfElements; ++i) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="structclang_1_1ObjCDictionaryElement.html">ObjCDictionaryElement</a> Element = DL-&gt;<a class="code" href="classclang_1_1ObjCDictionaryLiteral.html#a87647a53b2237e1efa1568c80e0d99a9">getKeyValueElement</a>(i);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    warnIfNilExpr(Element.<a class="code" href="structclang_1_1ObjCDictionaryElement.html#ae19b4fe17956b4c452068a05c52f99ce">Key</a>, <span class="stringliteral">&quot;Dictionary key cannot be nil&quot;</span>, C);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    warnIfNilExpr(Element.<a class="code" href="structclang_1_1ObjCDictionaryElement.html#a4b07b000d1fb894e24f9f9fa04f1452d">Value</a>, <span class="stringliteral">&quot;Dictionary value cannot be nil&quot;</span>, C);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">// Checking for mismatched types passed to CFNumberCreate/CFNumberGetValue.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keyword">class </span>CFNumberChecker : <span class="keyword">public</span> Checker&lt; check::PreStmt&lt;CallExpr&gt; &gt; {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keyword">mutable</span> std::unique_ptr&lt;APIMisuse&gt; BT;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *ICreate, *IGetValue;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  CFNumberChecker() : ICreate(nullptr), IGetValue(nullptr) {}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordtype">void</span> checkPreStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1CallExpr.html">CallExpr</a> *CE, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordtype">void</span> EmitError(<span class="keyword">const</span> TypedRegion* R, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *Ex,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                uint64_t SourceSize, uint64_t TargetSize, uint64_t NumberKind);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;};</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3c">  357</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3c">CFNumberType</a> {</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caa0145b6ea8a961a1f1e9751841f0305f">  358</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caa0145b6ea8a961a1f1e9751841f0305f">kCFNumberSInt8Type</a> = 1,</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca1eaa671d044b83c99c8e1683f9fe862d">  359</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca1eaa671d044b83c99c8e1683f9fe862d">kCFNumberSInt16Type</a> = 2,</div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca77835c5f2922e1369a87de743d1715b4">  360</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca77835c5f2922e1369a87de743d1715b4">kCFNumberSInt32Type</a> = 3,</div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca788cf5499d3d5693a5c312186dedf501">  361</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca788cf5499d3d5693a5c312186dedf501">kCFNumberSInt64Type</a> = 4,</div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca6480f40bb3bdbaa959017dc2982dab4d">  362</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca6480f40bb3bdbaa959017dc2982dab4d">kCFNumberFloat32Type</a> = 5,</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad098660838d3af77e5a769023cd4e29b">  363</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad098660838d3af77e5a769023cd4e29b">kCFNumberFloat64Type</a> = 6,</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cac74be8449e505171ffbc73f4577a9a21">  364</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cac74be8449e505171ffbc73f4577a9a21">kCFNumberCharType</a> = 7,</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca8b60e34093e6f6ebc610ccebbd89d671">  365</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca8b60e34093e6f6ebc610ccebbd89d671">kCFNumberShortType</a> = 8,</div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0cdbcedf04d27cb83e79643d9b062bfc">  366</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0cdbcedf04d27cb83e79643d9b062bfc">kCFNumberIntType</a> = 9,</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0c6248717ad6dd44dfad938c2933df0b">  367</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0c6248717ad6dd44dfad938c2933df0b">kCFNumberLongType</a> = 10,</div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caaedbab9e9d68ce464701ea1a5f275c25">  368</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caaedbab9e9d68ce464701ea1a5f275c25">kCFNumberLongLongType</a> = 11,</div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca04dbd5a916bf33d5558e336b9da5b8bd">  369</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca04dbd5a916bf33d5558e336b9da5b8bd">kCFNumberFloatType</a> = 12,</div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca4b0051937822479f84f0f1b3f5a70379">  370</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca4b0051937822479f84f0f1b3f5a70379">kCFNumberDoubleType</a> = 13,</div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad9e08e5b2a8cb1dc5e48ba32c1185bf3">  371</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad9e08e5b2a8cb1dc5e48ba32c1185bf3">kCFNumberCFIndexType</a> = 14,</div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad379f14657042d675f7d2b232075c784">  372</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad379f14657042d675f7d2b232075c784">kCFNumberNSIntegerType</a> = 15,</div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caf2aa50f69972b4d8ee3d1788237b33b1">  373</a></span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caf2aa50f69972b4d8ee3d1788237b33b1">kCFNumberCGFloatType</a> = 16</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;};</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#a4ab916b32ee1b52d606d73f809af02c9">  376</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Optional.html">Optional&lt;uint64_t&gt;</a> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a4ab916b32ee1b52d606d73f809af02c9">GetCFNumberSize</a>(<a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx, uint64_t i) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> FixedSize[] = { 8, 16, 32, 64, 32, 64 };</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">if</span> (i &lt; <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cac74be8449e505171ffbc73f4577a9a21">kCFNumberCharType</a>)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> FixedSize[i-1];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">switch</span> (i) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cac74be8449e505171ffbc73f4577a9a21">kCFNumberCharType</a>:     T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#a80ed5a736a74c76bbbd66b90821d1689">CharTy</a>;     <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca8b60e34093e6f6ebc610ccebbd89d671">kCFNumberShortType</a>:    T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#ac369991763a2aa6bf9a8a3ded653afd8">ShortTy</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0cdbcedf04d27cb83e79643d9b062bfc">kCFNumberIntType</a>:      T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0c6248717ad6dd44dfad938c2933df0b">kCFNumberLongType</a>:     T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#a0ba7f01d5d975ce7f18b482b052f10fb">LongTy</a>;     <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caaedbab9e9d68ce464701ea1a5f275c25">kCFNumberLongLongType</a>: T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#adca2e7646f51ee1e280cfad7b108bc60">LongLongTy</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca04dbd5a916bf33d5558e336b9da5b8bd">kCFNumberFloatType</a>:    T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#a30d239b8f8a7995d23cb4349038fa74f">FloatTy</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca4b0051937822479f84f0f1b3f5a70379">kCFNumberDoubleType</a>:   T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#a366594144d93311decc086cb980d69c2">DoubleTy</a>;   <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad9e08e5b2a8cb1dc5e48ba32c1185bf3">kCFNumberCFIndexType</a>:</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad379f14657042d675f7d2b232075c784">kCFNumberNSIntegerType</a>:</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caf2aa50f69972b4d8ee3d1788237b33b1">kCFNumberCGFloatType</a>:</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="comment">// FIXME: We need a way to map from names to Type*.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">return</span> None;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">return</span> Ctx.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(T);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* GetCFNumberTypeStr(uint64_t i) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* Names[] = {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="stringliteral">&quot;kCFNumberSInt8Type&quot;</span>,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="stringliteral">&quot;kCFNumberSInt16Type&quot;</span>,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="stringliteral">&quot;kCFNumberSInt32Type&quot;</span>,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="stringliteral">&quot;kCFNumberSInt64Type&quot;</span>,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="stringliteral">&quot;kCFNumberFloat32Type&quot;</span>,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="stringliteral">&quot;kCFNumberFloat64Type&quot;</span>,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="stringliteral">&quot;kCFNumberCharType&quot;</span>,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="stringliteral">&quot;kCFNumberShortType&quot;</span>,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="stringliteral">&quot;kCFNumberIntType&quot;</span>,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="stringliteral">&quot;kCFNumberLongType&quot;</span>,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="stringliteral">&quot;kCFNumberLongLongType&quot;</span>,</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="stringliteral">&quot;kCFNumberFloatType&quot;</span>,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="stringliteral">&quot;kCFNumberDoubleType&quot;</span>,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="stringliteral">&quot;kCFNumberCFIndexType&quot;</span>,</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="stringliteral">&quot;kCFNumberNSIntegerType&quot;</span>,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="stringliteral">&quot;kCFNumberCGFloatType&quot;</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  };</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">return</span> i &lt;= <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caf2aa50f69972b4d8ee3d1788237b33b1">kCFNumberCGFloatType</a> ? Names[i-1] : <span class="stringliteral">&quot;Invalid CFNumberType&quot;</span>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="keywordtype">void</span> CFNumberChecker::checkPreStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1CallExpr.html">CallExpr</a> *CE,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                         CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getCalleeDecl(CE);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (!FD)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span> (!ICreate) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    ICreate = &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;CFNumberCreate&quot;</span>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    IGetValue = &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;CFNumberGetValue&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (!(FD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>() == ICreate || FD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>() == IGetValue) ||</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      CE-&gt;<a class="code" href="classclang_1_1CallExpr.html#aa439df008533164342c841a8a22dec1f">getNumArgs</a>() != 3)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">// Get the value of the &quot;theType&quot; argument.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  SVal TheTypeVal = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(CE-&gt;<a class="code" href="classclang_1_1CallExpr.html#aa454d6f1e76623da60451885239f63c6">getArg</a>(1));</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="comment">// FIXME: We really should allow ranges of valid theType values, and</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="comment">//   bifurcate the state appropriately.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;nonloc::ConcreteInt&gt;</a> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> = TheTypeVal.getAs&lt;nonloc::ConcreteInt&gt;();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  uint64_t NumberKind = <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>-&gt;getValue().getLimitedValue();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;uint64_t&gt;</a> OptCFNumberSize = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a4ab916b32ee1b52d606d73f809af02c9">GetCFNumberSize</a>(Ctx, NumberKind);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// FIXME: In some cases we can emit an error.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (!OptCFNumberSize)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  uint64_t CFNumberSize = *OptCFNumberSize;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="comment">// Look at the value of the integer being passed by reference.  Essentially</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// we want to catch cases where the value passed in is not equal to the</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// size of the type being created.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  SVal TheValueExpr = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(CE-&gt;<a class="code" href="classclang_1_1CallExpr.html#aa454d6f1e76623da60451885239f63c6">getArg</a>(2));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// FIXME: Eventually we should handle arbitrary locations.  We can do this</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">//  by having an enhanced memory model that does low-level typing.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;loc::MemRegionVal&gt;</a> LV = TheValueExpr.getAs&lt;loc::MemRegionVal&gt;();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">if</span> (!LV)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keyword">const</span> TypedValueRegion* R = dyn_cast&lt;TypedValueRegion&gt;(LV-&gt;stripCasts());</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">if</span> (!R)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T = Ctx.<a class="code" href="classclang_1_1ASTContext.html#a3331da79e7408e108071a3e90154f411">getCanonicalType</a>(R-&gt;getValueType());</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// FIXME: If the pointee isn&#39;t an integer type, should we flag a warning?</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">//  People can do weird stuff with pointers.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#a58b6f352a1bd0963e500a4e902c4e74c">isIntegralOrEnumerationType</a>())</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  uint64_t PrimitiveTypeSize = Ctx.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(T);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (PrimitiveTypeSize == CFNumberSize)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">// FIXME: We can actually create an abstract &quot;CFNumber&quot; object that has</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">//  the bits initialized to the provided values.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  ExplodedNode *N = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.generateNonFatalErrorNode();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">if</span> (N) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;128&gt;</a> sbuf;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    llvm::raw_svector_ostream os(sbuf);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordtype">bool</span> isCreate = (FD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>() == ICreate);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> (isCreate) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      os &lt;&lt; (PrimitiveTypeSize == 8 ? <span class="stringliteral">&quot;An &quot;</span> : <span class="stringliteral">&quot;A &quot;</span>)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;         &lt;&lt; PrimitiveTypeSize &lt;&lt; <span class="stringliteral">&quot;-bit integer is used to initialize a &quot;</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;CFNumber object that represents &quot;</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         &lt;&lt; (CFNumberSize == 8 ? <span class="stringliteral">&quot;an &quot;</span> : <span class="stringliteral">&quot;a &quot;</span>)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;         &lt;&lt; CFNumberSize &lt;&lt; <span class="stringliteral">&quot;-bit integer; &quot;</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      os &lt;&lt; <span class="stringliteral">&quot;A CFNumber object that represents &quot;</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;         &lt;&lt; (CFNumberSize == 8 ? <span class="stringliteral">&quot;an &quot;</span> : <span class="stringliteral">&quot;a &quot;</span>)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;         &lt;&lt; CFNumberSize &lt;&lt; <span class="stringliteral">&quot;-bit integer is used to initialize &quot;</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;         &lt;&lt; (PrimitiveTypeSize == 8 ? <span class="stringliteral">&quot;an &quot;</span> : <span class="stringliteral">&quot;a &quot;</span>)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;         &lt;&lt; PrimitiveTypeSize &lt;&lt; <span class="stringliteral">&quot;-bit integer; &quot;</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (PrimitiveTypeSize &lt; CFNumberSize)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      os &lt;&lt; (CFNumberSize - PrimitiveTypeSize)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; bits of the CFNumber value will &quot;</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      &lt;&lt; (isCreate ? <span class="stringliteral">&quot;be garbage.&quot;</span> : <span class="stringliteral">&quot;overwrite adjacent storage.&quot;</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      os &lt;&lt; (PrimitiveTypeSize - CFNumberSize)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; bits of the integer value will be &quot;</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      &lt;&lt; (isCreate ? <span class="stringliteral">&quot;lost.&quot;</span> : <span class="stringliteral">&quot;garbage.&quot;</span>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (!BT)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      BT.reset(<span class="keyword">new</span> APIMisuse(<span class="keyword">this</span>, <span class="stringliteral">&quot;Bad use of CFNumber APIs&quot;</span>));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">auto</span> report = std::make_unique&lt;PathSensitiveBugReport&gt;(*BT, os.str(), N);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    report-&gt;addRange(CE-&gt;<a class="code" href="classclang_1_1CallExpr.html#aa454d6f1e76623da60451885239f63c6">getArg</a>(2)-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>());</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.emitReport(std::move(report));</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">// CFRetain/CFRelease/CFMakeCollectable/CFAutorelease checking for null arguments.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="keyword">class </span>CFRetainReleaseChecker : <span class="keyword">public</span> Checker&lt;check::PreCall&gt; {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keyword">mutable</span> APIMisuse BT{<span class="keyword">this</span>, <span class="stringliteral">&quot;null passed to CF memory management function&quot;</span>};</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keyword">const</span> CallDescriptionSet ModelledCalls = {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      {<span class="stringliteral">&quot;CFRetain&quot;</span>, 1},</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      {<span class="stringliteral">&quot;CFRelease&quot;</span>, 1},</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      {<span class="stringliteral">&quot;CFMakeCollectable&quot;</span>, 1},</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      {<span class="stringliteral">&quot;CFAutorelease&quot;</span>, 1},</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  };</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">void</span> checkPreCall(<span class="keyword">const</span> CallEvent &amp;Call, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;};</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="keywordtype">void</span> CFRetainReleaseChecker::checkPreCall(<span class="keyword">const</span> CallEvent &amp;Call,</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                          CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">// TODO: Make this check part of CallDescription.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">Call</a>.isGlobalCFunction())</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// Check if we called CFRetain/CFRelease/CFMakeCollectable/CFAutorelease.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">if</span> (!ModelledCalls.contains(Call))</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// Get the argument&#39;s value.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  SVal ArgVal = <a class="code" href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">Call</a>.getArgSVal(0);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;DefinedSVal&gt;</a> DefArgVal = ArgVal.getAs&lt;DefinedSVal&gt;();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (!DefArgVal)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Is it null?</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> stateNonNull, stateNull;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  std::tie(stateNonNull, stateNull) = <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>-&gt;assume(*DefArgVal);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (!stateNonNull) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    ExplodedNode *N = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.generateErrorNode(stateNull);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span> (!N)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;64&gt;</a> Str;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    raw_svector_ostream <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a>(Str);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;Null pointer argument in call to &quot;</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;       &lt;&lt; cast&lt;FunctionDecl&gt;(<a class="code" href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">Call</a>.getDecl())-&gt;getName();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keyword">auto</span> report = std::make_unique&lt;PathSensitiveBugReport&gt;(BT, <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a>.str(), N);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    report-&gt;addRange(<a class="code" href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">Call</a>.getArgSourceRange(0));</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="namespaceclang_1_1ento_1_1bugreporter.html#a9f4acbc86c4e8c0a8601b7e7e42814c9">bugreporter::trackExpressionValue</a>(N, <a class="code" href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">Call</a>.getArgExpr(0), *report);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.emitReport(std::move(report));</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">// From here on, we know the argument is non-null.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(stateNonNull);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">// Check for sending &#39;retain&#39;, &#39;release&#39;, or &#39;autorelease&#39; directly to a Class.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="keyword">class </span>ClassReleaseChecker : <span class="keyword">public</span> Checker&lt;check::PreObjCMessage&gt; {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> releaseS;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> retainS;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> autoreleaseS;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> drainS;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keyword">mutable</span> std::unique_ptr&lt;BugType&gt; BT;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordtype">void</span> checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;msg, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;};</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="keywordtype">void</span> ClassReleaseChecker::checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;msg,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                              CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">if</span> (!BT) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    BT.reset(<span class="keyword">new</span> APIMisuse(</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keyword">this</span>, <span class="stringliteral">&quot;message incorrectly sent to class instead of class instance&quot;</span>));</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    releaseS = <a class="code" href="namespaceclang.html#a8eddcb22f7683ba3e36cb2c82edf174d">GetNullarySelector</a>(<span class="stringliteral">&quot;release&quot;</span>, Ctx);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    retainS = <a class="code" href="namespaceclang.html#a8eddcb22f7683ba3e36cb2c82edf174d">GetNullarySelector</a>(<span class="stringliteral">&quot;retain&quot;</span>, Ctx);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    autoreleaseS = <a class="code" href="namespaceclang.html#a8eddcb22f7683ba3e36cb2c82edf174d">GetNullarySelector</a>(<span class="stringliteral">&quot;autorelease&quot;</span>, Ctx);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    drainS = <a class="code" href="namespaceclang.html#a8eddcb22f7683ba3e36cb2c82edf174d">GetNullarySelector</a>(<span class="stringliteral">&quot;drain&quot;</span>, Ctx);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">if</span> (msg.isInstanceMessage())</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af">Class</a> = msg.getReceiverInterface();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  assert(Class);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <a class="code" href="classclang_1_1Selector.html">Selector</a> S = msg.getSelector();</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">if</span> (!(S == releaseS || S == retainS || S == autoreleaseS || S == drainS))</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (ExplodedNode *N = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.generateNonFatalErrorNode()) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;200&gt;</a> buf;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    llvm::raw_svector_ostream os(buf);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;The &#39;&quot;</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    S.print(os);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;&#39; message should be sent to instances &quot;</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;          <span class="stringliteral">&quot;of class &#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af">Class</a>-&gt;getName()</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;&#39; and not the class directly&quot;</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keyword">auto</span> report = std::make_unique&lt;PathSensitiveBugReport&gt;(*BT, os.str(), N);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    report-&gt;addRange(msg.getSourceRange());</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.emitReport(std::move(report));</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">// Check for passing non-Objective-C types to variadic methods that expect</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">// only Objective-C types.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="keyword">class </span>VariadicMethodTypeChecker : <span class="keyword">public</span> Checker&lt;check::PreObjCMessage&gt; {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> arrayWithObjectsS;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> dictionaryWithObjectsAndKeysS;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> setWithObjectsS;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> orderedSetWithObjectsS;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> initWithObjectsS;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> initWithObjectsAndKeysS;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keyword">mutable</span> std::unique_ptr&lt;BugType&gt; BT;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">bool</span> isVariadicMessage(<span class="keyword">const</span> ObjCMethodCall &amp;msg) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordtype">void</span> checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;msg, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;};</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">/// isVariadicMessage - Returns whether the given message is a variadic message,</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">/// where all arguments must be Objective-C types.</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;VariadicMethodTypeChecker::isVariadicMessage(<span class="keyword">const</span> ObjCMethodCall &amp;msg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *MD = msg.getDecl();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">if</span> (!MD || !MD-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#a539cd985cd56ff90d2907cf9b35c23d1">isVariadic</a>() || isa&lt;ObjCProtocolDecl&gt;(MD-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>()))</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <a class="code" href="classclang_1_1Selector.html">Selector</a> S = msg.getSelector();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">if</span> (msg.isInstanceMessage()) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// FIXME: Ideally we&#39;d look at the receiver interface here, but that&#39;s not</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// useful for init, because alloc returns &#39;id&#39;. In theory, this could lead</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">// to false positives, for example if there existed a class that had an</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// initWithObjects: implementation that does accept non-Objective-C pointer</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">// types, but the chance of that happening is pretty small compared to the</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="comment">// gains that this analysis gives.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af">Class</a> = MD-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#ae289a054485ee4d1d66b33e833e16091">getClassInterface</a>();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(Class)) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>:</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>:</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a>:</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="keywordflow">return</span> S == initWithObjectsS;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>:</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keywordflow">return</span> S == initWithObjectsAndKeysS;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af">Class</a> = msg.getReceiverInterface();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(Class)) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>:</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">return</span> S == arrayWithObjectsS;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>:</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">return</span> S == orderedSetWithObjectsS;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a>:</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">return</span> S == setWithObjectsS;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>:</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">return</span> S == dictionaryWithObjectsAndKeysS;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="keywordtype">void</span> VariadicMethodTypeChecker::checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;msg,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                                    CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">if</span> (!BT) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    BT.reset(<span class="keyword">new</span> APIMisuse(<span class="keyword">this</span>,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                           <span class="stringliteral">&quot;Arguments passed to variadic method aren&#39;t all &quot;</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                           <span class="stringliteral">&quot;Objective-C pointer types&quot;</span>));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    arrayWithObjectsS = <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;arrayWithObjects&quot;</span>, Ctx);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    dictionaryWithObjectsAndKeysS =</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;dictionaryWithObjectsAndKeys&quot;</span>, Ctx);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    setWithObjectsS = <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;setWithObjects&quot;</span>, Ctx);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    orderedSetWithObjectsS = <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;orderedSetWithObjects&quot;</span>, Ctx);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    initWithObjectsS = <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;initWithObjects&quot;</span>, Ctx);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    initWithObjectsAndKeysS = <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;initWithObjectsAndKeys&quot;</span>, Ctx);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">if</span> (!isVariadicMessage(msg))</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// We are not interested in the selector arguments since they have</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="comment">// well-defined types, so the compiler will issue a warning for them.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordtype">unsigned</span> variadicArgsBegin = msg.getSelector().getNumArgs();</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// We&#39;re not interested in the last argument since it has to be nil or the</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="comment">// compiler would have issued a warning for it elsewhere.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordtype">unsigned</span> variadicArgsEnd = msg.getNumArgs() - 1;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">if</span> (variadicArgsEnd &lt;= variadicArgsBegin)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// Verify that all arguments have Objective-C types.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;ExplodedNode*&gt;</a> errorNode;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = variadicArgsBegin; I != variadicArgsEnd; ++I) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> ArgTy = msg.getArgExpr(I)-&gt;getType();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span> (ArgTy-&gt;<a class="code" href="classclang_1_1Type.html#ab6892f73d3e8a207c397b038ab090b77">isObjCObjectPointerType</a>())</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// Block pointers are treaded as Objective-C pointers.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (ArgTy-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>())</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">// Ignore pointer constants.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">if</span> (msg.getArgSVal(I).getAs&lt;loc::ConcreteInt&gt;())</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">// Ignore pointer types annotated with &#39;NSObject&#39; attribute.</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext().isObjCNSObjectType(ArgTy))</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// Ignore CF references, which can be toll-free bridged.</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ento_1_1coreFoundation.html#ac05ef7cd6f4fa4f1a78eb2349972095b">coreFoundation::isCFObjectRef</a>(ArgTy))</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// Generate only one error node to use for all bug reports.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span> (!errorNode.hasValue())</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      errorNode = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.generateNonFatalErrorNode();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (!errorNode.getValue())</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;128&gt;</a> sbuf;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    llvm::raw_svector_ostream os(sbuf);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    StringRef <a class="code" href="namespaceclang.html#a7379bdfd074341d981e1a31d6de2cff3ae175f7206492c365397d33a0df9cc8d0">TypeName</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ab91fe16a4acf42262c10101f460a4e25">GetReceiverInterfaceName</a>(msg);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang.html#a7379bdfd074341d981e1a31d6de2cff3ae175f7206492c365397d33a0df9cc8d0">TypeName</a>.empty())</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      os &lt;&lt; <span class="stringliteral">&quot;Argument to &#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#a7379bdfd074341d981e1a31d6de2cff3ae175f7206492c365397d33a0df9cc8d0">TypeName</a> &lt;&lt; <span class="stringliteral">&quot;&#39; method &#39;&quot;</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      os &lt;&lt; <span class="stringliteral">&quot;Argument to method &#39;&quot;</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    msg.getSelector().print(os);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;&#39; should be an Objective-C pointer type, not &#39;&quot;</span>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    ArgTy.<a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">print</a>(os, <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getLangOpts());</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keyword">auto</span> R = std::make_unique&lt;PathSensitiveBugReport&gt;(*BT, os.str(),</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                                      errorNode.getValue());</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    R-&gt;addRange(msg.getArgSourceRange(I));</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.emitReport(std::move(R));</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">// Improves the modeling of loops over Cocoa collections.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">// The map from container symbol to the container count symbol.</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">// We currently will remember the last container count symbol encountered.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<a class="code" href="ProgramStateTrait_8h.html#a6d1893bb8c18543337b6c363c1319fcf">REGISTER_MAP_WITH_PROGRAMSTATE</a>(ContainerCountMap, <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a>, <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a>)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<a class="code" href="ProgramStateTrait_8h.html#a6d1893bb8c18543337b6c363c1319fcf">REGISTER_MAP_WITH_PROGRAMSTATE</a>(ContainerNonEmptyMap, <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a>, <span class="keywordtype">bool</span>)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="keyword">class </span>ObjCLoopChecker</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  : <span class="keyword">public</span> Checker&lt;check::PostStmt&lt;ObjCForCollectionStmt&gt;,</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                   check::PostObjCMessage,</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                   check::DeadSymbols,</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                   check::PointerEscape &gt; {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *CountSelectorII;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordtype">bool</span> isCollectionCountMethod(<span class="keyword">const</span> ObjCMethodCall &amp;M,</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                               CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  ObjCLoopChecker() : CountSelectorII(nullptr) {}</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCForCollectionStmt.html">ObjCForCollectionStmt</a> *FCS, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordtype">void</span> checkPostObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordtype">void</span> checkDeadSymbols(SymbolReaper &amp;SymReaper, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> checkPointerEscape(<a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="namespaceclang_1_1ento.html#ab2743eb22efec4f33d5138cfb12366d6">InvalidatedSymbols</a> &amp;Escaped,</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                     <span class="keyword">const</span> CallEvent *Call,</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                                     <a class="code" href="namespaceclang_1_1ento.html#a1f45158b71c9d04bfd6094ee29a38e59">PointerEscapeKind</a> <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;};</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#a79ecac92a9a4f1b276ef7a4e5cebfa34">  832</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a79ecac92a9a4f1b276ef7a4e5cebfa34">isKnownNonNilCollectionType</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *PT = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">if</span> (!PT)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a> = PT-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">getInterfaceDecl</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>)) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>:</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>:</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6acaaf606a7c8158230ec2717bdde06b5b">FC_NSEnumerator</a>:</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>:</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a>:</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">/// Assumes that the collection is non-nil.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">/// If the collection is known to be nil, returns NULL to indicate an infeasible</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">/// path.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#a1a395d5b17a200dc6b84d778f0e5d231">  857</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a1a395d5b17a200dc6b84d778f0e5d231">checkCollectionNonNil</a>(CheckerContext &amp;C,</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                             <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCForCollectionStmt.html">ObjCForCollectionStmt</a> *FCS) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  SVal CollectionVal = C.getSVal(FCS-&gt;<a class="code" href="classclang_1_1ObjCForCollectionStmt.html#a4bc912c3ad7e9cc5b19a22b7dd743139">getCollection</a>());</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;DefinedSVal&gt;</a> KnownCollection = CollectionVal.getAs&lt;DefinedSVal&gt;();</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keywordflow">if</span> (!KnownCollection)</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> StNonNil, StNil;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  std::tie(StNonNil, StNil) = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;assume(*KnownCollection);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">if</span> (StNil &amp;&amp; !StNonNil) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// The collection is nil. This path is infeasible.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">return</span> StNonNil;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">/// Assumes that the collection elements are non-nil.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">/// This only applies if the collection is one of those known not to contain</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">/// nil values.</span></div>
<div class="line"><a name="l00882"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#ada326547799f2819472ff9cab3ce8ac1">  882</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ada326547799f2819472ff9cab3ce8ac1">checkElementNonNil</a>(CheckerContext &amp;C,</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                                          <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCForCollectionStmt.html">ObjCForCollectionStmt</a> *FCS) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="comment">// See if the collection is one where we /know/ the elements are non-nil.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a79ecac92a9a4f1b276ef7a4e5cebfa34">isKnownNonNilCollectionType</a>(FCS-&gt;<a class="code" href="classclang_1_1ObjCForCollectionStmt.html#a4bc912c3ad7e9cc5b19a22b7dd743139">getCollection</a>()-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()))</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1LocationContext.html">LocationContext</a> *LCtx = C.getLocationContext();</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *Element = FCS-&gt;<a class="code" href="classclang_1_1ObjCForCollectionStmt.html#a13ce6a12def9e05f184b2bf674d77c70">getElement</a>();</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="comment">// FIXME: Copied from ExprEngineObjC.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;Loc&gt;</a> ElementLoc;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1DeclStmt.html">DeclStmt</a> *DS = dyn_cast&lt;DeclStmt&gt;(Element)) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *ElemDecl = cast&lt;VarDecl&gt;(DS-&gt;getSingleDecl());</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    assert(ElemDecl-&gt;<a class="code" href="classclang_1_1VarDecl.html#ad8df9632390e9a81716f89a7beb65131">getInit</a>() == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    ElementLoc = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;getLValue(ElemDecl, LCtx);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    ElementLoc = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;getSVal(Element, LCtx).getAs&lt;Loc&gt;();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (!ElementLoc)</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="comment">// Go ahead and assume the value is non-nil.</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  SVal Val = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;getSVal(*ElementLoc);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;assume(Val.castAs&lt;DefinedOrUnknownSVal&gt;(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">/// Returns NULL state if the collection is known to contain elements</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">/// (or is known not to contain elements if the Assumption parameter is false.)</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a></div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">  916</a></span>&#160;<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">assumeCollectionNonEmpty</a>(CheckerContext &amp;C, <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                         <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> CollectionS, <span class="keywordtype">bool</span> Assumption) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> || !CollectionS)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> *CountS = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;ContainerCountMap&gt;(CollectionS);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (!CountS) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> *KnownNonEmpty = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;ContainerNonEmptyMap&gt;(CollectionS);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (!KnownNonEmpty)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;ContainerNonEmptyMap&gt;(CollectionS, Assumption);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">return</span> (Assumption == *KnownNonEmpty) ? <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  SValBuilder &amp;SvalBuilder = C.getSValBuilder();</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  SVal CountGreaterThanZeroVal =</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    SvalBuilder.evalBinOp(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, BO_GT,</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                          nonloc::SymbolVal(*CountS),</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                          SvalBuilder.makeIntVal(0, (*CountS)-&gt;getType()),</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                          SvalBuilder.getConditionType());</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;DefinedSVal&gt;</a> CountGreaterThanZero =</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    CountGreaterThanZeroVal.getAs&lt;DefinedSVal&gt;();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keywordflow">if</span> (!CountGreaterThanZero) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// The SValBuilder cannot construct a valid SVal for this condition.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// This means we cannot properly reason about it.</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;assume(*CountGreaterThanZero, Assumption);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a></div>
<div class="line"><a name="l00947"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#aad37768f300db5cf13c1e62d97f191de">  947</a></span>&#160;<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">assumeCollectionNonEmpty</a>(CheckerContext &amp;C, <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCForCollectionStmt.html">ObjCForCollectionStmt</a> *FCS,</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                         <span class="keywordtype">bool</span> Assumption) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> CollectionS = C.getSVal(FCS-&gt;<a class="code" href="classclang_1_1ObjCForCollectionStmt.html#a4bc912c3ad7e9cc5b19a22b7dd743139">getCollection</a>()).getAsSymbol();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">assumeCollectionNonEmpty</a>(C, <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, CollectionS, Assumption);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">/// If the fist block edge is a back edge, we are reentering the loop.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#a06f0fe6eb91d3fbf16f87fabe5cd6bcf">  958</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a06f0fe6eb91d3fbf16f87fabe5cd6bcf">alreadyExecutedAtLeastOneLoopIteration</a>(<span class="keyword">const</span> ExplodedNode *N,</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCForCollectionStmt.html">ObjCForCollectionStmt</a> *FCS) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">if</span> (!N)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <a class="code" href="classclang_1_1ProgramPoint.html">ProgramPoint</a> <a class="code" href="ASTMatchersInternal_8cpp.html#a538dc9e683c4153ed65c95352d7ffa40">P</a> = N-&gt;getLocation();</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Optional.html">Optional&lt;BlockEdge&gt;</a> BE = <a class="code" href="ASTMatchersInternal_8cpp.html#a538dc9e683c4153ed65c95352d7ffa40">P</a>.getAs&lt;<a class="code" href="classclang_1_1BlockEdge.html">BlockEdge</a>&gt;()) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">return</span> BE-&gt;getSrc()-&gt;getLoopTarget() == FCS;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// Keep looking for a block edge.</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1ento_1_1ExplodedNode.html#ad60734bba43011ca93cc5f6257f402e3">ExplodedNode::const_pred_iterator</a> I = N-&gt;<a class="code" href="classclang_1_1ento_1_1ExplodedNode.html#a20538149cf337ff911fdd487f56c0732">pred_begin</a>(),</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                                         E = N-&gt;pred_end(); I != E; ++I) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a06f0fe6eb91d3fbf16f87fabe5cd6bcf">alreadyExecutedAtLeastOneLoopIteration</a>(*I, FCS))</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="keywordtype">void</span> ObjCLoopChecker::checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCForCollectionStmt.html">ObjCForCollectionStmt</a> *FCS,</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                                    CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="comment">// Check if this is the branch for the end of the loop.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classclang_1_1ento_1_1ExprEngine.html#a3823ba3151a4406ab2bbc00069cf3ff1">ExprEngine::hasMoreIteration</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, FCS, <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getLocationContext())) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a06f0fe6eb91d3fbf16f87fabe5cd6bcf">alreadyExecutedAtLeastOneLoopIteration</a>(<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getPredecessor(), FCS))</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">assumeCollectionNonEmpty</a>(C, <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, FCS, <span class="comment">/*Assumption*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// Otherwise, this is a branch that goes through the loop body.</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a1a395d5b17a200dc6b84d778f0e5d231">checkCollectionNonNil</a>(C, <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, FCS);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ada326547799f2819472ff9cab3ce8ac1">checkElementNonNil</a>(C, <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, FCS);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">assumeCollectionNonEmpty</a>(C, <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, FCS, <span class="comment">/*Assumption*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>)</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.generateSink(<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState(), <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getPredecessor());</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> != <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState())</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="keywordtype">bool</span> ObjCLoopChecker::isCollectionCountMethod(<span class="keyword">const</span> ObjCMethodCall &amp;M,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                              CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="classclang_1_1Selector.html">Selector</a> S = M.getSelector();</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// Initialize the identifiers on first use.</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">if</span> (!CountSelectorII)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    CountSelectorII = &amp;<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext().Idents.get(<span class="stringliteral">&quot;count&quot;</span>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="comment">// If the method returns collection count, record the value.</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">return</span> S.isUnarySelector() &amp;&amp;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;         (S.getIdentifierInfoForSlot(0) == CountSelectorII);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="keywordtype">void</span> ObjCLoopChecker::checkPostObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M,</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                                           CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordflow">if</span> (!M.isInstanceMessage())</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *ClassID = M.getReceiverInterface();</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keywordflow">if</span> (!ClassID)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af">Class</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(ClassID);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (Class != <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a> &amp;&amp;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      Class != <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a> &amp;&amp;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      Class != <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a> &amp;&amp;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      Class != <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> ContainerS = M.getReceiverSVal().getAsSymbol();</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">if</span> (!ContainerS)</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="comment">// If we are processing a call to &quot;count&quot;, get the symbolic value returned by</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">// a call to &quot;count&quot; and add it to the map.</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">if</span> (!isCollectionCountMethod(M, C))</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *MsgExpr = M.getOriginExpr();</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> CountS = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(MsgExpr).getAsSymbol();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (CountS) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSymbolManager().addSymbolDependency(ContainerS, CountS);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;ContainerCountMap&gt;(ContainerS, CountS);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">bool</span> *NonEmpty = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;ContainerNonEmptyMap&gt;(ContainerS)) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;remove&lt;ContainerNonEmptyMap&gt;(ContainerS);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">assumeCollectionNonEmpty</a>(C, <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, ContainerS, *NonEmpty);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;}</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="BasicObjCFoundationChecks_8cpp.html#ab5383d7604ee5af21691acb4f7078ac7"> 1054</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ab5383d7604ee5af21691acb4f7078ac7">getMethodReceiverIfKnownImmutable</a>(<span class="keyword">const</span> CallEvent *Call) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keyword">const</span> ObjCMethodCall *Message = dyn_cast_or_null&lt;ObjCMethodCall&gt;(Call);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (!Message)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *MD = Message-&gt;getDecl();</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">if</span> (!MD)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *StaticClass;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ObjCProtocolDecl&gt;(MD-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>())) {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="comment">// We can&#39;t find out where the method was declared without doing more work.</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="comment">// Instead, see if the receiver is statically typed as a known immutable</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">// collection.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    StaticClass = Message-&gt;getOriginExpr()-&gt;getReceiverInterface();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    StaticClass = MD-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#ae289a054485ee4d1d66b33e833e16091">getClassInterface</a>();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">if</span> (!StaticClass)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(StaticClass, <span class="comment">/*IncludeSuper=*/</span><span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a21e7aeccc42f26b2e942ae4655e793cb">FC_None</a>:</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a>:</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a>:</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6acaaf606a7c8158230ec2717bdde06b5b">FC_NSEnumerator</a>:</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a28092e02c5f3e1dae5d13d8ca0226db1">FC_NSNull</a>:</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>:</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a>:</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a9bc9a52cef75b57a1891076b8b08cb4c">FC_NSString</a>:</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">return</span> Message-&gt;getReceiverSVal().getAsSymbol();</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;}</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;ObjCLoopChecker::checkPointerEscape(<a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="namespaceclang_1_1ento.html#ab2743eb22efec4f33d5138cfb12366d6">InvalidatedSymbols</a> &amp;Escaped,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                    <span class="keyword">const</span> CallEvent *Call,</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                    <a class="code" href="namespaceclang_1_1ento.html#a1f45158b71c9d04bfd6094ee29a38e59">PointerEscapeKind</a> <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> ImmutableReceiver = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#ab5383d7604ee5af21691acb4f7078ac7">getMethodReceiverIfKnownImmutable</a>(Call);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// Remove the invalidated symbols form the collection count map.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">for</span> (InvalidatedSymbols::const_iterator I = Escaped.begin(),</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;       E = Escaped.end();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;       I != E; ++I) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym = *I;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// Don&#39;t invalidate this symbol&#39;s count if we know the method being called</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="comment">// is declared on an immutable class. This isn&#39;t completely correct if the</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// receiver is also passed as an argument, but in most uses of NSArray,</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">// NSDictionary, etc. this isn&#39;t likely to happen in a dangerous way.</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">if</span> (Sym == ImmutableReceiver)</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// The symbol escaped. Pessimistically, assume that the count could have</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment">// changed.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;remove&lt;ContainerCountMap&gt;(Sym);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;remove&lt;ContainerNonEmptyMap&gt;(Sym);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="keywordtype">void</span> ObjCLoopChecker::checkDeadSymbols(SymbolReaper &amp;SymReaper,</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                       CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// Remove the dead symbols from the collection count map.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  ContainerCountMapTy Tracked = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;ContainerCountMap&gt;();</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">for</span> (ContainerCountMapTy::iterator I = Tracked.begin(),</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                                     E = Tracked.end(); I != E; ++I) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym = I-&gt;first;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> (SymReaper.isDead(Sym)) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;remove&lt;ContainerCountMap&gt;(Sym);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;remove&lt;ContainerNonEmptyMap&gt;(Sym);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;}</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment">/// \class ObjCNonNilReturnValueChecker</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">/// The checker restricts the return values of APIs known to</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="comment">/// never (or almost never) return &#39;nil&#39;.</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment"></span><span class="keyword">class </span>ObjCNonNilReturnValueChecker</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  : <span class="keyword">public</span> Checker&lt;check::PostObjCMessage,</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                   check::PostStmt&lt;ObjCArrayLiteral&gt;,</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                   check::PostStmt&lt;ObjCDictionaryLiteral&gt;,</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                   check::PostStmt&lt;ObjCBoxedExpr&gt; &gt; {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keyword">mutable</span> <span class="keywordtype">bool</span> <a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880aae32940b344dab2f4e31be660ce1ab02">Initialized</a>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> ObjectAtIndex;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> ObjectAtIndexedSubscript;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classclang_1_1Selector.html">Selector</a> NullSelector;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  ObjCNonNilReturnValueChecker() : <a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880aae32940b344dab2f4e31be660ce1ab02">Initialized</a>(<a class="code" href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> assumeExprIsNonNull(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *NonNullExpr,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                      <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                                      CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keywordtype">void</span> assumeExprIsNonNull(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E, CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(assumeExprIsNonNull(E, <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState(), C));</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  }</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCArrayLiteral.html">ObjCArrayLiteral</a> *E, CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    assumeExprIsNonNull(E, C);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCDictionaryLiteral.html">ObjCDictionaryLiteral</a> *E, CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    assumeExprIsNonNull(E, C);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCBoxedExpr.html">ObjCBoxedExpr</a> *E, CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    assumeExprIsNonNull(E, C);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordtype">void</span> checkPostObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;};</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;ObjCNonNilReturnValueChecker::assumeExprIsNonNull(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *NonNullExpr,</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                                                  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                                                  CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  SVal Val = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(NonNullExpr);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Optional.html">Optional&lt;DefinedOrUnknownSVal&gt;</a> DV = Val.getAs&lt;DefinedOrUnknownSVal&gt;())</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;assume(*DV, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="keywordtype">void</span> ObjCNonNilReturnValueChecker::checkPostObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M,</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                                                        CheckerContext &amp;C)<span class="keyword"></span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="keyword">                                                        const </span>{</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880aae32940b344dab2f4e31be660ce1ab02">Initialized</a>) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    ObjectAtIndex = <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;objectAtIndex&quot;</span>, Ctx);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    ObjectAtIndexedSubscript = <a class="code" href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">GetUnarySelector</a>(<span class="stringliteral">&quot;objectAtIndexedSubscript&quot;</span>, Ctx);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    NullSelector = <a class="code" href="namespaceclang.html#a8eddcb22f7683ba3e36cb2c82edf174d">GetNullarySelector</a>(<span class="stringliteral">&quot;null&quot;</span>, Ctx);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">// Check the receiver type.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *Interface = M.getReceiverInterface()) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="comment">// Assume that object returned from &#39;[self init]&#39; or &#39;[super init]&#39; is not</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="comment">// &#39;nil&#39; if we are processing an inlined function/method.</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="comment">// A defensive callee will (and should) check if the object returned by</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// &#39;[super init]&#39; is &#39;nil&#39; before doing it&#39;s own initialization. However,</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// since &#39;nil&#39; is rarely returned in practice, we should not warn when the</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">// caller to the defensive constructor uses the object in contexts where</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">// &#39;nil&#39; is not accepted.</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.inTopFrame() &amp;&amp; M.getDecl() &amp;&amp;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        M.getDecl()-&gt;getMethodFamily() == <a class="code" href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece">OMF_init</a> &amp;&amp;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        M.isReceiverSelfOrSuper()) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = assumeExprIsNonNull(M.getOriginExpr(), <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, C);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a> <a class="code" href="classclang_1_1Expr_1_1Classification.html">Cl</a> = <a class="code" href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a>(Interface);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="comment">// Objects returned from</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="comment">// [NSArray|NSOrderedSet]::[ObjectAtIndex|ObjectAtIndexedSubscript]</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="comment">// are never &#39;nil&#39;.</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Expr_1_1Classification.html">Cl</a> == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a> || <a class="code" href="classclang_1_1Expr_1_1Classification.html">Cl</a> == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a>) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="classclang_1_1Selector.html">Selector</a> Sel = M.getSelector();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">if</span> (Sel == ObjectAtIndex || Sel == ObjectAtIndexedSubscript) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="comment">// Go ahead and assume the value is non-nil.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = assumeExprIsNonNull(M.getOriginExpr(), <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, C);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="comment">// Objects returned from [NSNull null] are not nil.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Expr_1_1Classification.html">Cl</a> == <a class="code" href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a28092e02c5f3e1dae5d13d8ca0226db1">FC_NSNull</a>) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">if</span> (M.getSelector() == NullSelector) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="comment">// Go ahead and assume the value is non-nil.</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = assumeExprIsNonNull(M.getOriginExpr(), <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, C);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;}</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">// Check registration.</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="keywordtype">void</span> ento::registerNilArgChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  mgr.registerChecker&lt;NilArgChecker&gt;();</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;}</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterNilArgChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;}</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="keywordtype">void</span> ento::registerCFNumberChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  mgr.registerChecker&lt;CFNumberChecker&gt;();</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterCFNumberChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="keywordtype">void</span> ento::registerCFRetainReleaseChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  mgr.registerChecker&lt;CFRetainReleaseChecker&gt;();</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterCFRetainReleaseChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="keywordtype">void</span> ento::registerClassReleaseChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  mgr.registerChecker&lt;ClassReleaseChecker&gt;();</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;}</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterClassReleaseChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;}</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="keywordtype">void</span> ento::registerVariadicMethodTypeChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  mgr.registerChecker&lt;VariadicMethodTypeChecker&gt;();</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;}</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterVariadicMethodTypeChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;}</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="keywordtype">void</span> ento::registerObjCLoopChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  mgr.registerChecker&lt;ObjCLoopChecker&gt;();</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;}</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterObjCLoopChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="keywordtype">void</span> ento::registerObjCNonNilReturnValueChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  mgr.registerChecker&lt;ObjCNonNilReturnValueChecker&gt;();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;}</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterObjCNonNilReturnValueChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html">clang::ObjCInterfaceDecl</a></div><div class="ttdoc">Represents an ObjC class declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01150">DeclObjC.h:1150</a></div></div>
<div class="ttc" id="aclassclang_1_1ento_1_1ExplodedNode_html_a20538149cf337ff911fdd487f56c0732"><div class="ttname"><a href="classclang_1_1ento_1_1ExplodedNode.html#a20538149cf337ff911fdd487f56c0732">clang::ento::ExplodedNode::pred_begin</a></div><div class="ttdeci">pred_iterator pred_begin()</div><div class="ttdef"><b>Definition:</b> <a href="ExplodedGraph_8h_source.html#l00237">ExplodedGraph.h:237</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">YAML serialization mapping.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00030">Dominators.h:30</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCForCollectionStmt_html_a13ce6a12def9e05f184b2bf674d77c70"><div class="ttname"><a href="classclang_1_1ObjCForCollectionStmt.html#a13ce6a12def9e05f184b2bf674d77c70">clang::ObjCForCollectionStmt::getElement</a></div><div class="ttdeci">Stmt * getElement()</div><div class="ttdef"><b>Definition:</b> <a href="StmtObjC_8h_source.html#l00034">StmtObjC.h:34</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCBoxedExpr_html"><div class="ttname"><a href="classclang_1_1ObjCBoxedExpr.html">clang::ObjCBoxedExpr</a></div><div class="ttdoc">ObjCBoxedExpr - used for generalized expression boxing.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00128">ExprObjC.h:128</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a06d89fecda3031cfd993e15b425212b2"><div class="ttname"><a href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">clang::Type::isBlockPointerType</a></div><div class="ttdeci">bool isBlockPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06758">Type.h:6758</a></div></div>
<div class="ttc" id="anamespaceclang_1_1index_html_a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af"><div class="ttname"><a href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea9bd81329febf6efe22788e03ddeaf0af">clang::index::SymbolKind::Class</a></div><div class="ttdeci">@ Class</div></div>
<div class="ttc" id="aclassclang_1_1LocationContext_html"><div class="ttname"><a href="classclang_1_1LocationContext.html">clang::LocationContext</a></div><div class="ttdoc">It wraps the AnalysisDeclContext to represent both the call stack with the help of StackFrameContext ...</div><div class="ttdef"><b>Definition:</b> <a href="AnalysisDeclContext_8h_source.html#l00215">AnalysisDeclContext.h:215</a></div></div>
<div class="ttc" id="astructclang_1_1ObjCDictionaryElement_html"><div class="ttname"><a href="structclang_1_1ObjCDictionaryElement.html">clang::ObjCDictionaryElement</a></div><div class="ttdoc">An element in an Objective-C dictionary literal.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00263">ExprObjC.h:263</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_ae57ee8ff4e3f7b9ab8a477d9e00cc52daa17cbd516e91f8961541342be0fc1480"><div class="ttname"><a href="namespaceclang_1_1ento.html#ae57ee8ff4e3f7b9ab8a477d9e00cc52daa17cbd516e91f8961541342be0fc1480">clang::ento::OCM_Subscript</a></div><div class="ttdeci">@ OCM_Subscript</div><div class="ttdef"><b>Definition:</b> <a href="CallEvent_8h_source.html#l01098">CallEvent.h:1098</a></div></div>
<div class="ttc" id="aCallDescription_8h_html"><div class="ttname"><a href="CallDescription_8h.html">CallDescription.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCDictionaryLiteral_html_a470aecb5b60f0735a5a065dae9bd506b"><div class="ttname"><a href="classclang_1_1ObjCDictionaryLiteral.html#a470aecb5b60f0735a5a065dae9bd506b">clang::ObjCDictionaryLiteral::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const</div><div class="ttdoc">getNumElements - Return number of elements of objective-c dictionary literal.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00360">ExprObjC.h:360</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca8b60e34093e6f6ebc610ccebbd89d671"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca8b60e34093e6f6ebc610ccebbd89d671">kCFNumberShortType</a></div><div class="ttdeci">@ kCFNumberShortType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00365">BasicObjCFoundationChecks.cpp:365</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a93dc55c38218e65c4f54c24e1eace1ae">FC_NSSet</a></div><div class="ttdeci">@ FC_NSSet</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00066">BasicObjCFoundationChecks.cpp:66</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceRange_html"><div class="ttname"><a href="classclang_1_1SourceRange.html">clang::SourceRange</a></div><div class="ttdoc">A trivial tuple used to represent a source range.</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00210">SourceLocation.h:210</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_a1a395d5b17a200dc6b84d778f0e5d231"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#a1a395d5b17a200dc6b84d778f0e5d231">checkCollectionNonNil</a></div><div class="ttdeci">static ProgramStateRef checkCollectionNonNil(CheckerContext &amp;C, ProgramStateRef State, const ObjCForCollectionStmt *FCS)</div><div class="ttdoc">Assumes that the collection is non-nil.</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00857">BasicObjCFoundationChecks.cpp:857</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCArrayLiteral_html_a685c5582acd247f9b4a9fdc00fd96114"><div class="ttname"><a href="classclang_1_1ObjCArrayLiteral.html#a685c5582acd247f9b4a9fdc00fd96114">clang::ObjCArrayLiteral::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const</div><div class="ttdoc">getNumElements - Return number of elements of objective-c array literal.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00229">ExprObjC.h:229</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierTable_html_aea14376d325400caa8a8183d14a02f39"><div class="ttname"><a href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">clang::IdentifierTable::get</a></div><div class="ttdeci">IdentifierInfo &amp; get(StringRef Name)</div><div class="ttdoc">Return the identifier token info for the specified named identifier.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00596">IdentifierTable.h:596</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6aecf88e14bd4e5e2b01aa69eaff87aa04">FC_NSDictionary</a></div><div class="ttdeci">@ FC_NSDictionary</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00062">BasicObjCFoundationChecks.cpp:62</a></div></div>
<div class="ttc" id="aclassclang_1_1ento_1_1ExprEngine_html_a3823ba3151a4406ab2bbc00069cf3ff1"><div class="ttname"><a href="classclang_1_1ento_1_1ExprEngine.html#a3823ba3151a4406ab2bbc00069cf3ff1">clang::ento::ExprEngine::hasMoreIteration</a></div><div class="ttdeci">static LLVM_NODISCARD bool hasMoreIteration(ProgramStateRef State, const ObjCForCollectionStmt *O, const LocationContext *LC)</div><div class="ttdef"><b>Definition:</b> <a href="ExprEngine_8cpp_source.html#l02169">ExprEngine.cpp:2169</a></div></div>
<div class="ttc" id="anamespaceclang_html_af1b239ed5da9c4ad1781c2e2afd80189"><div class="ttname"><a href="namespaceclang.html#af1b239ed5da9c4ad1781c2e2afd80189">clang::getKeywordSelector</a></div><div class="ttdeci">static Selector getKeywordSelector(ASTContext &amp;Ctx, IdentifierInfos *... IIs)</div><div class="ttdef"><b>Definition:</b> <a href="SelectorExtras_8h_source.html#l00017">SelectorExtras.h:17</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_ab5383d7604ee5af21691acb4f7078ac7"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#ab5383d7604ee5af21691acb4f7078ac7">getMethodReceiverIfKnownImmutable</a></div><div class="ttdeci">static SymbolRef getMethodReceiverIfKnownImmutable(const CallEvent *Call)</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l01054">BasicObjCFoundationChecks.cpp:1054</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html_a6844392ee6148b5fe821f211b95e5d1b"><div class="ttname"><a href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">clang::Stmt::getSourceRange</a></div><div class="ttdeci">SourceRange getSourceRange() const LLVM_READONLY</div><div class="ttdoc">SourceLocation tokens are not useful in isolation - they are low level value objects created/interpre...</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8cpp_source.html#l00324">Stmt.cpp:324</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a4e45a121820f0d80d8910093dd33a1df"><div class="ttname"><a href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">clang::ento::ProgramStateRef</a></div><div class="ttdeci">IntrusiveRefCntPtr&lt; const ProgramState &gt; ProgramStateRef</div><div class="ttdef"><b>Definition:</b> <a href="ProgramState__Fwd_8h_source.html#l00037">ProgramState_Fwd.h:37</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html"><div class="ttname"><a href="classclang_1_1QualType.html">clang::QualType</a></div><div class="ttdoc">A (possibly-)qualified type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00675">Type.h:675</a></div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html_a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e"><div class="ttname"><a href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">AttributeLangSupport::C</a></div><div class="ttdeci">@ C</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00054">SemaDeclAttr.cpp:54</a></div></div>
<div class="ttc" id="anamespaceclang_html_a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece"><div class="ttname"><a href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece">clang::OMF_init</a></div><div class="ttdeci">@ OMF_init</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00700">IdentifierTable.h:700</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca0c6248717ad6dd44dfad938c2933df0b"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0c6248717ad6dd44dfad938c2933df0b">kCFNumberLongType</a></div><div class="ttdeci">@ kCFNumberLongType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00367">BasicObjCFoundationChecks.cpp:367</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_ae289a054485ee4d1d66b33e833e16091"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#ae289a054485ee4d1d66b33e833e16091">clang::ObjCMethodDecl::getClassInterface</a></div><div class="ttdeci">ObjCInterfaceDecl * getClassInterface()</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8cpp_source.html#l01176">DeclObjC.cpp:1176</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_ada326547799f2819472ff9cab3ce8ac1"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#ada326547799f2819472ff9cab3ce8ac1">checkElementNonNil</a></div><div class="ttdeci">static ProgramStateRef checkElementNonNil(CheckerContext &amp;C, ProgramStateRef State, const ObjCForCollectionStmt *FCS)</div><div class="ttdoc">Assumes that the collection elements are non-nil.</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00882">BasicObjCFoundationChecks.cpp:882</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a7b23a067324d14c5d493837dbc4fd8ca"><div class="ttname"><a href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">clang::ento::SymbolRef</a></div><div class="ttdeci">const SymExpr * SymbolRef</div><div class="ttdef"><b>Definition:</b> <a href="SymExpr_8h_source.html#l00110">SymExpr.h:110</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_a2a4e44325df6137bd11b14a88e025dcc"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#a2a4e44325df6137bd11b14a88e025dcc">findKnownClass</a></div><div class="ttdeci">static FoundationClass findKnownClass(const ObjCInterfaceDecl *ID, bool IncludeSuperclasses=true)</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00070">BasicObjCFoundationChecks.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional&lt; uint64_t &gt;</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3cad098660838d3af77e5a769023cd4e29b"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad098660838d3af77e5a769023cd4e29b">kCFNumberFloat64Type</a></div><div class="ttdeci">@ kCFNumberFloat64Type</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00363">BasicObjCFoundationChecks.cpp:363</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca6480f40bb3bdbaa959017dc2982dab4d"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca6480f40bb3bdbaa959017dc2982dab4d">kCFNumberFloat32Type</a></div><div class="ttdeci">@ kCFNumberFloat32Type</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00362">BasicObjCFoundationChecks.cpp:362</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCForCollectionStmt_html"><div class="ttname"><a href="classclang_1_1ObjCForCollectionStmt.html">clang::ObjCForCollectionStmt</a></div><div class="ttdoc">Represents Objective-C's collection statement.</div><div class="ttdef"><b>Definition:</b> <a href="StmtObjC_8h_source.html#l00023">StmtObjC.h:23</a></div></div>
<div class="ttc" id="anamespaceclang_1_1index_html_a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e"><div class="ttname"><a href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">clang::index::SymbolRole::Call</a></div><div class="ttdeci">@ Call</div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_ae96487a9d5ac8396d8e7e6623e089e88"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">clang::ObjCObjectPointerType::getInterfaceDecl</a></div><div class="ttdeci">ObjCInterfaceDecl * getInterfaceDecl() const</div><div class="ttdoc">If this pointer points to an Objective @interface type, gets the declaration for that interface.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06202">Type.h:6202</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca4b0051937822479f84f0f1b3f5a70379"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca4b0051937822479f84f0f1b3f5a70379">kCFNumberDoubleType</a></div><div class="ttdeci">@ kCFNumberDoubleType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00370">BasicObjCFoundationChecks.cpp:370</a></div></div>
<div class="ttc" id="aCallEvent_8h_html"><div class="ttname"><a href="CallEvent_8h.html">CallEvent.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCArrayLiteral_html"><div class="ttname"><a href="classclang_1_1ObjCArrayLiteral.html">clang::ObjCArrayLiteral</a></div><div class="ttdoc">ObjCArrayLiteral - used for objective-c array containers; as in: @[&quot;Hello&quot;, NSApp,...</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00190">ExprObjC.h:190</a></div></div>
<div class="ttc" id="aDeclObjC_8h_html"><div class="ttname"><a href="DeclObjC_8h.html">DeclObjC.h</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_a79ecac92a9a4f1b276ef7a4e5cebfa34"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#a79ecac92a9a4f1b276ef7a4e5cebfa34">isKnownNonNilCollectionType</a></div><div class="ttdeci">static bool isKnownNonNilCollectionType(QualType T)</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00832">BasicObjCFoundationChecks.cpp:832</a></div></div>
<div class="ttc" id="aProgramStateTrait_8h_html_a6d1893bb8c18543337b6c363c1319fcf"><div class="ttname"><a href="ProgramStateTrait_8h.html#a6d1893bb8c18543337b6c363c1319fcf">REGISTER_MAP_WITH_PROGRAMSTATE</a></div><div class="ttdeci">#define REGISTER_MAP_WITH_PROGRAMSTATE(Name, Key, Value)</div><div class="ttdoc">Declares an immutable map of type NameTy, suitable for placement into the ProgramState.</div><div class="ttdef"><b>Definition:</b> <a href="ProgramStateTrait_8h_source.html#l00084">ProgramStateTrait.h:84</a></div></div>
<div class="ttc" id="aASTContext_8h_html_ab1457e11becd51c5d0c750caab5446c2"><div class="ttname"><a href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a></div><div class="ttdeci">#define V(N, I)</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l03167">ASTContext.h:3167</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6">FoundationClass</a></div><div class="ttdeci">FoundationClass</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00059">BasicObjCFoundationChecks.cpp:59</a></div></div>
<div class="ttc" id="aBuiltinCheckerRegistration_8h_html"><div class="ttname"><a href="BuiltinCheckerRegistration_8h.html">BuiltinCheckerRegistration.h</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6acaaf606a7c8158230ec2717bdde06b5b"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6acaaf606a7c8158230ec2717bdde06b5b">FC_NSEnumerator</a></div><div class="ttdeci">@ FC_NSEnumerator</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00063">BasicObjCFoundationChecks.cpp:63</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6ac8790640f676635c798cf6ff2aeedcd6">FC_NSOrderedSet</a></div><div class="ttdeci">@ FC_NSOrderedSet</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00065">BasicObjCFoundationChecks.cpp:65</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3c"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3c">CFNumberType</a></div><div class="ttdeci">CFNumberType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00357">BasicObjCFoundationChecks.cpp:357</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3cac74be8449e505171ffbc73f4577a9a21"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cac74be8449e505171ffbc73f4577a9a21">kCFNumberCharType</a></div><div class="ttdeci">@ kCFNumberCharType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00364">BasicObjCFoundationChecks.cpp:364</a></div></div>
<div class="ttc" id="aCheckerManager_8h_html"><div class="ttname"><a href="CheckerManager_8h.html">CheckerManager.h</a></div></div>
<div class="ttc" id="astructclang_1_1ObjCDictionaryElement_html_ae19b4fe17956b4c452068a05c52f99ce"><div class="ttname"><a href="structclang_1_1ObjCDictionaryElement.html#ae19b4fe17956b4c452068a05c52f99ce">clang::ObjCDictionaryElement::Key</a></div><div class="ttdeci">Expr * Key</div><div class="ttdoc">The key for the dictionary element.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00265">ExprObjC.h:265</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html"><div class="ttname"><a href="classclang_1_1ASTContext.html">clang::ASTContext</a></div><div class="ttdoc">Holds long-lived AST nodes (such as types and decls) that can be referred to throughout the semantic ...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00208">ASTContext.h:208</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7165dbf024d3b11a1998ecca9f8891ec"><div class="ttname"><a href="namespaceclang.html#a7165dbf024d3b11a1998ecca9f8891ec">clang::GetUnarySelector</a></div><div class="ttdeci">Selector GetUnarySelector(StringRef name, ASTContext &amp;Ctx)</div><div class="ttdoc">Utility function for constructing an unary selector.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l03313">ASTContext.h:3313</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6a28092e02c5f3e1dae5d13d8ca0226db1"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a28092e02c5f3e1dae5d13d8ca0226db1">FC_NSNull</a></div><div class="ttdeci">@ FC_NSNull</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00064">BasicObjCFoundationChecks.cpp:64</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCDictionaryLiteral_html"><div class="ttname"><a href="classclang_1_1ObjCDictionaryLiteral.html">clang::ObjCDictionaryLiteral</a></div><div class="ttdoc">ObjCDictionaryLiteral - AST node to represent objective-c dictionary literals; as in:&quot;name&quot; : NSUserN...</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00306">ExprObjC.h:306</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_adae68e1f4c85ede2d36da45fbefc48a2"><div class="ttname"><a href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">clang::Type::getAs</a></div><div class="ttdeci">const T * getAs() const</div><div class="ttdoc">Member-template getAs&lt;specific type&gt;'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07263">Type.h:7263</a></div></div>
<div class="ttc" id="aclassclang_1_1CallExpr_html_aa454d6f1e76623da60451885239f63c6"><div class="ttname"><a href="classclang_1_1CallExpr.html#aa454d6f1e76623da60451885239f63c6">clang::CallExpr::getArg</a></div><div class="ttdeci">Expr * getArg(unsigned Arg)</div><div class="ttdoc">getArg - Return the specified argument.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l03044">Expr.h:3044</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3caaedbab9e9d68ce464701ea1a5f275c25"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caaedbab9e9d68ce464701ea1a5f275c25">kCFNumberLongLongType</a></div><div class="ttdeci">@ kCFNumberLongLongType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00368">BasicObjCFoundationChecks.cpp:368</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_aa7a28eab5ee69542aff5b8216ed77046"><div class="ttname"><a href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">clang::ASTContext::getTypeSize</a></div><div class="ttdeci">uint64_t getTypeSize(QualType T) const</div><div class="ttdoc">Return the size of the specified (complete) type T, in bits.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l02282">ASTContext.h:2282</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCForCollectionStmt_html_a4bc912c3ad7e9cc5b19a22b7dd743139"><div class="ttname"><a href="classclang_1_1ObjCForCollectionStmt.html#a4bc912c3ad7e9cc5b19a22b7dd743139">clang::ObjCForCollectionStmt::getCollection</a></div><div class="ttdeci">Expr * getCollection()</div><div class="ttdef"><b>Definition:</b> <a href="StmtObjC_8h_source.html#l00035">StmtObjC.h:35</a></div></div>
<div class="ttc" id="aExpr_8h_html"><div class="ttname"><a href="Expr_8h.html">Expr.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 128 &gt;</a></div></div>
<div class="ttc" id="aASTContext_8h_html"><div class="ttname"><a href="ASTContext_8h.html">ASTContext.h</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html"><div class="ttname"><a href="classclang_1_1VarDecl.html">clang::VarDecl</a></div><div class="ttdoc">Represents a variable declaration or definition.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00875">Decl.h:875</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a30d239b8f8a7995d23cb4349038fa74f"><div class="ttname"><a href="classclang_1_1ASTContext.html#a30d239b8f8a7995d23cb4349038fa74f">clang::ASTContext::FloatTy</a></div><div class="ttdeci">CanQualType FloatTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01104">ASTContext.h:1104</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a3331da79e7408e108071a3e90154f411"><div class="ttname"><a href="classclang_1_1ASTContext.html#a3331da79e7408e108071a3e90154f411">clang::ASTContext::getCanonicalType</a></div><div class="ttdeci">CanQualType getCanonicalType(QualType T) const</div><div class="ttdoc">Return the canonical (structural) type corresponding to the specified potentially non-canonical type ...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l02505">ASTContext.h:2505</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_ab91fe16a4acf42262c10101f460a4e25"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#ab91fe16a4acf42262c10101f460a4e25">GetReceiverInterfaceName</a></div><div class="ttdeci">static StringRef GetReceiverInterfaceName(const ObjCMethodCall &amp;msg)</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00053">BasicObjCFoundationChecks.cpp:53</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3caa0145b6ea8a961a1f1e9751841f0305f"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caa0145b6ea8a961a1f1e9751841f0305f">kCFNumberSInt8Type</a></div><div class="ttdeci">@ kCFNumberSInt8Type</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00358">BasicObjCFoundationChecks.cpp:358</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca1eaa671d044b83c99c8e1683f9fe862d"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca1eaa671d044b83c99c8e1683f9fe862d">kCFNumberSInt16Type</a></div><div class="ttdeci">@ kCFNumberSInt16Type</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00359">BasicObjCFoundationChecks.cpp:359</a></div></div>
<div class="ttc" id="aExprObjC_8h_html"><div class="ttname"><a href="ExprObjC_8h.html">ExprObjC.h</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a870bd58d814cca18f0b4784e3bee5232">FC_NSArray</a></div><div class="ttdeci">@ FC_NSArray</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00061">BasicObjCFoundationChecks.cpp:61</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca0cdbcedf04d27cb83e79643d9b062bfc"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca0cdbcedf04d27cb83e79643d9b062bfc">kCFNumberIntType</a></div><div class="ttdeci">@ kCFNumberIntType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00366">BasicObjCFoundationChecks.cpp:366</a></div></div>
<div class="ttc" id="aExplodedGraph_8h_html"><div class="ttname"><a href="ExplodedGraph_8h.html">ExplodedGraph.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_ac369991763a2aa6bf9a8a3ded653afd8"><div class="ttname"><a href="classclang_1_1ASTContext.html#ac369991763a2aa6bf9a8a3ded653afd8">clang::ASTContext::ShortTy</a></div><div class="ttdeci">CanQualType ShortTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01101">ASTContext.h:1101</a></div></div>
<div class="ttc" id="aStmtObjC_8h_html"><div class="ttname"><a href="StmtObjC_8h.html">StmtObjC.h</a></div></div>
<div class="ttc" id="aStaticAnalyzer_2README_8txt_html_a1a264b3e48bda8ea3bed83698db8dca7"><div class="ttname"><a href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a></div><div class="ttdeci">and static some checkers Checker The latter are built on top of the former via the Checker and CheckerVisitor and attempts to isolate them from much of the gore of the internal analysis the analyzer is basically a source code simulator that traces out possible paths of execution The state of the and the combination of state and program point is a node in an exploded which has the entry program point and initial state</div><div class="ttdef"><b>Definition:</b> <a href="StaticAnalyzer_2README_8txt_source.html#l00030">README.txt:30</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ab6892f73d3e8a207c397b038ab090b77"><div class="ttname"><a href="classclang_1_1Type.html#ab6892f73d3e8a207c397b038ab090b77">clang::Type::isObjCObjectPointerType</a></div><div class="ttdeci">bool isObjCObjectPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06878">Type.h:6878</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCDictionaryLiteral_html_a87647a53b2237e1efa1568c80e0d99a9"><div class="ttname"><a href="classclang_1_1ObjCDictionaryLiteral.html#a87647a53b2237e1efa1568c80e0d99a9">clang::ObjCDictionaryLiteral::getKeyValueElement</a></div><div class="ttdeci">ObjCDictionaryElement getKeyValueElement(unsigned Index) const</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00362">ExprObjC.h:362</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_1_1bugreporter_html_a9f4acbc86c4e8c0a8601b7e7e42814c9"><div class="ttname"><a href="namespaceclang_1_1ento_1_1bugreporter.html#a9f4acbc86c4e8c0a8601b7e7e42814c9">clang::ento::bugreporter::trackExpressionValue</a></div><div class="ttdeci">bool trackExpressionValue(const ExplodedNode *N, const Expr *E, PathSensitiveBugReport &amp;R, TrackingOptions Opts={})</div><div class="ttdoc">Attempts to add visitors to track expression value back to its point of origin.</div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6a9bc9a52cef75b57a1891076b8b08cb4c"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a9bc9a52cef75b57a1891076b8b08cb4c">FC_NSString</a></div><div class="ttdeci">@ FC_NSString</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00067">BasicObjCFoundationChecks.cpp:67</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html">clang::ObjCObjectPointerType</a></div><div class="ttdoc">Represents a pointer to an Objective C object.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06150">Type.h:6150</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_adca2e7646f51ee1e280cfad7b108bc60"><div class="ttname"><a href="classclang_1_1ASTContext.html#adca2e7646f51ee1e280cfad7b108bc60">clang::ASTContext::LongLongTy</a></div><div class="ttdeci">CanQualType LongLongTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01101">ASTContext.h:1101</a></div></div>
<div class="ttc" id="aASTMatchersInternal_8cpp_html_a538dc9e683c4153ed65c95352d7ffa40"><div class="ttname"><a href="ASTMatchersInternal_8cpp.html#a538dc9e683c4153ed65c95352d7ffa40">P</a></div><div class="ttdeci">StringRef P</div><div class="ttdef"><b>Definition:</b> <a href="ASTMatchersInternal_8cpp_source.html#l00563">ASTMatchersInternal.cpp:563</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a366594144d93311decc086cb980d69c2"><div class="ttname"><a href="classclang_1_1ASTContext.html#a366594144d93311decc086cb980d69c2">clang::ASTContext::DoubleTy</a></div><div class="ttdeci">CanQualType DoubleTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01104">ASTContext.h:1104</a></div></div>
<div class="ttc" id="astdbool_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>Definition:</b> <a href="stdbool_8h_source.html#l00022">stdbool.h:22</a></div></div>
<div class="ttc" id="alimits_8h_html_ac998ea02fbd821fc123d60445ce76f38"><div class="ttname"><a href="limits_8h.html#ac998ea02fbd821fc123d60445ce76f38">UINT_MAX</a></div><div class="ttdeci">#define UINT_MAX</div><div class="ttdef"><b>Definition:</b> <a href="limits_8h_source.html#l00056">limits.h:56</a></div></div>
<div class="ttc" id="aBugType_8h_html"><div class="ttname"><a href="BugType_8h.html">BugType.h</a></div></div>
<div class="ttc" id="aclassclang_1_1NamedDecl_html_a7fab32caa3b7d601128265248260fd37"><div class="ttname"><a href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">clang::NamedDecl::getIdentifier</a></div><div class="ttdeci">IdentifierInfo * getIdentifier() const</div><div class="ttdoc">Get the identifier that names this declaration, if there is one.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00268">Decl.h:268</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a873a1148a8ffe184f0e5bd27bf90c0dc"><div class="ttname"><a href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">clang::ASTContext::IntTy</a></div><div class="ttdeci">CanQualType IntTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01101">ASTContext.h:1101</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCArrayLiteral_html_ad597d76758a8cfea7d67918b3a0d8b16"><div class="ttname"><a href="classclang_1_1ObjCArrayLiteral.html#ad597d76758a8cfea7d67918b3a0d8b16">clang::ObjCArrayLiteral::getElement</a></div><div class="ttdeci">Expr * getElement(unsigned Index)</div><div class="ttdoc">getElement - Return the Element at the specified index.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00232">ExprObjC.h:232</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3cad9e08e5b2a8cb1dc5e48ba32c1185bf3"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad9e08e5b2a8cb1dc5e48ba32c1185bf3">kCFNumberCFIndexType</a></div><div class="ttdeci">@ kCFNumberCFIndexType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00371">BasicObjCFoundationChecks.cpp:371</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4f95adb9958e22fbe55212ae6482feb4"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">clang::ASTContext::Idents</a></div><div class="ttdeci">IdentifierTable &amp; Idents</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00651">ASTContext.h:651</a></div></div>
<div class="ttc" id="aclassclang_1_1CallExpr_html_aa439df008533164342c841a8a22dec1f"><div class="ttname"><a href="classclang_1_1CallExpr.html#aa439df008533164342c841a8a22dec1f">clang::CallExpr::getNumArgs</a></div><div class="ttdeci">unsigned getNumArgs() const</div><div class="ttdoc">getNumArgs - Return the number of actual arguments to this call.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l03031">Expr.h:3031</a></div></div>
<div class="ttc" id="aCocoaConventions_8h_html"><div class="ttname"><a href="CocoaConventions_8h.html">CocoaConventions.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ento_1_1ExplodedNode_html_ad60734bba43011ca93cc5f6257f402e3"><div class="ttname"><a href="classclang_1_1ento_1_1ExplodedNode.html#ad60734bba43011ca93cc5f6257f402e3">clang::ento::ExplodedNode::const_pred_iterator</a></div><div class="ttdeci">const ExplodedNode *const * const_pred_iterator</div><div class="ttdef"><b>Definition:</b> <a href="ExplodedGraph_8h_source.html#l00234">ExplodedGraph.h:234</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a0ba7f01d5d975ce7f18b482b052f10fb"><div class="ttname"><a href="classclang_1_1ASTContext.html#a0ba7f01d5d975ce7f18b482b052f10fb">clang::ASTContext::LongTy</a></div><div class="ttdeci">CanQualType LongTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01101">ASTContext.h:1101</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_1_1coreFoundation_html_ac05ef7cd6f4fa4f1a78eb2349972095b"><div class="ttname"><a href="namespaceclang_1_1ento_1_1coreFoundation.html#ac05ef7cd6f4fa4f1a78eb2349972095b">clang::ento::coreFoundation::isCFObjectRef</a></div><div class="ttdeci">bool isCFObjectRef(QualType T)</div><div class="ttdef"><b>Definition:</b> <a href="CocoaConventions_8cpp_source.html#l00057">CocoaConventions.cpp:57</a></div></div>
<div class="ttc" id="aSelectorExtras_8h_html"><div class="ttname"><a href="SelectorExtras_8h.html">SelectorExtras.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a80ed5a736a74c76bbbd66b90821d1689"><div class="ttname"><a href="classclang_1_1ASTContext.html#a80ed5a736a74c76bbbd66b90821d1689">clang::ASTContext::CharTy</a></div><div class="ttdeci">CanQualType CharTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01094">ASTContext.h:1094</a></div></div>
<div class="ttc" id="aUnwrappedLineFormatter_8cpp_html_a83e9e4ff6cb05dbdf72ab2a01aa289c0"><div class="ttname"><a href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a></div><div class="ttdeci">LineState State</div><div class="ttdef"><b>Definition:</b> <a href="UnwrappedLineFormatter_8cpp_source.html#l01083">UnwrappedLineFormatter.cpp:1083</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca788cf5499d3d5693a5c312186dedf501"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca788cf5499d3d5693a5c312186dedf501">kCFNumberSInt64Type</a></div><div class="ttdeci">@ kCFNumberSInt64Type</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00361">BasicObjCFoundationChecks.cpp:361</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_ad8df9632390e9a81716f89a7beb65131"><div class="ttname"><a href="classclang_1_1VarDecl.html#ad8df9632390e9a81716f89a7beb65131">clang::VarDecl::getInit</a></div><div class="ttdeci">const Expr * getInit() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01284">Decl.h:1284</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierInfo_html"><div class="ttname"><a href="classclang_1_1IdentifierInfo.html">clang::IdentifierInfo</a></div><div class="ttdoc">One of these records is kept for each identifier that is lexed.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00084">IdentifierTable.h:84</a></div></div>
<div class="ttc" id="aCheckerContext_8h_html"><div class="ttname"><a href="CheckerContext_8h.html">CheckerContext.h</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca04dbd5a916bf33d5558e336b9da5b8bd"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca04dbd5a916bf33d5558e336b9da5b8bd">kCFNumberFloatType</a></div><div class="ttdeci">@ kCFNumberFloatType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00369">BasicObjCFoundationChecks.cpp:369</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ObjCPropertyAttribute_html_a5cee046f95725089d626e8e3c42bf60c"><div class="ttname"><a href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">clang::ObjCPropertyAttribute::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjCCommon_8h_source.html#l00022">DeclObjCCommon.h:22</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclStmt_html"><div class="ttname"><a href="classclang_1_1DeclStmt.html">clang::DeclStmt</a></div><div class="ttdoc">DeclStmt - Adaptor class for mixing declarations with statements and expressions.</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8h_source.html#l01297">Stmt.h:1297</a></div></div>
<div class="ttc" id="aProgramState_8h_html"><div class="ttname"><a href="ProgramState_8h.html">ProgramState.h</a></div></div>
<div class="ttc" id="aChecker_8h_html"><div class="ttname"><a href="Checker_8h.html">Checker.h</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3caf2aa50f69972b4d8ee3d1788237b33b1"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3caf2aa50f69972b4d8ee3d1788237b33b1">kCFNumberCGFloatType</a></div><div class="ttdeci">@ kCFNumberCGFloatType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00373">BasicObjCFoundationChecks.cpp:373</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html">clang::ObjCMethodDecl</a></div><div class="ttdoc">ObjCMethodDecl - Represents an instance or class method declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00139">DeclObjC.h:139</a></div></div>
<div class="ttc" id="aExprEngine_8h_html"><div class="ttname"><a href="ExprEngine_8h.html">ExprEngine.h</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7379bdfd074341d981e1a31d6de2cff3ae175f7206492c365397d33a0df9cc8d0"><div class="ttname"><a href="namespaceclang.html#a7379bdfd074341d981e1a31d6de2cff3ae175f7206492c365397d33a0df9cc8d0">clang::DeclaratorContext::TypeName</a></div><div class="ttdeci">@ TypeName</div></div>
<div class="ttc" id="anamespaceclang_1_1Builtin_html_a96281da348e2b70f3a45a66f6e48905c"><div class="ttname"><a href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">clang::Builtin::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8h_source.html#l00049">Builtins.h:49</a></div></div>
<div class="ttc" id="anamespaceclang_html"><div class="ttname"><a href="namespaceclang.html">clang</a></div><div class="ttdef"><b>Definition:</b> <a href="CalledOnceCheck_8h_source.html#l00017">CalledOnceCheck.h:17</a></div></div>
<div class="ttc" id="aclassclang_1_1Selector_html"><div class="ttname"><a href="classclang_1_1Selector.html">clang::Selector</a></div><div class="ttdoc">Smart pointer class that efficiently represents Objective-C method names.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00752">IdentifierTable.h:752</a></div></div>
<div class="ttc" id="anamespaceclang_html_a8eddcb22f7683ba3e36cb2c82edf174d"><div class="ttname"><a href="namespaceclang.html#a8eddcb22f7683ba3e36cb2c82edf174d">clang::GetNullarySelector</a></div><div class="ttdeci">Selector GetNullarySelector(StringRef name, ASTContext &amp;Ctx)</div><div class="ttdoc">Utility function for constructing a nullary selector.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l03307">ASTContext.h:3307</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html"><div class="ttname"><a href="classclang_1_1Stmt.html">clang::Stmt</a></div><div class="ttdoc">Stmt - This represents one statement.</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8h_source.html#l00069">Stmt.h:69</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_a9d519853feb880971a2f54a669afad81"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#a9d519853feb880971a2f54a669afad81">assumeCollectionNonEmpty</a></div><div class="ttdeci">static ProgramStateRef assumeCollectionNonEmpty(CheckerContext &amp;C, ProgramStateRef State, SymbolRef CollectionS, bool Assumption)</div><div class="ttdoc">Returns NULL state if the collection is known to contain elements (or is known not to contain element...</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00916">BasicObjCFoundationChecks.cpp:916</a></div></div>
<div class="ttc" id="aMemRegion_8h_html"><div class="ttname"><a href="MemRegion_8h.html">MemRegion.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_ac9bfcc699442f2093723cfcf703d9f47"><div class="ttname"><a href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">clang::Expr::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00141">Expr.h:141</a></div></div>
<div class="ttc" id="aUninitializedValues_8cpp_html_a896c037a32087c5c20d97e64a1786880aae32940b344dab2f4e31be660ce1ab02"><div class="ttname"><a href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880aae32940b344dab2f4e31be660ce1ab02">Initialized</a></div><div class="ttdeci">@ Initialized</div><div class="ttdef"><b>Definition:</b> <a href="UninitializedValues_8cpp_source.html#l00103">UninitializedValues.cpp:103</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_a4ab916b32ee1b52d606d73f809af02c9"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#a4ab916b32ee1b52d606d73f809af02c9">GetCFNumberSize</a></div><div class="ttdeci">static Optional&lt; uint64_t &gt; GetCFNumberSize(ASTContext &amp;Ctx, uint64_t i)</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00376">BasicObjCFoundationChecks.cpp:376</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a1f45158b71c9d04bfd6094ee29a38e59"><div class="ttname"><a href="namespaceclang_1_1ento.html#a1f45158b71c9d04bfd6094ee29a38e59">clang::ento::PointerEscapeKind</a></div><div class="ttdeci">PointerEscapeKind</div><div class="ttdoc">Describes the different reasons a pointer escapes during analysis.</div><div class="ttdef"><b>Definition:</b> <a href="CheckerManager_8h_source.html#l00078">CheckerManager.h:78</a></div></div>
<div class="ttc" id="aclassclang_1_1BlockEdge_html"><div class="ttname"><a href="classclang_1_1BlockEdge.html">clang::BlockEdge</a></div><div class="ttdef"><b>Definition:</b> <a href="ProgramPoint_8h_source.html#l00502">ProgramPoint.h:502</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_1_1Classification_html"><div class="ttname"><a href="classclang_1_1Expr_1_1Classification.html">clang::Expr::Classification</a></div><div class="ttdoc">The return type of classify().</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00323">Expr.h:323</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a84a489ae72024250d02b58a0cf7e624c"><div class="ttname"><a href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">clang::QualType::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, const PrintingPolicy &amp;Policy, const Twine &amp;PlaceHolder=Twine(), unsigned Indentation=0) const</div><div class="ttdef"><b>Definition:</b> <a href="TypePrinter_8cpp_source.html#l02299">TypePrinter.cpp:2299</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3cad379f14657042d675f7d2b232075c784"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3cad379f14657042d675f7d2b232075c784">kCFNumberNSIntegerType</a></div><div class="ttdeci">@ kCFNumberNSIntegerType</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00372">BasicObjCFoundationChecks.cpp:372</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html"><div class="ttname"><a href="classclang_1_1Expr.html">clang::Expr</a></div><div class="ttdoc">This represents one expression.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00109">Expr.h:109</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_a06f0fe6eb91d3fbf16f87fabe5cd6bcf"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#a06f0fe6eb91d3fbf16f87fabe5cd6bcf">alreadyExecutedAtLeastOneLoopIteration</a></div><div class="ttdeci">static bool alreadyExecutedAtLeastOneLoopIteration(const ExplodedNode *N, const ObjCForCollectionStmt *FCS)</div><div class="ttdoc">If the fist block edge is a back edge, we are reentering the loop.</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00958">BasicObjCFoundationChecks.cpp:958</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aa865a65b48d42263dba95c6479bcc2e6a21e7aeccc42f26b2e942ae4655e793cb"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aa865a65b48d42263dba95c6479bcc2e6a21e7aeccc42f26b2e942ae4655e793cb">FC_None</a></div><div class="ttdeci">@ FC_None</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00060">BasicObjCFoundationChecks.cpp:60</a></div></div>
<div class="ttc" id="astructclang_1_1ObjCDictionaryElement_html_a4b07b000d1fb894e24f9f9fa04f1452d"><div class="ttname"><a href="structclang_1_1ObjCDictionaryElement.html#a4b07b000d1fb894e24f9f9fa04f1452d">clang::ObjCDictionaryElement::Value</a></div><div class="ttdeci">Expr * Value</div><div class="ttdoc">The value of the dictionary element.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00268">ExprObjC.h:268</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_ab2743eb22efec4f33d5138cfb12366d6"><div class="ttname"><a href="namespaceclang_1_1ento.html#ab2743eb22efec4f33d5138cfb12366d6">clang::ento::InvalidatedSymbols</a></div><div class="ttdeci">llvm::DenseSet&lt; SymbolRef &gt; InvalidatedSymbols</div><div class="ttdef"><b>Definition:</b> <a href="Store_8h_source.html#l00051">Store.h:51</a></div></div>
<div class="ttc" id="anamespaceclang_1_1transformer_html_afb9ae3f6ff9907205cd12c218f76df7e"><div class="ttname"><a href="namespaceclang_1_1transformer.html#afb9ae3f6ff9907205cd12c218f76df7e">clang::transformer::name</a></div><div class="ttdeci">RangeSelector name(std::string ID)</div><div class="ttdoc">Given a node with a &quot;name&quot;, (like NamedDecl, DeclRefExpr, CxxCtorInitializer, and TypeLoc) selects th...</div><div class="ttdef"><b>Definition:</b> <a href="RangeSelector_8cpp_source.html#l00200">RangeSelector.cpp:200</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html"><div class="ttname"><a href="classclang_1_1FunctionDecl.html">clang::FunctionDecl</a></div><div class="ttdoc">Represents a function declaration or definition.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01856">Decl.h:1856</a></div></div>
<div class="ttc" id="aclassclang_1_1ProgramPoint_html"><div class="ttname"><a href="classclang_1_1ProgramPoint.html">clang::ProgramPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="ProgramPoint_8h_source.html#l00058">ProgramPoint.h:58</a></div></div>
<div class="ttc" id="aclassclang_1_1CallExpr_html"><div class="ttname"><a href="classclang_1_1CallExpr.html">clang::CallExpr</a></div><div class="ttdoc">CallExpr - Represents a function call (C99 6.5.2.2, C++ [expr.call]).</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l02853">Expr.h:2853</a></div></div>
<div class="ttc" id="aBasicObjCFoundationChecks_8cpp_html_aeafd274469fc040dcc2bcda1c73fde3ca77835c5f2922e1369a87de743d1715b4"><div class="ttname"><a href="BasicObjCFoundationChecks_8cpp.html#aeafd274469fc040dcc2bcda1c73fde3ca77835c5f2922e1369a87de743d1715b4">kCFNumberSInt32Type</a></div><div class="ttdeci">@ kCFNumberSInt32Type</div><div class="ttdef"><b>Definition:</b> <a href="BasicObjCFoundationChecks_8cpp_source.html#l00360">BasicObjCFoundationChecks.cpp:360</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_a539cd985cd56ff90d2907cf9b35c23d1"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#a539cd985cd56ff90d2907cf9b35c23d1">clang::ObjCMethodDecl::isVariadic</a></div><div class="ttdeci">bool isVariadic() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00436">DeclObjC.h:436</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a58b6f352a1bd0963e500a4e902c4e74c"><div class="ttname"><a href="classclang_1_1Type.html#a58b6f352a1bd0963e500a4e902c4e74c">clang::Type::isIntegralOrEnumerationType</a></div><div class="ttdeci">bool isIntegralOrEnumerationType() const</div><div class="ttdoc">Determine whether this type is an integral or enumeration type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07160">Type.h:7160</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924"><div class="ttname"><a href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">clang::ento::ObjKind::OS</a></div><div class="ttdeci">@ OS</div><div class="ttdoc">Indicates that the tracking object is a descendant of a referenced-counted OSObject,...</div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_af67e1a1d24dcc51093b95dbcf68d4288"><div class="ttname"><a href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">clang::Decl::getDeclContext</a></div><div class="ttdeci">DeclContext * getDeclContext()</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00433">DeclBase.h:433</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 4 2022 01:35:52 for clang by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
