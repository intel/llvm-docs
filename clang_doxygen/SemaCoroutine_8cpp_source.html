<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: lib/Sema/SemaCoroutine.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">clang
   &#160;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a417a95896a4c648243c5807aba13ea9.html">Sema</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SemaCoroutine.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SemaCoroutine_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- SemaCoroutine.cpp - Semantic Analysis for Coroutines --------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//  This file implements semantic analysis for C++ Coroutines.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//  This file contains references to sections of the Coroutines TS, which</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//  can be found at http://wg21.link/coroutines.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CoroutineStmtBuilder_8h.html">CoroutineStmtBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ASTLambda_8h.html">clang/AST/ASTLambda.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Decl_8h.html">clang/AST/Decl.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ExprCXX_8h.html">clang/AST/ExprCXX.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StmtCXX_8h.html">clang/AST/StmtCXX.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Builtins_8h.html">clang/Basic/Builtins.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Preprocessor_8h.html">clang/Lex/Preprocessor.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Initialization_8h.html">clang/Sema/Initialization.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Overload_8h.html">clang/Sema/Overload.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScopeInfo_8h.html">clang/Sema/ScopeInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SemaInternal_8h.html">clang/Sema/SemaInternal.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/SmallSet.h&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceclang.html">clang</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using namespace </span>sema;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">   32</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> <a class="code" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <span class="keywordtype">char</span> *Name, <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *RD,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                 <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <span class="keywordtype">bool</span> &amp;Res) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="classclang_1_1DeclarationName.html">DeclarationName</a> DN = S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#af79802fc0829494fa77b7af995fda185">getIdentifierInfo</a>(Name);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> LR(S, DN, Loc, <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa93f2be273881a14dc35b733bc8653dbc">Sema::LookupMemberName</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// Suppress diagnostics when a private member is selected. The same warnings</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// will be produced again when building the call.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  LR.<a class="code" href="classclang_1_1LookupResult.html#ae2764b699f93e9590281ce9c4b097e33">suppressDiagnostics</a>();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  Res = S.<a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(LR, RD);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> LR;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a35e5b875d558d2c60ff2b86fa8fdc808">   43</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <span class="keywordtype">char</span> *Name, <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *RD,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                         <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordtype">bool</span> Res;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a>(S, Name, RD, Loc, Res);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/// Look up the std::coroutine_traits&lt;...&gt;::promise_type for the given</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// function type.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#adcfdcf60ae41f0d900993ec564ba04d4">   52</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="SemaCoroutine_8cpp.html#adcfdcf60ae41f0d900993ec564ba04d4">lookupPromiseType</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> KwLoc) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionProtoType.html">FunctionProtoType</a> *FnType = FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1FunctionProtoType.html">FunctionProtoType</a>&gt;();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> FuncLoc = FD-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="classclang_1_1NamespaceDecl.html">NamespaceDecl</a> *CoroNamespace = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="classclang_1_1ClassTemplateDecl.html">ClassTemplateDecl</a> *CoroTraits =</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3d29181700aa985a371eb7338e15ae64">lookupCoroutineTraits</a>(KwLoc, FuncLoc, CoroNamespace);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (!CoroTraits) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// Form template argument list for coroutine_traits&lt;R, P1, P2, ...&gt; according</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// to [dcl.fct.def.coroutine]3</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classclang_1_1TemplateArgumentListInfo.html">TemplateArgumentListInfo</a> Args(KwLoc, KwLoc);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keyword">auto</span> AddArg = [&amp;](<a class="code" href="classclang_1_1QualType.html">QualType</a> T) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    Args.<a class="code" href="classclang_1_1TemplateArgumentListInfo.html#a5c00d322568afcc711f3ed1cd18092af">addArgument</a>(<a class="code" href="classclang_1_1TemplateArgumentLoc.html">TemplateArgumentLoc</a>(</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="classclang_1_1TemplateArgument.html">TemplateArgument</a>(T), S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">getTrivialTypeSourceInfo</a>(T, KwLoc)));</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  };</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  AddArg(FnType-&gt;<a class="code" href="classclang_1_1FunctionType.html#a72d2fe185651231ebe4856ad548b99b7">getReturnType</a>());</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// If the function is a non-static member function, add the type</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// of the implicit object parameter before the formal parameters.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(FD)) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (MD-&gt;isInstance()) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="comment">// [over.match.funcs]4</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="comment">// For non-static member functions, the type of the implicit object</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="comment">// parameter is</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="comment">//  -- &quot;lvalue reference to cv X&quot; for functions declared without a</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="comment">//      ref-qualifier or with the &amp; ref-qualifier</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="comment">//  -- &quot;rvalue reference to cv X&quot; for functions declared with the &amp;&amp;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="comment">//      ref-qualifier</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="classclang_1_1QualType.html">QualType</a> T = MD-&gt;getThisType()-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;()-&gt;getPointeeType();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      T = FnType-&gt;<a class="code" href="classclang_1_1FunctionProtoType.html#af6ddd85ab9209b8226222221eeda9d4d">getRefQualifier</a>() == <a class="code" href="namespaceclang.html#a39da38c8381c23db69e49813390fa7f6aed8a4fc269aa34b5f8c5ec978a999dfb">RQ_RValue</a></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;              ? S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a08d1a44e4667923ba59529e210c15b82">getRValueReferenceType</a>(T)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;              : S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4b3190eee965dd87c1f396da6c1629c5">getLValueReferenceType</a>(T, <span class="comment">/*SpelledAsLValue*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      AddArg(T);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1QualType.html">QualType</a> T : FnType-&gt;<a class="code" href="classclang_1_1FunctionProtoType.html#a1391e60f9bab7a8fba2a29471cf8246b">getParamTypes</a>())</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    AddArg(T);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// Build the template-id.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> CoroTrait =</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#aaa988da9f069234e608dd73aeed50427">CheckTemplateIdType</a>(<a class="code" href="classclang_1_1TemplateName.html">TemplateName</a>(CoroTraits), KwLoc, Args);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">if</span> (CoroTrait.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ac457a5af05f2ffc2cf6286f398d9201d">RequireCompleteType</a>(KwLoc, CoroTrait,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                            diag::err_coroutine_type_missing_specialization))</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">auto</span> *RD = CoroTrait-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  assert(RD &amp;&amp; <span class="stringliteral">&quot;specialization of class template is not a class?&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// Look up the ::promise_type member.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> R(S, &amp;S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">getIdentifierTable</a>().<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;promise_type&quot;</span>), KwLoc,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                 <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">Sema::LookupOrdinaryName</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(R, RD);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keyword">auto</span> *Promise = R.<a class="code" href="classclang_1_1LookupResult.html#a6e0e82007f58c5f5d4b716ee08f60507">getAsSingle</a>&lt;<a class="code" href="classclang_1_1TypeDecl.html">TypeDecl</a>&gt;();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">if</span> (!Promise) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FuncLoc,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;           diag::err_implied_std_coroutine_traits_promise_type_not_found)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        &lt;&lt; RD;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// The promise type is required to be a class type.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> PromiseType = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f1d81f26ec96984cacdac8fc235131a">getTypeDeclType</a>(Promise);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">auto</span> buildElaboratedType = [&amp;]() {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">auto</span> *NNS = <a class="code" href="classclang_1_1NestedNameSpecifier.html#af83fb904746e04c9069367ddcc964824">NestedNameSpecifier::Create</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <span class="keyword">nullptr</span>, CoroNamespace);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    NNS = <a class="code" href="classclang_1_1NestedNameSpecifier.html#af83fb904746e04c9069367ddcc964824">NestedNameSpecifier::Create</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, NNS, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                      CoroTrait.<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>());</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a907be85380d8531e45892333c3747fc4">getElaboratedType</a>(<a class="code" href="namespaceclang.html#af16833e51c82a488104751351c4e95afab48992cbc393b33c4623486d7a2c2c13">ETK_None</a>, NNS, PromiseType);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  };</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (!PromiseType-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>()) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FuncLoc,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;           diag::err_implied_std_coroutine_traits_promise_type_not_class)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        &lt;&lt; buildElaboratedType();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ac457a5af05f2ffc2cf6286f398d9201d">RequireCompleteType</a>(FuncLoc, buildElaboratedType(),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                            diag::err_coroutine_promise_type_incomplete))</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">return</span> PromiseType;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">/// Look up the std::coroutine_handle&lt;PromiseType&gt;.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#acda5fdc0982f58d72dcc73f43a6e6c38">  140</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="SemaCoroutine_8cpp.html#acda5fdc0982f58d72dcc73f43a6e6c38">lookupCoroutineHandleType</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1QualType.html">QualType</a> PromiseType,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                          <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (PromiseType.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classclang_1_1NamespaceDecl.html">NamespaceDecl</a> *CoroNamespace = S.<a class="code" href="classclang_1_1Sema.html#a9bb5752f7c402bc78dfe49e6ed5ed2cc">getCachedCoroNamespace</a>();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  assert(CoroNamespace &amp;&amp; <span class="stringliteral">&quot;Should already be diagnosed&quot;</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> Result(S, &amp;S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">getIdentifierTable</a>().<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;coroutine_handle&quot;</span>),</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                      Loc, <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">Sema::LookupOrdinaryName</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(Result, CoroNamespace)) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_implied_coroutine_type_not_found)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;std::coroutine_handle&quot;</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="classclang_1_1ClassTemplateDecl.html">ClassTemplateDecl</a> *CoroHandle = Result.getAsSingle&lt;<a class="code" href="classclang_1_1ClassTemplateDecl.html">ClassTemplateDecl</a>&gt;();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">if</span> (!CoroHandle) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    Result.suppressDiagnostics();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// We found something weird. Complain about the first thing we found.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *Found = *Result.begin();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Found-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_malformed_std_coroutine_handle);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// Form template argument list for coroutine_handle&lt;Promise&gt;.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classclang_1_1TemplateArgumentListInfo.html">TemplateArgumentListInfo</a> Args(Loc, Loc);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  Args.<a class="code" href="classclang_1_1TemplateArgumentListInfo.html#a5c00d322568afcc711f3ed1cd18092af">addArgument</a>(<a class="code" href="classclang_1_1TemplateArgumentLoc.html">TemplateArgumentLoc</a>(</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="classclang_1_1TemplateArgument.html">TemplateArgument</a>(PromiseType),</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">getTrivialTypeSourceInfo</a>(PromiseType, Loc)));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Build the template-id.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> CoroHandleType =</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#aaa988da9f069234e608dd73aeed50427">CheckTemplateIdType</a>(<a class="code" href="classclang_1_1TemplateName.html">TemplateName</a>(CoroHandle), Loc, Args);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">if</span> (CoroHandleType.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ac457a5af05f2ffc2cf6286f398d9201d">RequireCompleteType</a>(Loc, CoroHandleType,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                            diag::err_coroutine_type_missing_specialization))</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">return</span> CoroHandleType;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a2e033fcd6e1247056c3a8ab8d879b49a">  183</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaCoroutine_8cpp.html#a2e033fcd6e1247056c3a8ab8d879b49a">isValidCoroutineContext</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                    StringRef Keyword) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// [expr.await]p2 dictates that &#39;co_await&#39; and &#39;co_yield&#39; must be used within</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// a function body.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// FIXME: This also covers [expr.await]p2: &quot;An await-expression shall not</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// appear in a default argument.&quot; But the diagnostic QoI here could be</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// improved to inform the user that default arguments specifically are not</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// allowed.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(S.<a class="code" href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">CurContext</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (!FD) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, isa&lt;ObjCMethodDecl&gt;(S.<a class="code" href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">CurContext</a>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    ? diag::err_coroutine_objc_method</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    : diag::err_coroutine_outside_function) &lt;&lt; Keyword;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// An enumeration for mapping the diagnostic type to the correct diagnostic</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// selection index.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">enum</span> InvalidFuncDiag {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    DiagCtor = 0,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    DiagDtor,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    DiagMain,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    DiagConstexpr,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    DiagAutoRet,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    DiagVarargs,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    DiagConsteval,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  };</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordtype">bool</span> Diagnosed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keyword">auto</span> DiagInvalid = [&amp;](InvalidFuncDiag <a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_coroutine_invalid_func_context) &lt;&lt; <a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a> &lt;&lt; Keyword;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    Diagnosed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  };</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// Diagnose when a constructor, destructor</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// or the function &#39;main&#39; are declared as a coroutine.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(FD);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// [class.ctor]p11: &quot;A constructor shall not be a coroutine.&quot;</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (MD &amp;&amp; isa&lt;CXXConstructorDecl&gt;(MD))</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> DiagInvalid(DiagCtor);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// [class.dtor]p17: &quot;A destructor shall not be a coroutine.&quot;</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MD &amp;&amp; isa&lt;CXXDestructorDecl&gt;(MD))</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> DiagInvalid(DiagDtor);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// [basic.start.main]p3: &quot;The function main shall not be a coroutine.&quot;</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FD-&gt;isMain())</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> DiagInvalid(DiagMain);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// Emit a diagnostics for each of the following conditions which is not met.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// [expr.const]p2: &quot;An expression e is a core constant expression unless the</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// evaluation of e [...] would evaluate one of the following expressions:</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// [...] an await-expression [...] a yield-expression.&quot;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;isConstexpr())</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    DiagInvalid(FD-&gt;isConsteval() ? DiagConsteval : DiagConstexpr);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// [dcl.spec.auto]p15: &quot;A function declared with a return type that uses a</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// placeholder type shall not be a coroutine.&quot;</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;getReturnType()-&gt;isUndeducedType())</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    DiagInvalid(DiagAutoRet);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p1</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// The parameter-declaration-clause of the coroutine shall not terminate with</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// an ellipsis that is not part of a parameter-declaration.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;isVariadic())</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    DiagInvalid(DiagVarargs);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">return</span> !Diagnosed;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a3dbd530a307f9a74eab7f40573fa8d53">  249</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="SemaCoroutine_8cpp.html#a3dbd530a307f9a74eab7f40573fa8d53">buildOperatorCoawaitLookupExpr</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;SemaRef, <a class="code" href="classclang_1_1Scope.html">Scope</a> *S,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                                 <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="classclang_1_1DeclarationName.html">DeclarationName</a> OpName =</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      SemaRef.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a2017d2a1ae842fcf4e5df3097c7b93ba">DeclarationNames</a>.<a class="code" href="classclang_1_1DeclarationNameTable.html#aa9c7b7abbc2dc29780eb51a110c8d934">getCXXOperatorName</a>(OO_Coawait);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> Operators(SemaRef, OpName, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a>(),</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                         <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa6253ec1084459081e77ca3a11d3de567">Sema::LookupOperatorName</a>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  SemaRef.<a class="code" href="classclang_1_1Sema.html#a2f533c2b73585087aaf5b2ec8e77932b">LookupName</a>(Operators, S);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  assert(!Operators.<a class="code" href="classclang_1_1LookupResult.html#a9623d9886f48b34ca59ef0451e713d18">isAmbiguous</a>() &amp;&amp; <span class="stringliteral">&quot;Operator lookup cannot be ambiguous&quot;</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Functions = Operators.<a class="code" href="classclang_1_1LookupResult.html#acb441eab117976143a180df5fa4387f4">asUnresolvedSet</a>();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="SemaOverload_8cpp.html#aae70b255dc4549c2e747764af8e81e4e">IsOverloaded</a> =</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      Functions.size() &gt; 1 ||</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      (Functions.size() == 1 &amp;&amp; isa&lt;FunctionTemplateDecl&gt;(*Functions.begin()));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *CoawaitOp = <a class="code" href="classclang_1_1UnresolvedLookupExpr.html#aceb9c5f5e61225293fc492fc39ea4738">UnresolvedLookupExpr::Create</a>(</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      SemaRef.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <span class="comment">/*NamingClass*/</span> <span class="keyword">nullptr</span>, <a class="code" href="classclang_1_1NestedNameSpecifierLoc.html">NestedNameSpecifierLoc</a>(),</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="structclang_1_1DeclarationNameInfo.html">DeclarationNameInfo</a>(OpName, Loc), <span class="comment">/*RequiresADL*/</span> <span class="keyword">true</span>, <a class="code" href="SemaOverload_8cpp.html#aae70b255dc4549c2e747764af8e81e4e">IsOverloaded</a>,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      Functions.begin(), Functions.end());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  assert(CoawaitOp);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">return</span> CoawaitOp;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">/// Build a call to &#39;operator co_await&#39; if there is a suitable operator for</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">/// the given expression.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">  272</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">buildOperatorCoawaitCall</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;SemaRef, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                           <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                           <a class="code" href="classclang_1_1UnresolvedLookupExpr.html">UnresolvedLookupExpr</a> *Lookup) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="classclang_1_1UnresolvedSet.html">UnresolvedSet&lt;16&gt;</a> Functions;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  Functions.<a class="code" href="classclang_1_1UnresolvedSetImpl.html#ad1e4dde3cd343da5f9918eb0caedd0a7">append</a>(Lookup-&gt;<a class="code" href="classclang_1_1OverloadExpr.html#a64784b3c95c570064f99b97fd99f683c">decls_begin</a>(), Lookup-&gt;<a class="code" href="classclang_1_1OverloadExpr.html#ad9efd798b37f0ceb9cafaf2432f3e9b9">decls_end</a>());</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">return</span> SemaRef.<a class="code" href="classclang_1_1Sema.html#a88cd16da1012848cab6307b8c6612ebf">CreateOverloadedUnaryOp</a>(Loc, UO_Coawait, Functions, E);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a32e85b5ff6c809315044c30b6755bd45">  280</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">buildOperatorCoawaitCall</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;SemaRef, <a class="code" href="classclang_1_1Scope.html">Scope</a> *S,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                           <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> R = <a class="code" href="SemaCoroutine_8cpp.html#a3dbd530a307f9a74eab7f40573fa8d53">buildOperatorCoawaitLookupExpr</a>(SemaRef, S, Loc);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (R.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">buildOperatorCoawaitCall</a>(SemaRef, Loc, E,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                  cast&lt;UnresolvedLookupExpr&gt;(R.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>()));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a0180b4c641bd4840aa6cd873613a66fe">  289</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="SemaCoroutine_8cpp.html#a0180b4c641bd4840aa6cd873613a66fe">buildCoroutineHandle</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1QualType.html">QualType</a> PromiseType,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                       <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> CoroHandleType = <a class="code" href="SemaCoroutine_8cpp.html#acda5fdc0982f58d72dcc73f43a6e6c38">lookupCoroutineHandleType</a>(S, PromiseType, Loc);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (CoroHandleType.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="classclang_1_1DeclContext.html">DeclContext</a> *LookupCtx = S.<a class="code" href="classclang_1_1Sema.html#aa87cf42fde12a9e06a3b076a63198c7a">computeDeclContext</a>(CoroHandleType);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> Found(S, &amp;S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">getIdentifierTable</a>().<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;from_address&quot;</span>), Loc,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                     <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">Sema::LookupOrdinaryName</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(Found, LookupCtx)) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_coroutine_handle_missing_member)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;from_address&quot;</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *FramePtr =</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a2e053da259fce726968db2c2d84b6e6b">BuildBuiltinCallExpr</a>(Loc, Builtin::BI__builtin_coro_frame, {});</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="classclang_1_1CXXScopeSpec.html">CXXScopeSpec</a> SS;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> FromAddr =</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a8ceb298cd7bae49159d33420886b0125">BuildDeclarationNameExpr</a>(SS, Found, <span class="comment">/*NeedsADL=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">if</span> (FromAddr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a68fab9b67a02a7f4a1adecb5e910cb14">BuildCallExpr</a>(<span class="keyword">nullptr</span>, FromAddr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), Loc, FramePtr, Loc);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structReadySuspendResumeResult.html">  316</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structReadySuspendResumeResult.html">ReadySuspendResumeResult</a> {</div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="structReadySuspendResumeResult.html#ac2896552c4242c5d4c2808e964e9f6bf">  317</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="structReadySuspendResumeResult.html#ac2896552c4242c5d4c2808e964e9f6bf">AwaitCallType</a> { ACT_Ready, ACT_Suspend, ACT_Resume };</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">  318</a></span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *Results[3];</div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structReadySuspendResumeResult.html#a34b1675e1f5f4092834d9a315337096a">  319</a></span>&#160;  <a class="code" href="classclang_1_1OpaqueValueExpr.html">OpaqueValueExpr</a> *<a class="code" href="structReadySuspendResumeResult.html#a34b1675e1f5f4092834d9a315337096a">OpaqueValue</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">  320</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">IsInvalid</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;};</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a876b9bf1d75cd58cc9c0f5ad71dd2933">  323</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="SemaCoroutine_8cpp.html#a876b9bf1d75cd58cc9c0f5ad71dd2933">buildMemberCall</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="classBase.html">Base</a>, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                  StringRef Name, <a class="code" href="classllvm_1_1MutableArrayRef.html">MultiExprArg</a> Args) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <a class="code" href="structclang_1_1DeclarationNameInfo.html">DeclarationNameInfo</a> NameInfo(&amp;S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">getIdentifierTable</a>().<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(Name), Loc);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// FIXME: Fix BuildMemberReferenceExpr to take a const CXXScopeSpec&amp;.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classclang_1_1CXXScopeSpec.html">CXXScopeSpec</a> SS;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Result = S.<a class="code" href="classclang_1_1Sema.html#a09119b70f6c9702b73f98d505f8a74a5">BuildMemberReferenceExpr</a>(</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="classBase.html">Base</a>, <a class="code" href="classBase.html">Base</a>-&gt;getType(), Loc, <span class="comment">/*IsPtr=*/</span><span class="keyword">false</span>, SS,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a>(), <span class="keyword">nullptr</span>, NameInfo, <span class="comment">/*TemplateArgs=*/</span><span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">/*Scope=*/</span><span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (Result.isInvalid())</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// We meant exactly what we asked for. No need for typo correction.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TE = dyn_cast&lt;TypoExpr&gt;(Result.get())) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#aeab3740be38d287a816f3a2a993b9ab2">clearDelayedTypo</a>(TE);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_no_member)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        &lt;&lt; NameInfo.<a class="code" href="structclang_1_1DeclarationNameInfo.html#a09d47cb0da3fea189ecbd6ab0094c70d">getName</a>() &lt;&lt; <a class="code" href="classBase.html">Base</a>-&gt;getType()-&gt;getAsCXXRecordDecl()</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        &lt;&lt; <a class="code" href="classBase.html">Base</a>-&gt;getSourceRange();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a68fab9b67a02a7f4a1adecb5e910cb14">BuildCallExpr</a>(<span class="keyword">nullptr</span>, Result.get(), Loc, Args, Loc, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">// See if return type is coroutine-handle and if so, invoke builtin coro-resume</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">// on its address. This is to enable experimental support for coroutine-handle</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">// returning await_suspend that results in a guaranteed tail call to the target</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">// coroutine.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a5c299f638b40962bf861528bd8965d1d">  352</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="SemaCoroutine_8cpp.html#a5c299f638b40962bf861528bd8965d1d">maybeTailCall</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1QualType.html">QualType</a> RetType, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                           <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">if</span> (RetType-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>())</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="classclang_1_1Type.html">Type</a> <span class="keyword">const</span> *T = RetType.<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>();</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#ad17b1f4910bc45c28783abf96a1db53f">isClassType</a>() &amp;&amp; !T-&gt;<a class="code" href="classclang_1_1Type.html#a02e572bb27d5f79ff36f66ddc036d1f0">isStructureType</a>())</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// FIXME: Add convertability check to coroutine_handle&lt;&gt;. Possibly via</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// EvaluateBinaryTypeTrait(BTT_IsConvertible, ...) which is at the moment</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// a private function in SemaExprCXX.cpp</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> AddressExpr = <a class="code" href="SemaCoroutine_8cpp.html#a876b9bf1d75cd58cc9c0f5ad71dd2933">buildMemberCall</a>(S, E, Loc, <span class="stringliteral">&quot;address&quot;</span>, None);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (AddressExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *JustAddress = AddressExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// Check that the type of AddressExpr is void*</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">if</span> (!JustAddress-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>().<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a27a66e13de0f33a48523e25961ded5e7">isVoidPointerType</a>())</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(cast&lt;CallExpr&gt;(JustAddress)-&gt;getCalleeDecl()-&gt;getLocation(),</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;           diag::warn_coroutine_handle_address_invalid_return_type)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        &lt;&lt; JustAddress-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// Clean up temporary objects so that they don&#39;t live across suspension points</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// unnecessarily. We choose to clean up before the call to</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// __builtin_coro_resume so that the cleanup code are not inserted in-between</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// the resume call and return instruction, which would interfere with the</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// musttail call contract.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  JustAddress = S.<a class="code" href="classclang_1_1Sema.html#ac7f951bbb24506aff28e15ccbe34945f">MaybeCreateExprWithCleanups</a>(JustAddress);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a2e053da259fce726968db2c2d84b6e6b">BuildBuiltinCallExpr</a>(Loc, Builtin::BI__builtin_coro_resume,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                JustAddress);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/// Build calls to await_ready, await_suspend, and await_resume for a co_await</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">/// expression.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">/// The generated AST tries to clean up temporary objects as early as</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">/// possible so that they don&#39;t live across suspension points if possible.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">/// Having temporary objects living across suspension points unnecessarily can</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">/// lead to large frame size, and also lead to memory corruptions if the</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/// coroutine frame is destroyed after coming back from suspension. This is done</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">/// by wrapping both the await_ready call and the await_suspend call with</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">/// ExprWithCleanups. In the end of this function, we also need to explicitly</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">/// set cleanup state so that the CoawaitExpr is also wrapped with an</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">/// ExprWithCleanups to clean up the awaiter associated with the co_await</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/// expression.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#ac1640531c75a25eaafb0bf41c093f0e1">  398</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="structReadySuspendResumeResult.html">ReadySuspendResumeResult</a> <a class="code" href="SemaCoroutine_8cpp.html#ac1640531c75a25eaafb0bf41c093f0e1">buildCoawaitCalls</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *CoroPromise,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                                  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="classclang_1_1OpaqueValueExpr.html">OpaqueValueExpr</a> *Operand = <span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="classclang_1_1OpaqueValueExpr.html">OpaqueValueExpr</a>(Loc, E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>(), <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">VK_LValue</a>, E-&gt;<a class="code" href="classclang_1_1Expr.html#a86a884e30f44cbb08ec70ba34f5fcbb3">getObjectKind</a>(), E);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// Assume valid until we see otherwise.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// Further operations are responsible for setting IsInalid to true.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="structReadySuspendResumeResult.html">ReadySuspendResumeResult</a> Calls = {{}, Operand, <span class="comment">/*IsInvalid=*/</span><span class="keyword">false</span>};</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keyword">using</span> ACT = <a class="code" href="structReadySuspendResumeResult.html#ac2896552c4242c5d4c2808e964e9f6bf">ReadySuspendResumeResult::AwaitCallType</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keyword">auto</span> BuildSubExpr = [&amp;](ACT CallType, StringRef Func,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                          <a class="code" href="classllvm_1_1MutableArrayRef.html">MultiExprArg</a> Arg) -&gt; <a class="code" href="classclang_1_1Expr.html">Expr</a> * {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Result = <a class="code" href="SemaCoroutine_8cpp.html#a876b9bf1d75cd58cc9c0f5ad71dd2933">buildMemberCall</a>(S, Operand, Loc, Func, Arg);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (Result.isInvalid()) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      Calls.<a class="code" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">IsInvalid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    Calls.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[CallType] = Result.get();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> Result.get();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  };</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="classclang_1_1CallExpr.html">CallExpr</a> *AwaitReady =</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      cast_or_null&lt;CallExpr&gt;(BuildSubExpr(ACT::ACT_Ready, <span class="stringliteral">&quot;await_ready&quot;</span>, None));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">if</span> (!AwaitReady)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">return</span> Calls;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (!AwaitReady-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>()) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// [expr.await]p3 [...]</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">//  await-ready is the expression e.await_ready(), contextually converted</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// to bool.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Conv = S.<a class="code" href="classclang_1_1Sema.html#a95ba45be206bcbf954cdd2f58296bb9f">PerformContextuallyConvertToBool</a>(AwaitReady);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> (Conv.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AwaitReady-&gt;<a class="code" href="classclang_1_1CallExpr.html#aca5fbea2ad48a2c33ba421f7b3df6fa4">getDirectCallee</a>()-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a73cead379a984c4b4ddb6e0d308725f6">getBeginLoc</a>(),</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;             diag::note_await_ready_no_bool_conversion);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::note_coroutine_promise_call_implicitly_required)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          &lt;&lt; AwaitReady-&gt;<a class="code" href="classclang_1_1CallExpr.html#aca5fbea2ad48a2c33ba421f7b3df6fa4">getDirectCallee</a>() &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      Calls.<a class="code" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">IsInvalid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      Calls.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[ACT::ACT_Ready] = S.<a class="code" href="classclang_1_1Sema.html#ac7f951bbb24506aff28e15ccbe34945f">MaybeCreateExprWithCleanups</a>(Conv.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> CoroHandleRes =</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="SemaCoroutine_8cpp.html#a0180b4c641bd4840aa6cd873613a66fe">buildCoroutineHandle</a>(S, CoroPromise-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>(), Loc);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span> (CoroHandleRes.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    Calls.<a class="code" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">IsInvalid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">return</span> Calls;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *CoroHandle = CoroHandleRes.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classclang_1_1CallExpr.html">CallExpr</a> *AwaitSuspend = cast_or_null&lt;CallExpr&gt;(</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      BuildSubExpr(ACT::ACT_Suspend, <span class="stringliteral">&quot;await_suspend&quot;</span>, CoroHandle));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (!AwaitSuspend)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">return</span> Calls;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span> (!AwaitSuspend-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>()) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">// [expr.await]p3 [...]</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">//   - await-suspend is the expression e.await_suspend(h), which shall be</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">//     a prvalue of type void, bool, or std::coroutine_handle&lt;Z&gt; for some</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">//     type Z.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> RetType = AwaitSuspend-&gt;<a class="code" href="classclang_1_1CallExpr.html#addcb0820b3d0e29f38c04b25cbf0cc37">getCallReturnType</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// Experimental support for coroutine_handle returning await_suspend.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Expr.html">Expr</a> *TailCallSuspend =</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <a class="code" href="SemaCoroutine_8cpp.html#a5c299f638b40962bf861528bd8965d1d">maybeTailCall</a>(S, RetType, AwaitSuspend, Loc))</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="comment">// Note that we don&#39;t wrap the expression with ExprWithCleanups here</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="comment">// because that might interfere with tailcall contract (e.g. inserting</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="comment">// clean up instructions in-between tailcall and return). Instead</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="comment">// ExprWithCleanups is wrapped within maybeTailCall() prior to the resume</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="comment">// call.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      Calls.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[ACT::ACT_Suspend] = TailCallSuspend;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="comment">// non-class prvalues always have cv-unqualified types</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">if</span> (RetType-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>() ||</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;          (!RetType-&gt;<a class="code" href="classclang_1_1Type.html#a096577dc2c0e924586ad954a1f99e671">isBooleanType</a>() &amp;&amp; !RetType-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>())) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AwaitSuspend-&gt;<a class="code" href="classclang_1_1CallExpr.html#adae79f81d15fd153dc505d597ceee5ea">getCalleeDecl</a>()-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;               diag::err_await_suspend_invalid_return_type)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            &lt;&lt; RetType;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::note_coroutine_promise_call_implicitly_required)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            &lt;&lt; AwaitSuspend-&gt;<a class="code" href="classclang_1_1CallExpr.html#aca5fbea2ad48a2c33ba421f7b3df6fa4">getDirectCallee</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        Calls.<a class="code" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">IsInvalid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        Calls.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[ACT::ACT_Suspend] =</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            S.<a class="code" href="classclang_1_1Sema.html#ac7f951bbb24506aff28e15ccbe34945f">MaybeCreateExprWithCleanups</a>(AwaitSuspend);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  BuildSubExpr(ACT::ACT_Resume, <span class="stringliteral">&quot;await_resume&quot;</span>, None);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// Make sure the awaiter object gets a chance to be cleaned up.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a7b0488428ddb1b3b69219f2a71094793">Cleanup</a>.<a class="code" href="classclang_1_1CleanupInfo.html#a90391d0943f3188ede40ca618ab3fb6d">setExprNeedsCleanups</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">return</span> Calls;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">  490</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *Promise,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                   <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, StringRef Name,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                   <a class="code" href="classllvm_1_1MutableArrayRef.html">MultiExprArg</a> Args) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="comment">// Form a reference to the promise.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> PromiseRef = S.<a class="code" href="classclang_1_1Sema.html#a54dcb676107399d83476d5b6ce7b9da4">BuildDeclRefExpr</a>(</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      Promise, Promise-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>().<a class="code" href="classclang_1_1QualType.html#a8be1f3b9e144fba37e7aa9ae2a583de6">getNonReferenceType</a>(), <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">VK_LValue</a>, Loc);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">if</span> (PromiseRef.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SemaCoroutine_8cpp.html#a876b9bf1d75cd58cc9c0f5ad71dd2933">buildMemberCall</a>(S, PromiseRef.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), Loc, Name, Args);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a20811b4b27be70758d9867cc4b125fde">  503</a></span>&#160;<a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *<a class="code" href="classclang_1_1Sema.html#a20811b4b27be70758d9867cc4b125fde">Sema::buildCoroutinePromise</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  assert(isa&lt;FunctionDecl&gt;(CurContext) &amp;&amp; <span class="stringliteral">&quot;not in a function scope&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(CurContext);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordtype">bool</span> IsThisDependentType = [&amp;] {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = dyn_cast_or_null&lt;CXXMethodDecl&gt;(FD))</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">return</span> MD-&gt;isInstance() &amp;&amp; MD-&gt;getThisType()-&gt;isDependentType();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  }();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T = FD-&gt;getType()-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() || IsThisDependentType</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                   ? Context.<a class="code" href="classclang_1_1ASTContext.html#a4b9c29396317bed688dfe9d5b909f04f">DependentTy</a></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                   : <a class="code" href="SemaCoroutine_8cpp.html#adcfdcf60ae41f0d900993ec564ba04d4">lookupPromiseType</a>(*<span class="keyword">this</span>, FD, Loc);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (T.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keyword">auto</span> *VD = <a class="code" href="classclang_1_1VarDecl.html#a06bcd00c13ed00b56a767f33d1b98ddd">VarDecl::Create</a>(Context, FD, FD-&gt;getLocation(), FD-&gt;getLocation(),</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                             &amp;PP.getIdentifierTable().get(<span class="stringliteral">&quot;__promise&quot;</span>), T,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                             Context.<a class="code" href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">getTrivialTypeSourceInfo</a>(T, Loc), <a class="code" href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370aebf74ba707605e744f1303f997b2477f">SC_None</a>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  VD-&gt;setImplicit();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  CheckVariableDeclarationType(VD);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">if</span> (VD-&gt;isInvalidDecl())</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keyword">auto</span> *ScopeInfo = getCurFunction();</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// Build a list of arguments, based on the coroutine function&#39;s arguments,</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// that if present will be passed to the promise type&#39;s constructor.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Expr *, 4&gt;</a> CtorArgExprs;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// Add implicit object parameter.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(FD)) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (MD-&gt;isInstance() &amp;&amp; !<a class="code" href="namespaceclang.html#a7385235b182acea119bba9574dab4c3f">isLambdaCallOperator</a>(MD)) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ThisExpr = ActOnCXXThis(Loc);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">if</span> (ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      ThisExpr = CreateBuiltinUnaryOp(Loc, UO_Deref, ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">if</span> (ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      CtorArgExprs.push_back(ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// Add the coroutine function&#39;s parameters.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keyword">auto</span> &amp;Moves = ScopeInfo-&gt;CoroutineParameterMoves;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *PD : FD-&gt;parameters()) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (PD-&gt;getType()-&gt;isDependentType())</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keyword">auto</span> RefExpr = <a class="code" href="namespaceclang.html#a669146fb548c755eaaa8779a56af9a4e">ExprEmpty</a>();</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespaceclang_1_1diff.html#a6310f9b63d5654549c27dadc26c2113ca9c256d19492ab3855ee67fa48cea0a7c">Move</a> = Moves.find(PD);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    assert(<a class="code" href="namespaceclang_1_1diff.html#a6310f9b63d5654549c27dadc26c2113ca9c256d19492ab3855ee67fa48cea0a7c">Move</a> != Moves.end() &amp;&amp;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;           <span class="stringliteral">&quot;Coroutine function parameter not inserted into move map&quot;</span>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// If a reference to the function parameter exists in the coroutine</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// frame, use that reference.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">auto</span> *MoveDecl =</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        cast&lt;VarDecl&gt;(cast&lt;DeclStmt&gt;(<a class="code" href="namespaceclang_1_1diff.html#a6310f9b63d5654549c27dadc26c2113ca9c256d19492ab3855ee67fa48cea0a7c">Move</a>-&gt;second)-&gt;getSingleDecl());</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    RefExpr =</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        BuildDeclRefExpr(MoveDecl, MoveDecl-&gt;getType().getNonReferenceType(),</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                         <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">ExprValueKind::VK_LValue</a>, FD-&gt;getLocation());</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (RefExpr.isInvalid())</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    CtorArgExprs.push_back(RefExpr.get());</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// If we have a non-zero number of constructor arguments, try to use them.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// Otherwise, fall back to the promise type&#39;s default constructor.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (!CtorArgExprs.empty()) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// Create an initialization sequence for the promise type using the</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// constructor arguments, wrapped in a parenthesized list expression.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *PLE = <a class="code" href="classclang_1_1ParenListExpr.html#a668cb87a36a53b2482d7dcd558b5cc83">ParenListExpr::Create</a>(Context, FD-&gt;getLocation(),</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                                      CtorArgExprs, FD-&gt;getLocation());</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classclang_1_1InitializedEntity.html">InitializedEntity</a> Entity = <a class="code" href="classclang_1_1InitializedEntity.html#a8c696ea091b8dc2aec11c0b71426fe9f">InitializedEntity::InitializeVariable</a>(VD);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classclang_1_1InitializationKind.html">InitializationKind</a> <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> = <a class="code" href="classclang_1_1InitializationKind.html#a8a82c60102c7a92725e02fb363d31f92">InitializationKind::CreateForInit</a>(</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        VD-&gt;getLocation(), <span class="comment">/*DirectInit=*/</span><span class="keyword">true</span>, PLE);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="classclang_1_1InitializationSequence.html">InitializationSequence</a> InitSeq(*<span class="keyword">this</span>, Entity, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>, CtorArgExprs,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                   <span class="comment">/*TopLevelOfInitList=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                   <span class="comment">/*TreatUnavailableAsInvalid=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// [dcl.fct.def.coroutine]5.7</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// promise-constructor-arguments is determined as follows: overload</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// resolution is performed on a promise constructor call created by</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// assembling an argument list  q_1 ... q_n . If a viable constructor is</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// found ([over.match.viable]), then promise-constructor-arguments is ( q_1</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// , ...,  q_n ), otherwise promise-constructor-arguments is empty.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (InitSeq) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Result = InitSeq.<a class="code" href="classclang_1_1InitializationSequence.html#a054e85373a207390ad812c67544b13da">Perform</a>(*<span class="keyword">this</span>, Entity, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>, CtorArgExprs);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">if</span> (Result.isInvalid()) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        VD-&gt;setInvalidDecl();</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Result.get()) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        VD-&gt;setInit(MaybeCreateExprWithCleanups(Result.get()));</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        VD-&gt;setInitStyle(<a class="code" href="classclang_1_1VarDecl.html#a4e23202e164f8d6d14a833023c3711efaabe1bb053184a34ae148757d76c68650">VarDecl::CallInit</a>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        CheckCompleteVariableDeclaration(VD);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      ActOnUninitializedDecl(VD);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    ActOnUninitializedDecl(VD);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  FD-&gt;addDecl(VD);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">return</span> VD;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">/// Check that this is a context in which a coroutine suspension can appear.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">  607</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html">FunctionScopeInfo</a> *<a class="code" href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">checkCoroutineContext</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                                                StringRef Keyword,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                                <span class="keywordtype">bool</span> IsImplicit = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaCoroutine_8cpp.html#a2e033fcd6e1247056c3a8ab8d879b49a">isValidCoroutineContext</a>(S, Loc, Keyword))</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  assert(isa&lt;FunctionDecl&gt;(S.<a class="code" href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">CurContext</a>) &amp;&amp; <span class="stringliteral">&quot;not in a function scope&quot;</span>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keyword">auto</span> *ScopeInfo = S.<a class="code" href="classclang_1_1Sema.html#ae78eabd2ca80fc1aee519316f333ceb9">getCurFunction</a>();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  assert(ScopeInfo &amp;&amp; <span class="stringliteral">&quot;missing function scope for function&quot;</span>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">if</span> (ScopeInfo-&gt;FirstCoroutineStmtLoc.isInvalid() &amp;&amp; !IsImplicit)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    ScopeInfo-&gt;setFirstCoroutineStmt(Loc, Keyword);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">if</span> (ScopeInfo-&gt;CoroutinePromise)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> ScopeInfo;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a8154bc59037c621c17f7a7f06556565f">buildCoroutineParameterMoves</a>(Loc))</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  ScopeInfo-&gt;CoroutinePromise = S.<a class="code" href="classclang_1_1Sema.html#a20811b4b27be70758d9867cc4b125fde">buildCoroutinePromise</a>(Loc);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">if</span> (!ScopeInfo-&gt;CoroutinePromise)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">return</span> ScopeInfo;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">/// Recursively check \p E and all its children to see if any call target</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">/// (including constructor call) is declared noexcept. Also any value returned</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">/// from the call has a noexcept destructor.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#aafd80c6de24bfcdbd159b606c8257443">  637</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SemaCoroutine_8cpp.html#aafd80c6de24bfcdbd159b606c8257443">checkNoThrow</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *E,</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                         llvm::SmallPtrSetImpl&lt;const Decl *&gt; &amp;ThrowingDecls) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keyword">auto</span> checkDeclNoexcept = [&amp;](<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keywordtype">bool</span> IsDtor = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">// In the case of dtor, the call to dtor is implicit and hence we should</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">// pass nullptr to canCalleeThrow.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Sema.html#afe731eac0c78ea0bfe4f2d2e18061f22">Sema::canCalleeThrow</a>(S, IsDtor ? <span class="keyword">nullptr</span> : cast&lt;Expr&gt;(E), D)) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="comment">// co_await promise.final_suspend() could end up calling</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="comment">// __builtin_coro_resume for symmetric transfer if await_suspend()</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="comment">// returns a handle. In that case, even __builtin_coro_resume is not</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="comment">// declared as noexcept and may throw, it does not throw _into_ the</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// coroutine that just suspended, but rather throws back out from</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="comment">// whoever called coroutine_handle::resume(), hence we claim that</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="comment">// logically it does not throw.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">if</span> (FD-&gt;getBuiltinID() == Builtin::BI__builtin_coro_resume)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">if</span> (ThrowingDecls.empty()) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="comment">// [dcl.fct.def.coroutine]p15</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="comment">//   The expression co_await promise.final_suspend() shall not be</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="comment">//   potentially-throwing ([except.spec]).</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="comment">// First time seeing an error, emit the error message.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(cast&lt;FunctionDecl&gt;(S.<a class="code" href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">CurContext</a>)-&gt;getLocation(),</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;               diag::err_coroutine_promise_final_suspend_requires_nothrow);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      ThrowingDecls.insert(D);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  };</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CE = dyn_cast&lt;CXXConstructExpr&gt;(E)) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classclang_1_1CXXConstructorDecl.html">CXXConstructorDecl</a> *Ctor = CE-&gt;getConstructor();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    checkDeclNoexcept(Ctor);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="comment">// Check the corresponding destructor of the constructor.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    checkDeclNoexcept(Ctor-&gt;<a class="code" href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">getParent</a>()-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#ac87a7cb3291953bb9762bd31ad5d686d">getDestructor</a>(), <span class="comment">/*IsDtor=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CE = dyn_cast&lt;CallExpr&gt;(E)) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (CE-&gt;isTypeDependent())</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    checkDeclNoexcept(CE-&gt;getCalleeDecl());</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> ReturnType = CE-&gt;getCallReturnType(S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>());</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// Check the destructor of the call return type, if any.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> (ReturnType.<a class="code" href="classclang_1_1QualType.html#ad8d73fb7d859687aa1ff5c41d51ae85e">isDestructedType</a>() ==</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        QualType::DestructionKind::DK_cxx_destructor) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *T =</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          cast&lt;RecordType&gt;(ReturnType.<a class="code" href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">getCanonicalType</a>().<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>());</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      checkDeclNoexcept(cast&lt;CXXRecordDecl&gt;(T-&gt;getDecl())-&gt;getDestructor(),</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                        <span class="comment">/*IsDtor=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Child : E-&gt;<a class="code" href="classclang_1_1Stmt.html#a489148e5d234a5a7f00d8b02981bcee5">children</a>()) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">if</span> (!Child)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <a class="code" href="SemaCoroutine_8cpp.html#aafd80c6de24bfcdbd159b606c8257443">checkNoThrow</a>(S, Child, ThrowingDecls);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a0cc872d7a650c34c94f715019f4e80d1">  694</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a0cc872d7a650c34c94f715019f4e80d1">Sema::checkFinalSuspendNoThrow</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *FinalSuspend) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet&lt;const Decl *, 4&gt;</a> ThrowingDecls;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// We first collect all declarations that should not throw but not declared</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// with noexcept. We then sort them based on the location before printing.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// This is to avoid emitting the same note multiple times on the same</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// declaration, and also provide a deterministic order for the messages.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="SemaCoroutine_8cpp.html#aafd80c6de24bfcdbd159b606c8257443">checkNoThrow</a>(*<span class="keyword">this</span>, FinalSuspend, ThrowingDecls);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keyword">auto</span> SortedDecls = <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;const Decl *, 4&gt;</a>{ThrowingDecls.begin(),</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                                                        ThrowingDecls.end()};</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  sort(SortedDecls, [](<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *A, <span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *B) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> A-&gt;<a class="code" href="classclang_1_1Decl.html#a087d3b84e8d752112a5c93ed1433a46a">getEndLoc</a>() &lt; B-&gt;<a class="code" href="classclang_1_1Decl.html#a087d3b84e8d752112a5c93ed1433a46a">getEndLoc</a>();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  });</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *D : SortedDecls) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;getEndLoc(), diag::note_coroutine_function_declare_noexcept);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">return</span> ThrowingDecls.empty();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a178fde2427ba75b8e6588f83ec8aebb9">  712</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a178fde2427ba75b8e6588f83ec8aebb9">Sema::ActOnCoroutineBodyStart</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *SC, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> KWLoc,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                   StringRef Keyword) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">checkCoroutineContext</a>(*<span class="keyword">this</span>, KWLoc, Keyword))</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keyword">auto</span> *ScopeInfo = getCurFunction();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  assert(ScopeInfo-&gt;CoroutinePromise);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// If we have existing coroutine statements then we have already built</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// the initial and final suspend points.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">if</span> (!ScopeInfo-&gt;NeedsCoroutineSuspends)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  ScopeInfo-&gt;setNeedsCoroutineSuspends(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keyword">auto</span> *Fn = cast&lt;FunctionDecl&gt;(CurContext);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc = Fn-&gt;getLocation();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="comment">// Build the initial suspend point</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keyword">auto</span> buildSuspends = [&amp;](StringRef Name) <span class="keyword">mutable</span> -&gt; <a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Suspend =</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(*<span class="keyword">this</span>, ScopeInfo-&gt;CoroutinePromise, Loc, Name, None);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (Suspend.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    Suspend = <a class="code" href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">buildOperatorCoawaitCall</a>(*<span class="keyword">this</span>, SC, Loc, Suspend.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (Suspend.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    Suspend = BuildResolvedCoawaitExpr(Loc, Suspend.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(),</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                       <span class="comment">/*IsImplicit*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    Suspend = ActOnFinishFullExpr(Suspend.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), <span class="comment">/*DiscardedValue*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (Suspend.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::note_coroutine_promise_suspend_implicitly_required)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          &lt;&lt; ((Name == <span class="stringliteral">&quot;initial_suspend&quot;</span>) ? 0 : 1);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(KWLoc, diag::note_declared_coroutine_here) &lt;&lt; Keyword;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> cast&lt;Stmt&gt;(Suspend.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  };</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> InitSuspend = buildSuspends(<span class="stringliteral">&quot;initial_suspend&quot;</span>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">if</span> (InitSuspend.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> FinalSuspend = buildSuspends(<span class="stringliteral">&quot;final_suspend&quot;</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">if</span> (FinalSuspend.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>() || !checkFinalSuspendNoThrow(FinalSuspend.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>()))</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  ScopeInfo-&gt;setCoroutineSuspends(InitSuspend.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), FinalSuspend.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">// Recursively walks up the scope hierarchy until either a &#39;catch&#39; or a function</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">// scope is found, whichever comes first.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a9b80ef69ab2198f85e72e1d5316343ba">  764</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaCoroutine_8cpp.html#a9b80ef69ab2198f85e72e1d5316343ba">isWithinCatchScope</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// &#39;co_await&#39; and &#39;co_yield&#39; keywords are disallowed within catch blocks, but</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="comment">// lambdas that use &#39;co_await&#39; are allowed. The loop below ends when a</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// function scope is found in order to ensure the following behavior:</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// void foo() {      // &lt;- function scope</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">//   try {           //</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">//     co_await x;   // &lt;- &#39;co_await&#39; is OK within a function scope</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">//   } catch {       // &lt;- catch scope</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">//     co_await x;   // &lt;- &#39;co_await&#39; is not OK within a catch scope</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">//     []() {        // &lt;- function scope</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">//       co_await x; // &lt;- &#39;co_await&#39; is OK within a function scope</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">//     }();</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">//   }</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">while</span> (S &amp;&amp; !(S-&gt;getFlags() &amp; <a class="code" href="classclang_1_1Scope.html#afa7e82b8e23f84d0d73e27953b9afab7aec9cad8f5dd22da19c76343a52dd6a2d">Scope::FnScope</a>)) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (S-&gt;getFlags() &amp; <a class="code" href="classclang_1_1Scope.html#afa7e82b8e23f84d0d73e27953b9afab7a7b48096fbc2ced4a0b5fa7ff7bb0ca63">Scope::CatchScope</a>)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    S = S-&gt;getParent();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">// [expr.await]p2, emphasis added: &quot;An await-expression shall appear only in</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">// a *potentially evaluated* expression within the compound-statement of a</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">// function-body *outside of a handler* [...] A context within a function</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">// where an await-expression can appear is called a suspension context of the</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">// function.&quot;</span></div>
<div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#ab6c4f301bbff55c3d3dbf84760a54513">  792</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SemaCoroutine_8cpp.html#ab6c4f301bbff55c3d3dbf84760a54513">checkSuspensionContext</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                                   StringRef Keyword) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="comment">// First emphasis of [expr.await]p2: must be a potentially evaluated context.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// That is, &#39;co_await&#39; and &#39;co_yield&#39; cannot appear in subexpressions of</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">// \c sizeof.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a97a3cb096516718809888efca0b4ed1a">isUnevaluatedContext</a>())</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_coroutine_unevaluated_context) &lt;&lt; Keyword;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">// Second emphasis of [expr.await]p2: must be outside of an exception handler.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaCoroutine_8cpp.html#a9b80ef69ab2198f85e72e1d5316343ba">isWithinCatchScope</a>(S.<a class="code" href="classclang_1_1Sema.html#a4a4847d6b5738271771f07be03e3a712">getCurScope</a>()))</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_coroutine_within_handler) &lt;&lt; Keyword;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a8910059873945e65f827911dcb9cce29">  805</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="classclang_1_1Sema.html#a8910059873945e65f827911dcb9cce29">Sema::ActOnCoawaitExpr</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">if</span> (!ActOnCoroutineBodyStart(S, Loc, <span class="stringliteral">&quot;co_await&quot;</span>)) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    CorrectDelayedTyposInExpr(E);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="SemaCoroutine_8cpp.html#ab6c4f301bbff55c3d3dbf84760a54513">checkSuspensionContext</a>(*<span class="keyword">this</span>, Loc, <span class="stringliteral">&quot;co_await&quot;</span>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#acc69a63a126409ab9dea2182d34c3d62">hasPlaceholderType</a>()) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> R = CheckPlaceholderExpr(E);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> (R.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    E = R.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Lookup = <a class="code" href="SemaCoroutine_8cpp.html#a3dbd530a307f9a74eab7f40573fa8d53">buildOperatorCoawaitLookupExpr</a>(*<span class="keyword">this</span>, S, Loc);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">if</span> (Lookup.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">return</span> BuildUnresolvedCoawaitExpr(Loc, E,</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                                   cast&lt;UnresolvedLookupExpr&gt;(Lookup.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>()));</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#ae9b55bf6070c91a893156f2ea0cc7413">  825</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="classclang_1_1Sema.html#ae9b55bf6070c91a893156f2ea0cc7413">Sema::BuildUnresolvedCoawaitExpr</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                                            <a class="code" href="classclang_1_1UnresolvedLookupExpr.html">UnresolvedLookupExpr</a> *Lookup) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keyword">auto</span> *FSI = <a class="code" href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">checkCoroutineContext</a>(*<span class="keyword">this</span>, Loc, <span class="stringliteral">&quot;co_await&quot;</span>);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordflow">if</span> (!FSI)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#acc69a63a126409ab9dea2182d34c3d62">hasPlaceholderType</a>()) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> R = CheckPlaceholderExpr(E);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">if</span> (R.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    E = R.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keyword">auto</span> *Promise = FSI-&gt;CoroutinePromise;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keywordflow">if</span> (Promise-&gt;getType()-&gt;isDependentType()) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *Res =</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keyword">new</span> (Context) <a class="code" href="classclang_1_1DependentCoawaitExpr.html">DependentCoawaitExpr</a>(Loc, Context.<a class="code" href="classclang_1_1ASTContext.html#a4b9c29396317bed688dfe9d5b909f04f">DependentTy</a>, E, Lookup);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="keyword">auto</span> *RD = Promise-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>();</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a>(*<span class="keyword">this</span>, <span class="stringliteral">&quot;await_transform&quot;</span>, RD, Loc)) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> R = <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(*<span class="keyword">this</span>, Promise, Loc, <span class="stringliteral">&quot;await_transform&quot;</span>, E);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (R.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;           diag::note_coroutine_promise_implicit_await_transform_required_here)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    E = R.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Awaitable = <a class="code" href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">buildOperatorCoawaitCall</a>(*<span class="keyword">this</span>, Loc, E, Lookup);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">if</span> (Awaitable.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordflow">return</span> BuildResolvedCoawaitExpr(Loc, Awaitable.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#aadda9c7de08aa0f1575190bb20b8c6f7">  863</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="classclang_1_1Sema.html#aadda9c7de08aa0f1575190bb20b8c6f7">Sema::BuildResolvedCoawaitExpr</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                  <span class="keywordtype">bool</span> IsImplicit) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keyword">auto</span> *Coroutine = <a class="code" href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">checkCoroutineContext</a>(*<span class="keyword">this</span>, Loc, <span class="stringliteral">&quot;co_await&quot;</span>, IsImplicit);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">if</span> (!Coroutine)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#acc69a63a126409ab9dea2182d34c3d62">hasPlaceholderType</a>()) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> R = CheckPlaceholderExpr(E);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (R.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    E = R.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>()) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *Res = <span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <a class="code" href="classclang_1_1CoawaitExpr.html">CoawaitExpr</a>(Loc, Context.<a class="code" href="classclang_1_1ASTContext.html#a4b9c29396317bed688dfe9d5b909f04f">DependentTy</a>, E, IsImplicit);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="comment">// If the expression is a temporary, materialize it as an lvalue so that we</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="comment">// can use it multiple times.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a74255d19e963e78df4c328d3c87fbbb2">isPRValue</a>())</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    E = CreateMaterializeTemporaryExpr(E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>(), E, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="comment">// The location of the `co_await` token cannot be used when constructing</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="comment">// the member call expressions since it&#39;s before the location of `Expr`, which</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="comment">// is used as the start of the member call expression.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> CallLoc = E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// Build the await_ready, await_suspend, await_resume calls.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="structReadySuspendResumeResult.html">ReadySuspendResumeResult</a> RSS = <a class="code" href="SemaCoroutine_8cpp.html#ac1640531c75a25eaafb0bf41c093f0e1">buildCoawaitCalls</a>(</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      *<span class="keyword">this</span>, Coroutine-&gt;CoroutinePromise, CallLoc, E);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (RSS.<a class="code" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">IsInvalid</a>)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *Res =</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keyword">new</span> (Context) <a class="code" href="classclang_1_1CoawaitExpr.html">CoawaitExpr</a>(Loc, E, RSS.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[0], RSS.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[1],</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                RSS.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[2], RSS.<a class="code" href="structReadySuspendResumeResult.html#a34b1675e1f5f4092834d9a315337096a">OpaqueValue</a>, IsImplicit);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a3dd6681a797ebe285ef755ab0579f38d">  904</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="classclang_1_1Sema.html#a3dd6681a797ebe285ef755ab0579f38d">Sema::ActOnCoyieldExpr</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (!ActOnCoroutineBodyStart(S, Loc, <span class="stringliteral">&quot;co_yield&quot;</span>)) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    CorrectDelayedTyposInExpr(E);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <a class="code" href="SemaCoroutine_8cpp.html#ab6c4f301bbff55c3d3dbf84760a54513">checkSuspensionContext</a>(*<span class="keyword">this</span>, Loc, <span class="stringliteral">&quot;co_yield&quot;</span>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="comment">// Build yield_value call.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Awaitable = <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      *<span class="keyword">this</span>, getCurFunction()-&gt;CoroutinePromise, Loc, <span class="stringliteral">&quot;yield_value&quot;</span>, E);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">if</span> (Awaitable.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// Build &#39;operator co_await&#39; call.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  Awaitable = <a class="code" href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">buildOperatorCoawaitCall</a>(*<span class="keyword">this</span>, S, Loc, Awaitable.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordflow">if</span> (Awaitable.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">return</span> BuildCoyieldExpr(Loc, Awaitable.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;}</div>
<div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a13d496cb6cf38c660a1710ae1b161b7a">  925</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> <a class="code" href="classclang_1_1Sema.html#a13d496cb6cf38c660a1710ae1b161b7a">Sema::BuildCoyieldExpr</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keyword">auto</span> *Coroutine = <a class="code" href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">checkCoroutineContext</a>(*<span class="keyword">this</span>, Loc, <span class="stringliteral">&quot;co_yield&quot;</span>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">if</span> (!Coroutine)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#acc69a63a126409ab9dea2182d34c3d62">hasPlaceholderType</a>()) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> R = CheckPlaceholderExpr(E);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span> (R.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    E = R.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>()) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *Res = <span class="keyword">new</span> (Context) <a class="code" href="classclang_1_1CoyieldExpr.html">CoyieldExpr</a>(Loc, Context.<a class="code" href="classclang_1_1ASTContext.html#a4b9c29396317bed688dfe9d5b909f04f">DependentTy</a>, E);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// If the expression is a temporary, materialize it as an lvalue so that we</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="comment">// can use it multiple times.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a74255d19e963e78df4c328d3c87fbbb2">isPRValue</a>())</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    E = CreateMaterializeTemporaryExpr(E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>(), E, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// Build the await_ready, await_suspend, await_resume calls.</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <a class="code" href="structReadySuspendResumeResult.html">ReadySuspendResumeResult</a> RSS = <a class="code" href="SemaCoroutine_8cpp.html#ac1640531c75a25eaafb0bf41c093f0e1">buildCoawaitCalls</a>(</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      *<span class="keyword">this</span>, Coroutine-&gt;CoroutinePromise, Loc, E);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">if</span> (RSS.<a class="code" href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">IsInvalid</a>)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">ExprError</a>();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *Res =</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="keyword">new</span> (Context) <a class="code" href="classclang_1_1CoyieldExpr.html">CoyieldExpr</a>(Loc, E, RSS.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[0], RSS.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[1],</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                                RSS.<a class="code" href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">Results</a>[2], RSS.<a class="code" href="structReadySuspendResumeResult.html#a34b1675e1f5f4092834d9a315337096a">OpaqueValue</a>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;}</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a5e91381b566fa2407461fd0be70dc532">  959</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> <a class="code" href="classclang_1_1Sema.html#a5e91381b566fa2407461fd0be70dc532">Sema::ActOnCoreturnStmt</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">if</span> (!ActOnCoroutineBodyStart(S, Loc, <span class="stringliteral">&quot;co_return&quot;</span>)) {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    CorrectDelayedTyposInExpr(E);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">return</span> BuildCoreturnStmt(Loc, E);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;}</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a2ac3621c1b61ecd7b9c71f87f9c7deb0">  967</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> <a class="code" href="classclang_1_1Sema.html#a2ac3621c1b61ecd7b9c71f87f9c7deb0">Sema::BuildCoreturnStmt</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                                   <span class="keywordtype">bool</span> IsImplicit) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keyword">auto</span> *FSI = <a class="code" href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">checkCoroutineContext</a>(*<span class="keyword">this</span>, Loc, <span class="stringliteral">&quot;co_return&quot;</span>, IsImplicit);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">if</span> (!FSI)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">if</span> (E &amp;&amp; E-&gt;<a class="code" href="classclang_1_1Expr.html#acc69a63a126409ab9dea2182d34c3d62">hasPlaceholderType</a>() &amp;&amp;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      !E-&gt;<a class="code" href="classclang_1_1Expr.html#acc69a63a126409ab9dea2182d34c3d62">hasPlaceholderType</a>(BuiltinType::Overload)) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> R = CheckPlaceholderExpr(E);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (R.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>()) <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    E = R.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *Promise = FSI-&gt;CoroutinePromise;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> PC;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">if</span> (E &amp;&amp; (isa&lt;InitListExpr&gt;(E) || !E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>())) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    getNamedReturnInfo(E, SimplerImplicitMoveMode::ForceOn);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    PC = <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(*<span class="keyword">this</span>, Promise, Loc, <span class="stringliteral">&quot;return_value&quot;</span>, E);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    E = MakeFullDiscardedValueExpr(E).get();</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    PC = <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(*<span class="keyword">this</span>, Promise, Loc, <span class="stringliteral">&quot;return_void&quot;</span>, None);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">if</span> (PC.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *PCE = ActOnFinishFullExpr(PC.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), <span class="comment">/*DiscardedValue*/</span> <span class="keyword">false</span>).get();</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *Res = <span class="keyword">new</span> (Context) <a class="code" href="classclang_1_1CoreturnStmt.html">CoreturnStmt</a>(Loc, E, PCE, IsImplicit);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;}</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">/// Look up the std::nothrow object.</span></div>
<div class="line"><a name="l00999"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a7257f6ee3d447e2767957eb230fb1cd2">  999</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="SemaCoroutine_8cpp.html#a7257f6ee3d447e2767957eb230fb1cd2">buildStdNoThrowDeclRef</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <a class="code" href="classclang_1_1NamespaceDecl.html">NamespaceDecl</a> *<a class="code" href="InterpolatingCompilationDatabase_8cpp.html#a9aeccc142636a75b1eca6852e439f73f">Std</a> = S.<a class="code" href="classclang_1_1Sema.html#ad0fa80b3a22bf6410a12a7727c5ac5d3">getStdNamespace</a>();</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  assert(<a class="code" href="InterpolatingCompilationDatabase_8cpp.html#a9aeccc142636a75b1eca6852e439f73f">Std</a> &amp;&amp; <span class="stringliteral">&quot;Should already be diagnosed&quot;</span>);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> Result(S, &amp;S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">getIdentifierTable</a>().<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;nothrow&quot;</span>), Loc,</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                      <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">Sema::LookupOrdinaryName</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(Result, <a class="code" href="InterpolatingCompilationDatabase_8cpp.html#a9aeccc142636a75b1eca6852e439f73f">Std</a>)) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="comment">// &lt;coroutine&gt; is not requred to include &lt;new&gt;, so we couldn&#39;t omit</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">// the check here.</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_implicit_coroutine_std_nothrow_type_not_found);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keyword">auto</span> *VD = Result.getAsSingle&lt;<a class="code" href="classclang_1_1VarDecl.html">VarDecl</a>&gt;();</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (!VD) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    Result.suppressDiagnostics();</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="comment">// We found something weird. Complain about the first thing we found.</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *Found = *Result.begin();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Found-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_malformed_std_nothrow);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> DR = S.<a class="code" href="classclang_1_1Sema.html#a54dcb676107399d83476d5b6ce7b9da4">BuildDeclRefExpr</a>(VD, VD-&gt;getType(), <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">VK_LValue</a>, Loc);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (DR.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keywordflow">return</span> DR.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">// Find an appropriate delete for the promise.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#af0446cc0e6f8f8c5c103781b83a70b39"> 1029</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *<a class="code" href="SemaCoroutine_8cpp.html#af0446cc0e6f8f8c5c103781b83a70b39">findDeleteForPromise</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                                          <a class="code" href="classclang_1_1QualType.html">QualType</a> PromiseType) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *OperatorDelete = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="classclang_1_1DeclarationName.html">DeclarationName</a> DeleteName =</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a2017d2a1ae842fcf4e5df3097c7b93ba">DeclarationNames</a>.<a class="code" href="classclang_1_1DeclarationNameTable.html#aa9c7b7abbc2dc29780eb51a110c8d934">getCXXOperatorName</a>(OO_Delete);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keyword">auto</span> *PointeeRD = PromiseType-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>();</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  assert(PointeeRD &amp;&amp; <span class="stringliteral">&quot;PromiseType must be a CxxRecordDecl type&quot;</span>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p12</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="comment">// The deallocation function&#39;s name is looked up by searching for it in the</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="comment">// scope of the promise type. If nothing is found, a search is performed in</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="comment">// the global scope.</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a74b92349569260eda7ccb75b025221af">FindDeallocationFunction</a>(Loc, PointeeRD, DeleteName, OperatorDelete))</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="comment">// FIXME: We didn&#39;t implement following selection:</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p12</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">//   If both a usual deallocation function with only a pointer parameter and a</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="comment">//   usual deallocation function with both a pointer parameter and a size</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="comment">//   parameter are found, then the selected deallocation function shall be the</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="comment">//   one with two parameters. Otherwise, the selected deallocation function</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="comment">//   shall be the function with one parameter.</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">if</span> (!OperatorDelete) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">// Look for a global declaration.</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> CanProvideSize = S.<a class="code" href="classclang_1_1Sema.html#ab0a62da21d44b2f33e5ab1202373be46">isCompleteType</a>(Loc, PromiseType);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> Overaligned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    OperatorDelete = S.<a class="code" href="classclang_1_1Sema.html#a00278cf4d5074713eda28c3a785906f9">FindUsualDeallocationFunction</a>(Loc, CanProvideSize,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                                     Overaligned, DeleteName);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#ae0aa68f3673efe25b2586328383a72f1">MarkFunctionReferenced</a>(Loc, OperatorDelete);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">return</span> OperatorDelete;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;}</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a1715b1d06115e5d568ed81569da5f948"> 1066</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a1715b1d06115e5d568ed81569da5f948">Sema::CheckCompletedCoroutineBody</a>(<a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD, <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *&amp;Body) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html">FunctionScopeInfo</a> *Fn = getCurFunction();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  assert(Fn &amp;&amp; Fn-&gt;<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a6e706338eb93406b2ecb6bac4dd862ba">isCoroutine</a>() &amp;&amp; <span class="stringliteral">&quot;not a coroutine&quot;</span>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordflow">if</span> (!Body) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    assert(FD-&gt;<a class="code" href="classclang_1_1Decl.html#a8cdf2955f2dc6bf8e832defc751a6b17">isInvalidDecl</a>() &amp;&amp;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;           <span class="stringliteral">&quot;a null body is only allowed for invalid declarations&quot;</span>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// We have a function that uses coroutine keywords, but we failed to build</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">// the promise type.</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">if</span> (!Fn-&gt;<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a76c62e23fb19b681396defb1ccc2cf27">CoroutinePromise</a>)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">return</span> FD-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CoroutineBodyStmt&gt;(Body)) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// Nothing todo. the body is already a transformed coroutine body statement.</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// The always_inline attribute doesn&#39;t reliably apply to a coroutine,</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="comment">// because the coroutine will be split into pieces and some pieces</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="comment">// might be called indirectly, as in a virtual call. Even the ramp</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// function cannot be inlined at -O0, due to pipeline ordering</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="comment">// problems (see https://llvm.org/PR53413). Tell the user about it.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;AlwaysInlineAttr&gt;())</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(FD-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_always_inline_coroutine);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">// [stmt.return.coroutine]p1:</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="comment">//   A coroutine shall not enclose a return statement ([stmt.return]).</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">if</span> (Fn-&gt;<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#abb555f713a32ac7c448666d4343dac1d">FirstReturnLoc</a>.<a class="code" href="classclang_1_1SourceLocation.html#a980da8d6100c0a0c3764991ca80ce6e7">isValid</a>()) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    assert(Fn-&gt;<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a46e1deec48f2277d5a65cd522ac71da6">FirstCoroutineStmtLoc</a>.<a class="code" href="classclang_1_1SourceLocation.html#a980da8d6100c0a0c3764991ca80ce6e7">isValid</a>() &amp;&amp;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                   <span class="stringliteral">&quot;first coroutine location not set&quot;</span>);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Fn-&gt;<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#abb555f713a32ac7c448666d4343dac1d">FirstReturnLoc</a>, diag::err_return_in_coroutine);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Fn-&gt;<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a46e1deec48f2277d5a65cd522ac71da6">FirstCoroutineStmtLoc</a>, diag::note_declared_coroutine_here)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            &lt;&lt; Fn-&gt;<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#ab029d14e40cc1c6dcb901ce82c008b73">getFirstCoroutineStmtKeyword</a>();</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="classclang_1_1CoroutineStmtBuilder.html">CoroutineStmtBuilder</a> Builder(*<span class="keyword">this</span>, *FD, *Fn, Body);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">if</span> (Builder.isInvalid() || !Builder.buildStatements())</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">return</span> FD-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="comment">// Build body for the coroutine wrapper statement.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  Body = <a class="code" href="classclang_1_1CoroutineBodyStmt.html#ab05f1d904a575a33725314194ae13a38">CoroutineBodyStmt::Create</a>(Context, Builder);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="classclang_1_1CoroutineStmtBuilder.html#a5fb5770039d5898d30f979feffaefb4e"> 1109</a></span>&#160;<a class="code" href="classclang_1_1CoroutineStmtBuilder.html#a5fb5770039d5898d30f979feffaefb4e">CoroutineStmtBuilder::CoroutineStmtBuilder</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> &amp;FD,</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                           <a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html">sema::FunctionScopeInfo</a> &amp;Fn,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                                           <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *Body)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    : S(S), FD(FD), Fn(Fn), Loc(FD.getLocation()),</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      IsPromiseDependentType(</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;          !Fn.CoroutinePromise ||</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;          Fn.CoroutinePromise-&gt;getType()-&gt;isDependentType()) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  this-&gt;Body = <a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a81431ba745e787fd3286457b17f7fc09">Body</a>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> KV : Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a2ebe0aadd77ada510ded252ca2d2aeaf">CoroutineParameterMoves</a>)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    this-&gt;ParamMovesVector.push_back(KV.second);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a4abb43ff691bd5a4669e38010eb0956f">ParamMoves</a> = this-&gt;ParamMovesVector;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">if</span> (!IsPromiseDependentType) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    PromiseRecordDecl = Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a76c62e23fb19b681396defb1ccc2cf27">CoroutinePromise</a>-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>();</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    assert(PromiseRecordDecl &amp;&amp; <span class="stringliteral">&quot;Type should have already been checked&quot;</span>);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  this-&gt;IsValid = makePromiseStmt() &amp;&amp; makeInitialAndFinalSuspend();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;}</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="classclang_1_1CoroutineStmtBuilder.html#ad9b4afa938b94f182f66239b148c191b"> 1129</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1CoroutineStmtBuilder.html#ad9b4afa938b94f182f66239b148c191b">CoroutineStmtBuilder::buildStatements</a>() {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  assert(this-&gt;IsValid &amp;&amp; <span class="stringliteral">&quot;coroutine already invalid&quot;</span>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  this-&gt;IsValid = makeReturnObject();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">if</span> (this-&gt;IsValid &amp;&amp; !IsPromiseDependentType)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="classclang_1_1CoroutineStmtBuilder.html#ad2cdd31f0f79d0ecae8de7ba11924402">buildDependentStatements</a>();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="keywordflow">return</span> this-&gt;IsValid;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="classclang_1_1CoroutineStmtBuilder.html#ad2cdd31f0f79d0ecae8de7ba11924402"> 1137</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1CoroutineStmtBuilder.html#ad2cdd31f0f79d0ecae8de7ba11924402">CoroutineStmtBuilder::buildDependentStatements</a>() {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  assert(this-&gt;IsValid &amp;&amp; <span class="stringliteral">&quot;coroutine already invalid&quot;</span>);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  assert(!this-&gt;IsPromiseDependentType &amp;&amp;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;         <span class="stringliteral">&quot;coroutine cannot have a dependent promise type&quot;</span>);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  this-&gt;IsValid = makeOnException() &amp;&amp; makeOnFallthrough() &amp;&amp;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                  makeGroDeclAndReturnStmt() &amp;&amp; makeReturnOnAllocFailure() &amp;&amp;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                  makeNewAndDeleteExpr();</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">return</span> this-&gt;IsValid;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makePromiseStmt() {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="comment">// Form a declaration statement for the promise declaration, so that AST</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="comment">// visitors can more easily find it.</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> PromiseStmt =</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#ac43246b39d7ad4017134f714c1d0aa30">ActOnDeclStmt</a>(S.<a class="code" href="classclang_1_1Sema.html#a4547427fcd91069ee1702047d2d8dc7e">ConvertDeclToDeclGroup</a>(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a76c62e23fb19b681396defb1ccc2cf27">CoroutinePromise</a>), Loc, Loc);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">if</span> (PromiseStmt.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#af893896af862ea7e3979cfe11ef6d1cd">Promise</a> = PromiseStmt.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makeInitialAndFinalSuspend() {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a77ead58ca04748d6fe02f8a89bd07d3b">hasInvalidCoroutineSuspends</a>())</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a6947e418ee26d34c23a23160edc26eb1">InitialSuspend</a> = cast&lt;Expr&gt;(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a68501e3f1a6c938897a936c31c933b2f">CoroutineSuspends</a>.first);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3115299136b47a73e09803f8824f6a1e">FinalSuspend</a> = cast&lt;Expr&gt;(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a68501e3f1a6c938897a936c31c933b2f">CoroutineSuspends</a>.second);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a63a54295027ebcc2ad740e3c5ae686ce"> 1167</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaCoroutine_8cpp.html#a63a54295027ebcc2ad740e3c5ae686ce">diagReturnOnAllocFailure</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                     <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *PromiseRecordDecl,</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                     <a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html">FunctionScopeInfo</a> &amp;Fn) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keyword">auto</span> Loc = E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>();</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DeclRef = dyn_cast_or_null&lt;DeclRefExpr&gt;(E)) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="classclang_1_1Decl.html">Decl</a> = DeclRef-&gt;getDecl();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1CXXMethodDecl.html">CXXMethodDecl</a> *Method = dyn_cast_or_null&lt;CXXMethodDecl&gt;(<a class="code" href="classclang_1_1Decl.html">Decl</a>)) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="keywordflow">if</span> (Method-&gt;isStatic())</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        Loc = <a class="code" href="classclang_1_1Decl.html">Decl</a>-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>();</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      Loc,</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      diag::err_coroutine_promise_get_return_object_on_allocation_failure)</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      &lt;&lt; PromiseRecordDecl;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a46e1deec48f2277d5a65cd522ac71da6">FirstCoroutineStmtLoc</a>, diag::note_declared_coroutine_here)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      &lt;&lt; Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#ab029d14e40cc1c6dcb901ce82c008b73">getFirstCoroutineStmtKeyword</a>();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makeReturnOnAllocFailure() {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  assert(!IsPromiseDependentType &amp;&amp;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;         <span class="stringliteral">&quot;cannot make statement while the promise type is dependent&quot;</span>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p10</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="comment">//   If a search for the name get_return_object_on_allocation_failure in</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="comment">// the scope of the promise type ([class.member.lookup]) finds any</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="comment">// declarations, then the result of a call to an allocation function used to</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">// obtain storage for the coroutine state is assumed to return nullptr if it</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="comment">// fails to obtain storage, ... If the allocation function returns nullptr,</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="comment">// ... and the return value is obtained by a call to</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="comment">// T::get_return_object_on_allocation_failure(), where T is the</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="comment">// promise type.</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <a class="code" href="classclang_1_1DeclarationName.html">DeclarationName</a> DN =</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#af79802fc0829494fa77b7af995fda185">getIdentifierInfo</a>(<span class="stringliteral">&quot;get_return_object_on_allocation_failure&quot;</span>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> Found(S, DN, Loc, <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa93f2be273881a14dc35b733bc8653dbc">Sema::LookupMemberName</a>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(Found, PromiseRecordDecl))</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <a class="code" href="classclang_1_1CXXScopeSpec.html">CXXScopeSpec</a> SS;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> DeclNameExpr =</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a8ceb298cd7bae49159d33420886b0125">BuildDeclarationNameExpr</a>(SS, Found, <span class="comment">/*NeedsADL=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">if</span> (DeclNameExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaCoroutine_8cpp.html#a63a54295027ebcc2ad740e3c5ae686ce">diagReturnOnAllocFailure</a>(S, DeclNameExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), PromiseRecordDecl, Fn))</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ReturnObjectOnAllocationFailure =</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a68fab9b67a02a7f4a1adecb5e910cb14">BuildCallExpr</a>(<span class="keyword">nullptr</span>, DeclNameExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), Loc, {}, Loc);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">if</span> (ReturnObjectOnAllocationFailure.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <a class="code" href="namespaceclang.html#ab498d885beff706cd6c78a2f9b2fe08b">StmtResult</a> <a class="code" href="classclang_1_1ReturnStmt.html">ReturnStmt</a> =</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#ab0979f8d07c581aad1eedf7fa8a41a63">BuildReturnStmt</a>(Loc, ReturnObjectOnAllocationFailure.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1ReturnStmt.html">ReturnStmt</a>.isInvalid()) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Found.getFoundDecl()-&gt;getLocation(), diag::note_member_declared_here)</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        &lt;&lt; DN;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a46e1deec48f2277d5a65cd522ac71da6">FirstCoroutineStmtLoc</a>, diag::note_declared_coroutine_here)</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        &lt;&lt; Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#ab029d14e40cc1c6dcb901ce82c008b73">getFirstCoroutineStmtKeyword</a>();</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a1fff6fa525a2d89c87517fed9b24d9b9">ReturnStmtOnAllocFailure</a> = ReturnStmt.get();</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makeNewAndDeleteExpr() {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// Form and check allocation and deallocation calls.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  assert(!IsPromiseDependentType &amp;&amp;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;         <span class="stringliteral">&quot;cannot make statement while the promise type is dependent&quot;</span>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> PromiseType = Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a76c62e23fb19b681396defb1ccc2cf27">CoroutinePromise</a>-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ac457a5af05f2ffc2cf6286f398d9201d">RequireCompleteType</a>(Loc, PromiseType, diag::err_incomplete_type))</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> RequiresNoThrowAlloc = <a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a1fff6fa525a2d89c87517fed9b24d9b9">ReturnStmtOnAllocFailure</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="comment">// According to [dcl.fct.def.coroutine]p9, Lookup allocation functions using a</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// parameter list composed of the requested size of the coroutine state being</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// allocated, followed by the coroutine function&#39;s arguments. If a matching</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="comment">// allocation function exists, use it. Otherwise, use an allocation function</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="comment">// that just takes the requested size.</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *OperatorNew = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *OperatorDelete = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *UnusedResult = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordtype">bool</span> PassAlignment = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 1&gt;</a> PlacementArgs;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p9</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="comment">//   An implementation may need to allocate additional storage for a</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="comment">//   coroutine.</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="comment">// This storage is known as the coroutine state and is obtained by calling a</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">// non-array allocation function ([basic.stc.dynamic.allocation]). The</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="comment">// allocation function&#39;s name is looked up by searching for it in the scope of</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// the promise type.</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// - If any declarations are found, overload resolution is performed on a</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="comment">// function call created by assembling an argument list. The first argument is</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="comment">// the amount of space requested, and has type std::size_t. The</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="comment">// lvalues p1 ... pn are the succeeding arguments.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="comment">// ...where &quot;p1 ... pn&quot; are defined earlier as:</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p3</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="comment">//   The promise type of a coroutine is `std::coroutine_traits&lt;R, P1, ...,</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">//   Pn&gt;`</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="comment">// , where R is the return type of the function, and `P1, ..., Pn` are the</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="comment">// sequence of types of the non-object function parameters, preceded by the</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// type of the object parameter ([dcl.fct]) if the coroutine is a non-static</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">// member function. [dcl.fct.def.coroutine]p4 In the following, p_i is an</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">// lvalue of type P_i, where p1 denotes the object parameter and p_i+1 denotes</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="comment">// the i-th non-object function parameter for a non-static member function,</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="comment">// and p_i denotes the i-th function parameter otherwise. For a non-static</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="comment">// member function, q_1 is an lvalue that denotes *this; any other q_i is an</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="comment">// lvalue that denotes the parameter copy corresponding to p_i.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(&amp;FD)) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">if</span> (MD-&gt;isInstance() &amp;&amp; !<a class="code" href="namespaceclang.html#a7385235b182acea119bba9574dab4c3f">isLambdaCallOperator</a>(MD)) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ThisExpr = S.<a class="code" href="classclang_1_1Sema.html#a40fafa6f7151c64dffb2929a46ed7fef">ActOnCXXThis</a>(Loc);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="keywordflow">if</span> (ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      ThisExpr = S.<a class="code" href="classclang_1_1Sema.html#af1db057b6c0e41c5aad606b303526f6e">CreateBuiltinUnaryOp</a>(Loc, UO_Deref, ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordflow">if</span> (ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      PlacementArgs.push_back(ThisExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *PD : FD.<a class="code" href="classclang_1_1FunctionDecl.html#ab95c29a19de7d1c1e967d59cdbac2dcc">parameters</a>()) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">if</span> (PD-&gt;getType()-&gt;isDependentType())</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="comment">// Build a reference to the parameter.</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keyword">auto</span> PDLoc = PD-&gt;getLocation();</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> PDRefExpr =</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a54dcb676107399d83476d5b6ce7b9da4">BuildDeclRefExpr</a>(PD, PD-&gt;getOriginalType().getNonReferenceType(),</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                           <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">ExprValueKind::VK_LValue</a>, PDLoc);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">if</span> (PDRefExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    PlacementArgs.push_back(PDRefExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a6eb2551b9e39ecf66fb06aa433701c47">FindAllocationFunctions</a>(Loc, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(), <span class="comment">/*NewScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eeac87cdcb841501125af9982d018191fd2">Sema::AFS_Class</a>,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                            <span class="comment">/*DeleteScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eea80c1639d8a941436223e0e716cfd6c2c">Sema::AFS_Both</a>, PromiseType,</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                            <span class="comment">/*isArray*/</span> <span class="keyword">false</span>, PassAlignment, PlacementArgs,</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                            OperatorNew, UnusedResult, <span class="comment">/*Diagnose*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p9</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">//   If no viable function is found ([over.match.viable]), overload resolution</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="comment">// is performed again on a function call created by passing just the amount of</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="comment">// space required as an argument of type std::size_t.</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">if</span> (!OperatorNew &amp;&amp; !PlacementArgs.empty()) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    PlacementArgs.clear();</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a6eb2551b9e39ecf66fb06aa433701c47">FindAllocationFunctions</a>(Loc, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(), <span class="comment">/*NewScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eeac87cdcb841501125af9982d018191fd2">Sema::AFS_Class</a>,</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                              <span class="comment">/*DeleteScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eea80c1639d8a941436223e0e716cfd6c2c">Sema::AFS_Both</a>, PromiseType,</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                              <span class="comment">/*isArray*/</span> <span class="keyword">false</span>, PassAlignment, PlacementArgs,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                              OperatorNew, UnusedResult, <span class="comment">/*Diagnose*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p9</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="comment">//   The allocation function&#39;s name is looked up by searching for it in the</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="comment">// scope of the promise type.</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="comment">// - If any declarations are found, ...</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="comment">// - Otherwise, a search is performed in the global scope.</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="keywordflow">if</span> (!OperatorNew) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a6eb2551b9e39ecf66fb06aa433701c47">FindAllocationFunctions</a>(Loc, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(), <span class="comment">/*NewScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eeadd46febd09e234e8930fe98cdb770188">Sema::AFS_Global</a>,</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                              <span class="comment">/*DeleteScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eea80c1639d8a941436223e0e716cfd6c2c">Sema::AFS_Both</a>, PromiseType,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                              <span class="comment">/*isArray*/</span> <span class="keyword">false</span>, PassAlignment, PlacementArgs,</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                              OperatorNew, UnusedResult);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordtype">bool</span> IsGlobalOverload =</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      OperatorNew &amp;&amp; !isa&lt;CXXRecordDecl&gt;(OperatorNew-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>());</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// If we didn&#39;t find a class-local new declaration and non-throwing new</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// was is required then we need to lookup the non-throwing global operator</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="comment">// instead.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">if</span> (RequiresNoThrowAlloc &amp;&amp; (!OperatorNew || IsGlobalOverload)) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keyword">auto</span> *StdNoThrow = <a class="code" href="SemaCoroutine_8cpp.html#a7257f6ee3d447e2767957eb230fb1cd2">buildStdNoThrowDeclRef</a>(S, Loc);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordflow">if</span> (!StdNoThrow)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    PlacementArgs = {StdNoThrow};</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    OperatorNew = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a6eb2551b9e39ecf66fb06aa433701c47">FindAllocationFunctions</a>(Loc, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(), <span class="comment">/*NewScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eea80c1639d8a941436223e0e716cfd6c2c">Sema::AFS_Both</a>,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                              <span class="comment">/*DeleteScope*/</span> <a class="code" href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eea80c1639d8a941436223e0e716cfd6c2c">Sema::AFS_Both</a>, PromiseType,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                              <span class="comment">/*isArray*/</span> <span class="keyword">false</span>, PassAlignment, PlacementArgs,</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                              OperatorNew, UnusedResult);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordflow">if</span> (!OperatorNew)</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">if</span> (RequiresNoThrowAlloc) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *FT = OperatorNew-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1FunctionProtoType.html">FunctionProtoType</a>&gt;();</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (!FT-&gt;isNothrow(<span class="comment">/*ResultIfDependent*/</span> <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(OperatorNew-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;             diag::err_coroutine_promise_new_requires_nothrow)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;          &lt;&lt; OperatorNew;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::note_coroutine_promise_call_implicitly_required)</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;          &lt;&lt; OperatorNew;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">if</span> ((OperatorDelete = <a class="code" href="SemaCoroutine_8cpp.html#af0446cc0e6f8f8c5c103781b83a70b39">findDeleteForPromise</a>(S, Loc, PromiseType)) == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="comment">// FIXME: We should add an error here. According to:</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="comment">// [dcl.fct.def.coroutine]p12</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="comment">//   If no usual deallocation function is found, the program is ill-formed.</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *FramePtr =</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a2e053da259fce726968db2c2d84b6e6b">BuildBuiltinCallExpr</a>(Loc, Builtin::BI__builtin_coro_frame, {});</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *FrameSize =</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a2e053da259fce726968db2c2d84b6e6b">BuildBuiltinCallExpr</a>(Loc, Builtin::BI__builtin_coro_size, {});</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">// Make new call.</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> NewRef =</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a54dcb676107399d83476d5b6ce7b9da4">BuildDeclRefExpr</a>(OperatorNew, OperatorNew-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>(), <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">VK_LValue</a>, Loc);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">if</span> (NewRef.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 2&gt;</a> NewArgs(1, FrameSize);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  llvm::append_range(NewArgs, PlacementArgs);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> NewExpr =</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a68fab9b67a02a7f4a1adecb5e910cb14">BuildCallExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a4a4847d6b5738271771f07be03e3a712">getCurScope</a>(), NewRef.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), Loc, NewArgs, Loc);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  NewExpr = S.<a class="code" href="classclang_1_1Sema.html#afef5d9f17bb9c4c2378c24bfadaea1f2">ActOnFinishFullExpr</a>(NewExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), <span class="comment">/*DiscardedValue*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordflow">if</span> (NewExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="comment">// Make delete call.</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> OpDeleteQualType = OperatorDelete-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> DeleteRef =</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a54dcb676107399d83476d5b6ce7b9da4">BuildDeclRefExpr</a>(OperatorDelete, OpDeleteQualType, <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">VK_LValue</a>, Loc);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">if</span> (DeleteRef.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *CoroFree =</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a2e053da259fce726968db2c2d84b6e6b">BuildBuiltinCallExpr</a>(Loc, Builtin::BI__builtin_coro_free, {FramePtr});</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 2&gt;</a> DeleteArgs{CoroFree};</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p12</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="comment">//   The selected deallocation function shall be called with the address of</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="comment">//   the block of storage to be reclaimed as its first argument. If a</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">//   deallocation function with a parameter of type std::size_t is</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">//   used, the size of the block is passed as the corresponding argument.</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *OpDeleteType =</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      OpDeleteQualType.<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1FunctionProtoType.html">FunctionProtoType</a>&gt;();</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="keywordflow">if</span> (OpDeleteType-&gt;getNumParams() &gt; 1)</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    DeleteArgs.push_back(FrameSize);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> DeleteExpr =</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a68fab9b67a02a7f4a1adecb5e910cb14">BuildCallExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a4a4847d6b5738271771f07be03e3a712">getCurScope</a>(), DeleteRef.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), Loc, DeleteArgs, Loc);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  DeleteExpr =</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#afef5d9f17bb9c4c2378c24bfadaea1f2">ActOnFinishFullExpr</a>(DeleteExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), <span class="comment">/*DiscardedValue*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span> (DeleteExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#adfc45332e4e744ca5b2de70e91fde76d">Allocate</a> = NewExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a92e52555df7c634cb78906412df3a317">Deallocate</a> = DeleteExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makeOnFallthrough() {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  assert(!IsPromiseDependentType &amp;&amp;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;         <span class="stringliteral">&quot;cannot make statement while the promise type is dependent&quot;</span>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]/p6</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="comment">// If searches for the names return_void and return_value in the scope of</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="comment">// the promise type each find any declarations, the program is ill-formed.</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="comment">// [Note 1: If return_void is found, flowing off the end of a coroutine is</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <span class="comment">// equivalent to a co_return with no operand. Otherwise, flowing off the end</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// of a coroutine results in undefined behavior ([stmt.return.coroutine]). </span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="comment">// end note]</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordtype">bool</span> HasRVoid, HasRValue;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> LRVoid =</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <a class="code" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a>(S, <span class="stringliteral">&quot;return_void&quot;</span>, PromiseRecordDecl, Loc, HasRVoid);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> LRValue =</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <a class="code" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a>(S, <span class="stringliteral">&quot;return_value&quot;</span>, PromiseRecordDecl, Loc, HasRValue);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <a class="code" href="namespaceclang.html#ab498d885beff706cd6c78a2f9b2fe08b">StmtResult</a> Fallthrough;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">if</span> (HasRVoid &amp;&amp; HasRValue) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">// FIXME Improve this diagnostic</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FD.<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;           diag::err_coroutine_promise_incompatible_return_functions)</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        &lt;&lt; PromiseRecordDecl;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LRVoid.<a class="code" href="classclang_1_1LookupResult.html#a13ff07fbf96cd12df161dda1b012ae43">getRepresentativeDecl</a>()-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;           diag::note_member_first_declared_here)</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        &lt;&lt; LRVoid.<a class="code" href="classclang_1_1LookupResult.html#ae51b4baea0615a0bb19adb3c279c4918">getLookupName</a>();</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LRValue.<a class="code" href="classclang_1_1LookupResult.html#a13ff07fbf96cd12df161dda1b012ae43">getRepresentativeDecl</a>()-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;           diag::note_member_first_declared_here)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        &lt;&lt; LRValue.<a class="code" href="classclang_1_1LookupResult.html#ae51b4baea0615a0bb19adb3c279c4918">getLookupName</a>();</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!HasRVoid &amp;&amp; !HasRValue) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="comment">// We need to set &#39;Fallthrough&#39;. Otherwise the other analysis part might</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">// think the coroutine has defined a return_value method. So it might emit</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">// **false** positive warning. e.g.,</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="comment">//    promise_without_return_func foo() {</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="comment">//        co_await something();</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="comment">//    }</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">// Then AnalysisBasedWarning would emit a warning about `foo()` lacking a</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">// co_return statements, which isn&#39;t correct.</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    Fallthrough = S.<a class="code" href="classclang_1_1Sema.html#a7eb2012ee62fd50a13a5b672e280d5a6">ActOnNullStmt</a>(PromiseRecordDecl-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>());</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">if</span> (Fallthrough.isInvalid())</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (HasRVoid) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    Fallthrough = S.<a class="code" href="classclang_1_1Sema.html#a2ac3621c1b61ecd7b9c71f87f9c7deb0">BuildCoreturnStmt</a>(FD.<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                                      <span class="comment">/*IsImplicit*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    Fallthrough = S.<a class="code" href="classclang_1_1Sema.html#a62cfc51808eb561ed14552baf256244f">ActOnFinishFullStmt</a>(Fallthrough.get());</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">if</span> (Fallthrough.isInvalid())</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#adc8f8a1c164c5984c41d29b74635a04f">OnFallthrough</a> = Fallthrough.get();</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;}</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makeOnException() {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">// Try to form &#39;p.unhandled_exception();&#39;</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  assert(!IsPromiseDependentType &amp;&amp;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;         <span class="stringliteral">&quot;cannot make statement while the promise type is dependent&quot;</span>);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> RequireUnhandledException = S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CXXExceptions;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a>(S, <span class="stringliteral">&quot;unhandled_exception&quot;</span>, PromiseRecordDecl, Loc)) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keyword">auto</span> DiagID =</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        RequireUnhandledException</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            ? diag::err_coroutine_promise_unhandled_exception_required</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            : diag::</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                  warn_coroutine_promise_unhandled_exception_required_with_exceptions;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, DiagID) &lt;&lt; PromiseRecordDecl;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(PromiseRecordDecl-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::note_defined_here)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        &lt;&lt; PromiseRecordDecl;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> !RequireUnhandledException;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  }</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">// If exceptions are disabled, don&#39;t try to build OnException.</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CXXExceptions)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> UnhandledException = <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(S, Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a76c62e23fb19b681396defb1ccc2cf27">CoroutinePromise</a>, Loc,</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                                                   <span class="stringliteral">&quot;unhandled_exception&quot;</span>, None);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  UnhandledException = S.<a class="code" href="classclang_1_1Sema.html#afef5d9f17bb9c4c2378c24bfadaea1f2">ActOnFinishFullExpr</a>(UnhandledException.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>(), Loc,</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                                             <span class="comment">/*DiscardedValue*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">if</span> (UnhandledException.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="comment">// Since the body of the coroutine will be wrapped in try-catch, it will</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="comment">// be incompatible with SEH __try if present in a function.</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().Borland &amp;&amp; Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#ac612e8d42224d6e34b4708354a31588e">FirstSEHTryLoc</a>.<a class="code" href="classclang_1_1SourceLocation.html#a980da8d6100c0a0c3764991ca80ce6e7">isValid</a>()) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#ac612e8d42224d6e34b4708354a31588e">FirstSEHTryLoc</a>, diag::err_seh_in_a_coroutine_with_cxx_exceptions);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a46e1deec48f2277d5a65cd522ac71da6">FirstCoroutineStmtLoc</a>, diag::note_declared_coroutine_here)</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        &lt;&lt; Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#ab029d14e40cc1c6dcb901ce82c008b73">getFirstCoroutineStmtKeyword</a>();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#aead5c9f7d799c35bacabf485a22384d5">OnException</a> = UnhandledException.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;}</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makeReturnObject() {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p7</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// The expression promise.get_return_object() is used to initialize the</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// returned reference or prvalue result object of a call to a coroutine.</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ReturnObject =</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <a class="code" href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a>(S, Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a76c62e23fb19b681396defb1ccc2cf27">CoroutinePromise</a>, Loc, <span class="stringliteral">&quot;get_return_object&quot;</span>, None);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span> (ReturnObject.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a> = ReturnObject.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a169a4366f450e5a467a538ece0700ac1"> 1550</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SemaCoroutine_8cpp.html#a169a4366f450e5a467a538ece0700ac1">noteMemberDeclaredHere</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E, <a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html">FunctionScopeInfo</a> &amp;Fn) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MbrRef = dyn_cast&lt;CXXMemberCallExpr&gt;(E)) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keyword">auto</span> *MethodDecl = MbrRef-&gt;getMethodDecl();</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(MethodDecl-&gt;getLocation(), diag::note_member_declared_here)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        &lt;&lt; MethodDecl;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#a46e1deec48f2277d5a65cd522ac71da6">FirstCoroutineStmtLoc</a>, diag::note_declared_coroutine_here)</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      &lt;&lt; Fn.<a class="code" href="classclang_1_1sema_1_1FunctionScopeInfo.html#ab029d14e40cc1c6dcb901ce82c008b73">getFirstCoroutineStmtKeyword</a>();</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="keywordtype">bool</span> CoroutineStmtBuilder::makeGroDeclAndReturnStmt() {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  assert(!IsPromiseDependentType &amp;&amp;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;         <span class="stringliteral">&quot;cannot make statement while the promise type is dependent&quot;</span>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  assert(this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a> &amp;&amp; <span class="stringliteral">&quot;ReturnValue must be already formed&quot;</span>);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> <span class="keyword">const</span> GroType = this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a>-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  assert(!GroType-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;         <span class="stringliteral">&quot;get_return_object type must no longer be dependent&quot;</span>);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> <span class="keyword">const</span> FnRetType = FD.<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  assert(!FnRetType-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;         <span class="stringliteral">&quot;get_return_object type must no longer be dependent&quot;</span>);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="keywordflow">if</span> (FnRetType-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>()) {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res =</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#afef5d9f17bb9c4c2378c24bfadaea1f2">ActOnFinishFullExpr</a>(this-&gt;<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a>, Loc, <span class="comment">/*DiscardedValue*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">if</span> (GroType-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>()) {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="comment">// Trigger a nice error message.</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="classclang_1_1InitializedEntity.html">InitializedEntity</a> Entity =</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <a class="code" href="classclang_1_1InitializedEntity.html#a00a9d9387dd55f588c91c1822d2ffb87">InitializedEntity::InitializeResult</a>(Loc, FnRetType);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#ad36f57d7a801997658ab43b24034db20">PerformCopyInitialization</a>(Entity, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a>(), <a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a>);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <a class="code" href="SemaCoroutine_8cpp.html#a169a4366f450e5a467a538ece0700ac1">noteMemberDeclaredHere</a>(S, <a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a>, Fn);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <a class="code" href="namespaceclang.html#ab498d885beff706cd6c78a2f9b2fe08b">StmtResult</a> <a class="code" href="classclang_1_1ReturnStmt.html">ReturnStmt</a> = S.<a class="code" href="classclang_1_1Sema.html#ab0979f8d07c581aad1eedf7fa8a41a63">BuildReturnStmt</a>(Loc, <a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a>);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1ReturnStmt.html">ReturnStmt</a>.isInvalid()) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="SemaCoroutine_8cpp.html#a169a4366f450e5a467a538ece0700ac1">noteMemberDeclaredHere</a>(S, <a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">ReturnValue</a>, Fn);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  this-&gt;ReturnStmt = <a class="code" href="classclang_1_1ReturnStmt.html">ReturnStmt</a>.get();</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">// Create a static_cast&lt;T&amp;&amp;&gt;(expr).</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a1c83a80962a1db82c60c66934bdd615a"> 1602</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="SemaCoroutine_8cpp.html#a1c83a80962a1db82c60c66934bdd615a">castForMoving</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E, <a class="code" href="classclang_1_1QualType.html">QualType</a> T = <a class="code" href="classclang_1_1QualType.html">QualType</a>()) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">if</span> (T.isNull())</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    T = E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> TargetType = S.<a class="code" href="classclang_1_1Sema.html#a860e3a6bb43a6e9fd8041591e199e022">BuildReferenceType</a>(</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      T, <span class="comment">/*SpelledAsLValue*/</span> <span class="keyword">false</span>, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a>(), <a class="code" href="classclang_1_1DeclarationName.html">DeclarationName</a>());</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> ExprLoc = E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>();</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *TargetLoc =</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">getTrivialTypeSourceInfo</a>(TargetType, ExprLoc);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">return</span> S</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      .<a class="code" href="classclang_1_1Sema.html#adf212c47c726b0ae8cf472d0b4e89dd6">BuildCXXNamedCast</a>(ExprLoc, tok::kw_static_cast, TargetLoc, E,</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                         <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(ExprLoc, ExprLoc), E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>())</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      .<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;}</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">/// Build a variable declaration for move parameter.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"><a class="line" href="SemaCoroutine_8cpp.html#a572debd7f9712e8174c119522f593ddd"> 1618</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *<a class="code" href="SemaCoroutine_8cpp.html#a572debd7f9712e8174c119522f593ddd">buildVarDecl</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="classclang_1_1Type.html">Type</a>,</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                             <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *TInfo = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">getTrivialTypeSourceInfo</a>(<a class="code" href="classclang_1_1Type.html">Type</a>, Loc);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *<a class="code" href="classclang_1_1Decl.html">Decl</a> = <a class="code" href="classclang_1_1VarDecl.html#a06bcd00c13ed00b56a767f33d1b98ddd">VarDecl::Create</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, S.<a class="code" href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">CurContext</a>, Loc, Loc, II, <a class="code" href="classclang_1_1Type.html">Type</a>,</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                                  TInfo, <a class="code" href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370aebf74ba707605e744f1303f997b2477f">SC_None</a>);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <a class="code" href="classclang_1_1Decl.html">Decl</a>-&gt;<a class="code" href="classclang_1_1Decl.html#aa89b44dad7f4fd7e9c15129f8f0784e4">setImplicit</a>();</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classclang_1_1Decl.html">Decl</a>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment">// Build statements that move coroutine function parameters to the coroutine</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">// frame, and store them on the function scope info.</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a8154bc59037c621c17f7a7f06556565f"> 1629</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a8154bc59037c621c17f7a7f06556565f">Sema::buildCoroutineParameterMoves</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  assert(isa&lt;FunctionDecl&gt;(<a class="code" href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">CurContext</a>) &amp;&amp; <span class="stringliteral">&quot;not in a function scope&quot;</span>);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(<a class="code" href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">CurContext</a>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="keyword">auto</span> *ScopeInfo = <a class="code" href="classclang_1_1Sema.html#ae78eabd2ca80fc1aee519316f333ceb9">getCurFunction</a>();</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keywordflow">if</span> (!ScopeInfo-&gt;CoroutineParameterMoves.empty())</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="comment">// [dcl.fct.def.coroutine]p13</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="comment">//   When a coroutine is invoked, after initializing its parameters</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="comment">//   ([expr.call]), a copy is created for each coroutine parameter. For a</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="comment">//   parameter of type cv T, the copy is a variable of type cv T with</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="comment">//   automatic storage duration that is direct-initialized from an xvalue of</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="comment">//   type T referring to the parameter.</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *PD : FD-&gt;parameters()) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">if</span> (PD-&gt;getType()-&gt;isDependentType())</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> PDRefExpr =</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <a class="code" href="classclang_1_1Sema.html#a54dcb676107399d83476d5b6ce7b9da4">BuildDeclRefExpr</a>(PD, PD-&gt;getType().getNonReferenceType(),</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                         <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">ExprValueKind::VK_LValue</a>, Loc); <span class="comment">// FIXME: scope?</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">if</span> (PDRefExpr.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *CExpr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keywordflow">if</span> (PD-&gt;getType()-&gt;getAsCXXRecordDecl() ||</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        PD-&gt;getType()-&gt;isRValueReferenceType())</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      CExpr = <a class="code" href="SemaCoroutine_8cpp.html#a1c83a80962a1db82c60c66934bdd615a">castForMoving</a>(*<span class="keyword">this</span>, PDRefExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      CExpr = PDRefExpr.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">// [dcl.fct.def.coroutine]p13</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="comment">//   The initialization and destruction of each parameter copy occurs in the</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="comment">//   context of the called coroutine.</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keyword">auto</span> D = <a class="code" href="SemaCoroutine_8cpp.html#a572debd7f9712e8174c119522f593ddd">buildVarDecl</a>(*<span class="keyword">this</span>, Loc, PD-&gt;getType(), PD-&gt;getIdentifier());</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <a class="code" href="classclang_1_1Sema.html#add9dd79bcd4e6170607bbd20594c9384">AddInitializerToDecl</a>(D, CExpr, <span class="comment">/*DirectInit=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="comment">// Convert decl to a statement.</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> = <a class="code" href="classclang_1_1Sema.html#ac43246b39d7ad4017134f714c1d0aa30">ActOnDeclStmt</a>(<a class="code" href="classclang_1_1Sema.html#a4547427fcd91069ee1702047d2d8dc7e">ConvertDeclToDeclGroup</a>(D), Loc, Loc);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Stmt.html">Stmt</a>.isInvalid())</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    ScopeInfo-&gt;CoroutineParameterMoves.insert(std::make_pair(PD, <a class="code" href="classclang_1_1Stmt.html">Stmt</a>.get()));</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;}</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a126da3087fcef49713436725f492bb61"> 1675</a></span>&#160;<a class="code" href="classclang_1_1ActionResult.html">StmtResult</a> <a class="code" href="classclang_1_1Sema.html#a126da3087fcef49713436725f492bb61">Sema::BuildCoroutineBodyStmt</a>(<a class="code" href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html">CoroutineBodyStmt::CtorArgs</a> Args) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <a class="code" href="classclang_1_1CoroutineBodyStmt.html">CoroutineBodyStmt</a> *Res = <a class="code" href="classclang_1_1CoroutineBodyStmt.html#ab05f1d904a575a33725314194ae13a38">CoroutineBodyStmt::Create</a>(<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Args);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">StmtError</a>();</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a3d29181700aa985a371eb7338e15ae64"> 1682</a></span>&#160;<a class="code" href="classclang_1_1ClassTemplateDecl.html">ClassTemplateDecl</a> *<a class="code" href="classclang_1_1Sema.html#a3d29181700aa985a371eb7338e15ae64">Sema::lookupCoroutineTraits</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> KwLoc,</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                                               <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> FuncLoc,</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                                               <a class="code" href="classclang_1_1NamespaceDecl.html">NamespaceDecl</a> *&amp;Namespace) {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">StdCoroutineTraitsCache</a>) {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="comment">// Because coroutines moved from std::experimental in the TS to std in</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="comment">// C++20, we look in both places to give users time to transition their</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="comment">// TS-specific code to C++20.  Diagnostics are given when the TS usage is</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="comment">// discovered.</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">// TODO: Become stricter when &lt;experimental/coroutine&gt; is removed.</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> &amp;TraitIdent = <a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">getIdentifierTable</a>().<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;coroutine_traits&quot;</span>);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <a class="code" href="classclang_1_1NamespaceDecl.html">NamespaceDecl</a> *StdSpace = <a class="code" href="classclang_1_1Sema.html#ad0fa80b3a22bf6410a12a7727c5ac5d3">getStdNamespace</a>();</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> ResStd(*<span class="keyword">this</span>, &amp;TraitIdent, FuncLoc, <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">LookupOrdinaryName</a>);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordtype">bool</span> InStd = StdSpace &amp;&amp; <a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(ResStd, StdSpace);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="classclang_1_1NamespaceDecl.html">NamespaceDecl</a> *ExpSpace = <a class="code" href="classclang_1_1Sema.html#a791d521d2dce37c8cdaab7c115e2cda2">lookupStdExperimentalNamespace</a>();</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> ResExp(*<span class="keyword">this</span>, &amp;TraitIdent, FuncLoc, <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">LookupOrdinaryName</a>);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordtype">bool</span> InExp = ExpSpace &amp;&amp; <a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(ResExp, ExpSpace);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">if</span> (!InStd &amp;&amp; !InExp) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="comment">// The goggles, they found nothing!</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(KwLoc, diag::err_implied_coroutine_type_not_found)</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;std::coroutine_traits&quot;</span>;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="comment">// Prefer ::std to std::experimental.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keyword">auto</span> &amp;Result = InStd ? ResStd : ResExp;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <a class="code" href="classclang_1_1Sema.html#a18124cdb42520bd34872354eacc63e6b">CoroTraitsNamespaceCache</a> = InStd ? StdSpace : ExpSpace;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="comment">// coroutine_traits is required to be a class template.</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">StdCoroutineTraitsCache</a> = Result.getAsSingle&lt;<a class="code" href="classclang_1_1ClassTemplateDecl.html">ClassTemplateDecl</a>&gt;();</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">StdCoroutineTraitsCache</a>) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      Result.suppressDiagnostics();</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *Found = *Result.begin();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Found-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_malformed_std_coroutine_traits);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (InExp) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="comment">// Found in std::experimental</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(KwLoc, diag::warn_deprecated_coroutine_namespace)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;coroutine_traits&quot;</span>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      ResExp.<a class="code" href="classclang_1_1LookupResult.html#ae2764b699f93e9590281ce9c4b097e33">suppressDiagnostics</a>();</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="keyword">auto</span> *Found = *ResExp.<a class="code" href="classclang_1_1LookupResult.html#af3b65c9d48aebff66325891ac9027263">begin</a>();</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Found-&gt;getLocation(), diag::note_entity_declared_at) &lt;&lt; Found;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">if</span> (InStd &amp;&amp;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;          <a class="code" href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">StdCoroutineTraitsCache</a> != ResExp.<a class="code" href="classclang_1_1LookupResult.html#a6e0e82007f58c5f5d4b716ee08f60507">getAsSingle</a>&lt;<a class="code" href="classclang_1_1ClassTemplateDecl.html">ClassTemplateDecl</a>&gt;()) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="comment">// Also found something different in std</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(KwLoc,</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;             diag::err_mixed_use_std_and_experimental_namespace_for_coroutine);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">StdCoroutineTraitsCache</a>-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;             diag::note_entity_declared_at)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            &lt;&lt; <a class="code" href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">StdCoroutineTraitsCache</a>;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      }</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  }</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  Namespace = <a class="code" href="classclang_1_1Sema.html#a18124cdb42520bd34872354eacc63e6b">CoroTraitsNamespaceCache</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">StdCoroutineTraitsCache</a>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_a6947e418ee26d34c23a23160edc26eb1"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a6947e418ee26d34c23a23160edc26eb1">clang::CoroutineBodyStmt::CtorArgs::InitialSuspend</a></div><div class="ttdeci">Expr * InitialSuspend</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00349">StmtCXX.h:349</a></div></div>
<div class="ttc" id="aclassclang_1_1NestedNameSpecifier_html_af83fb904746e04c9069367ddcc964824"><div class="ttname"><a href="classclang_1_1NestedNameSpecifier.html#af83fb904746e04c9069367ddcc964824">clang::NestedNameSpecifier::Create</a></div><div class="ttdeci">static NestedNameSpecifier * Create(const ASTContext &amp;Context, NestedNameSpecifier *Prefix, IdentifierInfo *II)</div><div class="ttdoc">Builds a specifier combining a prefix and an identifier.</div><div class="ttdef"><b>Definition:</b> <a href="NestedNameSpecifier_8cpp_source.html#l00059">NestedNameSpecifier.cpp:59</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a8ceb298cd7bae49159d33420886b0125"><div class="ttname"><a href="classclang_1_1Sema.html#a8ceb298cd7bae49159d33420886b0125">clang::Sema::BuildDeclarationNameExpr</a></div><div class="ttdeci">ExprResult BuildDeclarationNameExpr(const CXXScopeSpec &amp;SS, LookupResult &amp;R, bool NeedsADL, bool AcceptInvalidDecl=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExpr_8cpp_source.html#l03229">SemaExpr.cpp:3229</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a915a017e1ec7e24452d90bebe226c8cc"><div class="ttname"><a href="classclang_1_1Sema.html#a915a017e1ec7e24452d90bebe226c8cc">clang::Sema::CurContext</a></div><div class="ttdeci">DeclContext * CurContext</div><div class="ttdoc">CurContext - This is the current declaration context of parsing.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00599">Sema.h:599</a></div></div>
<div class="ttc" id="aBuiltins_8h_html"><div class="ttname"><a href="Builtins_8h.html">Builtins.h</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializedEntity_html_a00a9d9387dd55f588c91c1822d2ffb87"><div class="ttname"><a href="classclang_1_1InitializedEntity.html#a00a9d9387dd55f588c91c1822d2ffb87">clang::InitializedEntity::InitializeResult</a></div><div class="ttdeci">static InitializedEntity InitializeResult(SourceLocation ReturnLoc, QualType Type)</div><div class="ttdoc">Create the initialization entity for the result of a function.</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00299">Initialization.h:299</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6eb2551b9e39ecf66fb06aa433701c47"><div class="ttname"><a href="classclang_1_1Sema.html#a6eb2551b9e39ecf66fb06aa433701c47">clang::Sema::FindAllocationFunctions</a></div><div class="ttdeci">bool FindAllocationFunctions(SourceLocation StartLoc, SourceRange Range, AllocationFunctionScope NewScope, AllocationFunctionScope DeleteScope, QualType AllocType, bool IsArray, bool &amp;PassAlignment, MultiExprArg PlaceArgs, FunctionDecl *&amp;OperatorNew, FunctionDecl *&amp;OperatorDelete, bool Diagnose=true)</div><div class="ttdoc">Finds the overloads of operator new and delete that are appropriate for the allocation.</div><div class="ttdef"><b>Definition:</b> <a href="SemaExprCXX_8cpp_source.html#l02615">SemaExprCXX.cpp:2615</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_a4abb43ff691bd5a4669e38010eb0956f"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a4abb43ff691bd5a4669e38010eb0956f">clang::CoroutineBodyStmt::CtorArgs::ParamMoves</a></div><div class="ttdeci">ArrayRef&lt; Stmt * &gt; ParamMoves</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00358">StmtCXX.h:358</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7385235b182acea119bba9574dab4c3f"><div class="ttname"><a href="namespaceclang.html#a7385235b182acea119bba9574dab4c3f">clang::isLambdaCallOperator</a></div><div class="ttdeci">bool isLambdaCallOperator(const CXXMethodDecl *MD)</div><div class="ttdef"><b>Definition:</b> <a href="ASTLambda_8h_source.html#l00027">ASTLambda.h:27</a></div></div>
<div class="ttc" id="astructReadySuspendResumeResult_html"><div class="ttname"><a href="structReadySuspendResumeResult.html">ReadySuspendResumeResult</a></div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00316">SemaCoroutine.cpp:316</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializationKind_html_a8a82c60102c7a92725e02fb363d31f92"><div class="ttname"><a href="classclang_1_1InitializationKind.html#a8a82c60102c7a92725e02fb363d31f92">clang::InitializationKind::CreateForInit</a></div><div class="ttdeci">static InitializationKind CreateForInit(SourceLocation Loc, bool DirectInit, Expr *Init)</div><div class="ttdoc">Create an initialization from an initializer (which, for direct initialization from a parenthesized l...</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00697">Initialization.h:697</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXConstructorDecl_html"><div class="ttname"><a href="classclang_1_1CXXConstructorDecl.html">clang::CXXConstructorDecl</a></div><div class="ttdoc">Represents a C++ constructor within a class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l02421">DeclCXX.h:2421</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4f1d81f26ec96984cacdac8fc235131a"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4f1d81f26ec96984cacdac8fc235131a">clang::ASTContext::getTypeDeclType</a></div><div class="ttdeci">QualType getTypeDeclType(const TypeDecl *Decl, const TypeDecl *PrevDecl=nullptr) const</div><div class="ttdoc">Return the unique reference to the type for the specified type declaration.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01566">ASTContext.h:1566</a></div></div>
<div class="ttc" id="aclassclang_1_1CleanupInfo_html_a90391d0943f3188ede40ca618ab3fb6d"><div class="ttname"><a href="classclang_1_1CleanupInfo.html#a90391d0943f3188ede40ca618ab3fb6d">clang::CleanupInfo::setExprNeedsCleanups</a></div><div class="ttdeci">void setExprNeedsCleanups(bool SideEffects)</div><div class="ttdef"><b>Definition:</b> <a href="CleanupInfo_8h_source.html#l00028">CleanupInfo.h:28</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_ab029d14e40cc1c6dcb901ce82c008b73"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#ab029d14e40cc1c6dcb901ce82c008b73">clang::sema::FunctionScopeInfo::getFirstCoroutineStmtKeyword</a></div><div class="ttdeci">StringRef getFirstCoroutineStmtKeyword() const</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00491">ScopeInfo.h:491</a></div></div>
<div class="ttc" id="aclassclang_1_1Scope_html_afa7e82b8e23f84d0d73e27953b9afab7aec9cad8f5dd22da19c76343a52dd6a2d"><div class="ttname"><a href="classclang_1_1Scope.html#afa7e82b8e23f84d0d73e27953b9afab7aec9cad8f5dd22da19c76343a52dd6a2d">clang::Scope::FnScope</a></div><div class="ttdeci">@ FnScope</div><div class="ttdoc">This indicates that the scope corresponds to a function, which means that labels are set here.</div><div class="ttdef"><b>Definition:</b> <a href="Scope_8h_source.html#l00047">Scope.h:47</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a54dcb676107399d83476d5b6ce7b9da4"><div class="ttname"><a href="classclang_1_1Sema.html#a54dcb676107399d83476d5b6ce7b9da4">clang::Sema::BuildDeclRefExpr</a></div><div class="ttdeci">DeclRefExpr * BuildDeclRefExpr(ValueDecl *D, QualType Ty, ExprValueKind VK, SourceLocation Loc, const CXXScopeSpec *SS=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExpr_8cpp_source.html#l02010">SemaExpr.cpp:2010</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a2935d37297596c57aa383de101a55030"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">clang::FunctionDecl::getReturnType</a></div><div class="ttdeci">QualType getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02541">Decl.h:2541</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_a73cead379a984c4b4ddb6e0d308725f6"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#a73cead379a984c4b4ddb6e0d308725f6">clang::DeclaratorDecl::getBeginLoc</a></div><div class="ttdeci">SourceLocation getBeginLoc() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00779">Decl.h:779</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a087d3b84e8d752112a5c93ed1433a46a"><div class="ttname"><a href="classclang_1_1Decl.html#a087d3b84e8d752112a5c93ed1433a46a">clang::Decl::getEndLoc</a></div><div class="ttdeci">SourceLocation getEndLoc() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00420">DeclBase.h:420</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a126da3087fcef49713436725f492bb61"><div class="ttname"><a href="classclang_1_1Sema.html#a126da3087fcef49713436725f492bb61">clang::Sema::BuildCoroutineBodyStmt</a></div><div class="ttdeci">StmtResult BuildCoroutineBodyStmt(CoroutineBodyStmt::CtorArgs)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01675">SemaCoroutine.cpp:1675</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_aead5c9f7d799c35bacabf485a22384d5"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#aead5c9f7d799c35bacabf485a22384d5">clang::CoroutineBodyStmt::CtorArgs::OnException</a></div><div class="ttdeci">Stmt * OnException</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00351">StmtCXX.h:351</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceRange_html"><div class="ttname"><a href="classclang_1_1SourceRange.html">clang::SourceRange</a></div><div class="ttdoc">A trivial tuple used to represent a source range.</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00210">SourceLocation.h:210</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_a68501e3f1a6c938897a936c31c933b2f"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#a68501e3f1a6c938897a936c31c933b2f">clang::sema::FunctionScopeInfo::CoroutineSuspends</a></div><div class="ttdeci">std::pair&lt; Stmt *, Stmt * &gt; CoroutineSuspends</div><div class="ttdoc">The initial and final coroutine suspend points.</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00210">ScopeInfo.h:210</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html"><div class="ttname"><a href="classclang_1_1DeclContext.html">clang::DeclContext</a></div><div class="ttdoc">DeclContext - This is used only as base class of specific decl types that can act as declaration cont...</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01355">DeclBase.h:1355</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a27a66e13de0f33a48523e25961ded5e7"><div class="ttname"><a href="classclang_1_1Type.html#a27a66e13de0f33a48523e25961ded5e7">clang::Type::isVoidPointerType</a></div><div class="ttdeci">bool isVoidPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00589">Type.cpp:589</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a876b9bf1d75cd58cc9c0f5ad71dd2933"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a876b9bf1d75cd58cc9c0f5ad71dd2933">buildMemberCall</a></div><div class="ttdeci">static ExprResult buildMemberCall(Sema &amp;S, Expr *Base, SourceLocation Loc, StringRef Name, MultiExprArg Args)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00323">SemaCoroutine.cpp:323</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_ae7a63b99398864d86f53afd8a03c359b"><div class="ttname"><a href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">clang::Decl::hasAttr</a></div><div class="ttdeci">bool hasAttr() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00541">DeclBase.h:541</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab9b993262e89efbf7932338a955783de"><div class="ttname"><a href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">clang::Sema::getASTContext</a></div><div class="ttdeci">ASTContext &amp; getASTContext() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01781">Sema.h:1781</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae78eabd2ca80fc1aee519316f333ceb9"><div class="ttname"><a href="classclang_1_1Sema.html#ae78eabd2ca80fc1aee519316f333ceb9">clang::Sema::getCurFunction</a></div><div class="ttdeci">sema::FunctionScopeInfo * getCurFunction() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l02163">Sema.h:2163</a></div></div>
<div class="ttc" id="aLiteralSupport_8cpp_html_a5f4a4a29292c4a1697226abf1d22b9dd"><div class="ttname"><a href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a></div><div class="ttdeci">static DiagnosticBuilder Diag(DiagnosticsEngine *Diags, const LangOptions &amp;Features, FullSourceLoc TokLoc, const char *TokBegin, const char *TokRangeBegin, const char *TokRangeEnd, unsigned DiagID)</div><div class="ttdoc">Produce a diagnostic highlighting some portion of a literal.</div><div class="ttdef"><b>Definition:</b> <a href="LiteralSupport_8cpp_source.html#l00078">LiteralSupport.cpp:78</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a2ac3621c1b61ecd7b9c71f87f9c7deb0"><div class="ttname"><a href="classclang_1_1Sema.html#a2ac3621c1b61ecd7b9c71f87f9c7deb0">clang::Sema::BuildCoreturnStmt</a></div><div class="ttdeci">StmtResult BuildCoreturnStmt(SourceLocation KwLoc, Expr *E, bool IsImplicit=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00967">SemaCoroutine.cpp:967</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a0180b4c641bd4840aa6cd873613a66fe"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a0180b4c641bd4840aa6cd873613a66fe">buildCoroutineHandle</a></div><div class="ttdeci">static ExprResult buildCoroutineHandle(Sema &amp;S, QualType PromiseType, SourceLocation Loc)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00289">SemaCoroutine.cpp:289</a></div></div>
<div class="ttc" id="aSemaInternal_8h_html"><div class="ttname"><a href="SemaInternal_8h.html">SemaInternal.h</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_a3115299136b47a73e09803f8824f6a1e"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3115299136b47a73e09803f8824f6a1e">clang::CoroutineBodyStmt::CtorArgs::FinalSuspend</a></div><div class="ttdeci">Expr * FinalSuspend</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00350">StmtCXX.h:350</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00038">LLVM.h:38</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierTable_html_aea14376d325400caa8a8183d14a02f39"><div class="ttname"><a href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">clang::IdentifierTable::get</a></div><div class="ttdeci">IdentifierInfo &amp; get(StringRef Name)</div><div class="ttdoc">Return the identifier token info for the specified named identifier.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00596">IdentifierTable.h:596</a></div></div>
<div class="ttc" id="aSemaOverload_8cpp_html_aae70b255dc4549c2e747764af8e81e4e"><div class="ttname"><a href="SemaOverload_8cpp.html#aae70b255dc4549c2e747764af8e81e4e">IsOverloaded</a></div><div class="ttdeci">static bool IsOverloaded(const UnresolvedSetImpl &amp;Functions)</div><div class="ttdef"><b>Definition:</b> <a href="SemaOverload_8cpp_source.html#l13302">SemaOverload.cpp:13302</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceLocation_html"><div class="ttname"><a href="classclang_1_1SourceLocation.html">clang::SourceLocation</a></div><div class="ttdoc">Encodes a location in the source.</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00086">SourceLocation.h:86</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a62cfc51808eb561ed14552baf256244f"><div class="ttname"><a href="classclang_1_1Sema.html#a62cfc51808eb561ed14552baf256244f">clang::Sema::ActOnFinishFullStmt</a></div><div class="ttdeci">StmtResult ActOnFinishFullStmt(Stmt *Stmt)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExprCXX_8cpp_source.html#l08699">SemaExprCXX.cpp:8699</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a572debd7f9712e8174c119522f593ddd"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a572debd7f9712e8174c119522f593ddd">buildVarDecl</a></div><div class="ttdeci">static VarDecl * buildVarDecl(Sema &amp;S, SourceLocation Loc, QualType Type, IdentifierInfo *II)</div><div class="ttdoc">Build a variable declaration for move parameter.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01618">SemaCoroutine.cpp:1618</a></div></div>
<div class="ttc" id="aclassclang_1_1NamedDecl_html"><div class="ttname"><a href="classclang_1_1NamedDecl.html">clang::NamedDecl</a></div><div class="ttdoc">This represents a decl that may have a name.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00247">Decl.h:247</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_a2ebe0aadd77ada510ded252ca2d2aeaf"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#a2ebe0aadd77ada510ded252ca2d2aeaf">clang::sema::FunctionScopeInfo::CoroutineParameterMoves</a></div><div class="ttdeci">llvm::SmallMapVector&lt; ParmVarDecl *, Stmt *, 4 &gt; CoroutineParameterMoves</div><div class="ttdoc">A mapping between the coroutine function parameters that were moved to the coroutine frame,...</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00207">ScopeInfo.h:207</a></div></div>
<div class="ttc" id="aclassclang_1_1CoroutineStmtBuilder_html_ad2cdd31f0f79d0ecae8de7ba11924402"><div class="ttname"><a href="classclang_1_1CoroutineStmtBuilder.html#ad2cdd31f0f79d0ecae8de7ba11924402">clang::CoroutineStmtBuilder::buildDependentStatements</a></div><div class="ttdeci">bool buildDependentStatements()</div><div class="ttdoc">Build the coroutine body statements that require a non-dependent promise type in order to construct.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01137">SemaCoroutine.cpp:1137</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a00278cf4d5074713eda28c3a785906f9"><div class="ttname"><a href="classclang_1_1Sema.html#a00278cf4d5074713eda28c3a785906f9">clang::Sema::FindUsualDeallocationFunction</a></div><div class="ttdeci">FunctionDecl * FindUsualDeallocationFunction(SourceLocation StartLoc, bool CanProvideSize, bool Overaligned, DeclarationName Name)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExprCXX_8cpp_source.html#l03146">SemaExprCXX.cpp:3146</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a8be1f3b9e144fba37e7aa9ae2a583de6"><div class="ttname"><a href="classclang_1_1QualType.html#a8be1f3b9e144fba37e7aa9ae2a583de6">clang::QualType::getNonReferenceType</a></div><div class="ttdeci">QualType getNonReferenceType() const</div><div class="ttdoc">If Type is a reference type (e.g., const int&amp;), returns the type that the reference refers to (&quot;const...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06698">Type.h:6698</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a2017d2a1ae842fcf4e5df3097c7b93ba"><div class="ttname"><a href="classclang_1_1ASTContext.html#a2017d2a1ae842fcf4e5df3097c7b93ba">clang::ASTContext::DeclarationNames</a></div><div class="ttdeci">DeclarationNameTable DeclarationNames</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00655">ASTContext.h:655</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html_a6844392ee6148b5fe821f211b95e5d1b"><div class="ttname"><a href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">clang::Stmt::getSourceRange</a></div><div class="ttdeci">SourceRange getSourceRange() const LLVM_READONLY</div><div class="ttdoc">SourceLocation tokens are not useful in isolation - they are low level value objects created/interpre...</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8cpp_source.html#l00324">Stmt.cpp:324</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html"><div class="ttname"><a href="classclang_1_1QualType.html">clang::QualType</a></div><div class="ttdoc">A (possibly-)qualified type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00675">Type.h:675</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a86a884e30f44cbb08ec70ba34f5fcbb3"><div class="ttname"><a href="classclang_1_1Expr.html#a86a884e30f44cbb08ec70ba34f5fcbb3">clang::Expr::getObjectKind</a></div><div class="ttdeci">ExprObjectKind getObjectKind() const</div><div class="ttdoc">getObjectKind - The object kind that this expression produces.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00437">Expr.h:437</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_aafd80c6de24bfcdbd159b606c8257443"><div class="ttname"><a href="SemaCoroutine_8cpp.html#aafd80c6de24bfcdbd159b606c8257443">checkNoThrow</a></div><div class="ttdeci">static void checkNoThrow(Sema &amp;S, const Stmt *E, llvm::SmallPtrSetImpl&lt; const Decl * &gt; &amp;ThrowingDecls)</div><div class="ttdoc">Recursively check E and all its children to see if any call target (including constructor call) is de...</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00637">SemaCoroutine.cpp:637</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a900520b154ba282febbaa7267020ca3f"><div class="ttname"><a href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">clang::QualType::getCanonicalType</a></div><div class="ttdeci">QualType getCanonicalType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06541">Type.h:6541</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a0c6e994c44767e74e2892aa0235efb1aa6253ec1084459081e77ca3a11d3de567"><div class="ttname"><a href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa6253ec1084459081e77ca3a11d3de567">clang::Sema::LookupOperatorName</a></div><div class="ttdeci">@ LookupOperatorName</div><div class="ttdoc">Look up of an operator name (e.g., operator+) for use with operator overloading.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l04317">Sema.h:4317</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html"><div class="ttname"><a href="classclang_1_1LookupResult.html">clang::LookupResult</a></div><div class="ttdoc">Represents the results of name lookup.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00046">Lookup.h:46</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a09119b70f6c9702b73f98d505f8a74a5"><div class="ttname"><a href="classclang_1_1Sema.html#a09119b70f6c9702b73f98d505f8a74a5">clang::Sema::BuildMemberReferenceExpr</a></div><div class="ttdeci">ExprResult BuildMemberReferenceExpr(Expr *Base, QualType BaseType, SourceLocation OpLoc, bool IsArrow, CXXScopeSpec &amp;SS, SourceLocation TemplateKWLoc, NamedDecl *FirstQualifierInScope, const DeclarationNameInfo &amp;NameInfo, const TemplateArgumentListInfo *TemplateArgs, const Scope *S, ActOnMemberAccessExtraArgs *ExtraArgs=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExprMember_8cpp_source.html#l00743">SemaExprMember.cpp:743</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a15a47608a70e70543584549a20d4e773"><div class="ttname"><a href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">clang::Sema::Diag</a></div><div class="ttdeci">SemaDiagnosticBuilder Diag(SourceLocation Loc, unsigned DiagID, bool DeferHint=false)</div><div class="ttdoc">Emit a diagnostic.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8cpp_source.html#l01960">Sema.cpp:1960</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a9aab2cfc47177f07e333cd50f3672404"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a9aab2cfc47177f07e333cd50f3672404">buildOperatorCoawaitCall</a></div><div class="ttdeci">static ExprResult buildOperatorCoawaitCall(Sema &amp;SemaRef, SourceLocation Loc, Expr *E, UnresolvedLookupExpr *Lookup)</div><div class="ttdoc">Build a call to 'operator co_await' if there is a suitable operator for the given expression.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00272">SemaCoroutine.cpp:272</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aaa988da9f069234e608dd73aeed50427"><div class="ttname"><a href="classclang_1_1Sema.html#aaa988da9f069234e608dd73aeed50427">clang::Sema::CheckTemplateIdType</a></div><div class="ttdeci">QualType CheckTemplateIdType(TemplateName Template, SourceLocation TemplateLoc, TemplateArgumentListInfo &amp;TemplateArgs)</div><div class="ttdef"><b>Definition:</b> <a href="SemaTemplate_8cpp_source.html#l03651">SemaTemplate.cpp:3651</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac5f5d2a5b4d98cf9d59b45044b83fd53"><div class="ttname"><a href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">clang::Sema::LookupQualifiedName</a></div><div class="ttdeci">bool LookupQualifiedName(LookupResult &amp;R, DeclContext *LookupCtx, bool InUnqualifiedLookup=false)</div><div class="ttdoc">Perform qualified name lookup into a given context.</div><div class="ttdef"><b>Definition:</b> <a href="SemaLookup_8cpp_source.html#l02223">SemaLookup.cpp:2223</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a8154bc59037c621c17f7a7f06556565f"><div class="ttname"><a href="classclang_1_1Sema.html#a8154bc59037c621c17f7a7f06556565f">clang::Sema::buildCoroutineParameterMoves</a></div><div class="ttdeci">bool buildCoroutineParameterMoves(SourceLocation Loc)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01629">SemaCoroutine.cpp:1629</a></div></div>
<div class="ttc" id="anamespaceclang_html_a39da38c8381c23db69e49813390fa7f6aed8a4fc269aa34b5f8c5ec978a999dfb"><div class="ttname"><a href="namespaceclang.html#a39da38c8381c23db69e49813390fa7f6aed8a4fc269aa34b5f8c5ec978a999dfb">clang::RQ_RValue</a></div><div class="ttdeci">@ RQ_RValue</div><div class="ttdoc">An rvalue ref-qualifier was provided (&amp;&amp;).</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l01451">Type.h:1451</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet&lt; const Decl *, 4 &gt;</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a74255d19e963e78df4c328d3c87fbbb2"><div class="ttname"><a href="classclang_1_1Expr.html#a74255d19e963e78df4c328d3c87fbbb2">clang::Expr::isPRValue</a></div><div class="ttdeci">bool isPRValue() const</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00271">Expr.h:271</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_ac612e8d42224d6e34b4708354a31588e"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#ac612e8d42224d6e34b4708354a31588e">clang::sema::FunctionScopeInfo::FirstSEHTryLoc</a></div><div class="ttdeci">SourceLocation FirstSEHTryLoc</div><div class="ttdoc">First SEH '__try' statement in the current function.</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00182">ScopeInfo.h:182</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a08a8d6c5fb67e56ace4f2ce305701781"><div class="ttname"><a href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">clang::Type::isVoidType</a></div><div class="ttdeci">bool isVoidType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07057">Type.h:7057</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a68fab9b67a02a7f4a1adecb5e910cb14"><div class="ttname"><a href="classclang_1_1Sema.html#a68fab9b67a02a7f4a1adecb5e910cb14">clang::Sema::BuildCallExpr</a></div><div class="ttdeci">ExprResult BuildCallExpr(Scope *S, Expr *Fn, SourceLocation LParenLoc, MultiExprArg ArgExprs, SourceLocation RParenLoc, Expr *ExecConfig=nullptr, bool IsExecConfig=false, bool AllowRecovery=false)</div><div class="ttdoc">BuildCallExpr - Handle a call to Fn with the specified array of arguments.</div><div class="ttdef"><b>Definition:</b> <a href="SemaExpr_8cpp_source.html#l06656">SemaExpr.cpp:6656</a></div></div>
<div class="ttc" id="aclassclang_1_1CoreturnStmt_html"><div class="ttname"><a href="classclang_1_1CoreturnStmt.html">clang::CoreturnStmt</a></div><div class="ttdoc">Represents a 'co_return' statement in the C++ Coroutines TS.</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00458">StmtCXX.h:458</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXScopeSpec_html"><div class="ttname"><a href="classclang_1_1CXXScopeSpec.html">clang::CXXScopeSpec</a></div><div class="ttdoc">Represents a C++ nested-name-specifier or a global scope specifier.</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l00064">DeclSpec.h:64</a></div></div>
<div class="ttc" id="aclassclang_1_1CallExpr_html_adae79f81d15fd153dc505d597ceee5ea"><div class="ttname"><a href="classclang_1_1CallExpr.html#adae79f81d15fd153dc505d597ceee5ea">clang::CallExpr::getCalleeDecl</a></div><div class="ttdeci">Decl * getCalleeDecl()</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l03017">Expr.h:3017</a></div></div>
<div class="ttc" id="aASTLambda_8h_html"><div class="ttname"><a href="ASTLambda_8h.html">ASTLambda.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ad0fa80b3a22bf6410a12a7727c5ac5d3"><div class="ttname"><a href="classclang_1_1Sema.html#ad0fa80b3a22bf6410a12a7727c5ac5d3">clang::Sema::getStdNamespace</a></div><div class="ttdeci">NamespaceDecl * getStdNamespace() const</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclCXX_8cpp_source.html#l11287">SemaDeclCXX.cpp:11287</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializationSequence_html"><div class="ttname"><a href="classclang_1_1InitializationSequence.html">clang::InitializationSequence</a></div><div class="ttdoc">Describes the sequence of initializations required to initialize a given object or reference with a s...</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00788">Initialization.h:788</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afd7a935ff5803fc7406d3f2f4928f3eeadd46febd09e234e8930fe98cdb770188"><div class="ttname"><a href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eeadd46febd09e234e8930fe98cdb770188">clang::Sema::AFS_Global</a></div><div class="ttdeci">@ AFS_Global</div><div class="ttdoc">Only look for allocation functions in the global scope.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l06707">Sema.h:6707</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a2e033fcd6e1247056c3a8ab8d879b49a"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a2e033fcd6e1247056c3a8ab8d879b49a">isValidCoroutineContext</a></div><div class="ttdeci">static bool isValidCoroutineContext(Sema &amp;S, SourceLocation Loc, StringRef Keyword)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00183">SemaCoroutine.cpp:183</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a63a54295027ebcc2ad740e3c5ae686ce"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a63a54295027ebcc2ad740e3c5ae686ce">diagReturnOnAllocFailure</a></div><div class="ttdeci">static bool diagReturnOnAllocFailure(Sema &amp;S, Expr *E, CXXRecordDecl *PromiseRecordDecl, FunctionScopeInfo &amp;Fn)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01167">SemaCoroutine.cpp:1167</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a74b92349569260eda7ccb75b025221af"><div class="ttname"><a href="classclang_1_1Sema.html#a74b92349569260eda7ccb75b025221af">clang::Sema::FindDeallocationFunction</a></div><div class="ttdeci">bool FindDeallocationFunction(SourceLocation StartLoc, CXXRecordDecl *RD, DeclarationName Name, FunctionDecl *&amp;Operator, bool Diagnose=true)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExprCXX_8cpp_source.html#l03182">SemaExprCXX.cpp:3182</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclarationName_html"><div class="ttname"><a href="classclang_1_1DeclarationName.html">clang::DeclarationName</a></div><div class="ttdoc">The name of a declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00143">DeclarationName.h:143</a></div></div>
<div class="ttc" id="astructReadySuspendResumeResult_html_a6e86994dd961085b43778ae03b0e7a6f"><div class="ttname"><a href="structReadySuspendResumeResult.html#a6e86994dd961085b43778ae03b0e7a6f">ReadySuspendResumeResult::Results</a></div><div class="ttdeci">Expr * Results[3]</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00318">SemaCoroutine.cpp:318</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html_af3b65c9d48aebff66325891ac9027263"><div class="ttname"><a href="classclang_1_1LookupResult.html#af3b65c9d48aebff66325891ac9027263">clang::LookupResult::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00335">Lookup.h:335</a></div></div>
<div class="ttc" id="aclassclang_1_1OverloadExpr_html_ad9efd798b37f0ceb9cafaf2432f3e9b9"><div class="ttname"><a href="classclang_1_1OverloadExpr.html#ad9efd798b37f0ceb9cafaf2432f3e9b9">clang::OverloadExpr::decls_end</a></div><div class="ttdeci">decls_iterator decls_end() const</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l02992">ExprCXX.h:2992</a></div></div>
<div class="ttc" id="aclassclang_1_1CoroutineBodyStmt_html_ab05f1d904a575a33725314194ae13a38"><div class="ttname"><a href="classclang_1_1CoroutineBodyStmt.html#ab05f1d904a575a33725314194ae13a38">clang::CoroutineBodyStmt::Create</a></div><div class="ttdeci">static CoroutineBodyStmt * Create(const ASTContext &amp;C, CtorArgs const &amp;Args)</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8cpp_source.html#l00086">StmtCXX.cpp:86</a></div></div>
<div class="ttc" id="aclassclang_1_1Preprocessor_html_a7770871c2bdcd43cfa195d5936c8e268"><div class="ttname"><a href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">clang::Preprocessor::getIdentifierTable</a></div><div class="ttdeci">IdentifierTable &amp; getIdentifierTable()</div><div class="ttdef"><b>Definition:</b> <a href="Preprocessor_8h_source.html#l00992">Preprocessor.h:992</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a97a3cb096516718809888efca0b4ed1a"><div class="ttname"><a href="classclang_1_1Sema.html#a97a3cb096516718809888efca0b4ed1a">clang::Sema::isUnevaluatedContext</a></div><div class="ttdeci">bool isUnevaluatedContext() const</div><div class="ttdoc">Determines whether we are currently in a context that is not evaluated as per C++ [expr] p5.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l09508">Sema.h:9508</a></div></div>
<div class="ttc" id="aclassclang_1_1OpaqueValueExpr_html"><div class="ttname"><a href="classclang_1_1OpaqueValueExpr.html">clang::OpaqueValueExpr</a></div><div class="ttdoc">OpaqueValueExpr - An expression referring to an opaque object of a fixed type and value class.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l01135">Expr.h:1135</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3ccddacb1f4f71b084296175cc9e5b0e"><div class="ttname"><a href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">clang::Sema::Context</a></div><div class="ttdeci">ASTContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00587">Sema.h:587</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html"><div class="ttname"><a href="classclang_1_1Type.html">clang::Type</a></div><div class="ttdoc">The base class of the type hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l01492">Type.h:1492</a></div></div>
<div class="ttc" id="aPreprocessor_8h_html"><div class="ttname"><a href="Preprocessor_8h.html">Preprocessor.h</a></div></div>
<div class="ttc" id="aOverload_8h_html"><div class="ttname"><a href="Overload_8h.html">Overload.h</a></div></div>
<div class="ttc" id="anamespaceclang_html_a9ae224fb900de5598d2c22f31c0ccea7"><div class="ttname"><a href="namespaceclang.html#a9ae224fb900de5598d2c22f31c0ccea7">clang::ExprError</a></div><div class="ttdeci">ExprResult ExprError()</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00278">Ownership.h:278</a></div></div>
<div class="ttc" id="aDecl_8h_html"><div class="ttname"><a href="Decl_8h.html">Decl.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a0cc872d7a650c34c94f715019f4e80d1"><div class="ttname"><a href="classclang_1_1Sema.html#a0cc872d7a650c34c94f715019f4e80d1">clang::Sema::checkFinalSuspendNoThrow</a></div><div class="ttdeci">bool checkFinalSuspendNoThrow(const Stmt *FinalSuspend)</div><div class="ttdoc">Check that the expression co_await promise.final_suspend() shall not be potentially-throwing.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00694">SemaCoroutine.cpp:694</a></div></div>
<div class="ttc" id="aclassclang_1_1ParenListExpr_html_a668cb87a36a53b2482d7dcd558b5cc83"><div class="ttname"><a href="classclang_1_1ParenListExpr.html#a668cb87a36a53b2482d7dcd558b5cc83">clang::ParenListExpr::Create</a></div><div class="ttdeci">static ParenListExpr * Create(const ASTContext &amp;Ctx, SourceLocation LParenLoc, ArrayRef&lt; Expr * &gt; Exprs, SourceLocation RParenLoc)</div><div class="ttdoc">Create a paren list.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l04482">Expr.cpp:4482</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6f470e1c56366f40fea93aef0c2b5e9e"><div class="ttname"><a href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">clang::Sema::getLangOpts</a></div><div class="ttdeci">const LangOptions &amp; getLangOpts() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01774">Sema.h:1774</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9bb5752f7c402bc78dfe49e6ed5ed2cc"><div class="ttname"><a href="classclang_1_1Sema.html#a9bb5752f7c402bc78dfe49e6ed5ed2cc">clang::Sema::getCachedCoroNamespace</a></div><div class="ttdeci">NamespaceDecl * getCachedCoroNamespace()</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l06055">Sema.h:6055</a></div></div>
<div class="ttc" id="anamespaceclang_html_a669146fb548c755eaaa8779a56af9a4e"><div class="ttname"><a href="namespaceclang.html#a669146fb548c755eaaa8779a56af9a4e">clang::ExprEmpty</a></div><div class="ttdeci">ExprResult ExprEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00289">Ownership.h:289</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a0c6e994c44767e74e2892aa0235efb1aa93f2be273881a14dc35b733bc8653dbc"><div class="ttname"><a href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa93f2be273881a14dc35b733bc8653dbc">clang::Sema::LookupMemberName</a></div><div class="ttdeci">@ LookupMemberName</div><div class="ttdoc">Member name lookup, which finds the names of class/struct/union members.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l04313">Sema.h:4313</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac457a5af05f2ffc2cf6286f398d9201d"><div class="ttname"><a href="classclang_1_1Sema.html#ac457a5af05f2ffc2cf6286f398d9201d">clang::Sema::RequireCompleteType</a></div><div class="ttdeci">bool RequireCompleteType(SourceLocation Loc, QualType T, CompleteTypeKind Kind, TypeDiagnoser &amp;Diagnoser)</div><div class="ttdoc">Ensure that the type T is a complete type.</div><div class="ttdef"><b>Definition:</b> <a href="SemaType_8cpp_source.html#l08601">SemaType.cpp:8601</a></div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html">llvm::MutableArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00035">LLVM.h:35</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_adfc45332e4e744ca5b2de70e91fde76d"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#adfc45332e4e744ca5b2de70e91fde76d">clang::CoroutineBodyStmt::CtorArgs::Allocate</a></div><div class="ttdeci">Expr * Allocate</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00353">StmtCXX.h:353</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a48b2c2b1c98a1800de465320ee70badc"><div class="ttname"><a href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">clang::Type::isReferenceType</a></div><div class="ttdeci">bool isReferenceType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06762">Type.h:6762</a></div></div>
<div class="ttc" id="aclassclang_1_1CallExpr_html_addcb0820b3d0e29f38c04b25cbf0cc37"><div class="ttname"><a href="classclang_1_1CallExpr.html#addcb0820b3d0e29f38c04b25cbf0cc37">clang::CallExpr::getCallReturnType</a></div><div class="ttdeci">QualType getCallReturnType(const ASTContext &amp;Ctx) const</div><div class="ttdoc">getCallReturnType - Get the return type of the call expr.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l01546">Expr.cpp:1546</a></div></div>
<div class="ttc" id="aclassclang_1_1CallExpr_html_aca5fbea2ad48a2c33ba421f7b3df6fa4"><div class="ttname"><a href="classclang_1_1CallExpr.html#aca5fbea2ad48a2c33ba421f7b3df6fa4">clang::CallExpr::getDirectCallee</a></div><div class="ttdeci">FunctionDecl * getDirectCallee()</div><div class="ttdoc">If the callee is a FunctionDecl, return it. Otherwise return null.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l03023">Expr.h:3023</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_ac1640531c75a25eaafb0bf41c093f0e1"><div class="ttname"><a href="SemaCoroutine_8cpp.html#ac1640531c75a25eaafb0bf41c093f0e1">buildCoawaitCalls</a></div><div class="ttdeci">static ReadySuspendResumeResult buildCoawaitCalls(Sema &amp;S, VarDecl *CoroPromise, SourceLocation Loc, Expr *E)</div><div class="ttdoc">Build calls to await_ready, await_suspend, and await_resume for a co_await expression.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00398">SemaCoroutine.cpp:398</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_adf212c47c726b0ae8cf472d0b4e89dd6"><div class="ttname"><a href="classclang_1_1Sema.html#adf212c47c726b0ae8cf472d0b4e89dd6">clang::Sema::BuildCXXNamedCast</a></div><div class="ttdeci">ExprResult BuildCXXNamedCast(SourceLocation OpLoc, tok::TokenKind Kind, TypeSourceInfo *Ty, Expr *E, SourceRange AngleBrackets, SourceRange Parens)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCast_8cpp_source.html#l00297">SemaCast.cpp:297</a></div></div>
<div class="ttc" id="aclassclang_1_1UnresolvedLookupExpr_html"><div class="ttname"><a href="classclang_1_1UnresolvedLookupExpr.html">clang::UnresolvedLookupExpr</a></div><div class="ttdoc">A reference to a name which we were able to look up during parsing but could not resolve to a specifi...</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l03090">ExprCXX.h:3090</a></div></div>
<div class="ttc" id="aclassclang_1_1OverloadExpr_html_a64784b3c95c570064f99b97fd99f683c"><div class="ttname"><a href="classclang_1_1OverloadExpr.html#a64784b3c95c570064f99b97fd99f683c">clang::OverloadExpr::decls_begin</a></div><div class="ttdeci">decls_iterator decls_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l02989">ExprCXX.h:2989</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateArgumentListInfo_html"><div class="ttname"><a href="classclang_1_1TemplateArgumentListInfo.html">clang::TemplateArgumentListInfo</a></div><div class="ttdoc">A convenient class for passing around template argument information.</div><div class="ttdef"><b>Definition:</b> <a href="TemplateBase_8h_source.html#l00563">TemplateBase.h:563</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a18124cdb42520bd34872354eacc63e6b"><div class="ttname"><a href="classclang_1_1Sema.html#a18124cdb42520bd34872354eacc63e6b">clang::Sema::CoroTraitsNamespaceCache</a></div><div class="ttdeci">NamespaceDecl * CoroTraitsNamespaceCache</div><div class="ttdoc">The namespace where coroutine components are defined.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01316">Sema.h:1316</a></div></div>
<div class="ttc" id="aclassclang_1_1DependentCoawaitExpr_html"><div class="ttname"><a href="classclang_1_1DependentCoawaitExpr.html">clang::DependentCoawaitExpr</a></div><div class="ttdoc">Represents a 'co_await' expression while the type of the promise is dependent.</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l04817">ExprCXX.h:4817</a></div></div>
<div class="ttc" id="anamespaceclang_1_1diff_html_a6310f9b63d5654549c27dadc26c2113ca9c256d19492ab3855ee67fa48cea0a7c"><div class="ttname"><a href="namespaceclang_1_1diff.html#a6310f9b63d5654549c27dadc26c2113ca9c256d19492ab3855ee67fa48cea0a7c">clang::diff::Move</a></div><div class="ttdeci">@ Move</div><div class="ttdef"><b>Definition:</b> <a href="ASTDiff_8h_source.html#l00032">ASTDiff.h:32</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ad17b1f4910bc45c28783abf96a1db53f"><div class="ttname"><a href="classclang_1_1Type.html#ad17b1f4910bc45c28783abf96a1db53f">clang::Type::isClassType</a></div><div class="ttdeci">bool isClassType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00557">Type.cpp:557</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afe731eac0c78ea0bfe4f2d2e18061f22"><div class="ttname"><a href="classclang_1_1Sema.html#afe731eac0c78ea0bfe4f2d2e18061f22">clang::Sema::canCalleeThrow</a></div><div class="ttdeci">static CanThrowResult canCalleeThrow(Sema &amp;S, const Expr *E, const Decl *D, SourceLocation Loc=SourceLocation())</div><div class="ttdoc">Determine whether the callee of a particular function call can throw.</div><div class="ttdef"><b>Definition:</b> <a href="SemaExceptionSpec_8cpp_source.html#l01007">SemaExceptionSpec.cpp:1007</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateArgumentListInfo_html_a5c00d322568afcc711f3ed1cd18092af"><div class="ttname"><a href="classclang_1_1TemplateArgumentListInfo.html#a5c00d322568afcc711f3ed1cd18092af">clang::TemplateArgumentListInfo::addArgument</a></div><div class="ttdeci">void addArgument(const TemplateArgumentLoc &amp;Loc)</div><div class="ttdef"><b>Definition:</b> <a href="TemplateBase_8h_source.html#l00603">TemplateBase.h:603</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3d29181700aa985a371eb7338e15ae64"><div class="ttname"><a href="classclang_1_1Sema.html#a3d29181700aa985a371eb7338e15ae64">clang::Sema::lookupCoroutineTraits</a></div><div class="ttdeci">ClassTemplateDecl * lookupCoroutineTraits(SourceLocation KwLoc, SourceLocation FuncLoc, NamespaceDecl *&amp;Namespace)</div><div class="ttdoc">Lookup 'coroutine_traits' in std namespace and std::experimental namespace.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01682">SemaCoroutine.cpp:1682</a></div></div>
<div class="ttc" id="aclassclang_1_1Scope_html"><div class="ttname"><a href="classclang_1_1Scope.html">clang::Scope</a></div><div class="ttdoc">Scope - A scope is a transient data structure that is used while parsing the program.</div><div class="ttdef"><b>Definition:</b> <a href="Scope_8h_source.html#l00040">Scope.h:40</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4b9c29396317bed688dfe9d5b909f04f"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4b9c29396317bed688dfe9d5b909f04f">clang::ASTContext::DependentTy</a></div><div class="ttdeci">CanQualType DependentTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01120">ASTContext.h:1120</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a0967ab8939faf95c05338ab48ef92bd2"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a0967ab8939faf95c05338ab48ef92bd2">checkCoroutineContext</a></div><div class="ttdeci">static FunctionScopeInfo * checkCoroutineContext(Sema &amp;S, SourceLocation Loc, StringRef Keyword, bool IsImplicit=false)</div><div class="ttdoc">Check that this is a context in which a coroutine suspension can appear.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00607">SemaCoroutine.cpp:607</a></div></div>
<div class="ttc" id="aclassclang_1_1CoroutineStmtBuilder_html"><div class="ttname"><a href="classclang_1_1CoroutineStmtBuilder.html">clang::CoroutineStmtBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="CoroutineStmtBuilder_8h_source.html#l00024">CoroutineStmtBuilder.h:24</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclarationNameTable_html_aa9c7b7abbc2dc29780eb51a110c8d934"><div class="ttname"><a href="classclang_1_1DeclarationNameTable.html#aa9c7b7abbc2dc29780eb51a110c8d934">clang::DeclarationNameTable::getCXXOperatorName</a></div><div class="ttdeci">DeclarationName getCXXOperatorName(OverloadedOperatorKind Op)</div><div class="ttdoc">Get the name of the overloadable C++ operator corresponding to Op.</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00637">DeclarationName.h:637</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_acc69a63a126409ab9dea2182d34c3d62"><div class="ttname"><a href="classclang_1_1Expr.html#acc69a63a126409ab9dea2182d34c3d62">clang::Expr::hasPlaceholderType</a></div><div class="ttdeci">bool hasPlaceholderType() const</div><div class="ttdoc">Returns whether this expression has a placeholder type.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00502">Expr.h:502</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_a76c62e23fb19b681396defb1ccc2cf27"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#a76c62e23fb19b681396defb1ccc2cf27">clang::sema::FunctionScopeInfo::CoroutinePromise</a></div><div class="ttdeci">VarDecl * CoroutinePromise</div><div class="ttdoc">The promise object for this coroutine, if any.</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00203">ScopeInfo.h:203</a></div></div>
<div class="ttc" id="aInterpolatingCompilationDatabase_8cpp_html_a9aeccc142636a75b1eca6852e439f73f"><div class="ttname"><a href="InterpolatingCompilationDatabase_8cpp.html#a9aeccc142636a75b1eca6852e439f73f">Std</a></div><div class="ttdeci">LangStandard::Kind Std</div><div class="ttdef"><b>Definition:</b> <a href="InterpolatingCompilationDatabase_8cpp_source.html#l00134">InterpolatingCompilationDatabase.cpp:134</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aadda9c7de08aa0f1575190bb20b8c6f7"><div class="ttname"><a href="classclang_1_1Sema.html#aadda9c7de08aa0f1575190bb20b8c6f7">clang::Sema::BuildResolvedCoawaitExpr</a></div><div class="ttdeci">ExprResult BuildResolvedCoawaitExpr(SourceLocation KwLoc, Expr *E, bool IsImplicit=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00863">SemaCoroutine.cpp:863</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a08d1a44e4667923ba59529e210c15b82"><div class="ttname"><a href="classclang_1_1ASTContext.html#a08d1a44e4667923ba59529e210c15b82">clang::ASTContext::getRValueReferenceType</a></div><div class="ttdeci">QualType getRValueReferenceType(QualType T) const</div><div class="ttdoc">Return the uniqued reference to the type for an rvalue reference to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l03430">ASTContext.cpp:3430</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a8cdf2955f2dc6bf8e832defc751a6b17"><div class="ttname"><a href="classclang_1_1Decl.html#a8cdf2955f2dc6bf8e832defc751a6b17">clang::Decl::isInvalidDecl</a></div><div class="ttdeci">bool isInvalidDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00552">DeclBase.h:552</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateArgument_html"><div class="ttname"><a href="classclang_1_1TemplateArgument.html">clang::TemplateArgument</a></div><div class="ttdoc">Represents a template argument.</div><div class="ttdef"><b>Definition:</b> <a href="TemplateBase_8h_source.html#l00061">TemplateBase.h:61</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_add9dd79bcd4e6170607bbd20594c9384"><div class="ttname"><a href="classclang_1_1Sema.html#add9dd79bcd4e6170607bbd20594c9384">clang::Sema::AddInitializerToDecl</a></div><div class="ttdeci">void AddInitializerToDecl(Decl *dcl, Expr *init, bool DirectInit)</div><div class="ttdoc">AddInitializerToDecl - Adds the initializer Init to the declaration dcl.</div><div class="ttdef"><b>Definition:</b> <a href="SemaDecl_8cpp_source.html#l12371">SemaDecl.cpp:12371</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a95ba45be206bcbf954cdd2f58296bb9f"><div class="ttname"><a href="classclang_1_1Sema.html#a95ba45be206bcbf954cdd2f58296bb9f">clang::Sema::PerformContextuallyConvertToBool</a></div><div class="ttdeci">ExprResult PerformContextuallyConvertToBool(Expr *From)</div><div class="ttdoc">PerformContextuallyConvertToBool - Perform a contextual conversion of the expression From to bool (C+...</div><div class="ttdef"><b>Definition:</b> <a href="SemaOverload_8cpp_source.html#l05608">SemaOverload.cpp:5608</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html_a489148e5d234a5a7f00d8b02981bcee5"><div class="ttname"><a href="classclang_1_1Stmt.html#a489148e5d234a5a7f00d8b02981bcee5">clang::Stmt::children</a></div><div class="ttdeci">child_range children()</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8cpp_source.html#l00285">Stmt.cpp:285</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a178fde2427ba75b8e6588f83ec8aebb9"><div class="ttname"><a href="classclang_1_1Sema.html#a178fde2427ba75b8e6588f83ec8aebb9">clang::Sema::ActOnCoroutineBodyStart</a></div><div class="ttdeci">bool ActOnCoroutineBodyStart(Scope *S, SourceLocation KwLoc, StringRef Keyword)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00712">SemaCoroutine.cpp:712</a></div></div>
<div class="ttc" id="aclassclang_1_1UnresolvedLookupExpr_html_aceb9c5f5e61225293fc492fc39ea4738"><div class="ttname"><a href="classclang_1_1UnresolvedLookupExpr.html#aceb9c5f5e61225293fc492fc39ea4738">clang::UnresolvedLookupExpr::Create</a></div><div class="ttdeci">static UnresolvedLookupExpr * Create(const ASTContext &amp;Context, CXXRecordDecl *NamingClass, NestedNameSpecifierLoc QualifierLoc, const DeclarationNameInfo &amp;NameInfo, bool RequiresADL, bool Overloaded, UnresolvedSetIterator Begin, UnresolvedSetIterator End)</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8cpp_source.html#l00369">ExprCXX.cpp:369</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateArgumentLoc_html"><div class="ttname"><a href="classclang_1_1TemplateArgumentLoc.html">clang::TemplateArgumentLoc</a></div><div class="ttdoc">Location wrapper for a TemplateArgument.</div><div class="ttdef"><b>Definition:</b> <a href="TemplateBase_8h_source.html#l00457">TemplateBase.h:457</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a169a4366f450e5a467a538ece0700ac1"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a169a4366f450e5a467a538ece0700ac1">noteMemberDeclaredHere</a></div><div class="ttdeci">static void noteMemberDeclaredHere(Sema &amp;S, Expr *E, FunctionScopeInfo &amp;Fn)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01550">SemaCoroutine.cpp:1550</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a7eb2012ee62fd50a13a5b672e280d5a6"><div class="ttname"><a href="classclang_1_1Sema.html#a7eb2012ee62fd50a13a5b672e280d5a6">clang::Sema::ActOnNullStmt</a></div><div class="ttdeci">StmtResult ActOnNullStmt(SourceLocation SemiLoc, bool HasLeadingEmptyMacro=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaStmt_8cpp_source.html#l00068">SemaStmt.cpp:68</a></div></div>
<div class="ttc" id="aclassclang_1_1UnresolvedSet_html"><div class="ttname"><a href="classclang_1_1UnresolvedSet.html">clang::UnresolvedSet</a></div><div class="ttdoc">A set of unresolved declarations.</div><div class="ttdef"><b>Definition:</b> <a href="UnresolvedSet_8h_source.html#l00148">UnresolvedSet.h:148</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html"><div class="ttname"><a href="classclang_1_1VarDecl.html">clang::VarDecl</a></div><div class="ttdoc">Represents a variable declaration or definition.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00875">Decl.h:875</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionProtoType_html_a1391e60f9bab7a8fba2a29471cf8246b"><div class="ttname"><a href="classclang_1_1FunctionProtoType.html#a1391e60f9bab7a8fba2a29471cf8246b">clang::FunctionProtoType::getParamTypes</a></div><div class="ttdeci">ArrayRef&lt; QualType &gt; getParamTypes() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04117">Type.h:4117</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a02e572bb27d5f79ff36f66ddc036d1f0"><div class="ttname"><a href="classclang_1_1Type.html#a02e572bb27d5f79ff36f66ddc036d1f0">clang::Type::isStructureType</a></div><div class="ttdeci">bool isStructureType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00563">Type.cpp:563</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3dd6681a797ebe285ef755ab0579f38d"><div class="ttname"><a href="classclang_1_1Sema.html#a3dd6681a797ebe285ef755ab0579f38d">clang::Sema::ActOnCoyieldExpr</a></div><div class="ttdeci">ExprResult ActOnCoyieldExpr(Scope *S, SourceLocation KwLoc, Expr *E)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00904">SemaCoroutine.cpp:904</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html">clang::CoroutineBodyStmt::CtorArgs</a></div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00346">StmtCXX.h:346</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_adcfdcf60ae41f0d900993ec564ba04d4"><div class="ttname"><a href="SemaCoroutine_8cpp.html#adcfdcf60ae41f0d900993ec564ba04d4">lookupPromiseType</a></div><div class="ttdeci">static QualType lookupPromiseType(Sema &amp;S, const FunctionDecl *FD, SourceLocation KwLoc)</div><div class="ttdoc">Look up the std::coroutine_traits&lt;...&gt;::promise_type for the given function type.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00052">SemaCoroutine.cpp:52</a></div></div>
<div class="ttc" id="aclassclang_1_1TypeDecl_html"><div class="ttname"><a href="classclang_1_1TypeDecl.html">clang::TypeDecl</a></div><div class="ttdoc">Represents a declaration of a type.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03142">Decl.h:3142</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a0506d2fd1e686757c62a2b1aa3f9de8d"><div class="ttname"><a href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">clang::Type::getAsCXXRecordDecl</a></div><div class="ttdeci">CXXRecordDecl * getAsCXXRecordDecl() const</div><div class="ttdoc">Retrieves the CXXRecordDecl that this type refers to, either because the type is a RecordType or beca...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l01760">Type.cpp:1760</a></div></div>
<div class="ttc" id="aclassclang_1_1NestedNameSpecifierLoc_html"><div class="ttname"><a href="classclang_1_1NestedNameSpecifierLoc.html">clang::NestedNameSpecifierLoc</a></div><div class="ttdoc">A C++ nested-name-specifier augmented with source location information.</div><div class="ttdef"><b>Definition:</b> <a href="NestedNameSpecifier_8h_source.html#l00243">NestedNameSpecifier.h:243</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html_ae51b4baea0615a0bb19adb3c279c4918"><div class="ttname"><a href="classclang_1_1LookupResult.html#ae51b4baea0615a0bb19adb3c279c4918">clang::LookupResult::getLookupName</a></div><div class="ttdeci">DeclarationName getLookupName() const</div><div class="ttdoc">Gets the name to look up.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00243">Lookup.h:243</a></div></div>
<div class="ttc" id="aExprCXX_8h_html"><div class="ttname"><a href="ExprCXX_8h.html">ExprCXX.h</a></div></div>
<div class="ttc" id="aclassBase_html"><div class="ttname"><a href="classBase.html">Base</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_aa89b44dad7f4fd7e9c15129f8f0784e4"><div class="ttname"><a href="classclang_1_1Decl.html#aa89b44dad7f4fd7e9c15129f8f0784e4">clang::Decl::setImplicit</a></div><div class="ttdeci">void setImplicit(bool I=true)</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00558">DeclBase.h:558</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionProtoType_html_af6ddd85ab9209b8226222221eeda9d4d"><div class="ttname"><a href="classclang_1_1FunctionProtoType.html#af6ddd85ab9209b8226222221eeda9d4d">clang::FunctionProtoType::getRefQualifier</a></div><div class="ttdeci">RefQualifierKind getRefQualifier() const</div><div class="ttdoc">Retrieve the ref-qualifier associated with this function type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04258">Type.h:4258</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_af0446cc0e6f8f8c5c103781b83a70b39"><div class="ttname"><a href="SemaCoroutine_8cpp.html#af0446cc0e6f8f8c5c103781b83a70b39">findDeleteForPromise</a></div><div class="ttdeci">static FunctionDecl * findDeleteForPromise(Sema &amp;S, SourceLocation Loc, QualType PromiseType)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01029">SemaCoroutine.cpp:1029</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a5e91381b566fa2407461fd0be70dc532"><div class="ttname"><a href="classclang_1_1Sema.html#a5e91381b566fa2407461fd0be70dc532">clang::Sema::ActOnCoreturnStmt</a></div><div class="ttdeci">StmtResult ActOnCoreturnStmt(Scope *S, SourceLocation KwLoc, Expr *E)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00959">SemaCoroutine.cpp:959</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a2f533c2b73585087aaf5b2ec8e77932b"><div class="ttname"><a href="classclang_1_1Sema.html#a2f533c2b73585087aaf5b2ec8e77932b">clang::Sema::LookupName</a></div><div class="ttdeci">bool LookupName(LookupResult &amp;R, Scope *S, bool AllowBuiltinCreation=false)</div><div class="ttdoc">Perform unqualified name lookup starting from a given scope.</div><div class="ttdef"><b>Definition:</b> <a href="SemaLookup_8cpp_source.html#l01985">SemaLookup.cpp:1985</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_a06bcd00c13ed00b56a767f33d1b98ddd"><div class="ttname"><a href="classclang_1_1VarDecl.html#a06bcd00c13ed00b56a767f33d1b98ddd">clang::VarDecl::Create</a></div><div class="ttdeci">static VarDecl * Create(ASTContext &amp;C, DeclContext *DC, SourceLocation StartLoc, SourceLocation IdLoc, const IdentifierInfo *Id, QualType T, TypeSourceInfo *TInfo, StorageClass S)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l02051">Decl.cpp:2051</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a89714ef9181a707a3bf5bf060d8b437e"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a89714ef9181a707a3bf5bf060d8b437e">lookupMember</a></div><div class="ttdeci">static LookupResult lookupMember(Sema &amp;S, const char *Name, CXXRecordDecl *RD, SourceLocation Loc, bool &amp;Res)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00032">SemaCoroutine.cpp:32</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_a3ec3676b4e063fda7c9117dd49531ad0"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a3ec3676b4e063fda7c9117dd49531ad0">clang::CoroutineBodyStmt::CtorArgs::ReturnValue</a></div><div class="ttdeci">Expr * ReturnValue</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00355">StmtCXX.h:355</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac43246b39d7ad4017134f714c1d0aa30"><div class="ttname"><a href="classclang_1_1Sema.html#ac43246b39d7ad4017134f714c1d0aa30">clang::Sema::ActOnDeclStmt</a></div><div class="ttdeci">StmtResult ActOnDeclStmt(DeclGroupPtrTy Decl, SourceLocation StartLoc, SourceLocation EndLoc)</div><div class="ttdef"><b>Definition:</b> <a href="SemaStmt_8cpp_source.html#l00073">SemaStmt.cpp:73</a></div></div>
<div class="ttc" id="anamespaceclang_html_af16833e51c82a488104751351c4e95afab48992cbc393b33c4623486d7a2c2c13"><div class="ttname"><a href="namespaceclang.html#af16833e51c82a488104751351c4e95afab48992cbc393b33c4623486d7a2c2c13">clang::ETK_None</a></div><div class="ttdeci">@ ETK_None</div><div class="ttdoc">No keyword precedes the qualified type name.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l05426">Type.h:5426</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4547427fcd91069ee1702047d2d8dc7e"><div class="ttname"><a href="classclang_1_1Sema.html#a4547427fcd91069ee1702047d2d8dc7e">clang::Sema::ConvertDeclToDeclGroup</a></div><div class="ttdeci">DeclGroupPtrTy ConvertDeclToDeclGroup(Decl *Ptr, Decl *OwnedType=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDecl_8cpp_source.html#l00056">SemaDecl.cpp:56</a></div></div>
<div class="ttc" id="astructclang_1_1DeclarationNameInfo_html_a09d47cb0da3fea189ecbd6ab0094c70d"><div class="ttname"><a href="structclang_1_1DeclarationNameInfo.html#a09d47cb0da3fea189ecbd6ab0094c70d">clang::DeclarationNameInfo::getName</a></div><div class="ttdeci">DeclarationName getName() const</div><div class="ttdoc">getName - Returns the embedded declaration name.</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00779">DeclarationName.h:779</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_adc8f8a1c164c5984c41d29b74635a04f"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#adc8f8a1c164c5984c41d29b74635a04f">clang::CoroutineBodyStmt::CtorArgs::OnFallthrough</a></div><div class="ttdeci">Stmt * OnFallthrough</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00352">StmtCXX.h:352</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a45fb45d0cfc816b4ec549cc85f211903"><div class="ttname"><a href="classclang_1_1Sema.html#a45fb45d0cfc816b4ec549cc85f211903">clang::Sema::StdCoroutineTraitsCache</a></div><div class="ttdeci">ClassTemplateDecl * StdCoroutineTraitsCache</div><div class="ttdoc">The C++ &quot;std::coroutine_traits&quot; template, which is defined in &lt;coroutine_traits&gt;</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01312">Sema.h:1312</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html">clang::sema::FunctionScopeInfo</a></div><div class="ttdoc">Retains information about a function, method, or block that is currently being parsed.</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00097">ScopeInfo.h:97</a></div></div>
<div class="ttc" id="anamespaceclang_html_ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7"><div class="ttname"><a href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340ab67545101f6b01efc1ecf6a0cefc7ee7">clang::VK_LValue</a></div><div class="ttdeci">@ VK_LValue</div><div class="ttdoc">An l-value expression is a reference to an object with independent storage.</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00124">Specifiers.h:124</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a436b8b08ae7f2404b4712d37986194ce"><div class="ttname"><a href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">clang::Type::castAs</a></div><div class="ttdeci">const T * castAs() const</div><div class="ttdoc">Member-template castAs&lt;specific type&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07330">Type.h:7330</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializationSequence_html_a054e85373a207390ad812c67544b13da"><div class="ttname"><a href="classclang_1_1InitializationSequence.html#a054e85373a207390ad812c67544b13da">clang::InitializationSequence::Perform</a></div><div class="ttdeci">ExprResult Perform(Sema &amp;S, const InitializedEntity &amp;Entity, const InitializationKind &amp;Kind, MultiExprArg Args, QualType *ResultType=nullptr)</div><div class="ttdoc">Perform the actual initialization of the given entity based on the computed initialization sequence.</div><div class="ttdef"><b>Definition:</b> <a href="SemaInit_8cpp_source.html#l07988">SemaInit.cpp:7988</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html">clang::CXXRecordDecl</a></div><div class="ttdoc">Represents a C++ struct/union/class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l00254">DeclCXX.h:254</a></div></div>
<div class="ttc" id="aclassclang_1_1CoroutineStmtBuilder_html_ad9b4afa938b94f182f66239b148c191b"><div class="ttname"><a href="classclang_1_1CoroutineStmtBuilder.html#ad9b4afa938b94f182f66239b148c191b">clang::CoroutineStmtBuilder::buildStatements</a></div><div class="ttdeci">bool buildStatements()</div><div class="ttdoc">Build the coroutine body statements, including the &quot;promise dependent&quot; statements when the promise ty...</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01129">SemaCoroutine.cpp:1129</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aa87cf42fde12a9e06a3b076a63198c7a"><div class="ttname"><a href="classclang_1_1Sema.html#aa87cf42fde12a9e06a3b076a63198c7a">clang::Sema::computeDeclContext</a></div><div class="ttdeci">DeclContext * computeDeclContext(QualType T)</div><div class="ttdoc">Compute the DeclContext that is associated with the given type.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCXXScopeSpec_8cpp_source.html#l00053">SemaCXXScopeSpec.cpp:53</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_a46e1deec48f2277d5a65cd522ac71da6"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#a46e1deec48f2277d5a65cd522ac71da6">clang::sema::FunctionScopeInfo::FirstCoroutineStmtLoc</a></div><div class="ttdeci">SourceLocation FirstCoroutineStmtLoc</div><div class="ttdoc">First coroutine statement in the current function.</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00172">ScopeInfo.h:172</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a6dad8fcca7899221aaa212d56d84d7d7"><div class="ttname"><a href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">clang::Type::isDependentType</a></div><div class="ttdeci">bool isDependentType() const</div><div class="ttdoc">Whether this type is a dependent type, meaning that its definition somehow depends on a template para...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02183">Type.h:2183</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html_ae2764b699f93e9590281ce9c4b097e33"><div class="ttname"><a href="classclang_1_1LookupResult.html#ae2764b699f93e9590281ce9c4b097e33">clang::LookupResult::suppressDiagnostics</a></div><div class="ttdeci">void suppressDiagnostics()</div><div class="ttdoc">Suppress the diagnostics that would normally fire because of this lookup.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00583">Lookup.h:583</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_af1db057b6c0e41c5aad606b303526f6e"><div class="ttname"><a href="classclang_1_1Sema.html#af1db057b6c0e41c5aad606b303526f6e">clang::Sema::CreateBuiltinUnaryOp</a></div><div class="ttdeci">ExprResult CreateBuiltinUnaryOp(SourceLocation OpLoc, UnaryOperatorKind Opc, Expr *InputExpr)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExpr_8cpp_source.html#l15251">SemaExpr.cpp:15251</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab0979f8d07c581aad1eedf7fa8a41a63"><div class="ttname"><a href="classclang_1_1Sema.html#ab0979f8d07c581aad1eedf7fa8a41a63">clang::Sema::BuildReturnStmt</a></div><div class="ttdeci">StmtResult BuildReturnStmt(SourceLocation ReturnLoc, Expr *RetValExp, bool AllowRecovery=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaStmt_8cpp_source.html#l03919">SemaStmt.cpp:3919</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afef5d9f17bb9c4c2378c24bfadaea1f2"><div class="ttname"><a href="classclang_1_1Sema.html#afef5d9f17bb9c4c2378c24bfadaea1f2">clang::Sema::ActOnFinishFullExpr</a></div><div class="ttdeci">ExprResult ActOnFinishFullExpr(Expr *Expr, bool DiscardedValue)</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l06830">Sema.h:6830</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a8910059873945e65f827911dcb9cce29"><div class="ttname"><a href="classclang_1_1Sema.html#a8910059873945e65f827911dcb9cce29">clang::Sema::ActOnCoawaitExpr</a></div><div class="ttdeci">ExprResult ActOnCoawaitExpr(Scope *S, SourceLocation KwLoc, Expr *E)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00805">SemaCoroutine.cpp:805</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_a92e52555df7c634cb78906412df3a317"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a92e52555df7c634cb78906412df3a317">clang::CoroutineBodyStmt::CtorArgs::Deallocate</a></div><div class="ttdeci">Expr * Deallocate</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00354">StmtCXX.h:354</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ad36f57d7a801997658ab43b24034db20"><div class="ttname"><a href="classclang_1_1Sema.html#ad36f57d7a801997658ab43b24034db20">clang::Sema::PerformCopyInitialization</a></div><div class="ttdeci">ExprResult PerformCopyInitialization(const InitializedEntity &amp;Entity, SourceLocation EqualLoc, ExprResult Init, bool TopLevelOfInitList=false, bool AllowExplicit=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaInit_8cpp_source.html#l09907">SemaInit.cpp:9907</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_abb555f713a32ac7c448666d4343dac1d"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#abb555f713a32ac7c448666d4343dac1d">clang::sema::FunctionScopeInfo::FirstReturnLoc</a></div><div class="ttdeci">SourceLocation FirstReturnLoc</div><div class="ttdoc">First 'return' statement in the current function.</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00175">ScopeInfo.h:175</a></div></div>
<div class="ttc" id="aclassclang_1_1ActionResult_html_aedbbd11dd798f32ce162ab772320d530"><div class="ttname"><a href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">clang::ActionResult::get</a></div><div class="ttdeci">PtrTy get() const</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00169">Ownership.h:169</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a13d496cb6cf38c660a1710ae1b161b7a"><div class="ttname"><a href="classclang_1_1Sema.html#a13d496cb6cf38c660a1710ae1b161b7a">clang::Sema::BuildCoyieldExpr</a></div><div class="ttdeci">ExprResult BuildCoyieldExpr(SourceLocation KwLoc, Expr *E)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00925">SemaCoroutine.cpp:925</a></div></div>
<div class="ttc" id="aclassclang_1_1ClassTemplateDecl_html"><div class="ttname"><a href="classclang_1_1ClassTemplateDecl.html">clang::ClassTemplateDecl</a></div><div class="ttdoc">Declaration of a class template.</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l02247">DeclTemplate.h:2247</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateName_html"><div class="ttname"><a href="classclang_1_1TemplateName.html">clang::TemplateName</a></div><div class="ttdoc">Represents a C++ template name within the type system.</div><div class="ttdef"><b>Definition:</b> <a href="TemplateName_8h_source.html#l00190">TemplateName.h:190</a></div></div>
<div class="ttc" id="aclassclang_1_1CoyieldExpr_html"><div class="ttname"><a href="classclang_1_1CoyieldExpr.html">clang::CoyieldExpr</a></div><div class="ttdoc">Represents a 'co_yield' expression.</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l04866">ExprCXX.h:4866</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionProtoType_html"><div class="ttname"><a href="classclang_1_1FunctionProtoType.html">clang::FunctionProtoType</a></div><div class="ttdoc">Represents a prototype with parameter type info, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l03900">Type.h:3900</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_ab4fa508722ecc1546ad73cb31b0dc06c"><div class="ttname"><a href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">clang::Expr::getExprLoc</a></div><div class="ttdeci">SourceLocation getExprLoc() const LLVM_READONLY</div><div class="ttdoc">getExprLoc - Return the preferred location for the arrow when diagnosing a problem with a generic exp...</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l00246">Expr.cpp:246</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_af893896af862ea7e3979cfe11ef6d1cd"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#af893896af862ea7e3979cfe11ef6d1cd">clang::CoroutineBodyStmt::CtorArgs::Promise</a></div><div class="ttdeci">Stmt * Promise</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00348">StmtCXX.h:348</a></div></div>
<div class="ttc" id="astructReadySuspendResumeResult_html_a34b1675e1f5f4092834d9a315337096a"><div class="ttname"><a href="structReadySuspendResumeResult.html#a34b1675e1f5f4092834d9a315337096a">ReadySuspendResumeResult::OpaqueValue</a></div><div class="ttdeci">OpaqueValueExpr * OpaqueValue</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00319">SemaCoroutine.cpp:319</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a54127635d2ca4754e91ee96b594eff74"><div class="ttname"><a href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">clang::QualType::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Return true if this QualType doesn't point to a type yet.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00740">Type.h:740</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html"><div class="ttname"><a href="classclang_1_1Decl.html">clang::Decl</a></div><div class="ttdoc">Decl - This represents one declaration (or definition), e.g.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00083">DeclBase.h:83</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a88cd16da1012848cab6307b8c6612ebf"><div class="ttname"><a href="classclang_1_1Sema.html#a88cd16da1012848cab6307b8c6612ebf">clang::Sema::CreateOverloadedUnaryOp</a></div><div class="ttdeci">ExprResult CreateOverloadedUnaryOp(SourceLocation OpLoc, UnaryOperatorKind Opc, const UnresolvedSetImpl &amp;Fns, Expr *input, bool RequiresADL=true)</div><div class="ttdoc">Create a unary operation that may resolve to an overloaded operator.</div><div class="ttdef"><b>Definition:</b> <a href="SemaOverload_8cpp_source.html#l13334">SemaOverload.cpp:13334</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afd7a935ff5803fc7406d3f2f4928f3eeac87cdcb841501125af9982d018191fd2"><div class="ttname"><a href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eeac87cdcb841501125af9982d018191fd2">clang::Sema::AFS_Class</a></div><div class="ttdeci">@ AFS_Class</div><div class="ttdoc">Only look for allocation functions in the scope of the allocated class.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l06710">Sema.h:6710</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html"><div class="ttname"><a href="classclang_1_1Sema.html">clang::Sema</a></div><div class="ttdoc">Sema - This implements semantic analysis and AST building for C.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00531">Sema.h:531</a></div></div>
<div class="ttc" id="aclassclang_1_1ActionResult_html_a6475448d7da1ad75e4d36cf025586173"><div class="ttname"><a href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">clang::ActionResult::isInvalid</a></div><div class="ttdeci">bool isInvalid() const</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00165">Ownership.h:165</a></div></div>
<div class="ttc" id="aclassclang_1_1CoroutineBodyStmt_html"><div class="ttname"><a href="classclang_1_1CoroutineBodyStmt.html">clang::CoroutineBodyStmt</a></div><div class="ttdoc">Represents the body of a coroutine.</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00317">StmtCXX.h:317</a></div></div>
<div class="ttc" id="aclassclang_1_1CoawaitExpr_html"><div class="ttname"><a href="classclang_1_1CoawaitExpr.html">clang::CoawaitExpr</a></div><div class="ttdoc">Represents a 'co_await' expression.</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l04781">ExprCXX.h:4781</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_a6e706338eb93406b2ecb6bac4dd862ba"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#a6e706338eb93406b2ecb6bac4dd862ba">clang::sema::FunctionScopeInfo::isCoroutine</a></div><div class="ttdeci">bool isCoroutine() const</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00479">ScopeInfo.h:479</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierInfo_html"><div class="ttname"><a href="classclang_1_1IdentifierInfo.html">clang::IdentifierInfo</a></div><div class="ttdoc">One of these records is kept for each identifier that is lexed.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00084">IdentifierTable.h:84</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a791d521d2dce37c8cdaab7c115e2cda2"><div class="ttname"><a href="classclang_1_1Sema.html#a791d521d2dce37c8cdaab7c115e2cda2">clang::Sema::lookupStdExperimentalNamespace</a></div><div class="ttdeci">NamespaceDecl * lookupStdExperimentalNamespace()</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclCXX_8cpp_source.html#l11292">SemaDeclCXX.cpp:11292</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html_ac87a7cb3291953bb9762bd31ad5d686d"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html#ac87a7cb3291953bb9762bd31ad5d686d">clang::CXXRecordDecl::getDestructor</a></div><div class="ttdeci">CXXDestructorDecl * getDestructor() const</div><div class="ttdoc">Returns the destructor decl for this class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8cpp_source.html#l01888">DeclCXX.cpp:1888</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a907be85380d8531e45892333c3747fc4"><div class="ttname"><a href="classclang_1_1ASTContext.html#a907be85380d8531e45892333c3747fc4">clang::ASTContext::getElaboratedType</a></div><div class="ttdeci">QualType getElaboratedType(ElaboratedTypeKeyword Keyword, NestedNameSpecifier *NNS, QualType NamedType, TagDecl *OwnedTagDecl=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l04957">ASTContext.cpp:4957</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a096577dc2c0e924586ad954a1f99e671"><div class="ttname"><a href="classclang_1_1Type.html#a096577dc2c0e924586ad954a1f99e671">clang::Type::isBooleanType</a></div><div class="ttdeci">bool isBooleanType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07173">Type.h:7173</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a7257f6ee3d447e2767957eb230fb1cd2"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a7257f6ee3d447e2767957eb230fb1cd2">buildStdNoThrowDeclRef</a></div><div class="ttdeci">static Expr * buildStdNoThrowDeclRef(Sema &amp;S, SourceLocation Loc)</div><div class="ttdoc">Look up the std::nothrow object.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00999">SemaCoroutine.cpp:999</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4b3190eee965dd87c1f396da6c1629c5"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4b3190eee965dd87c1f396da6c1629c5">clang::ASTContext::getLValueReferenceType</a></div><div class="ttdeci">QualType getLValueReferenceType(QualType T, bool SpelledAsLValue=true) const</div><div class="ttdoc">Return the uniqued reference to the type for an lvalue reference to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l03390">ASTContext.cpp:3390</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ObjCPropertyAttribute_html_a5cee046f95725089d626e8e3c42bf60c"><div class="ttname"><a href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">clang::ObjCPropertyAttribute::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjCCommon_8h_source.html#l00022">DeclObjCCommon.h:22</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac7f951bbb24506aff28e15ccbe34945f"><div class="ttname"><a href="classclang_1_1Sema.html#ac7f951bbb24506aff28e15ccbe34945f">clang::Sema::MaybeCreateExprWithCleanups</a></div><div class="ttdeci">Expr * MaybeCreateExprWithCleanups(Expr *SubExpr)</div><div class="ttdoc">MaybeCreateExprWithCleanups - If the current full-expression requires any cleanups,...</div><div class="ttdef"><b>Definition:</b> <a href="SemaExprCXX_8cpp_source.html#l07157">SemaExprCXX.cpp:7157</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializationKind_html"><div class="ttname"><a href="classclang_1_1InitializationKind.html">clang::InitializationKind</a></div><div class="ttdoc">Describes the kind of initialization being performed, along with location information for tokens rela...</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00566">Initialization.h:566</a></div></div>
<div class="ttc" id="astructReadySuspendResumeResult_html_ac2896552c4242c5d4c2808e964e9f6bf"><div class="ttname"><a href="structReadySuspendResumeResult.html#ac2896552c4242c5d4c2808e964e9f6bf">ReadySuspendResumeResult::AwaitCallType</a></div><div class="ttdeci">AwaitCallType</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00317">SemaCoroutine.cpp:317</a></div></div>
<div class="ttc" id="aclassclang_1_1ActionResult_html"><div class="ttname"><a href="classclang_1_1ActionResult.html">clang::ActionResult&lt; Expr * &gt;</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a7b0488428ddb1b3b69219f2a71094793"><div class="ttname"><a href="classclang_1_1Sema.html#a7b0488428ddb1b3b69219f2a71094793">clang::Sema::Cleanup</a></div><div class="ttdeci">CleanupInfo Cleanup</div><div class="ttdoc">Used to control the generation of ExprWithCleanups.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00942">Sema.h:942</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a3dbd530a307f9a74eab7f40573fa8d53"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a3dbd530a307f9a74eab7f40573fa8d53">buildOperatorCoawaitLookupExpr</a></div><div class="ttdeci">static ExprResult buildOperatorCoawaitLookupExpr(Sema &amp;SemaRef, Scope *S, SourceLocation Loc)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00249">SemaCoroutine.cpp:249</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_acda5fdc0982f58d72dcc73f43a6e6c38"><div class="ttname"><a href="SemaCoroutine_8cpp.html#acda5fdc0982f58d72dcc73f43a6e6c38">lookupCoroutineHandleType</a></div><div class="ttdeci">static QualType lookupCoroutineHandleType(Sema &amp;S, QualType PromiseType, SourceLocation Loc)</div><div class="ttdoc">Look up the std::coroutine_handle&lt;PromiseType&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00140">SemaCoroutine.cpp:140</a></div></div>
<div class="ttc" id="aclassclang_1_1PointerType_html"><div class="ttname"><a href="classclang_1_1PointerType.html">clang::PointerType</a></div><div class="ttdoc">PointerType - C99 6.7.5.1 - Pointer Declarators.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02655">Type.h:2655</a></div></div>
<div class="ttc" id="aScopeInfo_8h_html"><div class="ttname"><a href="ScopeInfo_8h.html">ScopeInfo.h</a></div></div>
<div class="ttc" id="astructReadySuspendResumeResult_html_ae6eef1af7c0e5d087d2e7e81309ff0f1"><div class="ttname"><a href="structReadySuspendResumeResult.html#ae6eef1af7c0e5d087d2e7e81309ff0f1">ReadySuspendResumeResult::IsInvalid</a></div><div class="ttdeci">bool IsInvalid</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00320">SemaCoroutine.cpp:320</a></div></div>
<div class="ttc" id="anamespaceclang_html_ab498d885beff706cd6c78a2f9b2fe08b"><div class="ttname"><a href="namespaceclang.html#ab498d885beff706cd6c78a2f9b2fe08b">clang::StmtResult</a></div><div class="ttdeci">ActionResult&lt; Stmt * &gt; StmtResult</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00263">Ownership.h:263</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afd7a935ff5803fc7406d3f2f4928f3eea80c1639d8a941436223e0e716cfd6c2c"><div class="ttname"><a href="classclang_1_1Sema.html#afd7a935ff5803fc7406d3f2f4928f3eea80c1639d8a941436223e0e716cfd6c2c">clang::Sema::AFS_Both</a></div><div class="ttdeci">@ AFS_Both</div><div class="ttdoc">Look for allocation functions in both the global scope and in the scope of the allocated class.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l06713">Sema.h:6713</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4a4847d6b5738271771f07be03e3a712"><div class="ttname"><a href="classclang_1_1Sema.html#a4a4847d6b5738271771f07be03e3a712">clang::Sema::getCurScope</a></div><div class="ttdeci">Scope * getCurScope() const</div><div class="ttdoc">Retrieve the parser's current scope.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l13502">Sema.h:13502</a></div></div>
<div class="ttc" id="anamespaceclang_1_1Builtin_html_a96281da348e2b70f3a45a66f6e48905c"><div class="ttname"><a href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">clang::Builtin::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8h_source.html#l00049">Builtins.h:49</a></div></div>
<div class="ttc" id="anamespaceclang_html"><div class="ttname"><a href="namespaceclang.html">clang</a></div><div class="ttdef"><b>Definition:</b> <a href="CalledOnceCheck_8h_source.html#l00017">CalledOnceCheck.h:17</a></div></div>
<div class="ttc" id="aclassclang_1_1CoroutineStmtBuilder_html_a5fb5770039d5898d30f979feffaefb4e"><div class="ttname"><a href="classclang_1_1CoroutineStmtBuilder.html#a5fb5770039d5898d30f979feffaefb4e">clang::CoroutineStmtBuilder::CoroutineStmtBuilder</a></div><div class="ttdeci">CoroutineStmtBuilder(Sema &amp;S, FunctionDecl &amp;FD, sema::FunctionScopeInfo &amp;Fn, Stmt *Body)</div><div class="ttdoc">Construct a CoroutineStmtBuilder and initialize the promise statement and initial/final suspends from...</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01109">SemaCoroutine.cpp:1109</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_ab6c4f301bbff55c3d3dbf84760a54513"><div class="ttname"><a href="SemaCoroutine_8cpp.html#ab6c4f301bbff55c3d3dbf84760a54513">checkSuspensionContext</a></div><div class="ttdeci">static void checkSuspensionContext(Sema &amp;S, SourceLocation Loc, StringRef Keyword)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00792">SemaCoroutine.cpp:792</a></div></div>
<div class="ttc" id="aclassclang_1_1Scope_html_afa7e82b8e23f84d0d73e27953b9afab7a7b48096fbc2ced4a0b5fa7ff7bb0ca63"><div class="ttname"><a href="classclang_1_1Scope.html#afa7e82b8e23f84d0d73e27953b9afab7a7b48096fbc2ced4a0b5fa7ff7bb0ca63">clang::Scope::CatchScope</a></div><div class="ttdeci">@ CatchScope</div><div class="ttdoc">This is the scope of a C++ catch statement.</div><div class="ttdef"><b>Definition:</b> <a href="Scope_8h_source.html#l00137">Scope.h:137</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html_acb441eab117976143a180df5fa4387f4"><div class="ttname"><a href="classclang_1_1LookupResult.html#acb441eab117976143a180df5fa4387f4">clang::LookupResult::asUnresolvedSet</a></div><div class="ttdeci">const UnresolvedSetImpl &amp; asUnresolvedSet() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00331">Lookup.h:331</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html"><div class="ttname"><a href="classclang_1_1Stmt.html">clang::Stmt</a></div><div class="ttdoc">Stmt - This represents one statement.</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8h_source.html#l00069">Stmt.h:69</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a9b80ef69ab2198f85e72e1d5316343ba"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a9b80ef69ab2198f85e72e1d5316343ba">isWithinCatchScope</a></div><div class="ttdeci">static bool isWithinCatchScope(Scope *S)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00764">SemaCoroutine.cpp:764</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab0a62da21d44b2f33e5ab1202373be46"><div class="ttname"><a href="classclang_1_1Sema.html#ab0a62da21d44b2f33e5ab1202373be46">clang::Sema::isCompleteType</a></div><div class="ttdeci">bool isCompleteType(SourceLocation Loc, QualType T, CompleteTypeKind Kind=CompleteTypeKind::Default)</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l02591">Sema.h:2591</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_ac9bfcc699442f2093723cfcf703d9f47"><div class="ttname"><a href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">clang::Expr::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00141">Expr.h:141</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceLocation_html_a980da8d6100c0a0c3764991ca80ce6e7"><div class="ttname"><a href="classclang_1_1SourceLocation.html#a980da8d6100c0a0c3764991ca80ce6e7">clang::SourceLocation::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Return true if this is a valid SourceLocation object.</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00110">SourceLocation.h:110</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae9b55bf6070c91a893156f2ea0cc7413"><div class="ttname"><a href="classclang_1_1Sema.html#ae9b55bf6070c91a893156f2ea0cc7413">clang::Sema::BuildUnresolvedCoawaitExpr</a></div><div class="ttdeci">ExprResult BuildUnresolvedCoawaitExpr(SourceLocation KwLoc, Expr *E, UnresolvedLookupExpr *Lookup)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00825">SemaCoroutine.cpp:825</a></div></div>
<div class="ttc" id="aclassclang_1_1TypeSourceInfo_html"><div class="ttname"><a href="classclang_1_1TypeSourceInfo.html">clang::TypeSourceInfo</a></div><div class="ttdoc">A container of type source information.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06473">Type.h:6473</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionType_html_a72d2fe185651231ebe4856ad548b99b7"><div class="ttname"><a href="classclang_1_1FunctionType.html#a72d2fe185651231ebe4856ad548b99b7">clang::FunctionType::getReturnType</a></div><div class="ttdeci">QualType getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l03824">Type.h:3824</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a40fafa6f7151c64dffb2929a46ed7fef"><div class="ttname"><a href="classclang_1_1Sema.html#a40fafa6f7151c64dffb2929a46ed7fef">clang::Sema::ActOnCXXThis</a></div><div class="ttdeci">ExprResult ActOnCXXThis(SourceLocation loc)</div><div class="ttdef"><b>Definition:</b> <a href="SemaExprCXX_8cpp_source.html#l01380">SemaExprCXX.cpp:1380</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html_ae1bc6287562ce48c56562a69e7f637de"><div class="ttname"><a href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">clang::Stmt::getBeginLoc</a></div><div class="ttdeci">SourceLocation getBeginLoc() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8cpp_source.html#l00336">Stmt.cpp:336</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_a81431ba745e787fd3286457b17f7fc09"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a81431ba745e787fd3286457b17f7fc09">clang::CoroutineBodyStmt::CtorArgs::Body</a></div><div class="ttdeci">Stmt * Body</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00347">StmtCXX.h:347</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializedEntity_html"><div class="ttname"><a href="classclang_1_1InitializedEntity.html">clang::InitializedEntity</a></div><div class="ttdoc">Describes an entity that is being initialized.</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00047">Initialization.h:47</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializedEntity_html_a8c696ea091b8dc2aec11c0b71426fe9f"><div class="ttname"><a href="classclang_1_1InitializedEntity.html#a8c696ea091b8dc2aec11c0b71426fe9f">clang::InitializedEntity::InitializeVariable</a></div><div class="ttdeci">static InitializedEntity InitializeVariable(VarDecl *Var)</div><div class="ttdoc">Create the initialization entity for a variable.</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00248">Initialization.h:248</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html_a6e0e82007f58c5f5d4b716ee08f60507"><div class="ttname"><a href="classclang_1_1LookupResult.html#a6e0e82007f58c5f5d4b716ee08f60507">clang::LookupResult::getAsSingle</a></div><div class="ttdeci">DeclClass * getAsSingle() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00507">Lookup.h:507</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a786de219f69e374dd9caf0e2401ceda3"><div class="ttname"><a href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">clang::ASTContext::getTrivialTypeSourceInfo</a></div><div class="ttdeci">TypeSourceInfo * getTrivialTypeSourceInfo(QualType T, SourceLocation Loc=SourceLocation()) const</div><div class="ttdoc">Allocate a TypeSourceInfo where all locations have been initialized to a given location,...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l02971">ASTContext.cpp:2971</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a65e11b49a966983cbd84c37f165fe716"><div class="ttname"><a href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">clang::QualType::getTypePtr</a></div><div class="ttdeci">const Type * getTypePtr() const</div><div class="ttdoc">Retrieves a pointer to the underlying (unqualified) type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06502">Type.h:6502</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a20811b4b27be70758d9867cc4b125fde"><div class="ttname"><a href="classclang_1_1Sema.html#a20811b4b27be70758d9867cc4b125fde">clang::Sema::buildCoroutinePromise</a></div><div class="ttdeci">VarDecl * buildCoroutinePromise(SourceLocation Loc)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00503">SemaCoroutine.cpp:503</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1FunctionScopeInfo_html_a77ead58ca04748d6fe02f8a89bd07d3b"><div class="ttname"><a href="classclang_1_1sema_1_1FunctionScopeInfo.html#a77ead58ca04748d6fe02f8a89bd07d3b">clang::sema::FunctionScopeInfo::hasInvalidCoroutineSuspends</a></div><div class="ttdeci">bool hasInvalidCoroutineSuspends() const</div><div class="ttdef"><b>Definition:</b> <a href="ScopeInfo_8h_source.html#l00509">ScopeInfo.h:509</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a46b92fa90488bdc219831b05cd858c0b"><div class="ttname"><a href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">clang::Decl::setInvalidDecl</a></div><div class="ttdeci">void setInvalidDecl(bool Invalid=true)</div><div class="ttdoc">setInvalidDecl - Indicates the Decl had a semantic error.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00132">DeclBase.cpp:132</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a6b9c6666e2c9236f500392bb458cca49"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a6b9c6666e2c9236f500392bb458cca49">buildPromiseCall</a></div><div class="ttdeci">static ExprResult buildPromiseCall(Sema &amp;S, VarDecl *Promise, SourceLocation Loc, StringRef Name, MultiExprArg Args)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00490">SemaCoroutine.cpp:490</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66"><div class="ttname"><a href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">clang::Sema::LookupOrdinaryName</a></div><div class="ttdeci">@ LookupOrdinaryName</div><div class="ttdoc">Ordinary name lookup, which finds ordinary names (functions, variables, typedefs, etc....</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l04305">Sema.h:4305</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a1715b1d06115e5d568ed81569da5f948"><div class="ttname"><a href="classclang_1_1Sema.html#a1715b1d06115e5d568ed81569da5f948">clang::Sema::CheckCompletedCoroutineBody</a></div><div class="ttdeci">void CheckCompletedCoroutineBody(FunctionDecl *FD, Stmt *&amp;Body)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01066">SemaCoroutine.cpp:1066</a></div></div>
<div class="ttc" id="anamespaceclang_html_a56dabc7d0ce7d72b9a35f6f5c3f89370aebf74ba707605e744f1303f997b2477f"><div class="ttname"><a href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370aebf74ba707605e744f1303f997b2477f">clang::SC_None</a></div><div class="ttdeci">@ SC_None</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00235">Specifiers.h:235</a></div></div>
<div class="ttc" id="aclassclang_1_1ValueDecl_html_a673ae4e2fab42426820de8df166fef5d"><div class="ttname"><a href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">clang::ValueDecl::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00686">Decl.h:686</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a2e053da259fce726968db2c2d84b6e6b"><div class="ttname"><a href="classclang_1_1Sema.html#a2e053da259fce726968db2c2d84b6e6b">clang::Sema::BuildBuiltinCallExpr</a></div><div class="ttdeci">Expr * BuildBuiltinCallExpr(SourceLocation Loc, Builtin::ID Id, MultiExprArg CallArgs)</div><div class="ttdoc">BuildBuiltinCallExpr - Create a call to a builtin function specified by Id.</div><div class="ttdef"><b>Definition:</b> <a href="SemaExpr_8cpp_source.html#l06863">SemaExpr.cpp:6863</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html"><div class="ttname"><a href="classclang_1_1Expr.html">clang::Expr</a></div><div class="ttdoc">This represents one expression.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00109">Expr.h:109</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_ad8d73fb7d859687aa1ff5c41d51ae85e"><div class="ttname"><a href="classclang_1_1QualType.html#ad8d73fb7d859687aa1ff5c41d51ae85e">clang::QualType::isDestructedType</a></div><div class="ttdeci">DestructionKind isDestructedType() const</div><div class="ttdoc">Returns a nonzero value if objects of this type require non-trivial work to clean up after.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l01216">Type.h:1216</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a5c299f638b40962bf861528bd8965d1d"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a5c299f638b40962bf861528bd8965d1d">maybeTailCall</a></div><div class="ttdeci">static Expr * maybeTailCall(Sema &amp;S, QualType RetType, Expr *E, SourceLocation Loc)</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l00352">SemaCoroutine.cpp:352</a></div></div>
<div class="ttc" id="astructclang_1_1CoroutineBodyStmt_1_1CtorArgs_html_a1fff6fa525a2d89c87517fed9b24d9b9"><div class="ttname"><a href="structclang_1_1CoroutineBodyStmt_1_1CtorArgs.html#a1fff6fa525a2d89c87517fed9b24d9b9">clang::CoroutineBodyStmt::CtorArgs::ReturnStmtOnAllocFailure</a></div><div class="ttdeci">Stmt * ReturnStmtOnAllocFailure</div><div class="ttdef"><b>Definition:</b> <a href="StmtCXX_8h_source.html#l00357">StmtCXX.h:357</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6829f2b169c74ad544c53a8b1415061b"><div class="ttname"><a href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">clang::Sema::PP</a></div><div class="ttdeci">Preprocessor &amp; PP</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00586">Sema.h:586</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a860e3a6bb43a6e9fd8041591e199e022"><div class="ttname"><a href="classclang_1_1Sema.html#a860e3a6bb43a6e9fd8041591e199e022">clang::Sema::BuildReferenceType</a></div><div class="ttdeci">QualType BuildReferenceType(QualType T, bool LValueRef, SourceLocation Loc, DeclarationName Entity)</div><div class="ttdoc">Build a reference type.</div><div class="ttdef"><b>Definition:</b> <a href="SemaType_8cpp_source.html#l02184">SemaType.cpp:2184</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae0aa68f3673efe25b2586328383a72f1"><div class="ttname"><a href="classclang_1_1Sema.html#ae0aa68f3673efe25b2586328383a72f1">clang::Sema::MarkFunctionReferenced</a></div><div class="ttdeci">void MarkFunctionReferenced(SourceLocation Loc, FunctionDecl *Func, bool MightBeOdrUse=true)</div><div class="ttdoc">Mark a function referenced, and check whether it is odr-used (C++ [basic.def.odr]p2,...</div><div class="ttdef"><b>Definition:</b> <a href="SemaExpr_8cpp_source.html#l17551">SemaExpr.cpp:17551</a></div></div>
<div class="ttc" id="astructclang_1_1DeclarationNameInfo_html"><div class="ttname"><a href="structclang_1_1DeclarationNameInfo.html">clang::DeclarationNameInfo</a></div><div class="ttdoc">DeclarationNameInfo - A collector data type for bundling together a DeclarationName and the correspnd...</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00756">DeclarationName.h:756</a></div></div>
<div class="ttc" id="aSemaCoroutine_8cpp_html_a1c83a80962a1db82c60c66934bdd615a"><div class="ttname"><a href="SemaCoroutine_8cpp.html#a1c83a80962a1db82c60c66934bdd615a">castForMoving</a></div><div class="ttdeci">static Expr * castForMoving(Sema &amp;S, Expr *E, QualType T=QualType())</div><div class="ttdef"><b>Definition:</b> <a href="SemaCoroutine_8cpp_source.html#l01602">SemaCoroutine.cpp:1602</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ab95c29a19de7d1c1e967d59cdbac2dcc"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ab95c29a19de7d1c1e967d59cdbac2dcc">clang::FunctionDecl::parameters</a></div><div class="ttdeci">ArrayRef&lt; ParmVarDecl * &gt; parameters() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02487">Decl.h:2487</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a9ac934b2f7ae95704682dc44da1f0867"><div class="ttname"><a href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">clang::Decl::getLocation</a></div><div class="ttdeci">SourceLocation getLocation() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00424">DeclBase.h:424</a></div></div>
<div class="ttc" id="aclassclang_1_1UnresolvedSetImpl_html_ad1e4dde3cd343da5f9918eb0caedd0a7"><div class="ttname"><a href="classclang_1_1UnresolvedSetImpl.html#ad1e4dde3cd343da5f9918eb0caedd0a7">clang::UnresolvedSetImpl::append</a></div><div class="ttdeci">void append(iterator I, iterator E)</div><div class="ttdef"><b>Definition:</b> <a href="UnresolvedSet_8h_source.html#l00129">UnresolvedSet.h:129</a></div></div>
<div class="ttc" id="aclassclang_1_1NamespaceDecl_html"><div class="ttname"><a href="classclang_1_1NamespaceDecl.html">clang::NamespaceDecl</a></div><div class="ttdoc">Represent a C++ namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00541">Decl.h:541</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html"><div class="ttname"><a href="classclang_1_1FunctionDecl.html">clang::FunctionDecl</a></div><div class="ttdoc">Represents a function declaration or definition.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01856">Decl.h:1856</a></div></div>
<div class="ttc" id="aclassclang_1_1CallExpr_html"><div class="ttname"><a href="classclang_1_1CallExpr.html">clang::CallExpr</a></div><div class="ttdoc">CallExpr - Represents a function call (C99 6.5.2.2, C++ [expr.call]).</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l02853">Expr.h:2853</a></div></div>
<div class="ttc" id="aStmtCXX_8h_html"><div class="ttname"><a href="StmtCXX_8h.html">StmtCXX.h</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html_a13ff07fbf96cd12df161dda1b012ae43"><div class="ttname"><a href="classclang_1_1LookupResult.html#a13ff07fbf96cd12df161dda1b012ae43">clang::LookupResult::getRepresentativeDecl</a></div><div class="ttdeci">NamedDecl * getRepresentativeDecl() const</div><div class="ttdoc">Fetches a representative decl. Useful for lazy diagnostics.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00524">Lookup.h:524</a></div></div>
<div class="ttc" id="aclassclang_1_1Preprocessor_html_af79802fc0829494fa77b7af995fda185"><div class="ttname"><a href="classclang_1_1Preprocessor.html#af79802fc0829494fa77b7af995fda185">clang::Preprocessor::getIdentifierInfo</a></div><div class="ttdeci">IdentifierInfo * getIdentifierInfo(StringRef Name) const</div><div class="ttdoc">Return information about the specified preprocessor identifier token.</div><div class="ttdef"><b>Definition:</b> <a href="Preprocessor_8h_source.html#l01284">Preprocessor.h:1284</a></div></div>
<div class="ttc" id="aclassclang_1_1ReturnStmt_html"><div class="ttname"><a href="classclang_1_1ReturnStmt.html">clang::ReturnStmt</a></div><div class="ttdoc">ReturnStmt - This represents a return, optionally of an expression: return; return 4;.</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8h_source.html#l02765">Stmt.h:2765</a></div></div>
<div class="ttc" id="aCoroutineStmtBuilder_8h_html"><div class="ttname"><a href="CoroutineStmtBuilder_8h.html">CoroutineStmtBuilder.h</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_a4e23202e164f8d6d14a833023c3711efaabe1bb053184a34ae148757d76c68650"><div class="ttname"><a href="classclang_1_1VarDecl.html#a4e23202e164f8d6d14a833023c3711efaabe1bb053184a34ae148757d76c68650">clang::VarDecl::CallInit</a></div><div class="ttdeci">@ CallInit</div><div class="ttdoc">Call-style initialization (C++98)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00883">Decl.h:883</a></div></div>
<div class="ttc" id="anamespaceclang_html_a72e08dd7978003227c1191013023a22d"><div class="ttname"><a href="namespaceclang.html#a72e08dd7978003227c1191013023a22d">clang::StmtError</a></div><div class="ttdeci">StmtResult StmtError()</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00279">Ownership.h:279</a></div></div>
<div class="ttc" id="aInitialization_8h_html"><div class="ttname"><a href="Initialization_8h.html">Initialization.h</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html_a290cbceee004310e1a43bb8cd9ab25de"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">clang::CXXMethodDecl::getParent</a></div><div class="ttdeci">const CXXRecordDecl * getParent() const</div><div class="ttdoc">Return the parent of this method declaration, which is the class in which this method is defined.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l02083">DeclCXX.h:2083</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html">clang::CXXMethodDecl</a></div><div class="ttdoc">Represents a static or instance method of a struct/union/class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l01968">DeclCXX.h:1968</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html_a9623d9886f48b34ca59ef0451e713d18"><div class="ttname"><a href="classclang_1_1LookupResult.html#a9623d9886f48b34ca59ef0451e713d18">clang::LookupResult::isAmbiguous</a></div><div class="ttdeci">bool isAmbiguous() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00301">Lookup.h:301</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aeab3740be38d287a816f3a2a993b9ab2"><div class="ttname"><a href="classclang_1_1Sema.html#aeab3740be38d287a816f3a2a993b9ab2">clang::Sema::clearDelayedTypo</a></div><div class="ttdeci">void clearDelayedTypo(TypoExpr *TE)</div><div class="ttdoc">Clears the state of the given TypoExpr.</div><div class="ttdef"><b>Definition:</b> <a href="SemaLookup_8cpp_source.html#l05596">SemaLookup.cpp:5596</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_af67e1a1d24dcc51093b95dbcf68d4288"><div class="ttname"><a href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">clang::Decl::getDeclContext</a></div><div class="ttdeci">DeclContext * getDeclContext()</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00433">DeclBase.h:433</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 4 2022 01:35:40 for clang by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
