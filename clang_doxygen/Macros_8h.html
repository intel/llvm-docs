<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: lib/Format/Macros.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">clang
   &#160;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_622072bda297c56c77780b6a16b781a0.html">Format</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">Macros.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="Encoding_8h_source.html">Encoding.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FormatToken_8h_source.html">FormatToken.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/ArrayRef.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SmallVector.h&quot;</code><br />
<code>#include &quot;llvm/ADT/StringRef.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Macros.h:</div>
<div class="dyncontent">
<div class="center"><img src="Macros_8h__incl.png" border="0" usemap="#lib_2Format_2Macros_8h" alt=""/></div>
<map name="lib_2Format_2Macros_8h" id="lib_2Format_2Macros_8h">
<area shape="rect" title=" " alt="" coords="2403,5,2553,32"/>
<area shape="rect" title=" " alt="" coords="982,490,1041,517"/>
<area shape="rect" title=" " alt="" coords="4279,80,4403,107"/>
<area shape="rect" title=" " alt="" coords="452,490,515,517"/>
<area shape="rect" href="Encoding_8h.html" title=" " alt="" coords="227,401,321,427"/>
<area shape="rect" title=" " alt="" coords="2759,572,2933,599"/>
<area shape="rect" title=" " alt="" coords="1797,490,1954,517"/>
<area shape="rect" href="FormatToken_8h.html" title=" " alt="" coords="2670,80,2787,107"/>
<area shape="rect" title=" " alt="" coords="2439,319,2594,345"/>
<area shape="rect" href="LLVM_8h.html" title=" " alt="" coords="1626,490,1773,517"/>
<area shape="rect" title=" " alt="" coords="204,490,400,517"/>
<area shape="rect" title=" " alt="" coords="5,490,180,517"/>
<area shape="rect" title=" " alt="" coords="1526,572,1697,599"/>
<area shape="rect" title=" " alt="" coords="1721,572,1853,599"/>
<area shape="rect" href="IdentifierTable_8h.html" title=" " alt="" coords="3161,401,3365,427"/>
<area shape="rect" title=" " alt="" coords="4080,572,4279,599"/>
<area shape="rect" href="OperatorPrecedence_8h.html" title=" " alt="" coords="3453,237,3697,263"/>
<area shape="rect" href="Format_8h.html" title=" " alt="" coords="1147,155,1316,181"/>
<area shape="rect" href="Lexer_8h.html" title=" " alt="" coords="2736,155,2871,181"/>
<area shape="rect" title=" " alt="" coords="2495,155,2573,181"/>
<area shape="rect" title=" " alt="" coords="2597,155,2711,181"/>
<area shape="rect" href="TokenKinds_8h.html" title=" " alt="" coords="3967,490,4152,517"/>
<area shape="rect" title=" " alt="" coords="3843,572,4035,599"/>
<area shape="rect" title=" " alt="" coords="3718,490,3891,517"/>
<area shape="rect" title=" " alt="" coords="2619,490,2783,517"/>
<area shape="rect" title=" " alt="" coords="2909,490,3087,517"/>
<area shape="rect" title=" " alt="" coords="3111,483,3293,524"/>
<area shape="rect" title=" " alt="" coords="3317,490,3508,517"/>
<area shape="rect" title=" " alt="" coords="2441,490,2510,517"/>
<area shape="rect" title=" " alt="" coords="3532,490,3603,517"/>
<area shape="rect" title=" " alt="" coords="2350,490,2417,517"/>
<area shape="rect" title=" " alt="" coords="3627,490,3694,517"/>
<area shape="rect" title=" " alt="" coords="2535,490,2595,517"/>
<area shape="rect" title=" " alt="" coords="2341,572,2519,599"/>
<area shape="rect" href="LangOptions_8h.html" title=" " alt="" coords="1307,319,1500,345"/>
<area shape="rect" href="Replacement_8h.html" title=" " alt="" coords="1485,229,1626,271"/>
<area shape="rect" title=" " alt="" coords="999,319,1107,345"/>
<area shape="rect" href="IncludeStyle_8h.html" title=" " alt="" coords="395,393,571,435"/>
<area shape="rect" title=" " alt="" coords="1090,237,1253,263"/>
<area shape="rect" title=" " alt="" coords="826,237,1015,263"/>
<area shape="rect" href="CommentOptions_8h.html" title=" " alt="" coords="697,401,923,427"/>
<area shape="rect" href="LangStandard_8h.html" title=" " alt="" coords="1372,401,1573,427"/>
<area shape="rect" href="ObjCRuntime_8h.html" title=" " alt="" coords="1099,401,1297,427"/>
<area shape="rect" href="Sanitizers_8h.html" title=" " alt="" coords="1699,401,1875,427"/>
<area shape="rect" href="TargetCXXABI_8h.html" title=" " alt="" coords="1900,401,2101,427"/>
<area shape="rect" href="Visibility_8h.html" title=" " alt="" coords="2564,401,2731,427"/>
<area shape="rect" href="SourceLocation_8h.html" title=" " alt="" coords="2278,401,2489,427"/>
<area shape="rect" title=" " alt="" coords="1948,319,2101,345"/>
<area shape="rect" href="PreprocessorLexer_8h.html" title=" " alt="" coords="2841,237,3059,263"/>
<area shape="rect" href="Token_8h.html" title=" " alt="" coords="2669,319,2807,345"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="Macros_8h__dep__incl.png" border="0" usemap="#lib_2Format_2Macros_8hdep" alt=""/></div>
<map name="lib_2Format_2Macros_8hdep" id="lib_2Format_2Macros_8hdep">
<area shape="rect" title=" " alt="" coords="39,5,190,32"/>
<area shape="rect" href="MacroExpander_8cpp.html" title=" " alt="" coords="5,80,224,107"/>
</map>
</div>
</div>
<p><a href="Macros_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclang_1_1format_1_1MacroExpander.html">clang::format::MacroExpander</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a set of macro definitions as strings and allows expanding calls to those macros.  <a href="classclang_1_1format_1_1MacroExpander.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacellvm"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html">llvm</a></td></tr>
<tr class="memdesc:namespacellvm"><td class="mdescLeft">&#160;</td><td class="mdescRight">YAML serialization mapping. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceclang"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceclang.html">clang</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceclang_1_1format"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceclang_1_1format.html">clang::format</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the main building blocks of macro support in clang-format.</p>
<p>In order to not violate the requirement that clang-format can format files in isolation, clang-format's macro support uses expansions users provide as part of clang-format's style configuration.</p>
<p>Macro definitions are of the form "MACRO(p1, p2)=p1 + p2", but only support one level of expansion (</p><dl class="section see"><dt>See also</dt><dd>MacroExpander for a full description of what is supported).</dd></dl>
<p>As part of parsing, clang-format uses the MacroExpander to expand the spelled token streams into expanded token streams when it encounters a macro call. The UnwrappedLineParser continues to parse UnwrappedLines from the expanded token stream. After the expanded unwrapped lines are parsed, the MacroUnexpander matches the spelled token stream into unwrapped lines that best resemble the structure of the expanded unwrapped lines.</p>
<p>When formatting, clang-format formats the expanded unwrapped lines first, determining the token types. Next, it formats the spelled unwrapped lines, keeping the token types fixed, while allowing other formatting decisions to change. </p>

<p class="definition">Definition in file <a class="el" href="Macros_8h_source.html">Macros.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 4 2022 01:35:59 for clang by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
