<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: lib/StaticAnalyzer/Checkers/NSErrorChecker.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">clang
   &#160;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_5323669f7aaa7f9ff43db9a3c9e1bf2d.html">StaticAnalyzer</a></li><li class="navelem"><a class="el" href="dir_98a0d9a5a3820cce728a787f3e823141.html">Checkers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">NSErrorChecker.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="NSErrorChecker_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=- NSErrorChecker.cpp - Coding conventions for uses of NSError -*- C++ -*-==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//  This file defines a CheckNSError, a flow-insensitive check</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//  that determines if an Objective-C class interface correctly returns</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//  a non-void return type.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//  File under feature request PR 2600.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BuiltinCheckerRegistration_8h.html">clang/StaticAnalyzer/Checkers/BuiltinCheckerRegistration.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Decl_8h.html">clang/AST/Decl.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DeclObjC_8h.html">clang/AST/DeclObjC.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BugType_8h.html">clang/StaticAnalyzer/Core/BugReporter/BugType.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Checker_8h.html">clang/StaticAnalyzer/Core/Checker.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CheckerManager_8h.html">clang/StaticAnalyzer/Core/CheckerManager.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CheckerContext_8h.html">clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProgramStateTrait_8h.html">clang/StaticAnalyzer/Core/PathSensitive/ProgramStateTrait.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/SmallString.h&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;llvm/Support/raw_ostream.h&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceclang.html">clang</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using namespace </span>ento;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="NSErrorChecker_8cpp.html#a75c87d898e3d1575c76f11974197ec63">IsNSError</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T, <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="NSErrorChecker_8cpp.html#a1ebda1d1e25ca33194d605461f5c7b60">IsCFError</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T, <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// NSErrorMethodChecker</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">class </span>NSErrorMethodChecker</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    : <span class="keyword">public</span> Checker&lt; check::ASTDecl&lt;ObjCMethodDecl&gt; &gt; {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  NSErrorMethodChecker() : II(nullptr) {}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordtype">void</span> checkASTDecl(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *D,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                    AnalysisManager &amp;mgr, BugReporter &amp;BR) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keywordtype">void</span> NSErrorMethodChecker::checkASTDecl(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *D,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                        AnalysisManager &amp;mgr,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                        BugReporter &amp;BR)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#abfa51d837c806bdbf4e12505757bf042">isThisDeclarationADefinition</a>())</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#ad8e7d64eefce9e621eb2ccc8562d564d">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>())</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (!II)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    II = &amp;D-&gt;<a class="code" href="classclang_1_1Decl.html#a213239e747fb0b3a0cacd86267339af2">getASTContext</a>().<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;NSError&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">bool</span> hasNSError = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *I : D-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#ae4b89841e4980f344a7ae9249e15b7f1">parameters</a>())  {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="NSErrorChecker_8cpp.html#a75c87d898e3d1575c76f11974197ec63">IsNSError</a>(I-&gt;getType(), II)) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      hasNSError = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">if</span> (hasNSError) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <span class="stringliteral">&quot;Method accepting NSError** &quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="stringliteral">&quot;should have a non-void return value to indicate whether or not an &quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="stringliteral">&quot;error occurred&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    PathDiagnosticLocation L =</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="classclang_1_1ento_1_1PathDiagnosticLocation.html#ad5e9747a36878bcaaf1c734e417f7fd6">PathDiagnosticLocation::create</a>(D, BR.getSourceManager());</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    BR.EmitBasicReport(D, <span class="keyword">this</span>, <span class="stringliteral">&quot;Bad return type when passing NSError**&quot;</span>,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                       <span class="stringliteral">&quot;Coding conventions (Apple)&quot;</span>, err, L);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// CFErrorFunctionChecker</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">class </span>CFErrorFunctionChecker</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    : <span class="keyword">public</span> Checker&lt; check::ASTDecl&lt;FunctionDecl&gt; &gt; {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  CFErrorFunctionChecker() : II(nullptr) {}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">void</span> checkASTDecl(<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *D,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    AnalysisManager &amp;mgr, BugReporter &amp;BR) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;};</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="NSErrorChecker_8cpp.html#a8a8db39daca3a012e364f5bb98ca4bb9">   98</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="NSErrorChecker_8cpp.html#a8a8db39daca3a012e364f5bb98ca4bb9">hasReservedReturnType</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *D) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CXXConstructorDecl&gt;(D))</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// operators delete and delete[] are required to have &#39;void&#39; return type</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keyword">auto</span> OperatorKind = D-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ac0027637798e850bd7f6c5f823ca6362">getOverloadedOperator</a>();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> OperatorKind == OO_Delete || OperatorKind == OO_Array_Delete;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keywordtype">void</span> CFErrorFunctionChecker::checkASTDecl(<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *D,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                        AnalysisManager &amp;mgr,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                        BugReporter &amp;BR)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a4aa9bbb6c766b4e682592d9f9f631f4a">doesThisDeclarationHaveABody</a>())</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>())</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="NSErrorChecker_8cpp.html#a8a8db39daca3a012e364f5bb98ca4bb9">hasReservedReturnType</a>(D))</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">if</span> (!II)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    II = &amp;D-&gt;<a class="code" href="classclang_1_1Decl.html#a213239e747fb0b3a0cacd86267339af2">getASTContext</a>().<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;CFErrorRef&quot;</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordtype">bool</span> hasCFError = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> I : D-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ab95c29a19de7d1c1e967d59cdbac2dcc">parameters</a>())  {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="NSErrorChecker_8cpp.html#a1ebda1d1e25ca33194d605461f5c7b60">IsCFError</a>(I-&gt;getType(), II)) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      hasCFError = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span> (hasCFError) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <span class="stringliteral">&quot;Function accepting CFErrorRef* &quot;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="stringliteral">&quot;should have a non-void return value to indicate whether or not an &quot;</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="stringliteral">&quot;error occurred&quot;</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    PathDiagnosticLocation L =</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="classclang_1_1ento_1_1PathDiagnosticLocation.html#ad5e9747a36878bcaaf1c734e417f7fd6">PathDiagnosticLocation::create</a>(D, BR.getSourceManager());</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    BR.EmitBasicReport(D, <span class="keyword">this</span>, <span class="stringliteral">&quot;Bad return type when passing CFErrorRef*&quot;</span>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                       <span class="stringliteral">&quot;Coding conventions (Apple)&quot;</span>, err, L);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">// NSOrCFErrorDerefChecker</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keyword">class </span>NSErrorDerefBug : <span class="keyword">public</span> BugType {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  NSErrorDerefBug(<span class="keyword">const</span> CheckerNameRef Checker)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      : BugType(Checker, <span class="stringliteral">&quot;NSError** null dereference&quot;</span>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="stringliteral">&quot;Coding conventions (Apple)&quot;</span>) {}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;};</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">class </span>CFErrorDerefBug : <span class="keyword">public</span> BugType {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  CFErrorDerefBug(<span class="keyword">const</span> CheckerNameRef Checker)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      : BugType(Checker, <span class="stringliteral">&quot;CFErrorRef* null dereference&quot;</span>,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="stringliteral">&quot;Coding conventions (Apple)&quot;</span>) {}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;};</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="keyword">class </span>NSOrCFErrorDerefChecker</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    : <span class="keyword">public</span> Checker&lt; check::Location,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        check::Event&lt;ImplicitNullDerefEvent&gt; &gt; {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *NSErrorII, *CFErrorII;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keyword">mutable</span> std::unique_ptr&lt;NSErrorDerefBug&gt; NSBT;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keyword">mutable</span> std::unique_ptr&lt;CFErrorDerefBug&gt; CFBT;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  DefaultBool ShouldCheckNSError, ShouldCheckCFError;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  CheckerNameRef NSErrorName, CFErrorName;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  NSOrCFErrorDerefChecker() : NSErrorII(nullptr), CFErrorII(nullptr) {}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordtype">void</span> checkLocation(SVal loc, <span class="keywordtype">bool</span> isLoad, <span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *S,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                     CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordtype">void</span> checkEvent(ImplicitNullDerefEvent event) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;};</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="NSErrorChecker_8cpp.html#ac1c8264e2d937f5ab48fa5f4270359c1">  179</a></span>&#160;<span class="keyword">typedef</span> llvm::ImmutableMap&lt;SymbolRef, unsigned&gt; <a class="code" href="NSErrorChecker_8cpp.html#ac1c8264e2d937f5ab48fa5f4270359c1">ErrorOutFlag</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<a class="code" href="ProgramStateTrait_8h.html#ae4cddb54383cd702a045d7c61b009147">REGISTER_TRAIT_WITH_PROGRAMSTATE</a>(NSErrorOut, <a class="code" href="NSErrorChecker_8cpp.html#ac1c8264e2d937f5ab48fa5f4270359c1">ErrorOutFlag</a>)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<a class="code" href="ProgramStateTrait_8h.html#ae4cddb54383cd702a045d7c61b009147">REGISTER_TRAIT_WITH_PROGRAMSTATE</a>(CFErrorOut, <a class="code" href="NSErrorChecker_8cpp.html#ac1c8264e2d937f5ab48fa5f4270359c1">ErrorOutFlag</a>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="NSErrorChecker_8cpp.html#a10a81133bab1df6041d76888afc6dbb0">  184</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="NSErrorChecker_8cpp.html#a10a81133bab1df6041d76888afc6dbb0">hasFlag</a>(SVal val, <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> sym = val.getAsSymbol())</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> *attachedFlags = <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>-&gt;get&lt;T&gt;(sym))</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">return</span> *attachedFlags;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="NSErrorChecker_8cpp.html#a4dfdf71f9e0f733f22011ad59f0e7175">  192</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="NSErrorChecker_8cpp.html#a4dfdf71f9e0f733f22011ad59f0e7175">setFlag</a>(<a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>, SVal val, CheckerContext &amp;C) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// We tag the symbol that the SVal wraps.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> sym = val.getAsSymbol())</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    C.addTransition(<a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>-&gt;set&lt;T&gt;(sym, <span class="keyword">true</span>));</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="NSErrorChecker_8cpp.html#a5b73e148a6756ba535fbc96f027b7ff6">  198</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="NSErrorChecker_8cpp.html#a5b73e148a6756ba535fbc96f027b7ff6">parameterTypeFromSVal</a>(SVal val, CheckerContext &amp;C) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1StackFrameContext.html">StackFrameContext</a> * SFC = C.getStackFrame();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Optional.html">Optional&lt;loc::MemRegionVal&gt;</a> <a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a> = val.getAs&lt;loc::MemRegionVal&gt;()) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keyword">const</span> MemRegion* R = <a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a>-&gt;getRegion();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> VarRegion *VR = R-&gt;getAs&lt;VarRegion&gt;())</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> StackArgumentsSpaceRegion *</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;          stackReg = dyn_cast&lt;StackArgumentsSpaceRegion&gt;(VR-&gt;getMemorySpace()))</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">if</span> (stackReg-&gt;getStackFrame() == SFC)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;          <span class="keywordflow">return</span> VR-&gt;getValueType();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keywordtype">void</span> NSOrCFErrorDerefChecker::checkLocation(SVal loc, <span class="keywordtype">bool</span> isLoad,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *S,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                            CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (!isLoad)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> (loc.isUndef() || !loc.getAs&lt;Loc&gt;())</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// If we are loading from NSError**/CFErrorRef* parameter, mark the resulting</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// SVal so that we can later check it when handling the</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// ImplicitNullDerefEvent event.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// FIXME: Cumbersome! Maybe add hook at construction of SVals at start of</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// function ?</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> parmT = <a class="code" href="NSErrorChecker_8cpp.html#a5b73e148a6756ba535fbc96f027b7ff6">parameterTypeFromSVal</a>(loc, C);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (parmT.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">if</span> (!NSErrorII)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    NSErrorII = &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;NSError&quot;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span> (!CFErrorII)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    CFErrorII = &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;CFErrorRef&quot;</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (ShouldCheckNSError &amp;&amp; <a class="code" href="NSErrorChecker_8cpp.html#a75c87d898e3d1575c76f11974197ec63">IsNSError</a>(parmT, NSErrorII)) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    setFlag&lt;NSErrorOut&gt;(<a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>, <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>-&gt;getSVal(loc.castAs&lt;Loc&gt;()), C);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (ShouldCheckCFError &amp;&amp; <a class="code" href="NSErrorChecker_8cpp.html#a1ebda1d1e25ca33194d605461f5c7b60">IsCFError</a>(parmT, CFErrorII)) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    setFlag&lt;CFErrorOut&gt;(<a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>, <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>-&gt;getSVal(loc.castAs&lt;Loc&gt;()), C);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keywordtype">void</span> NSOrCFErrorDerefChecker::checkEvent(ImplicitNullDerefEvent event)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (event.IsLoad)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  SVal loc = <span class="keyword">event</span>.Location;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a> = <span class="keyword">event</span>.SinkNode-&gt;getState();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  BugReporter &amp;BR = *<span class="keyword">event</span>.BR;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordtype">bool</span> isNSError = hasFlag&lt;NSErrorOut&gt;(loc, <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordtype">bool</span> isCFError = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (!isNSError)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    isCFError = hasFlag&lt;CFErrorOut&gt;(loc, <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (!(isNSError || isCFError))</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// Storing to possible null NSError/CFErrorRef out parameter.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;128&gt;</a> Buf;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  llvm::raw_svector_ostream os(Buf);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;Potential null dereference.  According to coding standards &quot;</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  os &lt;&lt; (isNSError</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;         ? <span class="stringliteral">&quot;in &#39;Creating and Returning NSError Objects&#39; the parameter&quot;</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;         : <span class="stringliteral">&quot;documented in CoreFoundation/CFError.h the parameter&quot;</span>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  os  &lt;&lt; <span class="stringliteral">&quot; may be null&quot;</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  BugType *<a class="code" href="StaticAnalyzer_2README_8txt.html#a739fa163937620532e9b87669f9b0843">bug</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (isNSError) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (!NSBT)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      NSBT.reset(<span class="keyword">new</span> NSErrorDerefBug(NSErrorName));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="StaticAnalyzer_2README_8txt.html#a739fa163937620532e9b87669f9b0843">bug</a> = NSBT.get();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (!CFBT)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      CFBT.reset(<span class="keyword">new</span> CFErrorDerefBug(CFErrorName));</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="StaticAnalyzer_2README_8txt.html#a739fa163937620532e9b87669f9b0843">bug</a> = CFBT.get();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  BR.emitReport(</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      std::make_unique&lt;PathSensitiveBugReport&gt;(*<a class="code" href="StaticAnalyzer_2README_8txt.html#a739fa163937620532e9b87669f9b0843">bug</a>, os.str(), event.SinkNode));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="NSErrorChecker_8cpp.html#a75c87d898e3d1575c76f11974197ec63">  291</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="NSErrorChecker_8cpp.html#a75c87d898e3d1575c76f11974197ec63">IsNSError</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T, <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1PointerType.html">PointerType</a>* PPT = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">if</span> (!PPT)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>* PT =</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    PPT-&gt;<a class="code" href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span> (!PT)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a> = PT-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">getInterfaceDecl</a>();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// FIXME: Can ID ever be NULL?</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">return</span> II == <a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>-&gt;getIdentifier();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="NSErrorChecker_8cpp.html#a1ebda1d1e25ca33194d605461f5c7b60">  312</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="NSErrorChecker_8cpp.html#a1ebda1d1e25ca33194d605461f5c7b60">IsCFError</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T, <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1PointerType.html">PointerType</a>* PPT = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (!PPT) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1TypedefType.html">TypedefType</a>* TT = PPT-&gt;<a class="code" href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1TypedefType.html">TypedefType</a>&gt;();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">if</span> (!TT) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">return</span> TT-&gt;<a class="code" href="classclang_1_1TypedefType.html#a54b85a92a72238dc97eb4e172d586330">getDecl</a>()-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>() == II;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="keywordtype">void</span> ento::registerNSOrCFErrorDerefChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  mgr.registerChecker&lt;NSOrCFErrorDerefChecker&gt;();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterNSOrCFErrorDerefChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keywordtype">void</span> ento::registerNSErrorChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  mgr.registerChecker&lt;NSErrorMethodChecker&gt;();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  NSOrCFErrorDerefChecker *checker = mgr.getChecker&lt;NSOrCFErrorDerefChecker&gt;();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  checker-&gt;ShouldCheckNSError = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  checker-&gt;NSErrorName = mgr.getCurrentCheckerName();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterNSErrorChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="keywordtype">void</span> ento::registerCFErrorChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  mgr.registerChecker&lt;CFErrorFunctionChecker&gt;();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  NSOrCFErrorDerefChecker *checker = mgr.getChecker&lt;NSOrCFErrorDerefChecker&gt;();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  checker-&gt;ShouldCheckCFError = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  checker-&gt;CFErrorName = mgr.getCurrentCheckerName();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterCFErrorChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html">clang::ObjCInterfaceDecl</a></div><div class="ttdoc">Represents an ObjC class declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01150">DeclObjC.h:1150</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a4aa9bbb6c766b4e682592d9f9f631f4a"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a4aa9bbb6c766b4e682592d9f9f631f4a">clang::FunctionDecl::doesThisDeclarationHaveABody</a></div><div class="ttdeci">bool doesThisDeclarationHaveABody() const</div><div class="ttdoc">Returns whether this specific declaration of the function has a body.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02163">Decl.h:2163</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a213239e747fb0b3a0cacd86267339af2"><div class="ttname"><a href="classclang_1_1Decl.html#a213239e747fb0b3a0cacd86267339af2">clang::Decl::getASTContext</a></div><div class="ttdeci">ASTContext &amp; getASTContext() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00414">DeclBase.cpp:414</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a2935d37297596c57aa383de101a55030"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">clang::FunctionDecl::getReturnType</a></div><div class="ttdeci">QualType getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02541">Decl.h:2541</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierTable_html_aea14376d325400caa8a8183d14a02f39"><div class="ttname"><a href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">clang::IdentifierTable::get</a></div><div class="ttdeci">IdentifierInfo &amp; get(StringRef Name)</div><div class="ttdoc">Return the identifier token info for the specified named identifier.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00596">IdentifierTable.h:596</a></div></div>
<div class="ttc" id="aNSErrorChecker_8cpp_html_a10a81133bab1df6041d76888afc6dbb0"><div class="ttname"><a href="NSErrorChecker_8cpp.html#a10a81133bab1df6041d76888afc6dbb0">hasFlag</a></div><div class="ttdeci">static bool hasFlag(SVal val, ProgramStateRef state)</div><div class="ttdef"><b>Definition:</b> <a href="NSErrorChecker_8cpp_source.html#l00184">NSErrorChecker.cpp:184</a></div></div>
<div class="ttc" id="aNSErrorChecker_8cpp_html_a4dfdf71f9e0f733f22011ad59f0e7175"><div class="ttname"><a href="NSErrorChecker_8cpp.html#a4dfdf71f9e0f733f22011ad59f0e7175">setFlag</a></div><div class="ttdeci">static void setFlag(ProgramStateRef state, SVal val, CheckerContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="NSErrorChecker_8cpp_source.html#l00192">NSErrorChecker.cpp:192</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a4e45a121820f0d80d8910093dd33a1df"><div class="ttname"><a href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">clang::ento::ProgramStateRef</a></div><div class="ttdeci">IntrusiveRefCntPtr&lt; const ProgramState &gt; ProgramStateRef</div><div class="ttdef"><b>Definition:</b> <a href="ProgramState__Fwd_8h_source.html#l00037">ProgramState_Fwd.h:37</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html"><div class="ttname"><a href="classclang_1_1QualType.html">clang::QualType</a></div><div class="ttdoc">A (possibly-)qualified type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00675">Type.h:675</a></div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html_a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e"><div class="ttname"><a href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">AttributeLangSupport::C</a></div><div class="ttdeci">@ C</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00054">SemaDeclAttr.cpp:54</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a7b23a067324d14c5d493837dbc4fd8ca"><div class="ttname"><a href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">clang::ento::SymbolRef</a></div><div class="ttdeci">const SymExpr * SymbolRef</div><div class="ttdef"><b>Definition:</b> <a href="SymExpr_8h_source.html#l00110">SymExpr.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00040">LLVM.h:40</a></div></div>
<div class="ttc" id="aclassclang_1_1StackFrameContext_html"><div class="ttname"><a href="classclang_1_1StackFrameContext.html">clang::StackFrameContext</a></div><div class="ttdoc">It represents a stack frame of the call stack (based on CallEvent).</div><div class="ttdef"><b>Definition:</b> <a href="AnalysisDeclContext_8h_source.html#l00295">AnalysisDeclContext.h:295</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a08a8d6c5fb67e56ace4f2ce305701781"><div class="ttname"><a href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">clang::Type::isVoidType</a></div><div class="ttdeci">bool isVoidType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07057">Type.h:7057</a></div></div>
<div class="ttc" id="anamespaceclang_1_1tooling_html_a4ffee664435dba78b2225a5457619b53"><div class="ttname"><a href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">clang::tooling::X</a></div><div class="ttdeci">static ToolExecutorPluginRegistry::Add&lt; AllTUsToolExecutorPlugin &gt; X(&quot;all-TUs&quot;, &quot;Runs FrontendActions on all TUs in the compilation database. &quot; &quot;Tool results are stored in memory.&quot;)</div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_ae96487a9d5ac8396d8e7e6623e089e88"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">clang::ObjCObjectPointerType::getInterfaceDecl</a></div><div class="ttdeci">ObjCInterfaceDecl * getInterfaceDecl() const</div><div class="ttdoc">If this pointer points to an Objective @interface type, gets the declaration for that interface.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06202">Type.h:6202</a></div></div>
<div class="ttc" id="aNSErrorChecker_8cpp_html_a75c87d898e3d1575c76f11974197ec63"><div class="ttname"><a href="NSErrorChecker_8cpp.html#a75c87d898e3d1575c76f11974197ec63">IsNSError</a></div><div class="ttdeci">static bool IsNSError(QualType T, IdentifierInfo *II)</div><div class="ttdef"><b>Definition:</b> <a href="NSErrorChecker_8cpp_source.html#l00291">NSErrorChecker.cpp:291</a></div></div>
<div class="ttc" id="aProgramStateTrait_8h_html_ae4cddb54383cd702a045d7c61b009147"><div class="ttname"><a href="ProgramStateTrait_8h.html#ae4cddb54383cd702a045d7c61b009147">REGISTER_TRAIT_WITH_PROGRAMSTATE</a></div><div class="ttdeci">#define REGISTER_TRAIT_WITH_PROGRAMSTATE(Name, Type)</div><div class="ttdoc">Declares a program state trait for type Type called Name, and introduce a type named NameTy.</div><div class="ttdef"><b>Definition:</b> <a href="ProgramStateTrait_8h_source.html#l00033">ProgramStateTrait.h:33</a></div></div>
<div class="ttc" id="aDecl_8h_html"><div class="ttname"><a href="Decl_8h.html">Decl.h</a></div></div>
<div class="ttc" id="aclassclang_1_1TypedefType_html"><div class="ttname"><a href="classclang_1_1TypedefType.html">clang::TypedefType</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04407">Type.h:4407</a></div></div>
<div class="ttc" id="aDeclObjC_8h_html"><div class="ttname"><a href="DeclObjC_8h.html">DeclObjC.h</a></div></div>
<div class="ttc" id="aBuiltinCheckerRegistration_8h_html"><div class="ttname"><a href="BuiltinCheckerRegistration_8h.html">BuiltinCheckerRegistration.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ento_1_1PathDiagnosticLocation_html_ad5e9747a36878bcaaf1c734e417f7fd6"><div class="ttname"><a href="classclang_1_1ento_1_1PathDiagnosticLocation.html#ad5e9747a36878bcaaf1c734e417f7fd6">clang::ento::PathDiagnosticLocation::create</a></div><div class="ttdeci">static PathDiagnosticLocation create(const Decl *D, const SourceManager &amp;SM)</div><div class="ttdoc">Create a location corresponding to the given declaration.</div><div class="ttdef"><b>Definition:</b> <a href="PathDiagnostic_8h_source.html#l00248">PathDiagnostic.h:248</a></div></div>
<div class="ttc" id="aCheckerManager_8h_html"><div class="ttname"><a href="CheckerManager_8h.html">CheckerManager.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html"><div class="ttname"><a href="classclang_1_1ASTContext.html">clang::ASTContext</a></div><div class="ttdoc">Holds long-lived AST nodes (such as types and decls) that can be referred to throughout the semantic ...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00208">ASTContext.h:208</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_adae68e1f4c85ede2d36da45fbefc48a2"><div class="ttname"><a href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">clang::Type::getAs</a></div><div class="ttdeci">const T * getAs() const</div><div class="ttdoc">Member-template getAs&lt;specific type&gt;'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07263">Type.h:7263</a></div></div>
<div class="ttc" id="aNSErrorChecker_8cpp_html_a5b73e148a6756ba535fbc96f027b7ff6"><div class="ttname"><a href="NSErrorChecker_8cpp.html#a5b73e148a6756ba535fbc96f027b7ff6">parameterTypeFromSVal</a></div><div class="ttdeci">static QualType parameterTypeFromSVal(SVal val, CheckerContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="NSErrorChecker_8cpp_source.html#l00198">NSErrorChecker.cpp:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 128 &gt;</a></div></div>
<div class="ttc" id="aNSErrorChecker_8cpp_html_a8a8db39daca3a012e364f5bb98ca4bb9"><div class="ttname"><a href="NSErrorChecker_8cpp.html#a8a8db39daca3a012e364f5bb98ca4bb9">hasReservedReturnType</a></div><div class="ttdeci">static bool hasReservedReturnType(const FunctionDecl *D)</div><div class="ttdef"><b>Definition:</b> <a href="NSErrorChecker_8cpp_source.html#l00098">NSErrorChecker.cpp:98</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_ad8e7d64eefce9e621eb2ccc8562d564d"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#ad8e7d64eefce9e621eb2ccc8562d564d">clang::ObjCMethodDecl::getReturnType</a></div><div class="ttdeci">QualType getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00332">DeclObjC.h:332</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ac0027637798e850bd7f6c5f823ca6362"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ac0027637798e850bd7f6c5f823ca6362">clang::FunctionDecl::getOverloadedOperator</a></div><div class="ttdeci">OverloadedOperatorKind getOverloadedOperator() const</div><div class="ttdoc">getOverloadedOperator - Which C++ overloaded operator this function represents, if any.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l03675">Decl.cpp:3675</a></div></div>
<div class="ttc" id="aNSErrorChecker_8cpp_html_a1ebda1d1e25ca33194d605461f5c7b60"><div class="ttname"><a href="NSErrorChecker_8cpp.html#a1ebda1d1e25ca33194d605461f5c7b60">IsCFError</a></div><div class="ttdeci">static bool IsCFError(QualType T, IdentifierInfo *II)</div><div class="ttdef"><b>Definition:</b> <a href="NSErrorChecker_8cpp_source.html#l00312">NSErrorChecker.cpp:312</a></div></div>
<div class="ttc" id="aStaticAnalyzer_2README_8txt_html_a1a264b3e48bda8ea3bed83698db8dca7"><div class="ttname"><a href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a></div><div class="ttdeci">and static some checkers Checker The latter are built on top of the former via the Checker and CheckerVisitor and attempts to isolate them from much of the gore of the internal analysis the analyzer is basically a source code simulator that traces out possible paths of execution The state of the and the combination of state and program point is a node in an exploded which has the entry program point and initial state</div><div class="ttdef"><b>Definition:</b> <a href="StaticAnalyzer_2README_8txt_source.html#l00030">README.txt:30</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html">clang::ObjCObjectPointerType</a></div><div class="ttdoc">Represents a pointer to an Objective C object.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06150">Type.h:6150</a></div></div>
<div class="ttc" id="aclassclang_1_1TypedefType_html_a54b85a92a72238dc97eb4e172d586330"><div class="ttname"><a href="classclang_1_1TypedefType.html#a54b85a92a72238dc97eb4e172d586330">clang::TypedefType::getDecl</a></div><div class="ttdeci">TypedefNameDecl * getDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04417">Type.h:4417</a></div></div>
<div class="ttc" id="aBugType_8h_html"><div class="ttname"><a href="BugType_8h.html">BugType.h</a></div></div>
<div class="ttc" id="aclassclang_1_1NamedDecl_html_a7fab32caa3b7d601128265248260fd37"><div class="ttname"><a href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">clang::NamedDecl::getIdentifier</a></div><div class="ttdeci">IdentifierInfo * getIdentifier() const</div><div class="ttdoc">Get the identifier that names this declaration, if there is one.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00268">Decl.h:268</a></div></div>
<div class="ttc" id="aStaticAnalyzer_2README_8txt_html_a739fa163937620532e9b87669f9b0843"><div class="ttname"><a href="StaticAnalyzer_2README_8txt.html#a739fa163937620532e9b87669f9b0843">bug</a></div><div class="ttdeci">and static some checkers Checker The latter are built on top of the former via the Checker and CheckerVisitor and attempts to isolate them from much of the gore of the internal analysis the analyzer is basically a source code simulator that traces out possible paths of execution The state of the and the combination of state and program point is a node in an exploded which has the entry program point and initial and then simulate transitions by analyzing individual expressions The analysis of an expression can cause the state to resulting in a new node in the ExplodedGraph with an updated program point and an updated state A bug is found by hitting a node that satisfies some bug condition(basically a violation of a checking invariant). The analyzer traces out multiple paths by reasoning about branches and then bifurcating the state it can contain cycles as paths loop back onto each other and cache out ProgramState and ExplodedNodes are basically immutable once created Once one creates a you need to create a new one to get a new ProgramState This immutability is key since the ExplodedGraph represents the behavior of the analyzed program from the entry point To represent these we use functional data individual Checkers work by also manipulating the analysis state The analyzer engine talks to them via a visitor interface For the and the checker is asked to check for any preconditions that might not be satisfied The checker can do or it can generate a new ProgramState and ExplodedNode which contains updated checker state If it finds a bug</div><div class="ttdef"><b>Definition:</b> <a href="StaticAnalyzer_2README_8txt_source.html#l00066">README.txt:66</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4f95adb9958e22fbe55212ae6482feb4"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">clang::ASTContext::Idents</a></div><div class="ttdeci">IdentifierTable &amp; Idents</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00651">ASTContext.h:651</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a54127635d2ca4754e91ee96b594eff74"><div class="ttname"><a href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">clang::QualType::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Return true if this QualType doesn't point to a type yet.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00740">Type.h:740</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierInfo_html"><div class="ttname"><a href="classclang_1_1IdentifierInfo.html">clang::IdentifierInfo</a></div><div class="ttdoc">One of these records is kept for each identifier that is lexed.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00084">IdentifierTable.h:84</a></div></div>
<div class="ttc" id="aCheckerContext_8h_html"><div class="ttname"><a href="CheckerContext_8h.html">CheckerContext.h</a></div></div>
<div class="ttc" id="aChecker_8h_html"><div class="ttname"><a href="Checker_8h.html">Checker.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html">clang::ObjCMethodDecl</a></div><div class="ttdoc">ObjCMethodDecl - Represents an instance or class method declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00139">DeclObjC.h:139</a></div></div>
<div class="ttc" id="aclassclang_1_1PointerType_html"><div class="ttname"><a href="classclang_1_1PointerType.html">clang::PointerType</a></div><div class="ttdoc">PointerType - C99 6.7.5.1 - Pointer Declarators.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02655">Type.h:2655</a></div></div>
<div class="ttc" id="anamespaceclang_1_1Builtin_html_a96281da348e2b70f3a45a66f6e48905c"><div class="ttname"><a href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">clang::Builtin::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8h_source.html#l00049">Builtins.h:49</a></div></div>
<div class="ttc" id="anamespaceclang_html"><div class="ttname"><a href="namespaceclang.html">clang</a></div><div class="ttdef"><b>Definition:</b> <a href="CalledOnceCheck_8h_source.html#l00017">CalledOnceCheck.h:17</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html"><div class="ttname"><a href="classclang_1_1Stmt.html">clang::Stmt</a></div><div class="ttdoc">Stmt - This represents one statement.</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8h_source.html#l00069">Stmt.h:69</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_ae4b89841e4980f344a7ae9249e15b7f1"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#ae4b89841e4980f344a7ae9249e15b7f1">clang::ObjCMethodDecl::parameters</a></div><div class="ttdeci">ArrayRef&lt; ParmVarDecl * &gt; parameters() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00376">DeclObjC.h:376</a></div></div>
<div class="ttc" id="aclassclang_1_1PointerType_html_a61947aeea27fba448a5f0d21e74c70a7"><div class="ttname"><a href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">clang::PointerType::getPointeeType</a></div><div class="ttdeci">QualType getPointeeType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02665">Type.h:2665</a></div></div>
<div class="ttc" id="aProgramStateTrait_8h_html"><div class="ttname"><a href="ProgramStateTrait_8h.html">ProgramStateTrait.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_abfa51d837c806bdbf4e12505757bf042"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#abfa51d837c806bdbf4e12505757bf042">clang::ObjCMethodDecl::isThisDeclarationADefinition</a></div><div class="ttdeci">bool isThisDeclarationADefinition() const</div><div class="ttdoc">Returns whether this specific method is a definition.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00538">DeclObjC.h:538</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ab95c29a19de7d1c1e967d59cdbac2dcc"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ab95c29a19de7d1c1e967d59cdbac2dcc">clang::FunctionDecl::parameters</a></div><div class="ttdeci">ArrayRef&lt; ParmVarDecl * &gt; parameters() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02487">Decl.h:2487</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html"><div class="ttname"><a href="classclang_1_1FunctionDecl.html">clang::FunctionDecl</a></div><div class="ttdoc">Represents a function declaration or definition.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01856">Decl.h:1856</a></div></div>
<div class="ttc" id="aNSErrorChecker_8cpp_html_ac1c8264e2d937f5ab48fa5f4270359c1"><div class="ttname"><a href="NSErrorChecker_8cpp.html#ac1c8264e2d937f5ab48fa5f4270359c1">ErrorOutFlag</a></div><div class="ttdeci">llvm::ImmutableMap&lt; SymbolRef, unsigned &gt; ErrorOutFlag</div><div class="ttdef"><b>Definition:</b> <a href="NSErrorChecker_8cpp_source.html#l00179">NSErrorChecker.cpp:179</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 4 2022 01:35:53 for clang by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
