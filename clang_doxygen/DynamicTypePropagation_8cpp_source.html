<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: lib/StaticAnalyzer/Checkers/DynamicTypePropagation.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">clang
   &#160;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_5323669f7aaa7f9ff43db9a3c9e1bf2d.html">StaticAnalyzer</a></li><li class="navelem"><a class="el" href="dir_98a0d9a5a3820cce728a787f3e823141.html">Checkers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DynamicTypePropagation.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="DynamicTypePropagation_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- DynamicTypePropagation.cpp ------------------------------*- C++ -*--===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file contains two checkers. One helps the static analyzer core to track</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// types, the other does type inference on Obj-C generics and report type</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// errors.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// Dynamic Type Propagation:</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// This checker defines the rules for dynamic type gathering and propagation.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// Generics Checker for Objective-C:</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// This checker tries to find type errors that the compiler is not able to catch</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// due to the implicit conversions that were introduced for backward</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// compatibility.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ParentMap_8h.html">clang/AST/ParentMap.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RecursiveASTVisitor_8h.html">clang/AST/RecursiveASTVisitor.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Builtins_8h.html">clang/Basic/Builtins.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BuiltinCheckerRegistration_8h.html">clang/StaticAnalyzer/Checkers/BuiltinCheckerRegistration.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BugType_8h.html">clang/StaticAnalyzer/Core/BugReporter/BugType.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Checker_8h.html">clang/StaticAnalyzer/Core/Checker.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CheckerManager_8h.html">clang/StaticAnalyzer/Core/CheckerManager.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallEvent_8h.html">clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CheckerContext_8h.html">clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DynamicType_8h.html">clang/StaticAnalyzer/Core/PathSensitive/DynamicType.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProgramStateTrait_8h.html">clang/StaticAnalyzer/Core/PathSensitive/ProgramStateTrait.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceclang.html">clang</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">using namespace </span>ento;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// ProgramState trait - The type inflation is tracked by DynamicTypeMap. This is</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// an auxiliary map that tracks more information about generic types, because in</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// some cases the most derived type is not the most informative one about the</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// type parameters. This types that are stored for each symbol in this map must</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// be specialized.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// TODO: In some case the type stored in this map is exactly the same that is</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// stored in DynamicTypeMap. We should no store duplicated information in those</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// cases.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#ac67b8df443c2b31677c4ea95f2e14753">   46</a></span>&#160;<a class="code" href="DynamicTypePropagation_8cpp.html#ac67b8df443c2b31677c4ea95f2e14753">REGISTER_MAP_WITH_PROGRAMSTATE</a>(MostSpecializedTypeArgsMap, <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a>,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">class </span>DynamicTypePropagation:</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">public</span> Checker&lt; check::PreCall,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                    check::PostCall,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                    check::DeadSymbols,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                    check::PostStmt&lt;CastExpr&gt;,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    check::PostStmt&lt;CXXNewExpr&gt;,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                    check::PreObjCMessage,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                    check::PostObjCMessage &gt; {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectType.html">ObjCObjectType</a> *getObjectTypeForAllocAndNew(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMessageExpr.html">ObjCMessageExpr</a> *MsgE,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                                    CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">  /// Return a better dynamic type if one can be derived from the cast.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *getBetterObjCType(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *CastE,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                 CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  ExplodedNode *dynamicTypePropagationOnCasts(<span class="keyword">const</span> <a class="code" href="classclang_1_1CastExpr.html">CastExpr</a> *CE,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                              <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> &amp;<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                              CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keyword">mutable</span> std::unique_ptr&lt;BugType&gt; ObjCGenericsBugType;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordtype">void</span> initBugType()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (!ObjCGenericsBugType)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      ObjCGenericsBugType.reset(<span class="keyword">new</span> BugType(</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;          GenericCheckName, <span class="stringliteral">&quot;Generics&quot;</span>, <a class="code" href="namespaceclang_1_1ento_1_1categories.html#a581ad8dfd250561e543f31d64a6e8b6b">categories::CoreFoundationObjectiveC</a>));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keyword">class </span>GenericsBugVisitor : <span class="keyword">public</span> BugReporterVisitor {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    GenericsBugVisitor(<a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> S) : Sym(S) {}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">void</span> Profile(llvm::FoldingSetNodeID &amp;<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a> = 0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>.AddPointer(&amp;<a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>.AddPointer(Sym);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#af0d0e00a28f39eb324aea94250e58848">PathDiagnosticPieceRef</a> VisitNode(<span class="keyword">const</span> ExplodedNode *N,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                     BugReporterContext &amp;BRC,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                     PathSensitiveBugReport &amp;BR) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// The tracked symbol.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  };</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">void</span> reportGenericsBug(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *From,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *To, ExplodedNode *N,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                         <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym, CheckerContext &amp;C,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *ReportedNode = <span class="keyword">nullptr</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordtype">void</span> checkPreCall(<span class="keyword">const</span> CallEvent &amp;Call, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">void</span> checkPostCall(<span class="keyword">const</span> CallEvent &amp;Call, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1CastExpr.html">CastExpr</a> *CastE, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordtype">void</span> checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1CXXNewExpr.html">CXXNewExpr</a> *NewE, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">void</span> checkDeadSymbols(SymbolReaper &amp;SR, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordtype">void</span> checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">void</span> checkPostObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M, CheckerContext &amp;C) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  /// This value is set to true, when the Generics checker is turned on.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span>  DefaultBool CheckGenerics;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  CheckerNameRef GenericCheckName;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;};</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keywordtype">bool</span> isObjCClassType(<a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="classclang_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="classclang_1_1PointerType.html">PointerType</a> = dyn_cast&lt;ObjCObjectPointerType&gt;(<a class="code" href="classclang_1_1Type.html">Type</a>)) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1PointerType.html">PointerType</a>-&gt;getObjectType()-&gt;isObjCClass();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">struct </span>RuntimeType {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectType.html">ObjCObjectType</a> *<a class="code" href="classclang_1_1Type.html">Type</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">bool</span> Precise = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keyword">operator</span> <a class="code" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classclang_1_1Type.html">Type</a> != <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;};</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;RuntimeType inferReceiverType(<span class="keyword">const</span> ObjCMethodCall &amp;Message,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                              CheckerContext &amp;C) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMessageExpr.html">ObjCMessageExpr</a> *MessageExpr = Message.getOriginExpr();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// Check if we can statically infer the actual type precisely.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// 1. Class is written directly in the message:</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// \code</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">//   [ActualClass classMethod];</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// \endcode</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span> (MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a8ddde434ba63bcbfdcfdb3407210f8a7">getReceiverKind</a>() == <a class="code" href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3af0ac31ca6897a72531f404e6356c0951">ObjCMessageExpr::Class</a>) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> {MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a6457400eb37b74bf08efc178d6474e07">getClassReceiver</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectType.html">ObjCObjectType</a>&gt;(),</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="comment">/*Precise=*/</span><span class="keyword">true</span>};</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// 2. Receiver is &#39;super&#39; from a class method (a.k.a &#39;super&#39; is a</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">//    class object).</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// \code</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">//   [super classMethod];</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// \endcode</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">if</span> (MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a8ddde434ba63bcbfdcfdb3407210f8a7">getReceiverKind</a>() == <a class="code" href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3adc904b05090355dbf60d3e1eff934a54">ObjCMessageExpr::SuperClass</a>) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> {MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a7b7f1c68abd5d3a25181d8b184d843f1">getSuperType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectType.html">ObjCObjectType</a>&gt;(),</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">/*Precise=*/</span><span class="keyword">true</span>};</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// 3. Receiver is &#39;super&#39; from an instance method (a.k.a &#39;super&#39; is an</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">//    instance of a super class).</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// \code</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">//   [super instanceMethod];</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// \encode</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> (MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a8ddde434ba63bcbfdcfdb3407210f8a7">getReceiverKind</a>() == <a class="code" href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3a04e089df3503a496f2573c1b3f238812">ObjCMessageExpr::SuperInstance</a>) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ObjTy =</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a7b7f1c68abd5d3a25181d8b184d843f1">getSuperType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;())</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">return</span> {ObjTy-&gt;getObjectType(), <span class="comment">/*Precise=*/</span><span class="keyword">true</span>};</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *RecE = MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a52ac8728aad0bc716d5c87887f332cf9">getInstanceReceiver</a>();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (!RecE)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// Otherwise, let&#39;s try to get type information from our estimations of</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// runtime types.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> InferredType;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  SVal ReceiverSVal = C.getSVal(RecE);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = C.getState();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> MemRegion *ReceiverRegion = ReceiverSVal.getAsRegion()) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (DynamicTypeInfo DTI = <a class="code" href="namespaceclang_1_1ento.html#ab7f7151e4744aca183849d4f1aed6c0c">getDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, ReceiverRegion)) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      InferredType = DTI.getType().<a class="code" href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">getCanonicalType</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> ReceiverSymbol = ReceiverSVal.getAsSymbol()) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (InferredType.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      InferredType = ReceiverSymbol-&gt;getType();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// If receiver is a Class object, we want to figure out the type it</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// represents.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (isObjCClassType(InferredType)) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="comment">// We actually might have some info on what type is contained in there.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">if</span> (DynamicTypeInfo DTI =</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;              <a class="code" href="namespaceclang_1_1ento.html#af8e3b17dce37cf7a6e2efc03f1831f84">getClassObjectDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, ReceiverSymbol)) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="comment">// Types in Class objects can be ONLY Objective-C types</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> {cast&lt;ObjCObjectType&gt;(DTI.getType()), !DTI.canBeASubClass()};</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      SVal SelfSVal = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;getSelfSVal(C.getLocationContext());</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="comment">// Another way we can guess what is in Class object, is when it is a</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="comment">// &#39;self&#39; variable of the current class method.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">if</span> (ReceiverSVal == SelfSVal) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// In this case, we should return the type of the enclosing class</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// declaration.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *MD =</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                dyn_cast&lt;ObjCMethodDecl&gt;(C.getStackFrame()-&gt;getDecl()))</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectType.html">ObjCObjectType</a> *ObjTy = dyn_cast&lt;ObjCObjectType&gt;(</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                  MD-&gt;getClassInterface()-&gt;getTypeForDecl()))</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">return</span> {ObjTy};</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// Unfortunately, it seems like we have no idea what that type is.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (InferredType.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// We can end up here if we got some dynamic type info and the</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// receiver is not one of the known Class objects.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ReceiverInferredType =</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          dyn_cast&lt;ObjCObjectPointerType&gt;(InferredType)) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> {ReceiverInferredType-&gt;getObjectType()};</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// Any other type (like &#39;Class&#39;) is not really useful at this point.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keywordtype">void</span> DynamicTypePropagation::checkDeadSymbols(SymbolReaper &amp;SR,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                              CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceclang_1_1ento.html#aefdbeb96991bd1e2212c10f646046bb1">removeDeadTypes</a>(<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState(), SR);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceclang_1_1ento.html#aacab717c457fd6db9f2771b714d3cef2">removeDeadClassObjectTypes</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, SR);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  MostSpecializedTypeArgsMapTy TyArgMap =</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;MostSpecializedTypeArgsMap&gt;();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">for</span> (MostSpecializedTypeArgsMapTy::iterator I = TyArgMap.begin(),</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                              E = TyArgMap.end();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;       I != E; ++I) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (SR.isDead(I-&gt;first)) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;remove&lt;MostSpecializedTypeArgsMap&gt;(I-&gt;first);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#a54c79af36bf080745de998f6ead0c598">  249</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="DynamicTypePropagation_8cpp.html#a54c79af36bf080745de998f6ead0c598">recordFixedType</a>(<span class="keyword">const</span> MemRegion *Region, <span class="keyword">const</span> <a class="code" href="classclang_1_1CXXMethodDecl.html">CXXMethodDecl</a> *MD,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                            CheckerContext &amp;C) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  assert(Region);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  assert(MD);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx = C.getASTContext();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = Ctx.<a class="code" href="classclang_1_1ASTContext.html#a41483c42a2f92e8cb7737cf20661a92c">getPointerType</a>(Ctx.<a class="code" href="classclang_1_1ASTContext.html#a2876aa008b370e91e451f946d4aca17b">getRecordType</a>(MD-&gt;<a class="code" href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">getParent</a>()));</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = C.getState();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceclang_1_1ento.html#adf33a243bdf9940d0c3e8f1e2c337dd9">setDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, Region, Ty, <span class="comment">/*CanBeSubClassed=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  C.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keywordtype">void</span> DynamicTypePropagation::checkPreCall(<span class="keyword">const</span> CallEvent &amp;Call,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                          CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> CXXConstructorCall *Ctor = dyn_cast&lt;CXXConstructorCall&gt;(&amp;Call)) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// C++11 [class.cdtor]p4: When a virtual function is called directly or</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//   indirectly from a constructor or from a destructor, including during</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">//   the construction or destruction of the class&#39;s non-static data members,</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">//   and the object to which the call applies is the object under</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">//   construction or destruction, the function called is the final overrider</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">//   in the constructor&#39;s or destructor&#39;s class and not one overriding it in</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">//   a more-derived class.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">switch</span> (Ctor-&gt;getOriginExpr()-&gt;getConstructionKind()) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a3733e434dafb17cdbee82c01462a4da8">CXXConstructExpr::CK_Complete</a>:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a22f1a5d2b5baa0b0726243ef8ffd27ee">CXXConstructExpr::CK_Delegating</a>:</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="comment">// No additional type info necessary.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a4018db20cea3318e42f7eda9798449fa">CXXConstructExpr::CK_NonVirtualBase</a>:</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a0b85c1db0f2c292fce108d89f2f16f05">CXXConstructExpr::CK_VirtualBase</a>:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> MemRegion *Target = Ctor-&gt;getCXXThisVal().getAsRegion())</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="DynamicTypePropagation_8cpp.html#a54c79af36bf080745de998f6ead0c598">recordFixedType</a>(Target, Ctor-&gt;getDecl(), C);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> CXXDestructorCall *Dtor = dyn_cast&lt;CXXDestructorCall&gt;(&amp;Call)) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// C++11 [class.cdtor]p4 (see above)</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> (!Dtor-&gt;isBaseDestructor())</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">const</span> MemRegion *<a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a> = Dtor-&gt;getCXXThisVal().getAsRegion();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (!Target)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D = Dtor-&gt;getDecl();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (!D)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="DynamicTypePropagation_8cpp.html#a54c79af36bf080745de998f6ead0c598">recordFixedType</a>(Target, cast&lt;CXXDestructorDecl&gt;(D), C);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="keywordtype">void</span> DynamicTypePropagation::checkPostCall(<span class="keyword">const</span> CallEvent &amp;Call,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                           CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// We can obtain perfect type info for return values from some calls.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> ObjCMethodCall *Msg = dyn_cast&lt;ObjCMethodCall&gt;(&amp;Call)) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// Get the returned value if it&#39;s a region.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">const</span> MemRegion *RetReg = <a class="code" href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">Call</a>.getReturnValue().getAsRegion();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (!RetReg)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *D = Msg-&gt;getDecl();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (D &amp;&amp; D-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#a92c933b9cb85abc51f171a578fce4c9b">hasRelatedResultType</a>()) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">switch</span> (Msg-&gt;getMethodFamily()) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="comment">// We assume that the type of the object returned by alloc and new are the</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// pointer to the object of the class specified in the receiver of the</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// message.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140aa2506f3f3aa110c8634c520cac188850">OMF_alloc</a>:</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140add0d96887fd8a747f93910ca08eb466c">OMF_new</a>: {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">// Get the type of object that will get created.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        RuntimeType ObjTy = inferReceiverType(*Msg, C);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (!ObjTy)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="classclang_1_1QualType.html">QualType</a> DynResTy =</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext().getObjCObjectPointerType(<a class="code" href="classclang_1_1QualType.html">QualType</a>(ObjTy.Type, 0));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="comment">// We used to assume that whatever type we got from inferring the</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="comment">// type is actually precise (and it is not exactly correct).</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="comment">// A big portion of the existing behavior depends on that assumption</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="comment">// (e.g. certain inlining won&#39;t take place). For this reason, we don&#39;t</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment">// use ObjTy.Precise flag here.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="comment">// TODO: We should mitigate this problem some time in the future</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="comment">// and replace hardcoded &#39;false&#39; with &#39;!ObjTy.Precise&#39;.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="namespaceclang_1_1ento.html#adf33a243bdf9940d0c3e8f1e2c337dd9">setDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, RetReg, DynResTy, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece">OMF_init</a>: {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment">// Assume, the result of the init method has the same dynamic type as</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="comment">// the receiver and propagate the dynamic type info.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keyword">const</span> MemRegion *RecReg = Msg-&gt;getReceiverSVal().getAsRegion();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> (!RecReg)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        DynamicTypeInfo RecDynType = <a class="code" href="namespaceclang_1_1ento.html#ab7f7151e4744aca183849d4f1aed6c0c">getDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, RecReg);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="namespaceclang_1_1ento.html#adf33a243bdf9940d0c3e8f1e2c337dd9">setDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, RetReg, RecDynType));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> CXXConstructorCall *Ctor = dyn_cast&lt;CXXConstructorCall&gt;(&amp;Call)) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// We may need to undo the effects of our pre-call check.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">switch</span> (Ctor-&gt;getOriginExpr()-&gt;getConstructionKind()) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a3733e434dafb17cdbee82c01462a4da8">CXXConstructExpr::CK_Complete</a>:</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a22f1a5d2b5baa0b0726243ef8ffd27ee">CXXConstructExpr::CK_Delegating</a>:</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">// No additional work necessary.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="comment">// Note: This will leave behind the actual type of the object for</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">// complete constructors, but arguably that&#39;s a good thing, since it</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">// means the dynamic type info will be correct even for objects</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="comment">// constructed with operator new.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a4018db20cea3318e42f7eda9798449fa">CXXConstructExpr::CK_NonVirtualBase</a>:</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a0b85c1db0f2c292fce108d89f2f16f05">CXXConstructExpr::CK_VirtualBase</a>:</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> MemRegion *Target = Ctor-&gt;getCXXThisVal().getAsRegion()) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="comment">// We just finished a base constructor. Now we can use the subclass&#39;s</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="comment">// type when resolving virtual calls.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keyword">const</span> <a class="code" href="classclang_1_1LocationContext.html">LocationContext</a> *LCtx = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getLocationContext();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">// FIXME: In C++17 classes with non-virtual bases may be treated as</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// aggregates, and in such case no top-frame constructor will be called.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="comment">// Figure out if we need to do anything in this case.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">// FIXME: Instead of relying on the ParentMap, we should have the</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// trigger-statement (InitListExpr in this case) available in this</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="comment">// callback, ideally as part of CallEvent.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span> (isa_and_nonnull&lt;InitListExpr&gt;(</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                LCtx-&gt;<a class="code" href="classclang_1_1LocationContext.html#a904f73765a6ed9230d7a7cb308f3892d">getParentMap</a>().<a class="code" href="classclang_1_1ParentMap.html#acb3be22e2274053983dda85999b87274">getParent</a>(Ctor-&gt;getOriginExpr())))</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="DynamicTypePropagation_8cpp.html#a54c79af36bf080745de998f6ead0c598">recordFixedType</a>(Target, cast&lt;CXXConstructorDecl&gt;(LCtx-&gt;<a class="code" href="classclang_1_1LocationContext.html#a5f34d4aa5d22732cbe4500b406312431">getDecl</a>()), C);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/// TODO: Handle explicit casts.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">///       Handle C++ casts.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">/// Precondition: the cast is between ObjCObjectPointers.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"></span>ExplodedNode *DynamicTypePropagation::dynamicTypePropagationOnCasts(</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1CastExpr.html">CastExpr</a> *CE, <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> &amp;<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// We only track type info for regions.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keyword">const</span> MemRegion *ToR = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(CE).getAsRegion();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (!ToR)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getPredecessor();</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ExplicitCastExpr&gt;(CE))</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getPredecessor();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> *NewTy = getBetterObjCType(CE, C)) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceclang_1_1ento.html#adf33a243bdf9940d0c3e8f1e2c337dd9">setDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, ToR, <a class="code" href="classclang_1_1QualType.html">QualType</a>(NewTy, 0));</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getPredecessor();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="keywordtype">void</span> DynamicTypePropagation::checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1CXXNewExpr.html">CXXNewExpr</a> *NewE,</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                           CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (NewE-&gt;<a class="code" href="classclang_1_1CXXNewExpr.html#a12e3c07be0e37a0890644498b68bec34">isArray</a>())</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// We only track dynamic type info for regions.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keyword">const</span> MemRegion *MR = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(NewE).getAsRegion();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">if</span> (!MR)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="namespaceclang_1_1ento.html#adf33a243bdf9940d0c3e8f1e2c337dd9">setDynamicTypeInfo</a>(<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState(), MR, NewE-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>(),</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                     <span class="comment">/*CanBeSubClassed=*/</span><span class="keyword">false</span>));</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">// Return a better dynamic type if one can be derived from the cast.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">// Compare the current dynamic type of the region and the new type to which we</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">// are casting. If the new type is lower in the inheritance hierarchy, pick it.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;DynamicTypePropagation::getBetterObjCType(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *CastE,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                          CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keyword">const</span> MemRegion *ToR = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(CastE).getAsRegion();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  assert(ToR);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// Get the old and new types.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *NewTy =</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      CastE-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (!NewTy)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> OldDTy = <a class="code" href="namespaceclang_1_1ento.html#ab7f7151e4744aca183849d4f1aed6c0c">getDynamicTypeInfo</a>(<a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState(), ToR).<a class="code" href="classclang_1_1ento_1_1DynamicTypeInfo.html#a85591ad2fca4bb3aae25cf43845e86d5">getType</a>();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (OldDTy.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">return</span> NewTy;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *OldTy =</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    OldDTy-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">if</span> (!OldTy)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// Id the old type is &#39;id&#39;, the new one is more precise.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (OldTy-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#aa15662dfc2f30516093b490ad071cb20">isObjCIdType</a>() &amp;&amp; !NewTy-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#aa15662dfc2f30516093b490ad071cb20">isObjCIdType</a>())</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> NewTy;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="comment">// Return new if it&#39;s a subclass of old.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *ToI = NewTy-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">getInterfaceDecl</a>();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *FromI = OldTy-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">getInterfaceDecl</a>();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> (ToI &amp;&amp; FromI &amp;&amp; FromI-&gt;<a class="code" href="classclang_1_1ObjCInterfaceDecl.html#aecbdcfb22828060a59acbc8154d1e650">isSuperClassOf</a>(ToI))</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span> NewTy;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#a1d70a1a465326862ea99d88c0a8dc188">  469</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<a class="code" href="DynamicTypePropagation_8cpp.html#a1d70a1a465326862ea99d88c0a8dc188">getMostInformativeDerivedClassImpl</a>(</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *From, <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *To,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *MostInformativeCandidate, <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;C) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// Checking if from and to are the same classes modulo specialization.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">if</span> (From-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">getInterfaceDecl</a>()-&gt;<a class="code" href="classclang_1_1ObjCInterfaceDecl.html#ac88184f3f209f215e89461de4ce29d96">getCanonicalDecl</a>() ==</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      To-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">getInterfaceDecl</a>()-&gt;<a class="code" href="classclang_1_1ObjCInterfaceDecl.html#ac88184f3f209f215e89461de4ce29d96">getCanonicalDecl</a>()) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (To-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a0aa07b06925d020335420509d60b9a62">isSpecialized</a>()) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      assert(MostInformativeCandidate-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a0aa07b06925d020335420509d60b9a62">isSpecialized</a>());</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">return</span> MostInformativeCandidate;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> From;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (To-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#aa973df846a47955158eaa495a17b17ec">getObjectType</a>()-&gt;<a class="code" href="classclang_1_1ObjCObjectType.html#af016473586ee36e6c10911ca686cf42e">getSuperClassType</a>().<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// If To has no super class and From and To aren&#39;t the same then</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// To was not actually a descendent of From. In this case the best we can</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// do is &#39;From&#39;.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> From;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *SuperOfTo =</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      To-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#aa973df846a47955158eaa495a17b17ec">getObjectType</a>()-&gt;<a class="code" href="classclang_1_1ObjCObjectType.html#af016473586ee36e6c10911ca686cf42e">getSuperClassType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectType.html">ObjCObjectType</a>&gt;();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  assert(SuperOfTo);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> SuperPtrOfToQual =</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      C.getObjCObjectPointerType(<a class="code" href="classclang_1_1QualType.html">QualType</a>(SuperOfTo, 0));</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *SuperPtrOfTo = SuperPtrOfToQual-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (To-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a9a36f90c90605e0cab9377c8bc8b296f">isUnspecialized</a>())</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="DynamicTypePropagation_8cpp.html#a1d70a1a465326862ea99d88c0a8dc188">getMostInformativeDerivedClassImpl</a>(From, SuperPtrOfTo, SuperPtrOfTo,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                              C);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="DynamicTypePropagation_8cpp.html#a1d70a1a465326862ea99d88c0a8dc188">getMostInformativeDerivedClassImpl</a>(From, SuperPtrOfTo,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                              MostInformativeCandidate, C);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">/// A downcast may loose specialization information. E. g.:</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">///   MutableMap&lt;T, U&gt; : Map</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">/// The downcast to MutableMap looses the information about the types of the</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">/// Map (due to the type parameters are not being forwarded to Map), and in</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">/// general there is no way to recover that information from the</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">/// declaration. In order to have to most information, lets find the most</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">/// derived type that has all the type parameters forwarded.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">/// Get the a subclass of \p From (which has a lower bound \p To) that do not</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/// loose information about type parameters. \p To has to be a subclass of</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">/// \p From. From has to be specialized.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *</div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#a53b05430a8ec7d5ac304d75e22095595">  515</a></span>&#160;<a class="code" href="DynamicTypePropagation_8cpp.html#a53b05430a8ec7d5ac304d75e22095595">getMostInformativeDerivedClass</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *From,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *To, <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;C) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="DynamicTypePropagation_8cpp.html#a1d70a1a465326862ea99d88c0a8dc188">getMostInformativeDerivedClassImpl</a>(From, To, To, C);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">/// Inputs:</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">///   \param StaticLowerBound Static lower bound for a symbol. The dynamic lower</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">///   bound might be the subclass of this type.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">///   \param StaticUpperBound A static upper bound for a symbol.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">///   \p StaticLowerBound expected to be the subclass of \p StaticUpperBound.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">///   \param Current The type that was inferred for a symbol in a previous</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">///   context. Might be null when this is the first time that inference happens.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">/// Precondition:</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">///   \p StaticLowerBound or \p StaticUpperBound is specialized. If \p Current</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">///   is not null, it is specialized.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">/// Possible cases:</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">///   (1) The \p Current is null and \p StaticLowerBound &lt;: \p StaticUpperBound</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">///   (2) \p StaticLowerBound &lt;: \p Current &lt;: \p StaticUpperBound</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">///   (3) \p Current &lt;: \p StaticLowerBound &lt;: \p StaticUpperBound</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">///   (4) \p StaticLowerBound &lt;: \p StaticUpperBound &lt;: \p Current</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">/// Effect:</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">///   Use getMostInformativeDerivedClass with the upper and lower bound of the</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">///   set {\p StaticLowerBound, \p Current, \p StaticUpperBound}. The computed</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">///   lower bound must be specialized. If the result differs from \p Current or</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">///   \p Current is null, store the result.</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#aeb2b40d1dd1a6330e138366e699df354">  541</a></span>&#160;<a class="code" href="DynamicTypePropagation_8cpp.html#aeb2b40d1dd1a6330e138366e699df354">storeWhenMoreInformative</a>(<a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> &amp;<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<span class="keyword">const</span> *Current,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *StaticLowerBound,</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *StaticUpperBound,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                         <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;C) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// TODO: The above 4 cases are not exhaustive. In particular, it is possible</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">// for Current to be incomparable with StaticLowerBound, StaticUpperBound,</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// or both.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// For example, suppose Foo&lt;T&gt; and Bar&lt;T&gt; are unrelated types.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">//  Foo&lt;T&gt; *f = ...</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">//  Bar&lt;T&gt; *b = ...</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">//  id t1 = b;</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">//  f = t1;</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">//  id t2 = f; // StaticLowerBound is Foo&lt;T&gt;, Current is Bar&lt;T&gt;</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// We should either constrain the callers of this function so that the stated</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// preconditions hold (and assert it) or rewrite the function to expicitly</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">// handle the additional cases.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">// Precondition</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  assert(StaticUpperBound-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a0aa07b06925d020335420509d60b9a62">isSpecialized</a>() ||</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;         StaticLowerBound-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a0aa07b06925d020335420509d60b9a62">isSpecialized</a>());</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  assert(!Current || (*Current)-&gt;isSpecialized());</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// Case (1)</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (!Current) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (StaticUpperBound-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a9a36f90c90605e0cab9377c8bc8b296f">isUnspecialized</a>()) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;MostSpecializedTypeArgsMap&gt;(Sym, StaticLowerBound);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// Upper bound is specialized.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *WithMostInfo =</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="DynamicTypePropagation_8cpp.html#a53b05430a8ec7d5ac304d75e22095595">getMostInformativeDerivedClass</a>(StaticUpperBound, StaticLowerBound, C);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;MostSpecializedTypeArgsMap&gt;(Sym, WithMostInfo);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// Case (3)</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (C.canAssignObjCInterfaces(StaticLowerBound, *Current)) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="comment">// Case (4)</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">if</span> (C.canAssignObjCInterfaces(*Current, StaticUpperBound)) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// The type arguments might not be forwarded at any point of inheritance.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *WithMostInfo =</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="DynamicTypePropagation_8cpp.html#a53b05430a8ec7d5ac304d75e22095595">getMostInformativeDerivedClass</a>(*Current, StaticUpperBound, C);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    WithMostInfo =</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <a class="code" href="DynamicTypePropagation_8cpp.html#a53b05430a8ec7d5ac304d75e22095595">getMostInformativeDerivedClass</a>(WithMostInfo, StaticLowerBound, C);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (WithMostInfo == *Current)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;MostSpecializedTypeArgsMap&gt;(Sym, WithMostInfo);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// Case (2)</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *WithMostInfo =</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="DynamicTypePropagation_8cpp.html#a53b05430a8ec7d5ac304d75e22095595">getMostInformativeDerivedClass</a>(*Current, StaticLowerBound, C);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">if</span> (WithMostInfo != *Current) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;MostSpecializedTypeArgsMap&gt;(Sym, WithMostInfo);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">/// Type inference based on static type information that is available for the</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">/// cast and the tracked type information for the given symbol. When the tracked</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">/// symbol and the destination type of the cast are unrelated, report an error.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DynamicTypePropagation::checkPostStmt(<span class="keyword">const</span> <a class="code" href="classclang_1_1CastExpr.html">CastExpr</a> *CE,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                                           CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">if</span> (CE-&gt;<a class="code" href="classclang_1_1CastExpr.html#a2e40241b31a75137d192af1ec626f9d8">getCastKind</a>() != CK_BitCast)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> OriginType = CE-&gt;<a class="code" href="classclang_1_1CastExpr.html#a37e3d80c4ca590eadbe49e400c50134b">getSubExpr</a>()-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> DestType = CE-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *OrigObjectPtrType = OriginType-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *DestObjectPtrType = DestType-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (!OrigObjectPtrType || !DestObjectPtrType)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  ExplodedNode *AfterTypeProp = dynamicTypePropagationOnCasts(CE, <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, C);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;ASTCtxt = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// This checker detects the subtyping relationships using the assignment</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// rules. In order to be able to do this the kindofness must be stripped</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// first. The checker treats every type as kindof type anyways: when the</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// tracked type is the subtype of the static type it tries to look up the</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// methods in the tracked type first.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  OrigObjectPtrType = OrigObjectPtrType-&gt;stripObjCKindOfTypeAndQuals(ASTCtxt);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  DestObjectPtrType = DestObjectPtrType-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a3cfb387ff9a94de8d7ecc745c11ec1c7">stripObjCKindOfTypeAndQuals</a>(ASTCtxt);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (OrigObjectPtrType-&gt;isUnspecialized() &amp;&amp;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      DestObjectPtrType-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#a9a36f90c90605e0cab9377c8bc8b296f">isUnspecialized</a>())</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getSVal(CE).getAsSymbol();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">if</span> (!Sym)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<span class="keyword">const</span> *TrackedType =</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;MostSpecializedTypeArgsMap&gt;(Sym);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ExplicitCastExpr&gt;(CE)) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">// Treat explicit casts as an indication from the programmer that the</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// Objective-C type system is not rich enough to express the needed</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// invariant. In such cases, forget any existing information inferred</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// about the type arguments. We don&#39;t assume the casted-to specialized</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// type here because the invariant the programmer specifies in the cast</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// may only hold at this particular program point and not later ones.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">// We don&#39;t want a suppressing cast to require a cascade of casts down the</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// line.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> (TrackedType) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;remove&lt;MostSpecializedTypeArgsMap&gt;(Sym);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, AfterTypeProp);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// Check which assignments are legal.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordtype">bool</span> OrigToDest =</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      ASTCtxt.<a class="code" href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">canAssignObjCInterfaces</a>(DestObjectPtrType, OrigObjectPtrType);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordtype">bool</span> DestToOrig =</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      ASTCtxt.<a class="code" href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">canAssignObjCInterfaces</a>(OrigObjectPtrType, DestObjectPtrType);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">// The tracked type should be the sub or super class of the static destination</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// type. When an (implicit) upcast or a downcast happens according to static</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">// types, and there is no subtyping relationship between the tracked and the</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="comment">// static destination types, it indicates an error.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">if</span> (TrackedType &amp;&amp;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      !ASTCtxt.<a class="code" href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">canAssignObjCInterfaces</a>(DestObjectPtrType, *TrackedType) &amp;&amp;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      !ASTCtxt.<a class="code" href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">canAssignObjCInterfaces</a>(*TrackedType, DestObjectPtrType)) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keyword">static</span> CheckerProgramPointTag IllegalConv(<span class="keyword">this</span>, <span class="stringliteral">&quot;IllegalConversion&quot;</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    ExplodedNode *N = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, AfterTypeProp, &amp;IllegalConv);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    reportGenericsBug(*TrackedType, DestObjectPtrType, N, Sym, C);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// Handle downcasts and upcasts.</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *LowerBound = DestObjectPtrType;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *UpperBound = OrigObjectPtrType;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">if</span> (OrigToDest &amp;&amp; !DestToOrig)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    std::swap(LowerBound, UpperBound);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">// The id type is not a real bound. Eliminate it.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  LowerBound = LowerBound-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#aa15662dfc2f30516093b490ad071cb20">isObjCIdType</a>() ? UpperBound : LowerBound;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  UpperBound = UpperBound-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#aa15662dfc2f30516093b490ad071cb20">isObjCIdType</a>() ? LowerBound : UpperBound;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DynamicTypePropagation_8cpp.html#aeb2b40d1dd1a6330e138366e699df354">storeWhenMoreInformative</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, Sym, TrackedType, LowerBound, UpperBound,</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                               ASTCtxt)) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, AfterTypeProp);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#ad65c1938446fe80256e1387bf07a1e47">  703</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="DynamicTypePropagation_8cpp.html#ad65c1938446fe80256e1387bf07a1e47">stripCastsAndSugar</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  E = E-&gt;<a class="code" href="classclang_1_1Expr.html#a54036c75e73ecdf081729210fa53e582">IgnoreParenImpCasts</a>();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1PseudoObjectExpr.html">PseudoObjectExpr</a> *POE = dyn_cast&lt;PseudoObjectExpr&gt;(E))</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    E = POE-&gt;getSyntacticForm()-&gt;<a class="code" href="classclang_1_1Expr.html#a54036c75e73ecdf081729210fa53e582">IgnoreParenImpCasts</a>();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1OpaqueValueExpr.html">OpaqueValueExpr</a> *OVE = dyn_cast&lt;OpaqueValueExpr&gt;(E))</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    E = OVE-&gt;getSourceExpr()-&gt;<a class="code" href="classclang_1_1Expr.html#a54036c75e73ecdf081729210fa53e582">IgnoreParenImpCasts</a>();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">return</span> E;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#a9a206c9facef33a578a75722dc2c80bb">  712</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DynamicTypePropagation_8cpp.html#a9a206c9facef33a578a75722dc2c80bb">isObjCTypeParamDependent</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="classclang_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// It is illegal to typedef parameterized types inside an interface. Therefore</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// an Objective-C type can only be dependent on a type parameter when the type</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="comment">// parameter structurally present in the type itself.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keyword">class </span>IsObjCTypeParamDependentTypeVisitor</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      : <span class="keyword">public</span> <a class="code" href="classclang_1_1RecursiveASTVisitor.html">RecursiveASTVisitor</a>&lt;IsObjCTypeParamDependentTypeVisitor&gt; {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    IsObjCTypeParamDependentTypeVisitor() : Result(<span class="keyword">false</span>) {}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordtype">bool</span> VisitObjCTypeParamType(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCTypeParamType.html">ObjCTypeParamType</a> *<a class="code" href="classclang_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ObjCTypeParamDecl&gt;(<a class="code" href="classclang_1_1Type.html">Type</a>-&gt;getDecl())) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        Result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordtype">bool</span> Result;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  };</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  IsObjCTypeParamDependentTypeVisitor Visitor;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  Visitor.TraverseType(<a class="code" href="classclang_1_1Type.html">Type</a>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordflow">return</span> Visitor.Result;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">/// A method might not be available in the interface indicated by the static</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">/// type. However it might be available in the tracked type. In order to</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">/// properly substitute the type parameters we need the declaration context of</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">/// the method. The more specialized the enclosing class of the method is, the</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">/// more likely that the parameter substitution will be successful.</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *</div>
<div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#a20d73702490c9c9b9d00ebf426cb623d">  742</a></span>&#160;<a class="code" href="DynamicTypePropagation_8cpp.html#a20d73702490c9c9b9d00ebf426cb623d">findMethodDecl</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMessageExpr.html">ObjCMessageExpr</a> *MessageExpr,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;               <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *TrackedType, <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;ASTCtxt) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *Method = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ReceiverType = MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a9847b1e9f17738a9c3a45a31bb2e48dd">getReceiverType</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *ReceiverObjectPtrType =</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      ReceiverType-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="comment">// Do this &quot;devirtualization&quot; on instance and class methods only. Trust the</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// static type on super and super class calls.</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">if</span> (MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a8ddde434ba63bcbfdcfdb3407210f8a7">getReceiverKind</a>() == <a class="code" href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3a4756d0e9fdac36e78b8e9204de1024ed">ObjCMessageExpr::Instance</a> ||</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a8ddde434ba63bcbfdcfdb3407210f8a7">getReceiverKind</a>() == <a class="code" href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3af0ac31ca6897a72531f404e6356c0951">ObjCMessageExpr::Class</a>) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// When the receiver type is id, Class, or some super class of the tracked</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">// type, look up the method in the tracked type, not in the receiver type.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// This way we preserve more information.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (ReceiverType-&gt;<a class="code" href="classclang_1_1Type.html#a903df8e91e75403da0da82add1e8a833">isObjCIdType</a>() || ReceiverType-&gt;<a class="code" href="classclang_1_1Type.html#ac2fdc04bb01a4f52a42b417b9c8c1c39">isObjCClassType</a>() ||</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        ASTCtxt.<a class="code" href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">canAssignObjCInterfaces</a>(ReceiverObjectPtrType, TrackedType)) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *InterfaceDecl = TrackedType-&gt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">getInterfaceDecl</a>();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="comment">// The method might not be found.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <a class="code" href="classclang_1_1Selector.html">Selector</a> Sel = MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a505c452dbe8d699266feb13c62242e3b">getSelector</a>();</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      Method = InterfaceDecl-&gt;<a class="code" href="classclang_1_1ObjCInterfaceDecl.html#afeefd7148e277440d2ef0e253613eae9">lookupInstanceMethod</a>(Sel);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">if</span> (!Method)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        Method = InterfaceDecl-&gt;<a class="code" href="classclang_1_1ObjCInterfaceDecl.html#a539fe54438aa1eaf00dce80f16ceed7c">lookupClassMethod</a>(Sel);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// Fallback to statick method lookup when the one based on the tracked type</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// failed.</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordflow">return</span> Method ? Method : MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a85203ff59e30485eb0e5cf23132ccf58">getMethodDecl</a>();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">/// Get the returned ObjCObjectPointerType by a method based on the tracked type</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">/// information, or null pointer when the returned type is not an</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">/// ObjCObjectPointerType.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="DynamicTypePropagation_8cpp.html#a0046e03501bc615659a20cedc84ad0ab">  776</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="DynamicTypePropagation_8cpp.html#a0046e03501bc615659a20cedc84ad0ab">getReturnTypeForMethod</a>(</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *Method, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;QualType&gt;</a> TypeArgs,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *SelfType, <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;C) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> StaticResultType = Method-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#ad8e7d64eefce9e621eb2ccc8562d564d">getReturnType</a>();</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// Is the return type declared as instance type?</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (StaticResultType == C.getObjCInstanceType())</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>(SelfType, 0);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// Check whether the result type depends on a type parameter.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="DynamicTypePropagation_8cpp.html#a9a206c9facef33a578a75722dc2c80bb">isObjCTypeParamDependent</a>(StaticResultType))</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1QualType.html">QualType</a>();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ResultType = StaticResultType.<a class="code" href="classclang_1_1QualType.html#ace7160011da19e57112ab9ed9f84938b">substObjCTypeArgs</a>(</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      C, TypeArgs, <a class="code" href="namespaceclang.html#a7491b5cdc2843824aac96e74c3947c87a8eea62084ca7e541d918e823422bd82e">ObjCSubstitutionContext::Result</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">return</span> ResultType;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">/// When the receiver has a tracked type, use that type to validate the</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">/// argumments of the message expression and the return value.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DynamicTypePropagation::checkPreObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                                 CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym = M.getReceiverSVal().getAsSymbol();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordflow">if</span> (!Sym)</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<span class="keyword">const</span> *TrackedType =</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;MostSpecializedTypeArgsMap&gt;(Sym);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">if</span> (!TrackedType)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="comment">// Get the type arguments from tracked type and substitute type arguments</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="comment">// before do the semantic check.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;ASTCtxt = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMessageExpr.html">ObjCMessageExpr</a> *MessageExpr = M.getOriginExpr();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *Method =</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <a class="code" href="DynamicTypePropagation_8cpp.html#a20d73702490c9c9b9d00ebf426cb623d">findMethodDecl</a>(MessageExpr, *TrackedType, ASTCtxt);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// It is possible to call non-existent methods in Obj-C.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">if</span> (!Method)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="comment">// If the method is declared on a class that has a non-invariant</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">// type parameter, don&#39;t warn about parameter mismatches after performing</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// substitution. This prevents warning when the programmer has purposely</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// casted the receiver to a super type or unspecialized type but the analyzer</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// has a more precise tracked type than the programmer intends at the call</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">// site.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// For example, consider NSArray (which has a covariant type parameter)</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// and NSMutableArray (a subclass of NSArray where the type parameter is</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// invariant):</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// NSMutableArray *a = [[NSMutableArray&lt;NSString *&gt; alloc] init;</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="comment">// [a containsObject:number]; // Safe: -containsObject is defined on NSArray.</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="comment">// NSArray&lt;NSObject *&gt; *other = [a arrayByAddingObject:number]  // Safe</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// [a addObject:number] // Unsafe: -addObject: is defined on NSMutableArray</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *Interface = Method-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#ae289a054485ee4d1d66b33e833e16091">getClassInterface</a>();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">if</span> (!Interface)</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <a class="code" href="classclang_1_1ObjCTypeParamList.html">ObjCTypeParamList</a> *TypeParams = Interface-&gt;<a class="code" href="classclang_1_1ObjCInterfaceDecl.html#a03d40f21d5065b963afa622e4a9b12ba">getTypeParamList</a>();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">if</span> (!TypeParams)</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1ObjCTypeParamDecl.html">ObjCTypeParamDecl</a> *TypeParam : *TypeParams) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (TypeParam-&gt;getVariance() != <a class="code" href="namespaceclang.html#ae72de8de2d11f0457055056887f2a0a0a19c8367b361b73364ac49ad35e5199ab">ObjCTypeParamVariance::Invariant</a>)</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;ArrayRef&lt;QualType&gt;</a>&gt; TypeArgs =</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      (*TrackedType)-&gt;getObjCSubstitutions(Method-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>());</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="comment">// This case might happen when there is an unspecialized override of a</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="comment">// specialized method.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">if</span> (!TypeArgs)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; Method-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#a1923fecbf502833ff87a3cbdd211a83b">param_size</a>(); i++) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *Arg = MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#ac8e7d18b71e06a146c924102e41bcffd">getArg</a>(i);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *Param = Method-&gt;<a class="code" href="classclang_1_1ObjCMethodDecl.html#ae4b89841e4980f344a7ae9249e15b7f1">parameters</a>()[i];</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> OrigParamType = Param-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="DynamicTypePropagation_8cpp.html#a9a206c9facef33a578a75722dc2c80bb">isObjCTypeParamDependent</a>(OrigParamType))</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> ParamType = OrigParamType.<a class="code" href="classclang_1_1QualType.html#ace7160011da19e57112ab9ed9f84938b">substObjCTypeArgs</a>(</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        ASTCtxt, *TypeArgs, <a class="code" href="namespaceclang.html#a7491b5cdc2843824aac96e74c3947c87a83f499a540b1323009c200d6f8cc9396">ObjCSubstitutionContext::Parameter</a>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="comment">// Check if it can be assigned</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *ParamObjectPtrType = ParamType-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *ArgObjectPtrType =</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="DynamicTypePropagation_8cpp.html#ad65c1938446fe80256e1387bf07a1e47">stripCastsAndSugar</a>(Arg)-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">if</span> (!ParamObjectPtrType || !ArgObjectPtrType)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// Check if we have more concrete tracked type that is not a super type of</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// the static argument type.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    SVal ArgSVal = M.getArgSVal(i);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> ArgSym = ArgSVal.getAsSymbol();</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (ArgSym) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<span class="keyword">const</span> *TrackedArgType =</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;          <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;MostSpecializedTypeArgsMap&gt;(ArgSym);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">if</span> (TrackedArgType &amp;&amp;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;          ASTCtxt.<a class="code" href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">canAssignObjCInterfaces</a>(ArgObjectPtrType, *TrackedArgType)) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        ArgObjectPtrType = *TrackedArgType;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="comment">// Warn when argument is incompatible with the parameter.</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> (!ASTCtxt.<a class="code" href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">canAssignObjCInterfaces</a>(ParamObjectPtrType,</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                                         ArgObjectPtrType)) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keyword">static</span> CheckerProgramPointTag Tag(<span class="keyword">this</span>, <span class="stringliteral">&quot;ArgTypeMismatch&quot;</span>);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      ExplodedNode *N = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, &amp;Tag);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      reportGenericsBug(ArgObjectPtrType, ParamObjectPtrType, N, Sym, C, Arg);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">/// This callback is used to infer the types for Class variables. This info is</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">/// used later to validate messages that sent to classes. Class variables are</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">/// initialized with by invoking the &#39;class&#39; method on a class.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">/// This method is also used to infer the type information for the return</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">/// types.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment"></span><span class="comment">// TODO: right now it only tracks generic types. Extend this to track every</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">// type in the DynamicTypeMap and diagnose type errors!</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="keywordtype">void</span> DynamicTypePropagation::checkPostObjCMessage(<span class="keyword">const</span> ObjCMethodCall &amp;M,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                                                  CheckerContext &amp;C)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMessageExpr.html">ObjCMessageExpr</a> *MessageExpr = M.getOriginExpr();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> RetSym = M.getReturnValue().getAsSymbol();</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (!RetSym)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <a class="code" href="classclang_1_1Selector.html">Selector</a> Sel = MessageExpr-&gt;<a class="code" href="classclang_1_1ObjCMessageExpr.html#a505c452dbe8d699266feb13c62242e3b">getSelector</a>();</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getState();</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// Here we try to propagate information on Class objects.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordflow">if</span> (Sel.<a class="code" href="classclang_1_1Selector.html#a4fc5593940af968fa1187c3cb6a8ef8b">getAsString</a>() == <span class="stringliteral">&quot;class&quot;</span>) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="comment">// We try to figure out the type from the receiver of the &#39;class&#39; message.</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> (RuntimeType ReceiverRuntimeType = inferReceiverType(M, C)) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      ReceiverRuntimeType.Type-&gt;getSuperClassType();</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="classclang_1_1QualType.html">QualType</a> ReceiverClassType(ReceiverRuntimeType.Type, 0);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="comment">// We want to consider only precise information on generics.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">if</span> (ReceiverRuntimeType.Type-&gt;isSpecialized() &amp;&amp;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;          ReceiverRuntimeType.Precise) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <a class="code" href="classclang_1_1QualType.html">QualType</a> ReceiverClassPointerType =</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext().getObjCObjectPointerType(ReceiverClassType);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> *InferredType =</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            ReceiverClassPointerType-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;MostSpecializedTypeArgsMap&gt;(RetSym, InferredType);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="comment">// Constrain the resulting class object to the inferred type.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceclang_1_1ento.html#a9af236e82ff5cae29733f25978bc0351">setClassObjectDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, RetSym, ReceiverClassType,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                            !ReceiverRuntimeType.Precise);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">if</span> (Sel.<a class="code" href="classclang_1_1Selector.html#a4fc5593940af968fa1187c3cb6a8ef8b">getAsString</a>() == <span class="stringliteral">&quot;superclass&quot;</span>) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="comment">// We try to figure out the type from the receiver of the &#39;superclass&#39;</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// message.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> (RuntimeType ReceiverRuntimeType = inferReceiverType(M, C)) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="comment">// Result type would be a super class of the receiver&#39;s type.</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <a class="code" href="classclang_1_1QualType.html">QualType</a> ReceiversSuperClass =</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;          ReceiverRuntimeType.Type-&gt;getSuperClassType();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="comment">// Check if it really had super class.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="comment">// TODO: we can probably pay closer attention to cases when the class</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="comment">// object can be &#39;nil&#39; as the result of such message.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="keywordflow">if</span> (!ReceiversSuperClass.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="comment">// Constrain the resulting class object to the inferred type.</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceclang_1_1ento.html#a9af236e82ff5cae29733f25978bc0351">setClassObjectDynamicTypeInfo</a>(</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, RetSym, ReceiversSuperClass, !ReceiverRuntimeType.Precise);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// Tracking for return types.</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> RecSym = M.getReceiverSVal().getAsSymbol();</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">if</span> (!RecSym)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<span class="keyword">const</span> *TrackedType =</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;MostSpecializedTypeArgsMap&gt;(RecSym);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (!TrackedType)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;ASTCtxt = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getASTContext();</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a> *Method =</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <a class="code" href="DynamicTypePropagation_8cpp.html#a20d73702490c9c9b9d00ebf426cb623d">findMethodDecl</a>(MessageExpr, *TrackedType, ASTCtxt);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">if</span> (!Method)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;ArrayRef&lt;QualType&gt;</a>&gt; TypeArgs =</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      (*TrackedType)-&gt;getObjCSubstitutions(Method-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>());</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">if</span> (!TypeArgs)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ResultType =</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <a class="code" href="DynamicTypePropagation_8cpp.html#a0046e03501bc615659a20cedc84ad0ab">getReturnTypeForMethod</a>(Method, *TypeArgs, *TrackedType, ASTCtxt);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// The static type is the same as the deduced type.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">if</span> (ResultType.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keyword">const</span> MemRegion *RetRegion = M.getReturnValue().getAsRegion();</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  ExplodedNode *Pred = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getPredecessor();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">// When there is an entry available for the return symbol in DynamicTypeMap,</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// the call was inlined, and the information in the DynamicTypeMap is should</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// be precise.</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">if</span> (RetRegion &amp;&amp; !<a class="code" href="namespaceclang_1_1ento.html#a5836b46dfa894dd33d71f29ed4beb2b5">getRawDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, RetRegion)) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="comment">// TODO: we have duplicated information in DynamicTypeMap and</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="comment">// MostSpecializedTypeArgsMap. We should only store anything in the later if</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">// the stored data differs from the one stored in the former.</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="namespaceclang_1_1ento.html#adf33a243bdf9940d0c3e8f1e2c337dd9">setDynamicTypeInfo</a>(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, RetRegion, ResultType,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                               <span class="comment">/*CanBeSubClassed=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    Pred = <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *ResultPtrType = ResultType-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">if</span> (!ResultPtrType || ResultPtrType-&gt;isUnspecialized())</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">// When the result is a specialized type and it is not tracked yet, track it</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// for the result symbol.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;get&lt;MostSpecializedTypeArgsMap&gt;(RetSym)) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a> = <a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>-&gt;set&lt;MostSpecializedTypeArgsMap&gt;(RetSym, ResultPtrType);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.addTransition(<a class="code" href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a>, Pred);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="keywordtype">void</span> DynamicTypePropagation::reportGenericsBug(</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *From, <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *To,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    ExplodedNode *N, <a class="code" href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">SymbolRef</a> Sym, CheckerContext &amp;C,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *ReportedNode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="keywordflow">if</span> (!CheckGenerics)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  initBugType();</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;192&gt;</a> Buf;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  llvm::raw_svector_ostream <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a>(Buf);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;Conversion from value of type &#39;&quot;</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">QualType::print</a>(From, <a class="code" href="classclang_1_1Qualifiers.html">Qualifiers</a>(), OS, <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getLangOpts(), llvm::Twine());</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39; to incompatible type &#39;&quot;</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">QualType::print</a>(To, <a class="code" href="classclang_1_1Qualifiers.html">Qualifiers</a>(), OS, <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.getLangOpts(), llvm::Twine());</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keyword">auto</span> R = std::make_unique&lt;PathSensitiveBugReport&gt;(*ObjCGenericsBugType,</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                                                    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a>.str(), N);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  R-&gt;markInteresting(Sym);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  R-&gt;addVisitor(std::make_unique&lt;GenericsBugVisitor&gt;(Sym));</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="keywordflow">if</span> (ReportedNode)</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    R-&gt;addRange(ReportedNode-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>());</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>.emitReport(std::move(R));</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<a class="code" href="namespaceclang_1_1ento.html#af0d0e00a28f39eb324aea94250e58848">PathDiagnosticPieceRef</a> DynamicTypePropagation::GenericsBugVisitor::VisitNode(</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keyword">const</span> ExplodedNode *N, BugReporterContext &amp;BRC,</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    PathSensitiveBugReport &amp;BR) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a> = N-&gt;getState();</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">ProgramStateRef</a> statePrev = N-&gt;getFirstPred()-&gt;getState();</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<span class="keyword">const</span> *TrackedType =</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>-&gt;get&lt;MostSpecializedTypeArgsMap&gt;(Sym);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a> *<span class="keyword">const</span> *TrackedTypePrev =</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      statePrev-&gt;get&lt;MostSpecializedTypeArgsMap&gt;(Sym);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">if</span> (!TrackedType)</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">if</span> (TrackedTypePrev &amp;&amp; *TrackedTypePrev == *TrackedType)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="comment">// Retrieve the associated statement.</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Stmt.html">Stmt</a> *S = N-&gt;getStmtForDiagnostics();</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">if</span> (!S)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1LangOptions.html">LangOptions</a> &amp;LangOpts = BRC.getASTContext().getLangOpts();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;256&gt;</a> Buf;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  llvm::raw_svector_ostream <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a>(Buf);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;Type &#39;&quot;</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">QualType::print</a>(*TrackedType, <a class="code" href="classclang_1_1Qualifiers.html">Qualifiers</a>(), OS, LangOpts, llvm::Twine());</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39; is inferred from &quot;</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExplicitCast = dyn_cast&lt;ExplicitCastExpr&gt;(S)) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;explicit cast (from &#39;&quot;</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">QualType::print</a>(ExplicitCast-&gt;getSubExpr()-&gt;getType().getTypePtr(),</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                    <a class="code" href="classclang_1_1Qualifiers.html">Qualifiers</a>(), OS, LangOpts, llvm::Twine());</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39; to &#39;&quot;</span>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">QualType::print</a>(ExplicitCast-&gt;getType().getTypePtr(), <a class="code" href="classclang_1_1Qualifiers.html">Qualifiers</a>(), OS,</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    LangOpts, llvm::Twine());</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39;)&quot;</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ImplicitCast = dyn_cast&lt;ImplicitCastExpr&gt;(S)) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;implicit cast (from &#39;&quot;</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">QualType::print</a>(ImplicitCast-&gt;getSubExpr()-&gt;getType().getTypePtr(),</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    <a class="code" href="classclang_1_1Qualifiers.html">Qualifiers</a>(), OS, LangOpts, llvm::Twine());</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39; to &#39;&quot;</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">QualType::print</a>(ImplicitCast-&gt;getType().getTypePtr(), <a class="code" href="classclang_1_1Qualifiers.html">Qualifiers</a>(), OS,</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    LangOpts, llvm::Twine());</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;&#39;)&quot;</span>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a> &lt;&lt; <span class="stringliteral">&quot;this context&quot;</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="comment">// Generate the extra diagnostic.</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  PathDiagnosticLocation Pos(S, BRC.getSourceManager(),</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                             N-&gt;getLocationContext());</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">return</span> std::make_shared&lt;PathDiagnosticEventPiece&gt;(Pos, <a class="code" href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">OS</a>.str(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">/// Register checkers.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ento::registerObjCGenericsChecker(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  DynamicTypePropagation *checker = mgr.getChecker&lt;DynamicTypePropagation&gt;();</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  checker-&gt;CheckGenerics = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  checker-&gt;GenericCheckName = mgr.getCurrentCheckerName();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterObjCGenericsChecker(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="keywordtype">void</span> ento::registerDynamicTypePropagation(CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  mgr.registerChecker&lt;DynamicTypePropagation&gt;();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="keywordtype">bool</span> ento::shouldRegisterDynamicTypePropagation(<span class="keyword">const</span> CheckerManager &amp;mgr) {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespaceclang_1_1ento_html_adf33a243bdf9940d0c3e8f1e2c337dd9"><div class="ttname"><a href="namespaceclang_1_1ento.html#adf33a243bdf9940d0c3e8f1e2c337dd9">clang::ento::setDynamicTypeInfo</a></div><div class="ttdeci">ProgramStateRef setDynamicTypeInfo(ProgramStateRef State, const MemRegion *MR, DynamicTypeInfo NewTy)</div><div class="ttdoc">Set dynamic type information of the region; return the new state.</div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_a0046e03501bc615659a20cedc84ad0ab"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#a0046e03501bc615659a20cedc84ad0ab">getReturnTypeForMethod</a></div><div class="ttdeci">static QualType getReturnTypeForMethod(const ObjCMethodDecl *Method, ArrayRef&lt; QualType &gt; TypeArgs, const ObjCObjectPointerType *SelfType, ASTContext &amp;C)</div><div class="ttdoc">Get the returned ObjCObjectPointerType by a method based on the tracked type information,...</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00776">DynamicTypePropagation.cpp:776</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_ace7160011da19e57112ab9ed9f84938b"><div class="ttname"><a href="classclang_1_1QualType.html#ace7160011da19e57112ab9ed9f84938b">clang::QualType::substObjCTypeArgs</a></div><div class="ttdeci">QualType substObjCTypeArgs(ASTContext &amp;ctx, ArrayRef&lt; QualType &gt; typeArgs, ObjCSubstitutionContext context) const</div><div class="ttdoc">Substitute type arguments for the Objective-C type parameters used in the subject type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l01485">Type.cpp:1485</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a55e47323b0150a66564ab406567a40f3a04e089df3503a496f2573c1b3f238812"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3a04e089df3503a496f2573c1b3f238812">clang::ObjCMessageExpr::SuperInstance</a></div><div class="ttdeci">@ SuperInstance</div><div class="ttdoc">The receiver is the instance of the superclass object.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01097">ExprObjC.h:1097</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html">clang::ObjCInterfaceDecl</a></div><div class="ttdoc">Represents an ObjC class declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01150">DeclObjC.h:1150</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXConstructExpr_html_a88db2c2b9ae313af0f3310a600bc44b5a3733e434dafb17cdbee82c01462a4da8"><div class="ttname"><a href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a3733e434dafb17cdbee82c01462a4da8">clang::CXXConstructExpr::CK_Complete</a></div><div class="ttdeci">@ CK_Complete</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l01465">ExprCXX.h:1465</a></div></div>
<div class="ttc" id="aBuiltins_8h_html"><div class="ttname"><a href="Builtins_8h.html">Builtins.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_a0aa07b06925d020335420509d60b9a62"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#a0aa07b06925d020335420509d60b9a62">clang::ObjCObjectPointerType::isSpecialized</a></div><div class="ttdeci">bool isSpecialized() const</div><div class="ttdoc">Whether this type is specialized, meaning that it has type arguments.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06239">Type.h:6239</a></div></div>
<div class="ttc" id="aclassclang_1_1ento_1_1DynamicTypeInfo_html_a85591ad2fca4bb3aae25cf43845e86d5"><div class="ttname"><a href="classclang_1_1ento_1_1DynamicTypeInfo.html#a85591ad2fca4bb3aae25cf43845e86d5">clang::ento::DynamicTypeInfo::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdoc">Returns the currently inferred upper bound on the runtime type.</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypeInfo_8h_source.html#l00034">DynamicTypeInfo.h:34</a></div></div>
<div class="ttc" id="aclassclang_1_1LocationContext_html"><div class="ttname"><a href="classclang_1_1LocationContext.html">clang::LocationContext</a></div><div class="ttdoc">It wraps the AnalysisDeclContext to represent both the call stack with the help of StackFrameContext ...</div><div class="ttdef"><b>Definition:</b> <a href="AnalysisDeclContext_8h_source.html#l00215">AnalysisDeclContext.h:215</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7491b5cdc2843824aac96e74c3947c87a83f499a540b1323009c200d6f8cc9396"><div class="ttname"><a href="namespaceclang.html#a7491b5cdc2843824aac96e74c3947c87a83f499a540b1323009c200d6f8cc9396">clang::ObjCSubstitutionContext::Parameter</a></div><div class="ttdeci">@ Parameter</div><div class="ttdoc">The parameter type of a method or function.</div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_aacab717c457fd6db9f2771b714d3cef2"><div class="ttname"><a href="namespaceclang_1_1ento.html#aacab717c457fd6db9f2771b714d3cef2">clang::ento::removeDeadClassObjectTypes</a></div><div class="ttdeci">ProgramStateRef removeDeadClassObjectTypes(ProgramStateRef State, SymbolReaper &amp;SR)</div><div class="ttdoc">Removes the dead Class object type informations from State.</div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_af0d0e00a28f39eb324aea94250e58848"><div class="ttname"><a href="namespaceclang_1_1ento.html#af0d0e00a28f39eb324aea94250e58848">clang::ento::PathDiagnosticPieceRef</a></div><div class="ttdeci">std::shared_ptr&lt; PathDiagnosticPiece &gt; PathDiagnosticPieceRef</div><div class="ttdef"><b>Definition:</b> <a href="PathDiagnostic_8h_source.html#l00492">PathDiagnostic.h:492</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a505c452dbe8d699266feb13c62242e3b"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a505c452dbe8d699266feb13c62242e3b">clang::ObjCMessageExpr::getSelector</a></div><div class="ttdeci">Selector getSelector() const</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8cpp_source.html#l00293">ExprObjC.cpp:293</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae72de8de2d11f0457055056887f2a0a0a19c8367b361b73364ac49ad35e5199ab"><div class="ttname"><a href="namespaceclang.html#ae72de8de2d11f0457055056887f2a0a0a19c8367b361b73364ac49ad35e5199ab">clang::ObjCTypeParamVariance::Invariant</a></div><div class="ttdeci">@ Invariant</div><div class="ttdoc">The parameter is invariant: must match exactly.</div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_a3cfb387ff9a94de8d7ecc745c11ec1c7"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#a3cfb387ff9a94de8d7ecc745c11ec1c7">clang::ObjCObjectPointerType::stripObjCKindOfTypeAndQuals</a></div><div class="ttdeci">const ObjCObjectPointerType * stripObjCKindOfTypeAndQuals(const ASTContext &amp;ctx) const</div><div class="ttdoc">Strip off the Objective-C &quot;kindof&quot; type and (with it) any protocol qualifiers.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00831">Type.cpp:831</a></div></div>
<div class="ttc" id="anamespaceclang_html_acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5"><div class="ttname"><a href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">clang::MultiVersionKind::Target</a></div><div class="ttdeci">@ Target</div></div>
<div class="ttc" id="aclassclang_1_1CastExpr_html_a37e3d80c4ca590eadbe49e400c50134b"><div class="ttname"><a href="classclang_1_1CastExpr.html#a37e3d80c4ca590eadbe49e400c50134b">clang::CastExpr::getSubExpr</a></div><div class="ttdeci">Expr * getSubExpr()</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l03582">Expr.h:3582</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html_a6844392ee6148b5fe821f211b95e5d1b"><div class="ttname"><a href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">clang::Stmt::getSourceRange</a></div><div class="ttdeci">SourceRange getSourceRange() const LLVM_READONLY</div><div class="ttdoc">SourceLocation tokens are not useful in isolation - they are low level value objects created/interpre...</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8cpp_source.html#l00324">Stmt.cpp:324</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a4e45a121820f0d80d8910093dd33a1df"><div class="ttname"><a href="namespaceclang_1_1ento.html#a4e45a121820f0d80d8910093dd33a1df">clang::ento::ProgramStateRef</a></div><div class="ttdeci">IntrusiveRefCntPtr&lt; const ProgramState &gt; ProgramStateRef</div><div class="ttdef"><b>Definition:</b> <a href="ProgramState__Fwd_8h_source.html#l00037">ProgramState_Fwd.h:37</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html"><div class="ttname"><a href="classclang_1_1QualType.html">clang::QualType</a></div><div class="ttdoc">A (possibly-)qualified type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00675">Type.h:675</a></div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_ac67b8df443c2b31677c4ea95f2e14753"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#ac67b8df443c2b31677c4ea95f2e14753">REGISTER_MAP_WITH_PROGRAMSTATE</a></div><div class="ttdeci">REGISTER_MAP_WITH_PROGRAMSTATE(MostSpecializedTypeArgsMap, SymbolRef, const ObjCObjectPointerType *) namespace</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00046">DynamicTypePropagation.cpp:46</a></div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html_a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e"><div class="ttname"><a href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">AttributeLangSupport::C</a></div><div class="ttdeci">@ C</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00054">SemaDeclAttr.cpp:54</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXNewExpr_html_a12e3c07be0e37a0890644498b68bec34"><div class="ttname"><a href="classclang_1_1CXXNewExpr.html#a12e3c07be0e37a0890644498b68bec34">clang::CXXNewExpr::isArray</a></div><div class="ttdeci">bool isArray() const</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l02262">ExprCXX.h:2262</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html_a539fe54438aa1eaf00dce80f16ceed7c"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html#a539fe54438aa1eaf00dce80f16ceed7c">clang::ObjCInterfaceDecl::lookupClassMethod</a></div><div class="ttdeci">ObjCMethodDecl * lookupClassMethod(Selector Sel) const</div><div class="ttdoc">Lookup a class method for a given selector.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01830">DeclObjC.h:1830</a></div></div>
<div class="ttc" id="anamespaceclang_html_a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece"><div class="ttname"><a href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece">clang::OMF_init</a></div><div class="ttdeci">@ OMF_init</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00700">IdentifierTable.h:700</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a900520b154ba282febbaa7267020ca3f"><div class="ttname"><a href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">clang::QualType::getCanonicalType</a></div><div class="ttdeci">QualType getCanonicalType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06541">Type.h:6541</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_aa15662dfc2f30516093b490ad071cb20"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#aa15662dfc2f30516093b490ad071cb20">clang::ObjCObjectPointerType::isObjCIdType</a></div><div class="ttdeci">bool isObjCIdType() const</div><div class="ttdoc">True if this is equivalent to the 'id' type, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06208">Type.h:6208</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html"><div class="ttname"><a href="classclang_1_1Qualifiers.html">clang::Qualifiers</a></div><div class="ttdoc">The collection of all-type qualifiers we support.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00147">Type.h:147</a></div></div>
<div class="ttc" id="aclassclang_1_1ParmVarDecl_html"><div class="ttname"><a href="classclang_1_1ParmVarDecl.html">clang::ParmVarDecl</a></div><div class="ttdoc">Represents a parameter to a function.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01664">Decl.h:1664</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_ae289a054485ee4d1d66b33e833e16091"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#ae289a054485ee4d1d66b33e833e16091">clang::ObjCMethodDecl::getClassInterface</a></div><div class="ttdeci">ObjCInterfaceDecl * getClassInterface()</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8cpp_source.html#l01176">DeclObjC.cpp:1176</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXNewExpr_html"><div class="ttname"><a href="classclang_1_1CXXNewExpr.html">clang::CXXNewExpr</a></div><div class="ttdoc">Represents a new-expression for memory allocation and constructor calls, e.g: &quot;new CXXNewExpr(foo)&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l02139">ExprCXX.h:2139</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a7b23a067324d14c5d493837dbc4fd8ca"><div class="ttname"><a href="namespaceclang_1_1ento.html#a7b23a067324d14c5d493837dbc4fd8ca">clang::ento::SymbolRef</a></div><div class="ttdeci">const SymExpr * SymbolRef</div><div class="ttdef"><b>Definition:</b> <a href="SymExpr_8h_source.html#l00110">SymExpr.h:110</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a52ac8728aad0bc716d5c87887f332cf9"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a52ac8728aad0bc716d5c87887f332cf9">clang::ObjCMessageExpr::getInstanceReceiver</a></div><div class="ttdeci">Expr * getInstanceReceiver()</div><div class="ttdoc">Returns the object expression (receiver) for an instance message, or null for a message that is not a...</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01250">ExprObjC.h:1250</a></div></div>
<div class="ttc" id="aclassllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00040">LLVM.h:40</a></div></div>
<div class="ttc" id="anamespaceclang_1_1tooling_html_a4ffee664435dba78b2225a5457619b53"><div class="ttname"><a href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">clang::tooling::X</a></div><div class="ttdeci">static ToolExecutorPluginRegistry::Add&lt; AllTUsToolExecutorPlugin &gt; X(&quot;all-TUs&quot;, &quot;Runs FrontendActions on all TUs in the compilation database. &quot; &quot;Tool results are stored in memory.&quot;)</div></div>
<div class="ttc" id="anamespaceclang_1_1index_html_a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e"><div class="ttname"><a href="namespaceclang_1_1index.html#a21cdcb5f0f9f26abf02e5c4c3bb93e11ac3755e61202abd74da5885d2e9c9160e">clang::index::SymbolRole::Call</a></div><div class="ttdeci">@ Call</div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_ad65c1938446fe80256e1387bf07a1e47"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#ad65c1938446fe80256e1387bf07a1e47">stripCastsAndSugar</a></div><div class="ttdeci">static const Expr * stripCastsAndSugar(const Expr *E)</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00703">DynamicTypePropagation.cpp:703</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a55e47323b0150a66564ab406567a40f3adc904b05090355dbf60d3e1eff934a54"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3adc904b05090355dbf60d3e1eff934a54">clang::ObjCMessageExpr::SuperClass</a></div><div class="ttdeci">@ SuperClass</div><div class="ttdoc">The receiver is a superclass.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01094">ExprObjC.h:1094</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_ae96487a9d5ac8396d8e7e6623e089e88"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#ae96487a9d5ac8396d8e7e6623e089e88">clang::ObjCObjectPointerType::getInterfaceDecl</a></div><div class="ttdeci">ObjCInterfaceDecl * getInterfaceDecl() const</div><div class="ttdoc">If this pointer points to an Objective @interface type, gets the declaration for that interface.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06202">Type.h:6202</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_ac8e7d18b71e06a146c924102e41bcffd"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#ac8e7d18b71e06a146c924102e41bcffd">clang::ObjCMessageExpr::getArg</a></div><div class="ttdeci">Expr * getArg(unsigned Arg)</div><div class="ttdoc">getArg - Return the specified argument.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01385">ExprObjC.h:1385</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_aa973df846a47955158eaa495a17b17ec"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#aa973df846a47955158eaa495a17b17ec">clang::ObjCObjectPointerType::getObjectType</a></div><div class="ttdeci">const ObjCObjectType * getObjectType() const</div><div class="ttdoc">Gets the type pointed to by this ObjC pointer.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06187">Type.h:6187</a></div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_a1d70a1a465326862ea99d88c0a8dc188"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#a1d70a1a465326862ea99d88c0a8dc188">getMostInformativeDerivedClassImpl</a></div><div class="ttdeci">static const ObjCObjectPointerType * getMostInformativeDerivedClassImpl(const ObjCObjectPointerType *From, const ObjCObjectPointerType *To, const ObjCObjectPointerType *MostInformativeCandidate, ASTContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00469">DynamicTypePropagation.cpp:469</a></div></div>
<div class="ttc" id="aclassclang_1_1OpaqueValueExpr_html"><div class="ttname"><a href="classclang_1_1OpaqueValueExpr.html">clang::OpaqueValueExpr</a></div><div class="ttdoc">OpaqueValueExpr - An expression referring to an opaque object of a fixed type and value class.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l01135">Expr.h:1135</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html"><div class="ttname"><a href="classclang_1_1Type.html">clang::Type</a></div><div class="ttdoc">The base class of the type hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l01492">Type.h:1492</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectType_html"><div class="ttname"><a href="classclang_1_1ObjCObjectType.html">clang::ObjCObjectType</a></div><div class="ttdoc">Represents a class type in Objective C.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l05894">Type.h:5894</a></div></div>
<div class="ttc" id="aCallEvent_8h_html"><div class="ttname"><a href="CallEvent_8h.html">CallEvent.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ac2fdc04bb01a4f52a42b417b9c8c1c39"><div class="ttname"><a href="classclang_1_1Type.html#ac2fdc04bb01a4f52a42b417b9c8c1c39">clang::Type::isObjCClassType</a></div><div class="ttdeci">bool isObjCClassType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06917">Type.h:6917</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html_afeefd7148e277440d2ef0e253613eae9"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html#afeefd7148e277440d2ef0e253613eae9">clang::ObjCInterfaceDecl::lookupInstanceMethod</a></div><div class="ttdeci">ObjCMethodDecl * lookupInstanceMethod(Selector Sel) const</div><div class="ttdoc">Lookup an instance method for a given selector.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01825">DeclObjC.h:1825</a></div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_a53b05430a8ec7d5ac304d75e22095595"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#a53b05430a8ec7d5ac304d75e22095595">getMostInformativeDerivedClass</a></div><div class="ttdeci">static const ObjCObjectPointerType * getMostInformativeDerivedClass(const ObjCObjectPointerType *From, const ObjCObjectPointerType *To, ASTContext &amp;C)</div><div class="ttdoc">A downcast may loose specialization information. E. g.: MutableMap&lt;T, U&gt; : Map The downcast to Mutabl...</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00515">DynamicTypePropagation.cpp:515</a></div></div>
<div class="ttc" id="aBuiltinCheckerRegistration_8h_html"><div class="ttname"><a href="BuiltinCheckerRegistration_8h.html">BuiltinCheckerRegistration.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_a92c933b9cb85abc51f171a578fce4c9b"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#a92c933b9cb85abc51f171a578fce4c9b">clang::ObjCMethodDecl::hasRelatedResultType</a></div><div class="ttdeci">bool hasRelatedResultType() const</div><div class="ttdoc">Determine whether this method has a result type that is related to the message receiver's type.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00259">DeclObjC.h:259</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a903df8e91e75403da0da82add1e8a833"><div class="ttname"><a href="classclang_1_1Type.html#a903df8e91e75403da0da82add1e8a833">clang::Type::isObjCIdType</a></div><div class="ttdeci">bool isObjCIdType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06911">Type.h:6911</a></div></div>
<div class="ttc" id="aCheckerManager_8h_html"><div class="ttname"><a href="CheckerManager_8h.html">CheckerManager.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html"><div class="ttname"><a href="classclang_1_1ASTContext.html">clang::ASTContext</a></div><div class="ttdoc">Holds long-lived AST nodes (such as types and decls) that can be referred to throughout the semantic ...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00208">ASTContext.h:208</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7491b5cdc2843824aac96e74c3947c87a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespaceclang.html#a7491b5cdc2843824aac96e74c3947c87a8eea62084ca7e541d918e823422bd82e">clang::ObjCSubstitutionContext::Result</a></div><div class="ttdeci">@ Result</div><div class="ttdoc">The result type of a method or function.</div></div>
<div class="ttc" id="aclassclang_1_1RecursiveASTVisitor_html"><div class="ttname"><a href="classclang_1_1RecursiveASTVisitor.html">clang::RecursiveASTVisitor</a></div><div class="ttdoc">A class that does preorder or postorder depth-first traversal on the entire Clang AST and visits each...</div><div class="ttdef"><b>Definition:</b> <a href="RecursiveASTVisitor_8h_source.html#l00164">RecursiveASTVisitor.h:164</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_adae68e1f4c85ede2d36da45fbefc48a2"><div class="ttname"><a href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">clang::Type::getAs</a></div><div class="ttdeci">const T * getAs() const</div><div class="ttdoc">Member-template getAs&lt;specific type&gt;'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07263">Type.h:7263</a></div></div>
<div class="ttc" id="aclassclang_1_1PseudoObjectExpr_html"><div class="ttname"><a href="classclang_1_1PseudoObjectExpr.html">clang::PseudoObjectExpr</a></div><div class="ttdoc">PseudoObjectExpr - An expression which accesses a pseudo-object l-value.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l06153">Expr.h:6153</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a8ddde434ba63bcbfdcfdb3407210f8a7"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a8ddde434ba63bcbfdcfdb3407210f8a7">clang::ObjCMessageExpr::getReceiverKind</a></div><div class="ttdeci">ReceiverKind getReceiverKind() const</div><div class="ttdoc">Determine the kind of receiver that this message is being sent to.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01224">ExprObjC.h:1224</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a9af236e82ff5cae29733f25978bc0351"><div class="ttname"><a href="namespaceclang_1_1ento.html#a9af236e82ff5cae29733f25978bc0351">clang::ento::setClassObjectDynamicTypeInfo</a></div><div class="ttdeci">ProgramStateRef setClassObjectDynamicTypeInfo(ProgramStateRef State, SymbolRef Sym, DynamicTypeInfo NewTy)</div><div class="ttdoc">Set constraint on a type contained in a class object; return the new state.</div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html_a03d40f21d5065b963afa622e4a9b12ba"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html#a03d40f21d5065b963afa622e4a9b12ba">clang::ObjCInterfaceDecl::getTypeParamList</a></div><div class="ttdeci">ObjCTypeParamList * getTypeParamList() const</div><div class="ttdoc">Retrieve the type parameters of this class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8cpp_source.html#l00321">DeclObjC.cpp:321</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html_a9a36f90c90605e0cab9377c8bc8b296f"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html#a9a36f90c90605e0cab9377c8bc8b296f">clang::ObjCObjectPointerType::isUnspecialized</a></div><div class="ttdeci">bool isUnspecialized() const</div><div class="ttdoc">Whether this type is unspecialized, meaning that is has no type arguments.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06247">Type.h:6247</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a55e47323b0150a66564ab406567a40f3af0ac31ca6897a72531f404e6356c0951"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3af0ac31ca6897a72531f404e6356c0951">clang::ObjCMessageExpr::Class</a></div><div class="ttdeci">@ Class</div><div class="ttdoc">The receiver is a class.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01088">ExprObjC.h:1088</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00037">LLVM.h:37</a></div></div>
<div class="ttc" id="astdbool_8h_html_abb452686968e48b67397da5f97445f5b"><div class="ttname"><a href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></div><div class="ttdeci">#define bool</div><div class="ttdef"><b>Definition:</b> <a href="stdbool_8h_source.html#l00020">stdbool.h:20</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a2876aa008b370e91e451f946d4aca17b"><div class="ttname"><a href="classclang_1_1ASTContext.html#a2876aa008b370e91e451f946d4aca17b">clang::ASTContext::getRecordType</a></div><div class="ttdeci">QualType getRecordType(const RecordDecl *Decl) const</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l04641">ASTContext.cpp:4641</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_ad8e7d64eefce9e621eb2ccc8562d564d"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#ad8e7d64eefce9e621eb2ccc8562d564d">clang::ObjCMethodDecl::getReturnType</a></div><div class="ttdeci">QualType getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00332">DeclObjC.h:332</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXConstructExpr_html_a88db2c2b9ae313af0f3310a600bc44b5a22f1a5d2b5baa0b0726243ef8ffd27ee"><div class="ttname"><a href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a22f1a5d2b5baa0b0726243ef8ffd27ee">clang::CXXConstructExpr::CK_Delegating</a></div><div class="ttdeci">@ CK_Delegating</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l01468">ExprCXX.h:1468</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4819d803b6726ac10837782702426ef6"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4819d803b6726ac10837782702426ef6">clang::ASTContext::canAssignObjCInterfaces</a></div><div class="ttdeci">bool canAssignObjCInterfaces(const ObjCObjectPointerType *LHSOPT, const ObjCObjectPointerType *RHSOPT)</div><div class="ttdoc">canAssignObjCInterfaces - Return true if the two interface types are compatible for assignment from R...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l09497">ASTContext.cpp:9497</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html">clang::ObjCMessageExpr</a></div><div class="ttdoc">An expression that sends a message to the given Objective-C object or class.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l00940">ExprObjC.h:940</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a9847b1e9f17738a9c3a45a31bb2e48dd"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a9847b1e9f17738a9c3a45a31bb2e48dd">clang::ObjCMessageExpr::getReceiverType</a></div><div class="ttdeci">QualType getReceiverType() const</div><div class="ttdoc">Retrieve the receiver type to which this message is being directed.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8cpp_source.html#l00300">ExprObjC.cpp:300</a></div></div>
<div class="ttc" id="aclassclang_1_1CastExpr_html_a2e40241b31a75137d192af1ec626f9d8"><div class="ttname"><a href="classclang_1_1CastExpr.html#a2e40241b31a75137d192af1ec626f9d8">clang::CastExpr::getCastKind</a></div><div class="ttdeci">CastKind getCastKind() const</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l03576">Expr.h:3576</a></div></div>
<div class="ttc" id="aStaticAnalyzer_2README_8txt_html_a1a264b3e48bda8ea3bed83698db8dca7"><div class="ttname"><a href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a></div><div class="ttdeci">and static some checkers Checker The latter are built on top of the former via the Checker and CheckerVisitor and attempts to isolate them from much of the gore of the internal analysis the analyzer is basically a source code simulator that traces out possible paths of execution The state of the and the combination of state and program point is a node in an exploded which has the entry program point and initial state</div><div class="ttdef"><b>Definition:</b> <a href="StaticAnalyzer_2README_8txt_source.html#l00030">README.txt:30</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_1_1categories_html_a581ad8dfd250561e543f31d64a6e8b6b"><div class="ttname"><a href="namespaceclang_1_1ento_1_1categories.html#a581ad8dfd250561e543f31d64a6e8b6b">clang::ento::categories::CoreFoundationObjectiveC</a></div><div class="ttdeci">const char *const CoreFoundationObjectiveC</div><div class="ttdef"><b>Definition:</b> <a href="CommonBugCategories_8cpp_source.html#l00016">CommonBugCategories.cpp:16</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a436b8b08ae7f2404b4712d37986194ce"><div class="ttname"><a href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">clang::Type::castAs</a></div><div class="ttdeci">const T * castAs() const</div><div class="ttdoc">Member-template castAs&lt;specific type&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07330">Type.h:7330</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html">clang::ObjCObjectPointerType</a></div><div class="ttdoc">Represents a pointer to an Objective C object.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06150">Type.h:6150</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_aefdbeb96991bd1e2212c10f646046bb1"><div class="ttname"><a href="namespaceclang_1_1ento.html#aefdbeb96991bd1e2212c10f646046bb1">clang::ento::removeDeadTypes</a></div><div class="ttdeci">ProgramStateRef removeDeadTypes(ProgramStateRef State, SymbolReaper &amp;SR)</div><div class="ttdoc">Removes the dead type informations from State.</div></div>
<div class="ttc" id="aBugType_8h_html"><div class="ttname"><a href="BugType_8h.html">BugType.h</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a54127635d2ca4754e91ee96b594eff74"><div class="ttname"><a href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">clang::QualType::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Return true if this QualType doesn't point to a type yet.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00740">Type.h:740</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00034">LLVM.h:34</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html"><div class="ttname"><a href="classclang_1_1Decl.html">clang::Decl</a></div><div class="ttdoc">Decl - This represents one declaration (or definition), e.g.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00083">DeclBase.h:83</a></div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_a20d73702490c9c9b9d00ebf426cb623d"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#a20d73702490c9c9b9d00ebf426cb623d">findMethodDecl</a></div><div class="ttdeci">static const ObjCMethodDecl * findMethodDecl(const ObjCMessageExpr *MessageExpr, const ObjCObjectPointerType *TrackedType, ASTContext &amp;ASTCtxt)</div><div class="ttdoc">A method might not be available in the interface indicated by the static type. However it might be av...</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00742">DynamicTypePropagation.cpp:742</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a54036c75e73ecdf081729210fa53e582"><div class="ttname"><a href="classclang_1_1Expr.html#a54036c75e73ecdf081729210fa53e582">clang::Expr::IgnoreParenImpCasts</a></div><div class="ttdeci">Expr * IgnoreParenImpCasts() LLVM_READONLY</div><div class="ttdoc">Skip past any parentheses and implicit casts which might surround this expression until reaching a fi...</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l02948">Expr.cpp:2948</a></div></div>
<div class="ttc" id="aUnwrappedLineFormatter_8cpp_html_a83e9e4ff6cb05dbdf72ab2a01aa289c0"><div class="ttname"><a href="UnwrappedLineFormatter_8cpp.html#a83e9e4ff6cb05dbdf72ab2a01aa289c0">State</a></div><div class="ttdeci">LineState State</div><div class="ttdef"><b>Definition:</b> <a href="UnwrappedLineFormatter_8cpp_source.html#l01083">UnwrappedLineFormatter.cpp:1083</a></div></div>
<div class="ttc" id="aclassclang_1_1Selector_html_a4fc5593940af968fa1187c3cb6a8ef8b"><div class="ttname"><a href="classclang_1_1Selector.html#a4fc5593940af968fa1187c3cb6a8ef8b">clang::Selector::getAsString</a></div><div class="ttdeci">std::string getAsString() const</div><div class="ttdoc">Derive the full selector name (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8cpp_source.html#l00528">IdentifierTable.cpp:528</a></div></div>
<div class="ttc" id="aclassclang_1_1ParentMap_html_acb3be22e2274053983dda85999b87274"><div class="ttname"><a href="classclang_1_1ParentMap.html#acb3be22e2274053983dda85999b87274">clang::ParentMap::getParent</a></div><div class="ttdeci">Stmt * getParent(Stmt *) const</div><div class="ttdef"><b>Definition:</b> <a href="ParentMap_8cpp_source.html#l00134">ParentMap.cpp:134</a></div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_a54c79af36bf080745de998f6ead0c598"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#a54c79af36bf080745de998f6ead0c598">recordFixedType</a></div><div class="ttdeci">static void recordFixedType(const MemRegion *Region, const CXXMethodDecl *MD, CheckerContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00249">DynamicTypePropagation.cpp:249</a></div></div>
<div class="ttc" id="aCheckerContext_8h_html"><div class="ttname"><a href="CheckerContext_8h.html">CheckerContext.h</a></div></div>
<div class="ttc" id="anamespaceclang_html_a5dc786a6640e4d510cd8b68a5a87a140add0d96887fd8a747f93910ca08eb466c"><div class="ttname"><a href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140add0d96887fd8a747f93910ca08eb466c">clang::OMF_new</a></div><div class="ttdeci">@ OMF_new</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00702">IdentifierTable.h:702</a></div></div>
<div class="ttc" id="aclassclang_1_1LangOptions_html"><div class="ttname"><a href="classclang_1_1LangOptions.html">clang::LangOptions</a></div><div class="ttdoc">Keeps track of the various options that can be enabled, which controls the dialect of C or C++ that i...</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8h_source.html#l00058">LangOptions.h:58</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html_ac88184f3f209f215e89461de4ce29d96"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html#ac88184f3f209f215e89461de4ce29d96">clang::ObjCInterfaceDecl::getCanonicalDecl</a></div><div class="ttdeci">ObjCInterfaceDecl * getCanonicalDecl() override</div><div class="ttdoc">Retrieves the canonical declaration of this Objective-C class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01893">DeclObjC.h:1893</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCTypeParamDecl_html"><div class="ttname"><a href="classclang_1_1ObjCTypeParamDecl.html">clang::ObjCTypeParamDecl</a></div><div class="ttdoc">Represents the declaration of an Objective-C type parameter.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00582">DeclObjC.h:582</a></div></div>
<div class="ttc" id="aChecker_8h_html"><div class="ttname"><a href="Checker_8h.html">Checker.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html">clang::ObjCMethodDecl</a></div><div class="ttdoc">ObjCMethodDecl - Represents an instance or class method declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00139">DeclObjC.h:139</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectType_html_af016473586ee36e6c10911ca686cf42e"><div class="ttname"><a href="classclang_1_1ObjCObjectType.html#af016473586ee36e6c10911ca686cf42e">clang::ObjCObjectType::getSuperClassType</a></div><div class="ttdeci">QualType getSuperClassType() const</div><div class="ttdoc">Retrieve the type of the superclass of this object type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06022">Type.h:6022</a></div></div>
<div class="ttc" id="aclassclang_1_1PointerType_html"><div class="ttname"><a href="classclang_1_1PointerType.html">clang::PointerType</a></div><div class="ttdoc">PointerType - C99 6.7.5.1 - Pointer Declarators.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02655">Type.h:2655</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a55e47323b0150a66564ab406567a40f3a4756d0e9fdac36e78b8e9204de1024ed"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a55e47323b0150a66564ab406567a40f3a4756d0e9fdac36e78b8e9204de1024ed">clang::ObjCMessageExpr::Instance</a></div><div class="ttdeci">@ Instance</div><div class="ttdoc">The receiver is an object instance.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01091">ExprObjC.h:1091</a></div></div>
<div class="ttc" id="aParentMap_8h_html"><div class="ttname"><a href="ParentMap_8h.html">ParentMap.h</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXConstructExpr_html_a88db2c2b9ae313af0f3310a600bc44b5a4018db20cea3318e42f7eda9798449fa"><div class="ttname"><a href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a4018db20cea3318e42f7eda9798449fa">clang::CXXConstructExpr::CK_NonVirtualBase</a></div><div class="ttdeci">@ CK_NonVirtualBase</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l01466">ExprCXX.h:1466</a></div></div>
<div class="ttc" id="anamespaceclang_1_1Builtin_html_a96281da348e2b70f3a45a66f6e48905c"><div class="ttname"><a href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">clang::Builtin::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8h_source.html#l00049">Builtins.h:49</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCTypeParamList_html"><div class="ttname"><a href="classclang_1_1ObjCTypeParamList.html">clang::ObjCTypeParamList</a></div><div class="ttdoc">Stores a list of Objective-C type parameters for a parameterized class or a category/extension thereo...</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00660">DeclObjC.h:660</a></div></div>
<div class="ttc" id="anamespaceclang_html"><div class="ttname"><a href="namespaceclang.html">clang</a></div><div class="ttdef"><b>Definition:</b> <a href="CalledOnceCheck_8h_source.html#l00017">CalledOnceCheck.h:17</a></div></div>
<div class="ttc" id="aclassclang_1_1Selector_html"><div class="ttname"><a href="classclang_1_1Selector.html">clang::Selector</a></div><div class="ttdoc">Smart pointer class that efficiently represents Objective-C method names.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00752">IdentifierTable.h:752</a></div></div>
<div class="ttc" id="aRecursiveASTVisitor_8h_html"><div class="ttname"><a href="RecursiveASTVisitor_8h.html">RecursiveASTVisitor.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html"><div class="ttname"><a href="classclang_1_1Stmt.html">clang::Stmt</a></div><div class="ttdoc">Stmt - This represents one statement.</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8h_source.html#l00069">Stmt.h:69</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXConstructExpr_html_a88db2c2b9ae313af0f3310a600bc44b5a0b85c1db0f2c292fce108d89f2f16f05"><div class="ttname"><a href="classclang_1_1CXXConstructExpr.html#a88db2c2b9ae313af0f3310a600bc44b5a0b85c1db0f2c292fce108d89f2f16f05">clang::CXXConstructExpr::CK_VirtualBase</a></div><div class="ttdeci">@ CK_VirtualBase</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l01467">ExprCXX.h:1467</a></div></div>
<div class="ttc" id="anamespaceclang_html_a5dc786a6640e4d510cd8b68a5a87a140aa2506f3f3aa110c8634c520cac188850"><div class="ttname"><a href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140aa2506f3f3aa110c8634c520cac188850">clang::OMF_alloc</a></div><div class="ttdeci">@ OMF_alloc</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00698">IdentifierTable.h:698</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_ac9bfcc699442f2093723cfcf703d9f47"><div class="ttname"><a href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">clang::Expr::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00141">Expr.h:141</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a85203ff59e30485eb0e5cf23132ccf58"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a85203ff59e30485eb0e5cf23132ccf58">clang::ObjCMessageExpr::getMethodDecl</a></div><div class="ttdeci">const ObjCMethodDecl * getMethodDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01346">ExprObjC.h:1346</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html_aecbdcfb22828060a59acbc8154d1e650"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html#aecbdcfb22828060a59acbc8154d1e650">clang::ObjCInterfaceDecl::isSuperClassOf</a></div><div class="ttdeci">bool isSuperClassOf(const ObjCInterfaceDecl *I) const</div><div class="ttdoc">isSuperClassOf - Return true if this class is the specified class or is a super class of the specifie...</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01788">DeclObjC.h:1788</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a41483c42a2f92e8cb7737cf20661a92c"><div class="ttname"><a href="classclang_1_1ASTContext.html#a41483c42a2f92e8cb7737cf20661a92c">clang::ASTContext::getPointerType</a></div><div class="ttdeci">QualType getPointerType(QualType T) const</div><div class="ttdoc">Return the uniqued reference to the type for a pointer to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l03270">ASTContext.cpp:3270</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_ae4b89841e4980f344a7ae9249e15b7f1"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#ae4b89841e4980f344a7ae9249e15b7f1">clang::ObjCMethodDecl::parameters</a></div><div class="ttdeci">ArrayRef&lt; ParmVarDecl * &gt; parameters() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00376">DeclObjC.h:376</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a84a489ae72024250d02b58a0cf7e624c"><div class="ttname"><a href="classclang_1_1QualType.html#a84a489ae72024250d02b58a0cf7e624c">clang::QualType::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, const PrintingPolicy &amp;Policy, const Twine &amp;PlaceHolder=Twine(), unsigned Indentation=0) const</div><div class="ttdef"><b>Definition:</b> <a href="TypePrinter_8cpp_source.html#l02299">TypePrinter.cpp:2299</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCTypeParamType_html"><div class="ttname"><a href="classclang_1_1ObjCTypeParamType.html">clang::ObjCTypeParamType</a></div><div class="ttdoc">Represents a type parameter type in Objective C.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l05819">Type.h:5819</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a6457400eb37b74bf08efc178d6474e07"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a6457400eb37b74bf08efc178d6474e07">clang::ObjCMessageExpr::getClassReceiver</a></div><div class="ttdeci">QualType getClassReceiver() const</div><div class="ttdoc">Returns the type of a class message send, or NULL if the message is not a class message.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01269">ExprObjC.h:1269</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_ab7f7151e4744aca183849d4f1aed6c0c"><div class="ttname"><a href="namespaceclang_1_1ento.html#ab7f7151e4744aca183849d4f1aed6c0c">clang::ento::getDynamicTypeInfo</a></div><div class="ttdeci">DynamicTypeInfo getDynamicTypeInfo(ProgramStateRef State, const MemRegion *MR)</div><div class="ttdoc">Get dynamic type information for the region MR.</div></div>
<div class="ttc" id="aclassclang_1_1ObjCMessageExpr_html_a7b7f1c68abd5d3a25181d8b184d843f1"><div class="ttname"><a href="classclang_1_1ObjCMessageExpr.html#a7b7f1c68abd5d3a25181d8b184d843f1">clang::ObjCMessageExpr::getSuperType</a></div><div class="ttdeci">QualType getSuperType() const</div><div class="ttdoc">Retrieve the type referred to by 'super'.</div><div class="ttdef"><b>Definition:</b> <a href="ExprObjC_8h_source.html#l01326">ExprObjC.h:1326</a></div></div>
<div class="ttc" id="aDynamicType_8h_html"><div class="ttname"><a href="DynamicType_8h.html">DynamicType.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ValueDecl_html_a673ae4e2fab42426820de8df166fef5d"><div class="ttname"><a href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">clang::ValueDecl::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00686">Decl.h:686</a></div></div>
<div class="ttc" id="aProgramStateTrait_8h_html"><div class="ttname"><a href="ProgramStateTrait_8h.html">ProgramStateTrait.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html"><div class="ttname"><a href="classclang_1_1Expr.html">clang::Expr</a></div><div class="ttdoc">This represents one expression.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00109">Expr.h:109</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_af8e3b17dce37cf7a6e2efc03f1831f84"><div class="ttname"><a href="namespaceclang_1_1ento.html#af8e3b17dce37cf7a6e2efc03f1831f84">clang::ento::getClassObjectDynamicTypeInfo</a></div><div class="ttdeci">DynamicTypeInfo getClassObjectDynamicTypeInfo(ProgramStateRef State, SymbolRef Sym)</div><div class="ttdoc">Get dynamic type information stored in a class object represented by Sym.</div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_aeb2b40d1dd1a6330e138366e699df354"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#aeb2b40d1dd1a6330e138366e699df354">storeWhenMoreInformative</a></div><div class="ttdeci">static bool storeWhenMoreInformative(ProgramStateRef &amp;State, SymbolRef Sym, const ObjCObjectPointerType *const *Current, const ObjCObjectPointerType *StaticLowerBound, const ObjCObjectPointerType *StaticUpperBound, ASTContext &amp;C)</div><div class="ttdoc">Inputs:</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00541">DynamicTypePropagation.cpp:541</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_a5836b46dfa894dd33d71f29ed4beb2b5"><div class="ttname"><a href="namespaceclang_1_1ento.html#a5836b46dfa894dd33d71f29ed4beb2b5">clang::ento::getRawDynamicTypeInfo</a></div><div class="ttdeci">const DynamicTypeInfo * getRawDynamicTypeInfo(ProgramStateRef State, const MemRegion *MR)</div><div class="ttdoc">Get raw dynamic type information for the region MR.</div></div>
<div class="ttc" id="aclassclang_1_1CastExpr_html"><div class="ttname"><a href="classclang_1_1CastExpr.html">clang::CastExpr</a></div><div class="ttdoc">CastExpr - Base class for type casts, including both implicit casts (ImplicitCastExpr) and explicit c...</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l03531">Expr.h:3531</a></div></div>
<div class="ttc" id="aDynamicTypePropagation_8cpp_html_a9a206c9facef33a578a75722dc2c80bb"><div class="ttname"><a href="DynamicTypePropagation_8cpp.html#a9a206c9facef33a578a75722dc2c80bb">isObjCTypeParamDependent</a></div><div class="ttdeci">static bool isObjCTypeParamDependent(QualType Type)</div><div class="ttdef"><b>Definition:</b> <a href="DynamicTypePropagation_8cpp_source.html#l00712">DynamicTypePropagation.cpp:712</a></div></div>
<div class="ttc" id="aclassclang_1_1LocationContext_html_a5f34d4aa5d22732cbe4500b406312431"><div class="ttname"><a href="classclang_1_1LocationContext.html#a5f34d4aa5d22732cbe4500b406312431">clang::LocationContext::getDecl</a></div><div class="ttdeci">const Decl * getDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="AnalysisDeclContext_8h_source.html#l00247">AnalysisDeclContext.h:247</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ento_html_aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924"><div class="ttname"><a href="namespaceclang_1_1ento.html#aaa9478ede47d40f326648cd3bb0b25a4a17bc10091293fdc562a6db69940ee924">clang::ento::ObjKind::OS</a></div><div class="ttdeci">@ OS</div><div class="ttdoc">Indicates that the tracking object is a descendant of a referenced-counted OSObject,...</div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html_a1923fecbf502833ff87a3cbdd211a83b"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html#a1923fecbf502833ff87a3cbdd211a83b">clang::ObjCMethodDecl::param_size</a></div><div class="ttdeci">unsigned param_size() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00350">DeclObjC.h:350</a></div></div>
<div class="ttc" id="aclassclang_1_1LocationContext_html_a904f73765a6ed9230d7a7cb308f3892d"><div class="ttname"><a href="classclang_1_1LocationContext.html#a904f73765a6ed9230d7a7cb308f3892d">clang::LocationContext::getParentMap</a></div><div class="ttdeci">const ParentMap &amp; getParentMap() const</div><div class="ttdef"><b>Definition:</b> <a href="AnalysisDeclContext_8h_source.html#l00253">AnalysisDeclContext.h:253</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html_a290cbceee004310e1a43bb8cd9ab25de"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">clang::CXXMethodDecl::getParent</a></div><div class="ttdeci">const CXXRecordDecl * getParent() const</div><div class="ttdoc">Return the parent of this method declaration, which is the class in which this method is defined.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l02083">DeclCXX.h:2083</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html">clang::CXXMethodDecl</a></div><div class="ttdoc">Represents a static or instance method of a struct/union/class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l01968">DeclCXX.h:1968</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_af67e1a1d24dcc51093b95dbcf68d4288"><div class="ttname"><a href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">clang::Decl::getDeclContext</a></div><div class="ttdeci">DeclContext * getDeclContext()</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00433">DeclBase.h:433</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 4 2022 01:35:52 for clang by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
