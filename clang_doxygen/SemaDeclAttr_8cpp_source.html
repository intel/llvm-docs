<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: lib/Sema/SemaDeclAttr.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">clang
   &#160;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a417a95896a4c648243c5807aba13ea9.html">Sema</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SemaDeclAttr.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SemaDeclAttr_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===--- SemaDeclAttr.cpp - Declaration Attribute Handling ----------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//  This file implements decl-related attribute processing.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ASTConsumer_8h.html">clang/AST/ASTConsumer.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ASTContext_8h.html">clang/AST/ASTContext.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ASTMutationListener_8h.html">clang/AST/ASTMutationListener.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CXXInheritance_8h.html">clang/AST/CXXInheritance.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DeclCXX_8h.html">clang/AST/DeclCXX.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DeclObjC_8h.html">clang/AST/DeclObjC.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DeclTemplate_8h.html">clang/AST/DeclTemplate.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Expr_8h.html">clang/AST/Expr.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ExprCXX_8h.html">clang/AST/ExprCXX.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Mangle_8h.html">clang/AST/Mangle.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RecursiveASTVisitor_8h.html">clang/AST/RecursiveASTVisitor.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">clang/AST/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CharInfo_8h.html">clang/Basic/CharInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DarwinSDKInfo_8h.html">clang/Basic/DarwinSDKInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SourceLocation_8h.html">clang/Basic/SourceLocation.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SourceManager_8h.html">clang/Basic/SourceManager.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetBuiltins_8h.html">clang/Basic/TargetBuiltins.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2clang_2Basic_2TargetInfo_8h.html">clang/Basic/TargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Preprocessor_8h.html">clang/Lex/Preprocessor.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DeclSpec_8h.html">clang/Sema/DeclSpec.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DelayedDiagnostic_8h.html">clang/Sema/DelayedDiagnostic.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Initialization_8h.html">clang/Sema/Initialization.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Sema_2Lookup_8h.html">clang/Sema/Lookup.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ParsedAttr_8h.html">clang/Sema/ParsedAttr.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Scope_8h.html">clang/Sema/Scope.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScopeInfo_8h.html">clang/Sema/ScopeInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SemaInternal_8h.html">clang/Sema/SemaInternal.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/Optional.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/STLExtras.h&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/StringExtras.h&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Assumptions.h&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;llvm/MC/MCSectionMachO.h&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;llvm/Support/Error.h&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;llvm/Support/MathExtras.h&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;llvm/Support/raw_ostream.h&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceclang.html">clang</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">using namespace </span>sema;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="namespaceAttributeLangSupport.html">   52</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceAttributeLangSupport.html">AttributeLangSupport</a> {</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4d">   53</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4d">LANG</a> {</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">   54</a></span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">C</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dab600815d6d9e18d9146b12719639e8f3">   55</a></span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dab600815d6d9e18d9146b12719639e8f3">Cpp</a>,</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4da418144dcd01da96ec63ac5a2417ab396">   56</a></span>&#160;    <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4da418144dcd01da96ec63ac5a2417ab396">ObjC</a></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  };</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;} <span class="comment">// end namespace AttributeLangSupport</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//  Helper functions</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/// isFunctionOrMethod - Return true if the given decl has function</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/// type (function or function-typed variable) or an Objective-C</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/// method.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">   67</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">return</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>() != <span class="keyword">nullptr</span>) || isa&lt;ObjCMethodDecl&gt;(D);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/// Return true if the given decl has function type (function or</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/// function-typed variable) or an Objective-C method or a block.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a856af5962802c5e86dd819ab58552e7b">   73</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a856af5962802c5e86dd819ab58552e7b">isFunctionOrMethodOrBlock</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D) || isa&lt;BlockDecl&gt;(D);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/// Return true if the given decl has a declarator that should have</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/// been processed by Sema::GetTypeForDeclarator.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a71ce58e657f548708725ba2ad028f186">   79</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a71ce58e657f548708725ba2ad028f186">hasDeclarator</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// In some sense, TypedefDecl really *ought* to be a DeclaratorDecl.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">return</span> isa&lt;DeclaratorDecl&gt;(D) || isa&lt;BlockDecl&gt;(D) || isa&lt;TypedefNameDecl&gt;(D) ||</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;         isa&lt;ObjCPropertyDecl&gt;(D);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/// hasFunctionProto - Return true if the given decl has a argument</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/// information. This decl should have already passed</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/// isFunctionOrMethod or isFunctionOrMethodOrBlock.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">   88</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionType.html">FunctionType</a> *FnTy = D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>())</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">return</span> isa&lt;FunctionProtoType&gt;(FnTy);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">return</span> isa&lt;ObjCMethodDecl&gt;(D) || isa&lt;BlockDecl&gt;(D);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/// getFunctionOrMethodNumParams - Return number of function or method</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">/// parameters. It is an error to call this on a K&amp;R function (use</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">/// hasFunctionProto first).</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">   97</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionType.html">FunctionType</a> *FnTy = D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>())</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> cast&lt;FunctionProtoType&gt;(FnTy)-&gt;getNumParams();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BD = dyn_cast&lt;BlockDecl&gt;(D))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> BD-&gt;getNumParams();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">return</span> cast&lt;ObjCMethodDecl&gt;(D)-&gt;param_size();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a129f9063859b12a10010182119f9f4ee">  105</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *<a class="code" href="SemaDeclAttr_8cpp.html#a129f9063859b12a10010182119f9f4ee">getFunctionOrMethodParam</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                                   <span class="keywordtype">unsigned</span> Idx) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> FD-&gt;getParamDecl(Idx);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;ObjCMethodDecl&gt;(D))</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> MD-&gt;getParamDecl(Idx);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BD = dyn_cast&lt;BlockDecl&gt;(D))</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> BD-&gt;getParamDecl(Idx);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">  116</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keywordtype">unsigned</span> Idx) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionType.html">FunctionType</a> *FnTy = D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>())</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> cast&lt;FunctionProtoType&gt;(FnTy)-&gt;getParamType(Idx);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BD = dyn_cast&lt;BlockDecl&gt;(D))</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> BD-&gt;getParamDecl(Idx)-&gt;getType();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">return</span> cast&lt;ObjCMethodDecl&gt;(D)-&gt;parameters()[Idx]-&gt;getType();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">  125</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keywordtype">unsigned</span> Idx) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PVD = <a class="code" href="SemaDeclAttr_8cpp.html#a129f9063859b12a10010182119f9f4ee">getFunctionOrMethodParam</a>(D, Idx))</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> PVD-&gt;getSourceRange();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">  131</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionType.html">FunctionType</a> *FnTy = D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>())</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> FnTy-&gt;getReturnType();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> cast&lt;ObjCMethodDecl&gt;(D)-&gt;getReturnType();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">  137</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> <a class="code" href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">getFunctionOrMethodResultSourceRange</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D))</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> FD-&gt;getReturnTypeSourceRange();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;ObjCMethodDecl&gt;(D))</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> MD-&gt;getReturnTypeSourceRange();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a12afa036cb4e017652edff238e76bfeb">  145</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a12afa036cb4e017652edff238e76bfeb">isFunctionOrMethodVariadic</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionType.html">FunctionType</a> *FnTy = D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>())</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> cast&lt;FunctionProtoType&gt;(FnTy)-&gt;isVariadic();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BD = dyn_cast&lt;BlockDecl&gt;(D))</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> BD-&gt;isVariadic();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">return</span> cast&lt;ObjCMethodDecl&gt;(D)-&gt;isVariadic();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#ad35282e02924165aae3b360b22ab028e">  153</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#ad35282e02924165aae3b360b22ab028e">isInstanceMethod</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MethodDecl = dyn_cast&lt;CXXMethodDecl&gt;(D))</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> MethodDecl-&gt;isInstance();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a10579cffb2afe5a445a4e0a7e0cd64b3">  159</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a10579cffb2afe5a445a4e0a7e0cd64b3">isNSStringType</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T, <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                  <span class="keywordtype">bool</span> AllowNSAttributedString = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *PT = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (!PT)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *Cls = PT-&gt;getObjectType()-&gt;getInterface();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (!Cls)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a>* ClsName = Cls-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (AllowNSAttributedString &amp;&amp;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      ClsName == &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;NSAttributedString&quot;</span>))</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// FIXME: Should we walk the chain of classes?</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">return</span> ClsName == &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;NSString&quot;</span>) ||</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;         ClsName == &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;NSMutableString&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a00319681c00349140baab62dbe185875">  179</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a00319681c00349140baab62dbe185875">isCFStringType</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T, <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Ctx) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *PT = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (!PT)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *RT = PT-&gt;<a class="code" href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1RecordType.html">RecordType</a>&gt;();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (!RT)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1RecordDecl.html">RecordDecl</a> *RD = RT-&gt;getDecl();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">if</span> (RD-&gt;<a class="code" href="classclang_1_1TagDecl.html#accefcad38f434144d721650cadcb05dd">getTagKind</a>() != <a class="code" href="namespaceclang.html#a9237bdb3cf715b9bff8bcb3172635548ac341a3cfc4dae72e09e2348561fffc12">TTK_Struct</a>)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">return</span> RD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>() == &amp;Ctx.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;__CFString&quot;</span>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#aa66a4f788c2087c9710be661d1179c22">  195</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SemaDeclAttr_8cpp.html#aa66a4f788c2087c9710be661d1179c22">getNumAttributeArgs</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// FIXME: Include the type in the argument list.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">return</span> AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() + AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3268778235a07ab81be02b50fe601582">hasParsedType</a>();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// A helper function to provide Attribute Location for the Attr types</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// AND the ParsedAttr.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrInfo&gt;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">static</span> std::enable_if_t&lt;std::is_base_of&lt;Attr, AttrInfo&gt;::value, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a>&gt;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">  204</a></span>&#160;<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(<span class="keyword">const</span> AttrInfo &amp;AL) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">return</span> AL.getLocation();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#ad84084d4e22d21875a8f310db4fcbae4">  207</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> <a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) { <span class="keywordflow">return</span> AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(); }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/// If Expr is a valid integer constant, get the value of the integer</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/// expression and return success or failure. May output an error.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">/// Negative argument is implicitly converted to unsigned, unless</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/// \p StrictlyUnsigned is true.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrInfo&gt;</div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">  215</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> AttrInfo &amp;AI, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="classclang_1_1Expr.html">Expr</a>,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                uint32_t &amp;Val, <span class="keywordtype">unsigned</span> Idx = <a class="code" href="limits_8h.html#ac998ea02fbd821fc123d60445ce76f38">UINT_MAX</a>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                <span class="keywordtype">bool</span> StrictlyUnsigned = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;llvm::APSInt&gt;</a> I = <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a>(32);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Expr.html">Expr</a>-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>() ||</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      !(I = <a class="code" href="classclang_1_1Expr.html">Expr</a>-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>))) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (Idx != <a class="code" href="limits_8h.html#ac998ea02fbd821fc123d60445ce76f38">UINT_MAX</a>)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(AI), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          &lt;&lt; &amp;AI &lt;&lt; Idx &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          &lt;&lt; <a class="code" href="classclang_1_1Expr.html">Expr</a>-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(AI), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          &lt;&lt; &amp;AI &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a> &lt;&lt; <a class="code" href="classclang_1_1Expr.html">Expr</a>-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span> (!I-&gt;isIntN(32)) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Expr.html">Expr</a>-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_ice_too_large)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        &lt;&lt; <a class="code" href="namespaceclang_1_1threadSafety_1_1sx.html#ae17443dfb73305637d8d327cc2fd0058">toString</a>(*I, 10, <span class="keyword">false</span>) &lt;&lt; 32 &lt;&lt; <span class="comment">/* Unsigned */</span> 1;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (StrictlyUnsigned &amp;&amp; I-&gt;isSigned() &amp;&amp; I-&gt;isNegative()) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(AI), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        &lt;&lt; &amp;AI &lt;&lt; <span class="comment">/*non-negative*/</span> 1;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  Val = (uint32_t)I-&gt;getZExtValue();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">/// Wrapper around checkUInt32Argument, with an extra check to be sure</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">/// that the result will fit into a regular (signed) int. All args have the same</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">/// purpose as they do in checkUInt32Argument.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrInfo&gt;</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#afdc1284ec603cbb2bd528220d8d4cf6c">  251</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#afdc1284ec603cbb2bd528220d8d4cf6c">checkPositiveIntArgument</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> AttrInfo &amp;AI, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *<a class="code" href="classclang_1_1Expr.html">Expr</a>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                     <span class="keywordtype">int</span> &amp;Val, <span class="keywordtype">unsigned</span> Idx = <a class="code" href="limits_8h.html#ac998ea02fbd821fc123d60445ce76f38">UINT_MAX</a>) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  uint32_t UVal;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AI, <a class="code" href="classclang_1_1Expr.html">Expr</a>, UVal, Idx))</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (UVal &gt; (uint32_t)<a class="code" href="____clang__cuda__math_8h.html#ae6bb573e13e3bd5738c8faa552b6a129">std::numeric_limits&lt;int&gt;::max</a>()) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> I(32); <span class="comment">// for toString</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    I = UVal;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Expr.html">Expr</a>-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_ice_too_large)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        &lt;&lt; <a class="code" href="namespaceclang_1_1threadSafety_1_1sx.html#ae17443dfb73305637d8d327cc2fd0058">toString</a>(I, 10, <span class="keyword">false</span>) &lt;&lt; 32 &lt;&lt; <span class="comment">/* Unsigned */</span> 0;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  Val = UVal;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">/// Diagnose mutually exclusive attributes when present on a given</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">/// declaration. Returns true if diagnosed.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrTy&gt;</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a59d59133853ba408765f1a1995d0f5ca">  272</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a59d59133853ba408765f1a1995d0f5ca">checkAttrMutualExclusion</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;AL) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AttrTy&gt;()) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attributes_are_not_compatible) &lt;&lt; AL &lt;&lt; A;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrTy&gt;</div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="SemaDeclAttr_8cpp.html#a926dbbac5c3833c636f4db4efaf3ed8c">  283</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SemaDeclAttr_8cpp.html#a59d59133853ba408765f1a1995d0f5ca">checkAttrMutualExclusion</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1Attr.html">Attr</a> &amp;AL) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AttrTy&gt;()) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1Attr.html#adb1b8122069df702fb5077c95e436d7b">getLocation</a>(), diag::err_attributes_are_not_compatible) &lt;&lt; &amp;AL</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                                                      &lt;&lt; A;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a540668767abd51f301f14046491cd37b">  293</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a540668767abd51f301f14046491cd37b">Sema::DiagnoseDeprecatedAttribute</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A, StringRef NewScope,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                       StringRef NewName) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  assert((!NewName.empty() || !NewScope.empty()) &amp;&amp;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         <span class="stringliteral">&quot;Deprecated attribute with no new scope or name?&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_spelling_deprecated)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> + A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a23e6d35fc1ec39e9118c981ae4dfceb4">getNormalizedFullName</a>() + <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classclang_1_1FixItHint.html">FixItHint</a> Fix;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="lib_2Tooling_2CMakeLists_8txt.html#af86de1f06488914e30d948a42f397df5">std::string</a> NewFullName;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (NewScope.empty() &amp;&amp; !NewName.empty()) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// Only have a new name.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    Fix = <a class="code" href="classclang_1_1FixItHint.html#a90e122cd34933ba821718385fddfae7a">FixItHint::CreateReplacement</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), NewName);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    NewFullName =</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        ((A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>() ? A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() : StringRef(<span class="stringliteral">&quot;&quot;</span>)) +</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;         <span class="stringliteral">&quot;::&quot;</span> + NewName)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            .str();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NewName.empty() &amp;&amp; !NewScope.empty()) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// Only have a new scope.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    Fix = <a class="code" href="classclang_1_1FixItHint.html#a90e122cd34933ba821718385fddfae7a">FixItHint::CreateReplacement</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a00a517f219ce0e9f93e1a10339493c12">getScopeLoc</a>(), NewScope);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    NewFullName = (NewScope + <span class="stringliteral">&quot;::&quot;</span> + A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>()).str();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// Have both a new name and a new scope.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    NewFullName = (NewScope + <span class="stringliteral">&quot;::&quot;</span> + NewName).str();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    Fix = <a class="code" href="classclang_1_1FixItHint.html#a90e122cd34933ba821718385fddfae7a">FixItHint::CreateReplacement</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), NewFullName);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_spelling_suggestion)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> + NewFullName + <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; Fix;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">  323</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">Sema::CheckDeprecatedSYCLAttributeSpelling</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                                StringRef NewName) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// Additionally, diagnose the old [[intel::ii]] spelling.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (A.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_SYCLIntelFPGAInitiationInterval &amp;&amp;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;ii&quot;</span>)) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    DiagnoseDeprecatedAttribute(A, <span class="stringliteral">&quot;intel&quot;</span>, <span class="stringliteral">&quot;initiation_interval&quot;</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// Diagnose SYCL 2017 spellings in later SYCL modes.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (LangOpts.getSYCLVersion() &gt; <a class="code" href="classclang_1_1LangOptions.html#ab77f63ee3a4b2592fe64deea72c94de1ad75c21b8eb68f2232771433dfa41d63d">LangOptions::SYCL_2017</a>) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// All attributes in the cl vendor namespace are deprecated in favor of a</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// name in the sycl namespace as of SYCL 2020.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>() &amp;&amp; A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;cl&quot;</span>)) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      DiagnoseDeprecatedAttribute(A, <span class="stringliteral">&quot;sycl&quot;</span>, NewName);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// All GNU-style spellings are deprecated in favor of a C++-style spelling.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a055ffcfc79821816092eb192a077337e">getSyntax</a>() == <a class="code" href="classclang_1_1AttributeCommonInfo.html#a2fb9e85e18b9794ac89be1ac461704caa50b64659642efa5b07a11db3e89d68ba">ParsedAttr::AS_GNU</a>) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="comment">// Note: we cannot suggest an automatic fix-it because GNU-style</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="comment">// spellings can appear in locations that are not valid for a C++-style</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="comment">// spelling, and the attribute could be part of an attribute list within</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="comment">// a single __attribute__ specifier. Just tell the user it&#39;s deprecated</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="comment">// manually.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="comment">// This currently assumes that the GNU-style spelling is the same as the</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="comment">// SYCL 2020 spelling (sans the vendor namespace).</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_spelling_deprecated)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> + A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a23e6d35fc1ec39e9118c981ae4dfceb4">getNormalizedFullName</a>() + <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_spelling_suggestion)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;&#39;[[sycl::&quot;</span> + A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a23e6d35fc1ec39e9118c981ae4dfceb4">getNormalizedFullName</a>() + <span class="stringliteral">&quot;]]&#39;&quot;</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// Diagnose SYCL 2020 spellings used in earlier SYCL modes as being an</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// extension.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (LangOpts.getSYCLVersion() == <a class="code" href="classclang_1_1LangOptions.html#ab77f63ee3a4b2592fe64deea72c94de1ad75c21b8eb68f2232771433dfa41d63d">LangOptions::SYCL_2017</a> &amp;&amp; A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>() &amp;&amp;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;sycl&quot;</span>)) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::ext_sycl_2020_attr_spelling) &lt;&lt; A;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">/// Check if IdxExpr is a valid parameter index for a function or</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">/// instance method D.  May output an error.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">/// \returns true if IdxExpr is a valid index.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrInfo&gt;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkFunctionOrMethodParameterIndex(</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> AttrInfo &amp;AI, <span class="keywordtype">unsigned</span> AttrArgNum,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *IdxExpr, <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> &amp;Idx, <span class="keywordtype">bool</span> CanIndexImplicitThis = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  assert(<a class="code" href="SemaDeclAttr_8cpp.html#a856af5962802c5e86dd819ab58552e7b">isFunctionOrMethodOrBlock</a>(D));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// In C++ the implicit &#39;this&#39; function parameter also counts.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// Parameters are counted from one.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">bool</span> HP = <a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(D);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordtype">bool</span> HasImplicitThisParam = <a class="code" href="SemaDeclAttr_8cpp.html#ad35282e02924165aae3b360b22ab028e">isInstanceMethod</a>(D);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordtype">bool</span> IV = HP &amp;&amp; <a class="code" href="SemaDeclAttr_8cpp.html#a12afa036cb4e017652edff238e76bfeb">isFunctionOrMethodVariadic</a>(D);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordtype">unsigned</span> NumParams =</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      (HP ? <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) : 0) + HasImplicitThisParam;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;llvm::APSInt&gt;</a> IdxInt;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">if</span> (IdxExpr-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>() ||</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      !(IdxInt = IdxExpr-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>))) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(AI), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        &lt;&lt; &amp;AI &lt;&lt; AttrArgNum &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordtype">unsigned</span> IdxSource = IdxInt-&gt;getLimitedValue(<a class="code" href="limits_8h.html#ac998ea02fbd821fc123d60445ce76f38">UINT_MAX</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">if</span> (IdxSource &lt; 1 || (!IV &amp;&amp; IdxSource &gt; NumParams)) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(AI), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        &lt;&lt; &amp;AI &lt;&lt; AttrArgNum &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span> (HasImplicitThisParam &amp;&amp; !CanIndexImplicitThis) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (IdxSource == 1) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(AI), diag::err_attribute_invalid_implicit_this_argument)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          &lt;&lt; &amp;AI &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  Idx = <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a>(IdxSource, D);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">/// Check if the argument \p E is a ASCII string literal. If not emit an error</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">/// and return false, otherwise set \p Str to the value of the string literal</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">/// and return true.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">Sema::checkStringLiteralArgumentAttr</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E, StringRef &amp;Str,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                          <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> *ArgLocation) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">Literal</a> = dyn_cast&lt;StringLiteral&gt;(E-&gt;<a class="code" href="classclang_1_1Expr.html#a397a707d10e0d3ac4a150325eafa4368">IgnoreParenCasts</a>());</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span> (ArgLocation)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    *ArgLocation = E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">Literal</a> || !<a class="code" href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">Literal</a>-&gt;isAscii()) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        &lt;&lt; CI &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcacd1c26a060b255bf967903d838dcae73">AANT_ArgumentString</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  Str = <a class="code" href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">Literal</a>-&gt;getString();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">/// Check if the argument \p ArgNum of \p Attr is a ASCII string literal.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">/// If not emit an error and return false. If the argument is an identifier it</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">/// will emit an error with a fixit hint and treat it as if it was a string</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/// literal.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">Sema::checkStringLiteralArgumentAttr</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL, <span class="keywordtype">unsigned</span> ArgNum,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                          StringRef &amp;Str,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                          <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> *ArgLocation) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// Look for identifiers. If we have one emit a hint to fix it to a literal.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(ArgNum)) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Loc = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(ArgNum);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::err_attribute_argument_type)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcacd1c26a060b255bf967903d838dcae73">AANT_ArgumentString</a></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        &lt;&lt; <a class="code" href="classclang_1_1FixItHint.html#afd481d826e9ddaa39fc82a698a810246">FixItHint::CreateInsertion</a>(Loc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, <span class="stringliteral">&quot;\&quot;&quot;</span>)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        &lt;&lt; <a class="code" href="classclang_1_1FixItHint.html#afd481d826e9ddaa39fc82a698a810246">FixItHint::CreateInsertion</a>(getLocForEndOfToken(Loc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>), <span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    Str = Loc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span> (ArgLocation)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      *ArgLocation = Loc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">// Now check for an actual string literal.</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *ArgExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(ArgNum);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">return</span> checkStringLiteralArgumentAttr(AL, ArgExpr, Str, ArgLocation);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">/// Applies the given attribute to the Decl without performing any</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/// additional semantic checking.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrType&gt;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSimpleAttribute(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AttrType(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, CI));</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>... DiagnosticArgs&gt;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1Sema_1_1SemaDiagnosticBuilder.html">Sema::SemaDiagnosticBuilder</a>&amp;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;appendDiagnostics(<span class="keyword">const</span> <a class="code" href="classclang_1_1Sema_1_1SemaDiagnosticBuilder.html">Sema::SemaDiagnosticBuilder</a> &amp;Bldr) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">return</span> Bldr;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... DiagnosticArgs&gt;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1Sema_1_1SemaDiagnosticBuilder.html">Sema::SemaDiagnosticBuilder</a>&amp;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;appendDiagnostics(<span class="keyword">const</span> <a class="code" href="classclang_1_1Sema_1_1SemaDiagnosticBuilder.html">Sema::SemaDiagnosticBuilder</a> &amp;Bldr, T &amp;&amp;ExtraArg,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                  DiagnosticArgs &amp;&amp;... ExtraArgs) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordflow">return</span> appendDiagnostics(Bldr &lt;&lt; std::forward&lt;T&gt;(ExtraArg),</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                           std::forward&lt;DiagnosticArgs&gt;(ExtraArgs)...);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">/// Add an attribute @c AttrType to declaration @c D, provided that</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">/// @c PassesCheck is true.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">/// Otherwise, emit diagnostic @c DiagID, passing in all parameters</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/// specified in @c ExtraArgs.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrType, <span class="keyword">typename</span>... DiagnosticArgs&gt;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSimpleAttributeOrDiagnose(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                            <span class="keywordtype">bool</span> PassesCheck, <span class="keywordtype">unsigned</span> DiagID,</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                            DiagnosticArgs &amp;&amp;... ExtraArgs) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">if</span> (!PassesCheck) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classclang_1_1Sema_1_1SemaDiagnosticBuilder.html">Sema::SemaDiagnosticBuilder</a> DB = S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), DiagID);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    appendDiagnostics(DB, std::forward&lt;DiagnosticArgs&gt;(ExtraArgs)...);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  handleSimpleAttribute&lt;AttrType&gt;(S, D, CI);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/// Check if the passed-in expression is of type int or bool.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isIntOrBool(<a class="code" href="classclang_1_1Expr.html">Expr</a> *Exp) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> QT = Exp-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">return</span> QT-&gt;<a class="code" href="classclang_1_1Type.html#a096577dc2c0e924586ad954a1f99e671">isBooleanType</a>() || QT-&gt;<a class="code" href="classclang_1_1Type.html#a3b8d0cdfe0bdd8b98296b84ae9d438c5">isIntegerType</a>();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">// Check to see if the type is a smart pointer of some kind.  We assume</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">// it&#39;s a smart pointer if it defines both operator-&gt; and operator*.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> threadSafetyCheckIsSmartPointer(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1RecordType.html">RecordType</a>* RT) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keyword">auto</span> IsOverloadedOperatorPresent = [&amp;S](<span class="keyword">const</span> <a class="code" href="classclang_1_1RecordDecl.html">RecordDecl</a> *Record,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                          <a class="code" href="namespaceclang.html#a0667c189ac152d457c17935303efeb5a">OverloadedOperatorKind</a> Op) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="classclang_1_1DeclContextLookupResult.html">DeclContextLookupResult</a> Result =</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        Record-&gt;<a class="code" href="classclang_1_1DeclContext.html#a47c9a0e81f53370347c491bb29f9efe7">lookup</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a2017d2a1ae842fcf4e5df3097c7b93ba">DeclarationNames</a>.<a class="code" href="classclang_1_1DeclarationNameTable.html#aa9c7b7abbc2dc29780eb51a110c8d934">getCXXOperatorName</a>(Op));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> !Result.empty();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  };</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1RecordDecl.html">RecordDecl</a> *Record = RT-&gt;<a class="code" href="classclang_1_1RecordType.html#a11e6b541275f7003dc00276da5c6c7cc">getDecl</a>();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">bool</span> foundStarOperator = IsOverloadedOperatorPresent(Record, OO_Star);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordtype">bool</span> foundArrowOperator = IsOverloadedOperatorPresent(Record, OO_Arrow);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">if</span> (foundStarOperator &amp;&amp; foundArrowOperator)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *<a class="code" href="namespaceclang_1_1CodeGen.html#aa449a094497948e9866507fe2a00916fa6e8d896972f26cb8025dbf8873ad0c29">CXXRecord</a> = dyn_cast&lt;CXXRecordDecl&gt;(Record);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">if</span> (!CXXRecord)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> BaseSpecifier : <a class="code" href="namespaceclang_1_1CodeGen.html#aa449a094497948e9866507fe2a00916fa6e8d896972f26cb8025dbf8873ad0c29">CXXRecord</a>-&gt;bases()) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (!foundStarOperator)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      foundStarOperator = IsOverloadedOperatorPresent(</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;          BaseSpecifier.getType()-&gt;getAsRecordDecl(), OO_Star);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (!foundArrowOperator)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      foundArrowOperator = IsOverloadedOperatorPresent(</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          BaseSpecifier.getType()-&gt;getAsRecordDecl(), OO_Arrow);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">if</span> (foundStarOperator &amp;&amp; foundArrowOperator)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">/// Check if passed in Decl is a pointer type.</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">/// Note that this function may produce an error message.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">/// \return true if the Decl is a pointer type; false otherwise</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> threadSafetyCheckIsPointer(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *VD = cast&lt;ValueDecl&gt;(D);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> QT = VD-&gt;getType();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> (QT-&gt;<a class="code" href="classclang_1_1Type.html#acec6a1ac593ef9b1805529f25dd32b12">isAnyPointerType</a>())</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *RT = QT-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1RecordType.html">RecordType</a>&gt;()) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// If it&#39;s an incomplete type, it could be a smart pointer; skip it.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// (We don&#39;t want to force template instantiation if we can avoid it,</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// since that would alter the order in which templates are instantiated.)</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (RT-&gt;<a class="code" href="classclang_1_1Type.html#ab349777c8b730854e626849c6acff90d">isIncompleteType</a>())</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (threadSafetyCheckIsSmartPointer(S, RT))</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_thread_attribute_decl_not_pointer) &lt;&lt; AL &lt;&lt; QT;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;}</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">/// Checks that the passed in QualType either is of RecordType or points</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">/// to RecordType. Returns the relevant RecordType, null if it does not exit.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classclang_1_1RecordType.html">RecordType</a> *getRecordType(<a class="code" href="classclang_1_1QualType.html">QualType</a> QT) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *RT = QT-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1RecordType.html">RecordType</a>&gt;())</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> RT;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// Now check if we point to record type.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PT = QT-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;())</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">return</span> PT-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1RecordType.html">RecordType</a>&gt;();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrType&gt;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkRecordDeclForAttr(<span class="keyword">const</span> <a class="code" href="classclang_1_1RecordDecl.html">RecordDecl</a> *RD) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="comment">// Check if the record itself has the attribute.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">if</span> (RD-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;AttrType&gt;())</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="comment">// Else check if any base classes have the attribute.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *CRD = dyn_cast&lt;CXXRecordDecl&gt;(RD)) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (!CRD-&gt;forallBases([](<span class="keyword">const</span> <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *<a class="code" href="classBase.html">Base</a>) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;          return !Base-&gt;hasAttr&lt;AttrType&gt;();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }))</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkRecordTypeForCapability(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1RecordType.html">RecordType</a> *RT = getRecordType(Ty);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordflow">if</span> (!RT)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// Don&#39;t check for the capability if the class hasn&#39;t been defined yet.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> (RT-&gt;<a class="code" href="classclang_1_1Type.html#ab349777c8b730854e626849c6acff90d">isIncompleteType</a>())</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// Allow smart pointers to be used as capability objects.</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">// FIXME -- Check the type that the smart pointer points to.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">if</span> (threadSafetyCheckIsSmartPointer(S, RT))</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">return</span> checkRecordDeclForAttr&lt;CapabilityAttr&gt;(RT-&gt;<a class="code" href="classclang_1_1RecordType.html#a11e6b541275f7003dc00276da5c6c7cc">getDecl</a>());</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkTypedefTypeForCapability(<a class="code" href="classclang_1_1QualType.html">QualType</a> Ty) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *TD = Ty-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1TypedefType.html">TypedefType</a>&gt;();</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">if</span> (!TD)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <a class="code" href="classclang_1_1TypedefNameDecl.html">TypedefNameDecl</a> *TN = TD-&gt;getDecl();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (!TN)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">return</span> TN-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;CapabilityAttr&gt;();</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> typeHasCapability(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (checkTypedefTypeForCapability(Ty))</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">if</span> (checkRecordTypeForCapability(S, Ty))</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isCapabilityExpr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *Ex) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// Capability expressions are simple expressions involving the boolean logic</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// operators &amp;&amp;, || or !, a simple DeclRefExpr, CastExpr or a ParenExpr. Once</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// a DeclRefExpr is found, its type should be checked to determine whether it</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">// is a capability or not.</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *E = dyn_cast&lt;CastExpr&gt;(Ex))</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">return</span> isCapabilityExpr(S, E-&gt;getSubExpr());</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *E = dyn_cast&lt;ParenExpr&gt;(Ex))</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span> isCapabilityExpr(S, E-&gt;getSubExpr());</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *E = dyn_cast&lt;UnaryOperator&gt;(Ex)) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">if</span> (E-&gt;getOpcode() == UO_LNot || E-&gt;getOpcode() == UO_AddrOf ||</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        E-&gt;getOpcode() == UO_Deref)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordflow">return</span> isCapabilityExpr(S, E-&gt;getSubExpr());</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *E = dyn_cast&lt;BinaryOperator&gt;(Ex)) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span> (E-&gt;getOpcode() == BO_LAnd || E-&gt;getOpcode() == BO_LOr)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">return</span> isCapabilityExpr(S, E-&gt;getLHS()) &amp;&amp;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;             isCapabilityExpr(S, E-&gt;getRHS());</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">return</span> typeHasCapability(S, Ex-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>());</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;}</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">/// Checks that all attribute arguments, starting from Sidx, resolve to</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">/// a capability object.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">/// \param Sidx The attribute argument index to start checking with.</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">/// \param ParamIdxOk Whether an argument can be indexing into a function</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/// parameter list.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> checkAttrArgsAreCapabilityObjs(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Expr *&gt;</a> &amp;Args,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                                           <span class="keywordtype">unsigned</span> Sidx = 0,</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                                           <span class="keywordtype">bool</span> ParamIdxOk = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (Sidx == AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>()) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// If we don&#39;t have any capability arguments, the attribute implicitly</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="comment">// refers to &#39;this&#39;. So we need to make sure that &#39;this&#39; exists, i.e. we&#39;re</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="comment">// a non-static method, and that the class is a (scoped) capability.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;const CXXMethodDecl&gt;(D);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (MD &amp;&amp; !MD-&gt;isStatic()) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keyword">const</span> <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *RD = MD-&gt;<a class="code" href="classclang_1_1DeclContext.html#a31c99b38017e8d702fda9c0f1d021186">getParent</a>();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="comment">// FIXME -- need to check this again on template instantiation</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">if</span> (!checkRecordDeclForAttr&lt;CapabilityAttr&gt;(RD) &amp;&amp;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          !checkRecordDeclForAttr&lt;ScopedLockableAttr&gt;(RD))</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;               diag::warn_thread_attribute_not_on_capability_member)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            &lt;&lt; AL &lt;&lt; MD-&gt;getParent();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_thread_attribute_not_on_non_static_member)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          &lt;&lt; AL;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = Sidx; Idx &lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++Idx) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *ArgExp = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(Idx);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">if</span> (ArgExp-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>()) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="comment">// FIXME -- need to check this again on template instantiation</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      Args.push_back(ArgExp);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *StrLit = dyn_cast&lt;StringLiteral&gt;(ArgExp)) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">if</span> (StrLit-&gt;getLength() == 0 ||</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          (StrLit-&gt;isAscii() &amp;&amp; StrLit-&gt;getString() == StringRef(<span class="stringliteral">&quot;*&quot;</span>))) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="comment">// Pass empty strings to the analyzer without warnings.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment">// Treat &quot;*&quot; as the universal lock.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        Args.push_back(ArgExp);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="comment">// We allow constant strings to be used as a placeholder for expressions</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="comment">// that are not valid C++ syntax, but warn that they are ignored.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_thread_attribute_ignored) &lt;&lt; AL;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      Args.push_back(ArgExp);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> ArgTy = ArgExp-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// A pointer to member expression of the form  &amp;MyClass::mu is treated</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// specially -- we need to look at the type of the member.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *UOp = dyn_cast&lt;UnaryOperator&gt;(ArgExp))</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">if</span> (UOp-&gt;getOpcode() == UO_AddrOf)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DRE = dyn_cast&lt;DeclRefExpr&gt;(UOp-&gt;getSubExpr()))</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          <span class="keywordflow">if</span> (DRE-&gt;getDecl()-&gt;isCXXInstanceMember())</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            ArgTy = DRE-&gt;getDecl()-&gt;getType();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">// First see if we can just cast to record type, or pointer to record type.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1RecordType.html">RecordType</a> *RT = getRecordType(ArgTy);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// Now check if we index into a record type function param.</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span>(!RT &amp;&amp; ParamIdxOk) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *IL = dyn_cast&lt;IntegerLiteral&gt;(ArgExp);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">if</span>(FD &amp;&amp; IL) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NumParams = FD-&gt;getNumParams();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">llvm::APInt</a> ArgValue = IL-&gt;getValue();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        uint64_t ParamIdxFromOne = ArgValue.getZExtValue();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        uint64_t ParamIdxFromZero = ParamIdxFromOne - 1;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">if</span> (!ArgValue.isStrictlyPositive() || ParamIdxFromOne &gt; NumParams) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                 diag::err_attribute_argument_out_of_bounds_extra_info)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;              &lt;&lt; AL &lt;&lt; Idx + 1 &lt;&lt; NumParams;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        ArgTy = FD-&gt;getParamDecl(ParamIdxFromZero)-&gt;getType();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// If the type does not have a capability, see if the components of the</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// expression have capabilities. This allows for writing C code where the</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// capability may be on the type, and the expression is a capability</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// boolean logic expression. Eg) requires_capability(A || B &amp;&amp; !C)</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (!typeHasCapability(S, ArgTy) &amp;&amp; !isCapabilityExpr(S, ArgExp))</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_thread_attribute_argument_not_lockable)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          &lt;&lt; AL &lt;&lt; ArgTy;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    Args.push_back(ArgExp);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">// Attribute Implementations</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handlePtGuardedVarAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordflow">if</span> (!threadSafetyCheckIsPointer(S, D, AL))</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PtGuardedVarAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkGuardedByAttrCommon(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                     <a class="code" href="classclang_1_1Expr.html">Expr</a> *&amp;Arg) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 1&gt;</a> Args;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// check that all arguments are lockable objects</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> = Args.size();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">if</span> (Size != 1)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  Arg = Args[0];</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleGuardedByAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *Arg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">if</span> (!checkGuardedByAttrCommon(S, D, AL, Arg))</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) GuardedByAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Arg));</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handlePtGuardedByAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *Arg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">if</span> (!checkGuardedByAttrCommon(S, D, AL, Arg))</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordflow">if</span> (!threadSafetyCheckIsPointer(S, D, AL))</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PtGuardedByAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Arg));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkAcquireOrderAttrCommon(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                                        <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Expr *&gt;</a> &amp;Args) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="comment">// Check that this attribute only applies to lockable types.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> QT = cast&lt;ValueDecl&gt;(D)-&gt;getType();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">if</span> (!QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp; !typeHasCapability(S, QT)) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_thread_attribute_decl_not_lockable) &lt;&lt; AL;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="comment">// Check that all arguments are lockable objects.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">if</span> (Args.empty())</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAcquiredAfterAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 1&gt;</a> Args;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">if</span> (!checkAcquireOrderAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> **StartArg = &amp;Args[0];</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                 AcquiredAfterAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, StartArg, Args.size()));</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAcquiredBeforeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 1&gt;</a> Args;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">if</span> (!checkAcquireOrderAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> **StartArg = &amp;Args[0];</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                 AcquiredBeforeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, StartArg, Args.size()));</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkLockFunAttrCommon(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                                   <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Expr *&gt;</a> &amp;Args) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// zero or more arguments ok</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// check that all arguments are lockable objects</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args, 0, <span class="comment">/*ParamIdxOk=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAssertSharedLockAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 1&gt;</a> Args;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">if</span> (!checkLockFunAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> = Args.size();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> **StartArg = <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> == 0 ? nullptr : &amp;Args[0];</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                 AssertSharedLockAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, StartArg, Size));</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAssertExclusiveLockAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 1&gt;</a> Args;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keywordflow">if</span> (!checkLockFunAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> = Args.size();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> **StartArg = <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> == 0 ? nullptr : &amp;Args[0];</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                 AssertExclusiveLockAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, StartArg, Size));</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">/// Checks to be sure that the given parameter number is in bounds, and</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">/// is an integral type. Will emit appropriate diagnostics if this returns</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">/// false.</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">/// AttrArgNo is used to actually retrieve the argument, so it&#39;s base-0.</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrInfo&gt;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkParamIsIntegerType(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> AttrInfo &amp;AI,</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                                    <span class="keywordtype">unsigned</span> AttrArgNo) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  assert(AI.isArgExpr(AttrArgNo) &amp;&amp; <span class="stringliteral">&quot;Expected expression argument&quot;</span>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *AttrArg = AI.getArgAsExpr(AttrArgNo);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> Idx;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AI, AttrArgNo + 1, AttrArg,</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                           Idx))</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ParamTy = <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>());</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">if</span> (!ParamTy-&gt;<a class="code" href="classclang_1_1Type.html#a3b8d0cdfe0bdd8b98296b84ae9d438c5">isIntegerType</a>() &amp;&amp; !ParamTy-&gt;<a class="code" href="classclang_1_1Type.html#a2c9850e71c1c771e229b962699ddaa19">isCharType</a>()) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> SrcLoc = AttrArg-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(SrcLoc, diag::err_attribute_integers_only)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        &lt;&lt; AI &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>());</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;}</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAllocSizeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1) || !AL.<a class="code" href="classclang_1_1ParsedAttr.html#af567be8de0ee90a38d42b3bbc2bee3dd">checkAtMostNumArgs</a>(S, 2))</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  assert(<a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D) &amp;&amp; <a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(D));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> RetTy = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">if</span> (!RetTy-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>()) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_return_pointers_only) &lt;&lt; AL;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *SizeExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordtype">int</span> SizeArgNoVal;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">// Parameter indices are 1-indexed, hence Index=1</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#afdc1284ec603cbb2bd528220d8d4cf6c">checkPositiveIntArgument</a>(S, AL, SizeExpr, SizeArgNoVal, <span class="comment">/*Idx=*/</span>1))</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (!checkParamIsIntegerType(S, D, AL, <span class="comment">/*AttrArgNo=*/</span>0))</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> SizeArgNo(SizeArgNoVal, D);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> NumberArgNo;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 2) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *NumberExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordtype">int</span> Val;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="comment">// Parameter indices are 1-based, hence Index=2</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#afdc1284ec603cbb2bd528220d8d4cf6c">checkPositiveIntArgument</a>(S, AL, NumberExpr, Val, <span class="comment">/*Idx=*/</span>2))</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> (!checkParamIsIntegerType(S, D, AL, <span class="comment">/*AttrArgNo=*/</span>1))</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    NumberArgNo = <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a>(Val, D);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                 AllocSizeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, SizeArgNo, NumberArgNo));</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkTryLockFunAttrCommon(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Expr *&gt;</a> &amp;Args) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">if</span> (!isIntOrBool(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0))) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca6d2ba8014bbcf83ee5761acc5dbbacf7">AANT_ArgumentIntOrBool</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">// check that all arguments are lockable objects</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args, 1);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;}</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSharedTrylockFunctionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 2&gt;</a> Args;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">if</span> (!checkTryLockFunAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SharedTrylockFunctionAttr(</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0), Args.data(), Args.size()));</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;}</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleExclusiveTrylockFunctionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 2&gt;</a> Args;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">if</span> (!checkTryLockFunAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ExclusiveTrylockFunctionAttr(</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0), Args.data(), Args.size()));</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleLockReturnedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// check that the argument is lockable object</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 1&gt;</a> Args;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> = Args.size();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (Size == 0)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) LockReturnedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Args[0]));</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleLocksExcludedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">// check that all arguments are lockable objects</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 1&gt;</a> Args;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> = Args.size();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">if</span> (Size == 0)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> **StartArg = &amp;Args[0];</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                 LocksExcludedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, StartArg, Size));</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;}</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkFunctionConditionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                                       <a class="code" href="classclang_1_1Expr.html">Expr</a> *&amp;Cond, StringRef &amp;Msg) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  Cond = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">if</span> (!Cond-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>()) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Converted = S.<a class="code" href="classclang_1_1Sema.html#a95ba45be206bcbf954cdd2f58296bb9f">PerformContextuallyConvertToBool</a>(Cond);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span> (Converted.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    Cond = Converted.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 1, Msg))</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">if</span> (Msg.empty())</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    Msg = <span class="stringliteral">&quot;&lt;no message provided&gt;&quot;</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;PartialDiagnosticAt, 8&gt;</a> Diags;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">if</span> (isa&lt;FunctionDecl&gt;(D) &amp;&amp; !Cond-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() &amp;&amp;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      !<a class="code" href="classclang_1_1Expr.html#a15c4864dd115441a6bd6fa83d26b5bda">Expr::isPotentialConstantExprUnevaluated</a>(Cond, cast&lt;FunctionDecl&gt;(D),</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                                                Diags)) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attr_cond_never_constant_expr) &lt;&lt; AL;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespaceclang.html#ae44d69d2ff9517aeee346e5c0ec518c2">PartialDiagnosticAt</a> &amp;PDiag : Diags)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(PDiag.first, PDiag.second);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleEnableIfAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::ext_clang_enable_if);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *Cond;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  StringRef Msg;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (checkFunctionConditionAttr(S, D, AL, Cond, Msg))</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) EnableIfAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Cond, Msg));</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;}</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleErrorAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  StringRef NewUserDiagnostic;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, NewUserDiagnostic))</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (ErrorAttr *EA = S.<a class="code" href="classclang_1_1Sema.html#a92982e7f219d7eebdbf4323a98c3f801">mergeErrorAttr</a>(D, AL, NewUserDiagnostic))</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(EA);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;}</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment">/// Determines if a given Expr references any of the given function&#39;s</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment">/// ParmVarDecls, or the function&#39;s implicit `this` parameter (if applicable).</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment"></span><span class="keyword">class </span>ArgumentDependenceChecker</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classclang_1_1RecursiveASTVisitor.html">RecursiveASTVisitor</a>&lt;ArgumentDependenceChecker&gt; {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *ClassType;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet&lt;const ParmVarDecl *, 16&gt;</a> Parms;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordtype">bool</span> Result;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  ArgumentDependenceChecker(<span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(FD))</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      ClassType = MD-&gt;<a class="code" href="classclang_1_1DeclContext.html#a31c99b38017e8d702fda9c0f1d021186">getParent</a>();</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      ClassType = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    Parms.insert(FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a48678562009dc8b21f0e4611eb96c433">param_begin</a>(), FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a1dc6d06fe673db5053adfa3160f3175f">param_end</a>());</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordtype">bool</span> referencesArgs(<a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    TraverseStmt(E);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  }</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordtype">bool</span> VisitCXXThisExpr(<a class="code" href="classclang_1_1CXXThisExpr.html">CXXThisExpr</a> *E) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    assert(E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a4d86762caf086f3ad034be9e65092320">getPointeeCXXRecordDecl</a>() == ClassType &amp;&amp;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;           <span class="stringliteral">&quot;`this` doesn&#39;t refer to the enclosing class?&quot;</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    Result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordtype">bool</span> VisitDeclRefExpr(<a class="code" href="classclang_1_1DeclRefExpr.html">DeclRefExpr</a> *DRE) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PVD = dyn_cast&lt;ParmVarDecl&gt;(DRE-&gt;<a class="code" href="classclang_1_1DeclRefExpr.html#a22eec021070f5d0733e90b6c5c127a25">getDecl</a>()))</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">if</span> (Parms.count(PVD)) {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        Result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;};</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;}</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDiagnoseAsBuiltinAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *DeclFD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MethodDecl = dyn_cast&lt;CXXMethodDecl&gt;(DeclFD))</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (!MethodDecl-&gt;isStatic()) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_no_member_function) &lt;&lt; AL;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keyword">auto</span> DiagnoseType = [&amp;](<span class="keywordtype">unsigned</span> Index, <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfc">AttributeArgumentNType</a> T) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc = [&amp;]() {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069deaaef12e903e606a4895a16b393bfdec8c">Union</a> = AL.<a class="code" href="classclang_1_1ParsedAttr.html#ae693f45ea1a152c3c8c697afbd5c1a52">getArg</a>(Index - 1);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069deaaef12e903e606a4895a16b393bfdec8c">Union</a>.is&lt;<a class="code" href="classclang_1_1Expr.html">Expr</a> *&gt;())</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069deaaef12e903e606a4895a16b393bfdec8c">Union</a>.get&lt;<a class="code" href="classclang_1_1Expr.html">Expr</a> *&gt;()-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069deaaef12e903e606a4895a16b393bfdec8c">Union</a>.get&lt;<a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *&gt;()-&gt;Loc;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    }();</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_attribute_argument_n_type) &lt;&lt; AL &lt;&lt; Index &lt;&lt; T;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  };</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *AttrFD = [&amp;]() -&gt; <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> * {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(0))</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keyword">auto</span> *F = dyn_cast_or_null&lt;DeclRefExpr&gt;(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (!F)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">return</span> dyn_cast_or_null&lt;FunctionDecl&gt;(F-&gt;getFoundDecl());</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  }();</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="keywordflow">if</span> (!AttrFD || !AttrFD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a1d081811578f251f5d23e8f42ee077c0">getBuiltinID</a>(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    DiagnoseType(1, <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca61bfee29a82b998912bdc510b7c974b1">AANT_ArgumentBuiltinFunction</a>);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">if</span> (AttrFD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae3cf2778dffe5ebe820cf811ca0a134f">getNumParams</a>() != AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() - 1) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_number_arguments_for)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        &lt;&lt; AL &lt;&lt; AttrFD &lt;&lt; AttrFD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae3cf2778dffe5ebe820cf811ca0a134f">getNumParams</a>();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> Indices;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 1; I &lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++I) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(I)) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      DiagnoseType(I + 1, <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a>);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *IndexExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    uint32_t Index;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, IndexExpr, Index, I + 1, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">if</span> (Index &gt; DeclFD-&gt;getNumParams()) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_bounds_for_function)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;          &lt;&lt; AL &lt;&lt; Index &lt;&lt; DeclFD &lt;&lt; DeclFD-&gt;getNumParams();</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T1 = AttrFD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#afd761724c0261c3613c187ca98482442">getParamDecl</a>(I - 1)-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T2 = DeclFD-&gt;getParamDecl(Index - 1)-&gt;getType();</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">if</span> (T1.<a class="code" href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">getCanonicalType</a>().<a class="code" href="classclang_1_1QualType.html#a9163b7f9b8aa211925297f3096e80ba9">getUnqualifiedType</a>() !=</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        T2.<a class="code" href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">getCanonicalType</a>().<a class="code" href="classclang_1_1QualType.html#a9163b7f9b8aa211925297f3096e80ba9">getUnqualifiedType</a>()) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(IndexExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_parameter_types)</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;          &lt;&lt; AL &lt;&lt; Index &lt;&lt; DeclFD &lt;&lt; T2 &lt;&lt; I &lt;&lt; AttrFD &lt;&lt; T1;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    Indices.push_back(Index - 1);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) DiagnoseAsBuiltinAttr(</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, AttrFD, Indices.data(), Indices.size()));</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDiagnoseIfAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::ext_clang_diagnose_if);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *Cond;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  StringRef Msg;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">if</span> (!checkFunctionConditionAttr(S, D, AL, Cond, Msg))</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  StringRef DiagTypeStr;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 2, DiagTypeStr))</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  DiagnoseIfAttr::DiagnosticType DiagType;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keywordflow">if</span> (!DiagnoseIfAttr::ConvertStrToDiagnosticType(DiagTypeStr, DiagType)) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(2)-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(),</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;           diag::err_diagnose_if_invalid_diagnostic_type);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordtype">bool</span> ArgDependent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D))</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    ArgDependent = ArgumentDependenceChecker(FD).referencesArgs(Cond);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) DiagnoseIfAttr(</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Cond, Msg, DiagType, ArgDependent, cast&lt;NamedDecl&gt;(D)));</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;}</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNoBuiltinAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> StringRef kWildcard = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;StringRef, 16&gt;</a> Names;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordtype">bool</span> HasWildcard = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> AddBuiltinName = [&amp;Names, &amp;HasWildcard](StringRef Name) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (Name == kWildcard)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      HasWildcard = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    Names.push_back(Name);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  };</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// Add previously defined attributes.</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *NBA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;NoBuiltinAttr&gt;())</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">for</span> (StringRef BuiltinName : NBA-&gt;builtinNames())</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      AddBuiltinName(BuiltinName);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">// Add current attributes.</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    AddBuiltinName(kWildcard);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I != E; ++I) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      StringRef BuiltinName;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, I, BuiltinName, &amp;LiteralLoc))</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Builtin_1_1Context.html#a34cb76e6f3b52104086f87965ece53f9">Builtin::Context::isBuiltinFunc</a>(BuiltinName))</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        AddBuiltinName(BuiltinName);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::warn_attribute_no_builtin_invalid_builtin_name)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            &lt;&lt; BuiltinName &lt;&lt; AL;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// Repeating the same attribute is fine.</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  llvm::sort(Names);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  Names.erase(std::unique(Names.begin(), Names.end()), Names.end());</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="comment">// Empty no_builtin must be on its own.</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">if</span> (HasWildcard &amp;&amp; Names.size() &gt; 1)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;           diag::err_attribute_no_builtin_wildcard_or_builtin_name)</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        &lt;&lt; AL;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;NoBuiltinAttr&gt;())</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;NoBuiltinAttr&gt;();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                 NoBuiltinAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Names.data(), Names.size()));</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handlePassObjectSizeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;PassObjectSizeAttr&gt;()) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::err_attribute_only_once_per_parameter) &lt;&lt; AL;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  uint32_t <a class="code" href="classclang_1_1Type.html">Type</a>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, E, <a class="code" href="classclang_1_1Type.html">Type</a>, <span class="comment">/*Idx=*/</span>1))</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// pass_object_size&#39;s argument is passed in as the second argument of</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="comment">// __builtin_object_size. So, it has the same constraints as that second</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="comment">// argument; namely, it must be in the range [0, 3].</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1Type.html">Type</a> &gt; 3) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_argument_out_of_range)</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        &lt;&lt; AL &lt;&lt; 0 &lt;&lt; 3 &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="comment">// pass_object_size is only supported on constant pointer parameters; as a</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">// kindness to users, we allow the parameter to be non-const for declarations.</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="comment">// At this point, we have no clue if `D` belongs to a function declaration or</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// definition, so we defer the constness check until later.</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">if</span> (!cast&lt;ParmVarDecl&gt;(D)-&gt;getType()-&gt;isPointerType()) {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::err_attribute_pointers_only) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PassObjectSizeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, (<span class="keywordtype">int</span>)<a class="code" href="classclang_1_1Type.html">Type</a>));</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;}</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleConsumableAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <a class="code" href="namespaceclang_1_1consumed.html#acaee577ec9f365f1eb7eafc869becd77">ConsumableAttr::ConsumedState</a> DefaultState;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *IL = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">if</span> (!ConsumableAttr::ConvertStrToConsumedState(IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(),</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                                                   DefaultState)) {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::warn_attribute_type_not_supported) &lt;&lt; AL</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                                                               &lt;&lt; IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ConsumableAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, DefaultState));</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;}</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkForConsumableClass(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1CXXMethodDecl.html">CXXMethodDecl</a> *MD,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ThisType = MD-&gt;<a class="code" href="classclang_1_1CXXMethodDecl.html#a7819f2b9d4b7a93fdb1d54d263feecf5">getThisType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *RD = ThisType-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>()) {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">if</span> (!RD-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;ConsumableAttr&gt;()) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attr_on_unconsumable_class) &lt;&lt; RD;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCallableWhenAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordflow">if</span> (!checkForConsumableClass(S, cast&lt;CXXMethodDecl&gt;(D), AL))</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallableWhenAttr::ConsumedState, 3&gt;</a> States;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ArgIndex = 0; ArgIndex &lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++ArgIndex) {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="namespaceclang_1_1consumed.html#acaee577ec9f365f1eb7eafc869becd77">CallableWhenAttr::ConsumedState</a> CallableState;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    StringRef StateString;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(ArgIndex)) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Ident = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(ArgIndex);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      StateString = Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      Loc = Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, ArgIndex, StateString, &amp;Loc))</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">if</span> (!CallableWhenAttr::ConvertStrToConsumedState(StateString,</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                                                     CallableState)) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; StateString;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    States.push_back(CallableState);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                 CallableWhenAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, States.data(), States.size()));</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;}</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160; </div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleParamTypestateAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <a class="code" href="namespaceclang_1_1consumed.html#acaee577ec9f365f1eb7eafc869becd77">ParamTypestateAttr::ConsumedState</a> ParamState;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Ident = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    StringRef StateString = Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">if</span> (!ParamTypestateAttr::ConvertStrToConsumedState(StateString,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                                                       ParamState)) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::warn_attribute_type_not_supported)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;          &lt;&lt; AL &lt;&lt; StateString;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="comment">// FIXME: This check is currently being done in the analysis.  It can be</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="comment">//        enabled here only after the parser propagates attributes at</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">//        template specialization definition, not declaration.</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="comment">//QualType ReturnType = cast&lt;ParmVarDecl&gt;(D)-&gt;getType();</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="comment">//const CXXRecordDecl *RD = ReturnType-&gt;getAsCXXRecordDecl();</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="comment">//if (!RD || !RD-&gt;hasAttr&lt;ConsumableAttr&gt;()) {</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="comment">//    S.Diag(AL.getLoc(), diag::warn_return_state_for_unconsumable_type) &lt;&lt;</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="comment">//      ReturnType.getAsString();</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="comment">//    return;</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="comment">//}</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ParamTypestateAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, ParamState));</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;}</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleReturnTypestateAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <a class="code" href="namespaceclang_1_1consumed.html#acaee577ec9f365f1eb7eafc869becd77">ReturnTypestateAttr::ConsumedState</a> ReturnState;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *IL = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">if</span> (!ReturnTypestateAttr::ConvertStrToConsumedState(IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(),</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                                                        ReturnState)) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::warn_attribute_type_not_supported) &lt;&lt; AL</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                                               &lt;&lt; IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="comment">// FIXME: This check is currently being done in the analysis.  It can be</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="comment">//        enabled here only after the parser propagates attributes at</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="comment">//        template specialization definition, not declaration.</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="comment">//QualType ReturnType;</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="comment">//if (const ParmVarDecl *Param = dyn_cast&lt;ParmVarDecl&gt;(D)) {</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="comment">//  ReturnType = Param-&gt;getType();</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="comment">//} else if (const CXXConstructorDecl *Constructor =</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="comment">//             dyn_cast&lt;CXXConstructorDecl&gt;(D)) {</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="comment">//  ReturnType = Constructor-&gt;getThisType()-&gt;getPointeeType();</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="comment">//} else {</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">//  ReturnType = cast&lt;FunctionDecl&gt;(D)-&gt;getCallResultType();</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">//}</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="comment">//const CXXRecordDecl *RD = ReturnType-&gt;getAsCXXRecordDecl();</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">//if (!RD || !RD-&gt;hasAttr&lt;ConsumableAttr&gt;()) {</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="comment">//    S.Diag(Attr.getLoc(), diag::warn_return_state_for_unconsumable_type) &lt;&lt;</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="comment">//      ReturnType.getAsString();</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">//    return;</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">//}</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ReturnTypestateAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, ReturnState));</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSetTypestateAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">if</span> (!checkForConsumableClass(S, cast&lt;CXXMethodDecl&gt;(D), AL))</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <a class="code" href="namespaceclang_1_1consumed.html#acaee577ec9f365f1eb7eafc869becd77">SetTypestateAttr::ConsumedState</a> NewState;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Ident = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    StringRef Param = Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">if</span> (!SetTypestateAttr::ConvertStrToConsumedState(Param, NewState)) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::warn_attribute_type_not_supported) &lt;&lt; AL</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                                                                  &lt;&lt; Param;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SetTypestateAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, NewState));</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;}</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleTestTypestateAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="keywordflow">if</span> (!checkForConsumableClass(S, cast&lt;CXXMethodDecl&gt;(D), AL))</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <a class="code" href="namespaceclang_1_1consumed.html#acaee577ec9f365f1eb7eafc869becd77">TestTypestateAttr::ConsumedState</a> TestState;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Ident = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    StringRef Param = Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">if</span> (!TestTypestateAttr::ConvertStrToConsumedState(Param, TestState)) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Ident-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::warn_attribute_type_not_supported) &lt;&lt; AL</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                                                                  &lt;&lt; Param;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) TestTypestateAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, TestState));</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;}</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleExtVectorTypeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="comment">// Remember this typedef decl, we will need it later for diagnostics.</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a2c86bcade973975c740a783b831362d9">ExtVectorDecls</a>.<a class="code" href="classclang_1_1LazyVector.html#a1e7f341045a85d9146d7a09457438ee1">push_back</a>(cast&lt;TypedefNameDecl&gt;(D));</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handlePackedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TD = dyn_cast&lt;TagDecl&gt;(D))</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    TD-&gt;addAttr(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PackedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FD = dyn_cast&lt;FieldDecl&gt;(D)) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordtype">bool</span> BitfieldByteAligned = (!FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                !FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#ab349777c8b730854e626849c6acff90d">isIncompleteType</a>() &amp;&amp;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                FD-&gt;isBitField() &amp;&amp;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                                S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#afb825a845dced571b094627bfcae7870">getTypeAlign</a>(FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()) &lt;= 8);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>().<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isPS4()) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <span class="keywordflow">if</span> (BitfieldByteAligned)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="comment">// The PS4 target needs to maintain ABI backwards compatibility.</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_ignored_for_field_of_type)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            &lt;&lt; AL &lt;&lt; FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        FD-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PackedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="comment">// Report warning about changed offset in the newer compiler versions.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="keywordflow">if</span> (BitfieldByteAligned)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_packed_for_bitfield);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      FD-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PackedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    }</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_ignored) &lt;&lt; AL;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handlePreferredName(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keyword">auto</span> *RD = cast&lt;CXXRecordDecl&gt;(D);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <a class="code" href="classclang_1_1ClassTemplateDecl.html">ClassTemplateDecl</a> *CTD = RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#ab584bc52cf7c2397a67fde7f8fc5786a">getDescribedClassTemplate</a>();</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  assert(CTD &amp;&amp; <span class="stringliteral">&quot;attribute does not appertain to this declaration&quot;</span>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <a class="code" href="classclang_1_1OpaquePtr.html">ParsedType</a> PT = AL.<a class="code" href="classclang_1_1ParsedAttr.html#afd85b5081f1dded428912184ccf42e05">getTypeArg</a>();</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *TSI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T = S.<a class="code" href="classclang_1_1Sema.html#af01ac7ae5060cb2c8714b3fc034069a2">GetTypeFromParser</a>(PT, &amp;TSI);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">if</span> (!TSI)</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    TSI = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">getTrivialTypeSourceInfo</a>(T, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>());</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">if</span> (!T.<a class="code" href="classclang_1_1QualType.html#a19feed0aad4d7a0c97f3706787aa7aff">hasQualifiers</a>() &amp;&amp; T-&gt;<a class="code" href="classclang_1_1Type.html#ae3c22dc5cfd5317df51b0855e57fdfb0">isTypedefNameType</a>()) {</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="comment">// Find the template name, if this type names a template specialization.</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1TemplateDecl.html">TemplateDecl</a> *Template = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *CTSD = dyn_cast_or_null&lt;ClassTemplateSpecializationDecl&gt;(</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            T-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>())) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      Template = CTSD-&gt;getSpecializedTemplate();</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TST = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1TemplateSpecializationType.html">TemplateSpecializationType</a>&gt;()) {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <span class="keywordflow">while</span> (TST &amp;&amp; TST-&gt;isTypeAlias())</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        TST = TST-&gt;getAliasedType()-&gt;getAs&lt;<a class="code" href="classclang_1_1TemplateSpecializationType.html">TemplateSpecializationType</a>&gt;();</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keywordflow">if</span> (TST)</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        Template = TST-&gt;getTemplateName().getAsTemplateDecl();</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">if</span> (Template &amp;&amp; <a class="code" href="namespaceclang.html#ad9d926b16adbdbc93705737b69d47cae">declaresSameEntity</a>(Template, CTD)) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PreferredNameAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, TSI));</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_preferred_name_arg_invalid)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      &lt;&lt; T &lt;&lt; CTD;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TT = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1TypedefType.html">TypedefType</a>&gt;())</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(TT-&gt;getDecl()-&gt;getLocation(), diag::note_entity_declared_at)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        &lt;&lt; TT-&gt;getDecl();</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;}</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkIBOutletCommon(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// The IBOutlet/IBOutletCollection attributes only apply to instance</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// variables or properties of Objective-C classes.  The outlet must also</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">// have an object reference type.</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;ObjCIvarDecl&gt;(D)) {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="keywordflow">if</span> (!VD-&gt;getType()-&gt;getAs&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;()) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_iboutlet_object_type)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;          &lt;&lt; AL &lt;&lt; VD-&gt;getType() &lt;&lt; 0;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PD = dyn_cast&lt;ObjCPropertyDecl&gt;(D)) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">if</span> (!PD-&gt;getType()-&gt;getAs&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;()) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_iboutlet_object_type)</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;          &lt;&lt; AL &lt;&lt; PD-&gt;getType() &lt;&lt; 1;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_iboutlet) &lt;&lt; AL;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;}</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIBOutlet(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">if</span> (!checkIBOutletCommon(S, D, AL))</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) IBOutletAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;}</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIBOutletCollection(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="comment">// The iboutletcollection attribute can have zero or one arguments.</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_number_arguments) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  }</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordflow">if</span> (!checkIBOutletCommon(S, D, AL))</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <a class="code" href="classclang_1_1OpaquePtr.html">ParsedType</a> PT;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3268778235a07ab81be02b50fe601582">hasParsedType</a>())</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    PT = AL.<a class="code" href="classclang_1_1ParsedAttr.html#afd85b5081f1dded428912184ccf42e05">getTypeArg</a>();</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    PT = S.<a class="code" href="classclang_1_1Sema.html#a3624a2be2a3d0c3a51d812ff5939a3f3">getTypeName</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;NSObject&quot;</span>), AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                       S.<a class="code" href="classclang_1_1Sema.html#a27596d04a7c8119447f9306ce0de3552">getScopeForContext</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>()-&gt;<a class="code" href="classclang_1_1DeclContext.html#a31c99b38017e8d702fda9c0f1d021186">getParent</a>()));</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">if</span> (!PT) {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_iboutletcollection_type) &lt;&lt; <span class="stringliteral">&quot;NSObject&quot;</span>;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *QTLoc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> QT = S.<a class="code" href="classclang_1_1Sema.html#af01ac7ae5060cb2c8714b3fc034069a2">GetTypeFromParser</a>(PT, &amp;QTLoc);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordflow">if</span> (!QTLoc)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    QTLoc = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">getTrivialTypeSourceInfo</a>(QT, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>());</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="comment">// Diagnose use of non-object type in iboutletcollection attribute.</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="comment">// FIXME. Gnu attribute extension ignores use of builtin types in</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="comment">// attributes. So, __attribute__((iboutletcollection(char))) will be</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="comment">// treated as __attribute__((iboutletcollection())).</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordflow">if</span> (!QT-&gt;<a class="code" href="classclang_1_1Type.html#a903df8e91e75403da0da82add1e8a833">isObjCIdType</a>() &amp;&amp; !QT-&gt;<a class="code" href="classclang_1_1Type.html#aa21d6c6c8ce9f35147e67e4c5789e3c8">isObjCObjectType</a>()) {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;           QT-&gt;<a class="code" href="classclang_1_1Type.html#a6ac9f16e167718c8da4ac46735de8dcd">isBuiltinType</a>() ? diag::err_iboutletcollection_builtintype</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                               : diag::err_iboutletcollection_type) &lt;&lt; QT;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) IBOutletCollectionAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, QTLoc));</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a873862ae3d3ef21308d961f87fc51b71">Sema::isValidPointerAttrType</a>(<a class="code" href="classclang_1_1QualType.html">QualType</a> T, <span class="keywordtype">bool</span> RefOkay) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">if</span> (RefOkay) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">if</span> (T-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>())</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    T = T.<a class="code" href="classclang_1_1QualType.html#a8be1f3b9e144fba37e7aa9ae2a583de6">getNonReferenceType</a>();</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="comment">// The nonnull attribute, and other similar attributes, can be applied to a</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="comment">// transparent union that contains a pointer type.</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1RecordType.html">RecordType</a> *UT = T-&gt;<a class="code" href="classclang_1_1Type.html#a144846c00257c86421cf162de68f80dd">getAsUnionType</a>()) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">if</span> (UT &amp;&amp; UT-&gt;getDecl()-&gt;hasAttr&lt;TransparentUnionAttr&gt;()) {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      <a class="code" href="classclang_1_1RecordDecl.html">RecordDecl</a> *UD = UT-&gt;getDecl();</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *I : UD-&gt;<a class="code" href="classclang_1_1RecordDecl.html#a5e73db3d805697af36d80739d55369ec">fields</a>()) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <a class="code" href="classclang_1_1QualType.html">QualType</a> QT = I-&gt;getType();</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="keywordflow">if</span> (QT-&gt;<a class="code" href="classclang_1_1Type.html#acec6a1ac593ef9b1805529f25dd32b12">isAnyPointerType</a>() || QT-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>())</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="keywordflow">return</span> T-&gt;<a class="code" href="classclang_1_1Type.html#acec6a1ac593ef9b1805529f25dd32b12">isAnyPointerType</a>() || T-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>();</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> attrNonNullArgCheck(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1QualType.html">QualType</a> T, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                                <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> AttrParmRange,</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                                <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> TypeRange,</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                                <span class="keywordtype">bool</span> isReturnValue = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a873862ae3d3ef21308d961f87fc51b71">isValidPointerAttrType</a>(T)) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">if</span> (isReturnValue)</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_return_pointers_only)</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;          &lt;&lt; AL &lt;&lt; AttrParmRange &lt;&lt; TypeRange;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_pointers_only)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;          &lt;&lt; AL &lt;&lt; AttrParmRange &lt;&lt; TypeRange &lt;&lt; 0;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;}</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNonNullAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ParamIdx, 8&gt;</a> NonNullArgs;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++I) {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *Ex = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> Idx;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AL, I + 1, Ex, Idx))</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="comment">// Is the function argument a pointer type?</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">if</span> (Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>() &lt; <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) &amp;&amp;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        !attrNonNullArgCheck(</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            S, <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>()), AL,</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            Ex-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>(),</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>())))</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    NonNullArgs.push_back(Idx);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="comment">// If no arguments were specified to __attribute__((nonnull)) then all pointer</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="comment">// arguments have a nonnull attribute; warn if there aren&#39;t any. Skip this</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="comment">// check if the attribute came from a macro expansion or a template</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">// instantiation.</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> (NonNullArgs.empty() &amp;&amp; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>().<a class="code" href="classclang_1_1SourceLocation.html#a0ac7b4fd2f2ae0f3a501ffa38b30443a">isFileID</a>() &amp;&amp;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      !S.<a class="code" href="classclang_1_1Sema.html#a9e314454e8c3b859b7db983827069f16">inTemplateInstantiation</a>()) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordtype">bool</span> AnyPointers = <a class="code" href="SemaDeclAttr_8cpp.html#a12afa036cb4e017652edff238e76bfeb">isFunctionOrMethodVariadic</a>(D);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;         I != E &amp;&amp; !AnyPointers; ++I) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <a class="code" href="classclang_1_1QualType.html">QualType</a> T = <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, I);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="keywordflow">if</span> (T-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() || S.<a class="code" href="classclang_1_1Sema.html#a873862ae3d3ef21308d961f87fc51b71">isValidPointerAttrType</a>(T))</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        AnyPointers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">if</span> (!AnyPointers)</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_nonnull_no_pointers);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> *Start = NonNullArgs.data();</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> = NonNullArgs.size();</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  llvm::array_pod_sort(Start, Start + Size);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NonNullAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Start, Size));</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNonNullAttrParameter(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *D,</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 0) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>()) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      handleNonNullAttr(S, D, AL);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_nonnull_parm_no_args)</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        &lt;&lt; D-&gt;<a class="code" href="classclang_1_1ParmVarDecl.html#af0dd329fcf621274077bdf71403f6f2b">getSourceRange</a>();</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="comment">// Is the argument a pointer type?</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordflow">if</span> (!attrNonNullArgCheck(S, D-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>(), AL, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(),</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                           D-&gt;<a class="code" href="classclang_1_1ParmVarDecl.html#af0dd329fcf621274077bdf71403f6f2b">getSourceRange</a>()))</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NonNullAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <span class="keyword">nullptr</span>, 0));</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;}</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleReturnsNonNullAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ResultType = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> SR = <a class="code" href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">getFunctionOrMethodResultSourceRange</a>(D);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">if</span> (!attrNonNullArgCheck(S, ResultType, AL, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(), SR,</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                           <span class="comment">/* isReturnValue */</span> <span class="keyword">true</span>))</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ReturnsNonNullAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;}</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNoEscapeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#a8cdf2955f2dc6bf8e832defc751a6b17">isInvalidDecl</a>())</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="comment">// noescape only applies to pointer types.</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T = cast&lt;ParmVarDecl&gt;(D)-&gt;getType();</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a873862ae3d3ef21308d961f87fc51b71">isValidPointerAttrType</a>(T, <span class="comment">/* RefOkay */</span> <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_pointers_only)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        &lt;&lt; AL &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>() &lt;&lt; 0;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  }</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NoEscapeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;}</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160; </div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAssumeAlignedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0),</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;       *OE = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1 ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a9e8d942a7336514421c8e2ffddd0ea78">AddAssumeAlignedAttr</a>(D, AL, E, OE);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAllocAlignAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#af64af091ac159acbd130350bfb6e4ba1">AddAllocAlignAttr</a>(D, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;}</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a9e8d942a7336514421c8e2ffddd0ea78">Sema::AddAssumeAlignedAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                                <a class="code" href="classclang_1_1Expr.html">Expr</a> *OE) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ResultType = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> SR = <a class="code" href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">getFunctionOrMethodResultSourceRange</a>(D);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  AssumeAlignedAttr TmpAttr(Context, CI, E, OE);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> AttrLoc = TmpAttr.getLocation();</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160; </div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="keywordflow">if</span> (!isValidPointerAttrType(ResultType, <span class="comment">/* RefOkay */</span> <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::warn_attribute_return_pointers_refs_only)</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        &lt;&lt; &amp;TmpAttr &lt;&lt; TmpAttr.getRange() &lt;&lt; SR;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="classllvm_1_1Optional.html">Optional&lt;llvm::APSInt&gt;</a> I = <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a>(64);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">if</span> (!(I = E-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(Context))) {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      <span class="keywordflow">if</span> (OE)</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;          &lt;&lt; &amp;TmpAttr &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;          &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_attribute_argument_type)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;          &lt;&lt; &amp;TmpAttr &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;          &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    }</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">if</span> (!I-&gt;isPowerOf2()) {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_alignment_not_power_of_two)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordflow">if</span> (*I &gt; <a class="code" href="classclang_1_1Sema.html#a6fd5be08919ffcceade0e51f7789f2d5">Sema::MaximumAlignment</a>)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_assume_aligned_too_great)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;          &lt;&lt; CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>() &lt;&lt; <a class="code" href="classclang_1_1Sema.html#a6fd5be08919ffcceade0e51f7789f2d5">Sema::MaximumAlignment</a>;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="keywordflow">if</span> (OE &amp;&amp; !OE-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() &amp;&amp; !OE-&gt;<a class="code" href="classclang_1_1Expr.html#a9b6d471da0496fc51f89217258f60f6b">isIntegerConstantExpr</a>(Context)) {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        &lt;&lt; &amp;TmpAttr &lt;&lt; 2 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        &lt;&lt; OE-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) AssumeAlignedAttr(Context, CI, E, OE));</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;}</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160; </div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#af64af091ac159acbd130350bfb6e4ba1">Sema::AddAllocAlignAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                             <a class="code" href="classclang_1_1Expr.html">Expr</a> *ParamExpr) {</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ResultType = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  AllocAlignAttr TmpAttr(Context, CI, <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a>());</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> AttrLoc = CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>();</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="keywordflow">if</span> (!ResultType-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      !isValidPointerAttrType(ResultType, <span class="comment">/* RefOkay */</span> <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::warn_attribute_return_pointers_refs_only)</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        &lt;&lt; &amp;TmpAttr &lt;&lt; CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>() &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">getFunctionOrMethodResultSourceRange</a>(D);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  }</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> Idx;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *FuncDecl = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(*<span class="keyword">this</span>, FuncDecl, TmpAttr,</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                                           <span class="comment">/*AttrArgNum=*/</span>1, ParamExpr, Idx))</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160; </div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>());</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="keywordflow">if</span> (!Ty-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp; !Ty-&gt;<a class="code" href="classclang_1_1Type.html#a522d6c088d4e3e61918a13a1e4c65a4f">isIntegralType</a>(Context) &amp;&amp;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      !Ty-&gt;<a class="code" href="classclang_1_1Type.html#a55da4b4ad6a1bdc68b7e6f3d553fdbba">isAlignValT</a>()) {</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ParamExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_integers_only)</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        &lt;&lt; &amp;TmpAttr</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        &lt;&lt; FuncDecl-&gt;getParamDecl(Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>())-&gt;getSourceRange();</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  }</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) AllocAlignAttr(Context, CI, Idx));</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;}</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="comment">/// Check if \p AssumptionStr is a known assumption and warn if not.</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> checkAssumptionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                                StringRef AssumptionStr) {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="keywordflow">if</span> (llvm::KnownAssumptionStrings.count(AssumptionStr))</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="keywordtype">unsigned</span> BestEditDistance = 3;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  StringRef Suggestion;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;KnownAssumptionIt : llvm::KnownAssumptionStrings) {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordtype">unsigned</span> EditDistance =</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        AssumptionStr.edit_distance(KnownAssumptionIt.getKey());</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (EditDistance &lt; BestEditDistance) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      Suggestion = KnownAssumptionIt.getKey();</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      BestEditDistance = EditDistance;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    }</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160; </div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="keywordflow">if</span> (!Suggestion.empty())</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_assume_attribute_string_unknown_suggested)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        &lt;&lt; AssumptionStr &lt;&lt; Suggestion;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_assume_attribute_string_unknown) &lt;&lt; AssumptionStr;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;}</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160; </div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAssumumptionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="comment">// Handle the case where the attribute has a text message.</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> AttrStrLoc;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;AttrStrLoc))</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160; </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  checkAssumptionAttr(S, AttrStrLoc, Str);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AssumptionAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;}</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="comment">/// Normalize the attribute, __foo__ becomes foo.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">/// Returns true if normalization was applied.</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Attributes_8cpp.html#a2443733863a1efcf2245fa252ffb4c62">normalizeName</a>(StringRef &amp;AttrName) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keywordflow">if</span> (AttrName.size() &gt; 4 &amp;&amp; AttrName.startswith(<span class="stringliteral">&quot;__&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      AttrName.endswith(<span class="stringliteral">&quot;__&quot;</span>)) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    AttrName = AttrName.drop_front(2).drop_back(2);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  }</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;}</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleOwnershipAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="comment">// This attribute must be applied to a function declaration. The first</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="comment">// argument to the attribute must be an identifier, the name of the resource,</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="comment">// for example: malloc. The following arguments must be argument indexes, the</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="comment">// arguments must be of integer type for Returns, otherwise of pointer type.</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="comment">// The difference between Holds and Takes is that a pointer may still be used</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="comment">// after being held. free() should be __attribute((ownership_takes)), whereas</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="comment">// a list append function may well be __attribute((ownership_holds)).</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  }</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160; </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="comment">// Figure out our Kind.</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  OwnershipAttr::OwnershipKind K =</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      OwnershipAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, 0).getOwnKind();</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="comment">// Check arguments.</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="keywordflow">switch</span> (K) {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <span class="keywordflow">case</span> OwnershipAttr::Takes:</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keywordflow">case</span> OwnershipAttr::Holds:</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &lt; 2) {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_too_few_arguments) &lt;&lt; AL &lt;&lt; 2;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="keywordflow">case</span> OwnershipAttr::Returns:</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 2) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_too_many_arguments) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; </div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *<a class="code" href="classclang_1_1Module.html">Module</a> = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160; </div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  StringRef ModuleName = <a class="code" href="classclang_1_1Module.html">Module</a>-&gt;getName();</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Attributes_8cpp.html#a2443733863a1efcf2245fa252ffb4c62">normalizeName</a>(ModuleName)) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <a class="code" href="classclang_1_1Module.html">Module</a> = &amp;S.<a class="code" href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">PP</a>.<a class="code" href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">getIdentifierTable</a>().<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(ModuleName);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ParamIdx, 8&gt;</a> OwnershipArgs;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1; i &lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++i) {</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *Ex = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(i);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> Idx;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AL, i, Ex, Idx))</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="comment">// Is the function argument a pointer type?</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T = <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>());</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordtype">int</span> Err = -1;  <span class="comment">// No error</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">switch</span> (K) {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      <span class="keywordflow">case</span> OwnershipAttr::Takes:</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      <span class="keywordflow">case</span> OwnershipAttr::Holds:</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#acec6a1ac593ef9b1805529f25dd32b12">isAnyPointerType</a>() &amp;&amp; !T-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>())</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;          Err = 0;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      <span class="keywordflow">case</span> OwnershipAttr::Returns:</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;        <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#a3b8d0cdfe0bdd8b98296b84ae9d438c5">isIntegerType</a>())</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;          Err = 1;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">if</span> (-1 != Err) {</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_ownership_type) &lt;&lt; AL &lt;&lt; Err</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                                                    &lt;&lt; Ex-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160; </div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="comment">// Check we don&#39;t have a conflict with another ownership attribute.</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *I : D-&gt;<a class="code" href="classclang_1_1Decl.html#a9c0ac8ddf9155de0b95eeeb18034e50f">specific_attrs</a>&lt;OwnershipAttr&gt;()) {</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      <span class="comment">// Cannot have two ownership attributes of different kinds for the same</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <span class="comment">// index.</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <span class="keywordflow">if</span> (I-&gt;getOwnKind() != K &amp;&amp; I-&gt;args_end() !=</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;          std::find(I-&gt;args_begin(), I-&gt;args_end(), Idx)) {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attributes_are_not_compatible) &lt;&lt; AL &lt;&lt; I;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (K == OwnershipAttr::Returns &amp;&amp;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                 I-&gt;getOwnKind() == OwnershipAttr::Returns) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        <span class="comment">// A returns attribute conflicts with any other returns attribute using</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="comment">// a different index.</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="keywordflow">if</span> (!llvm::is_contained(I-&gt;args(), Idx)) {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;          S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(I-&gt;getLocation(), diag::err_ownership_returns_index_mismatch)</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;              &lt;&lt; I-&gt;args_begin()-&gt;getSourceIndex();</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;          <span class="keywordflow">if</span> (I-&gt;args_size())</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_ownership_returns_index_mismatch)</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                &lt;&lt; Idx.<a class="code" href="classclang_1_1ParamIdx.html#a62d65ba307efac5f42ae7488fc68f2cf">getSourceIndex</a>() &lt;&lt; Ex-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        }</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      }</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    }</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    OwnershipArgs.push_back(Idx);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> *Start = OwnershipArgs.data();</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">Size</a> = OwnershipArgs.size();</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  llvm::array_pod_sort(Start, Start + Size);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                 OwnershipAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="classclang_1_1Module.html">Module</a>, Start, Size));</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;}</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160; </div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleWeakRefAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="comment">// Check the attribute arguments.</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1) {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_number_arguments) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  }</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160; </div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="comment">// gcc rejects</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="comment">// class c {</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="comment">//   static int a __attribute__((weakref (&quot;v2&quot;)));</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="comment">//   static int b() __attribute__((weakref (&quot;f3&quot;)));</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="comment">// };</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="comment">// and ignores the attributes of</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="comment">// void f(void) {</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <span class="comment">//   static int a __attribute__((weakref (&quot;v2&quot;)));</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="comment">// we reject them</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1DeclContext.html">DeclContext</a> *Ctx = D-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>()-&gt;<a class="code" href="classclang_1_1DeclContext.html#a61743ae6acff989a26641900282e6305">getRedeclContext</a>();</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <span class="keywordflow">if</span> (!Ctx-&gt;<a class="code" href="classclang_1_1DeclContext.html#a0b3d5097b06b49bf8db1907a934773e4">isFileContext</a>()) {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_weakref_not_global_context)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        &lt;&lt; cast&lt;NamedDecl&gt;(D);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160; </div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="comment">// The GCC manual says</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <span class="comment">// At present, a declaration to which `weakref&#39; is attached can only</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <span class="comment">// be `static&#39;.</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="comment">// It also says</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="comment">// Without a TARGET,</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="comment">// given as an argument to `weakref&#39; or to `alias&#39;, `weakref&#39; is</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="comment">// equivalent to `weak&#39;.</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <span class="comment">// gcc 4.4.1 will accept</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  <span class="comment">// int a7 __attribute__((weakref));</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="comment">// as</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="comment">// int a7 __attribute__((weak));</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="comment">// This looks like a bug in gcc. We reject that for now. We should revisit</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <span class="comment">// it if this behaviour is actually used.</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="comment">// GCC rejects</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="comment">// static ((alias (&quot;y&quot;), weakref)).</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <span class="comment">// Should we? How to check that weakref is before or after alias?</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160; </div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="comment">// FIXME: it would be good for us to keep the WeakRefAttr as-written instead</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">// of transforming it into an AliasAttr.  The WeakRefAttr never uses the</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="comment">// StringRef parameter it was given anyway.</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &amp;&amp; S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">// GCC will accept anything as the argument of weakref. Should we</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="comment">// check for an existing decl?</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AliasAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160; </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) WeakRefAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;}</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIFuncAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="comment">// Aliases should be on declarations, not definitions.</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a12fbc6a677ba028f3c1b9343e7819b29">isThisDeclarationADefinition</a>()) {</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_alias_is_definition) &lt;&lt; FD &lt;&lt; 1;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) IFuncAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;}</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAliasAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSDarwin()) {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_alias_not_supported_on_darwin);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isNVPTX()) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_alias_not_supported_on_nvptx);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  }</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="comment">// Aliases should be on declarations, not definitions.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a12fbc6a677ba028f3c1b9343e7819b29">isThisDeclarationADefinition</a>()) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_alias_is_definition) &lt;&lt; FD &lt;&lt; 0;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    }</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *VD = cast&lt;VarDecl&gt;(D);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;isThisDeclarationADefinition() &amp;&amp; VD-&gt;isExternallyVisible()) {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_alias_is_definition) &lt;&lt; VD &lt;&lt; 0;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  }</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="comment">// Mark target used to prevent unneeded-internal-declaration warnings.</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.CPlusPlus) {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="comment">// FIXME: demangle Str for C++, as the attribute refers to the mangled</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="comment">// linkage name, not the pre-mangled identifier.</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keyword">const</span> <a class="code" href="structclang_1_1DeclarationNameInfo.html">DeclarationNameInfo</a> <a class="code" href="SemaSYCL_8cpp.html#a5d2c023108742a1ce78ba9823c06ea35">target</a>(&amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(Str), AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>());</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <a class="code" href="classclang_1_1LookupResult.html">LookupResult</a> LR(S, <a class="code" href="SemaSYCL_8cpp.html#a5d2c023108742a1ce78ba9823c06ea35">target</a>, <a class="code" href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">Sema::LookupOrdinaryName</a>);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">LookupQualifiedName</a>(LR, S.<a class="code" href="classclang_1_1Sema.html#aef198114231022aaccdce766cc26d21d">getCurLexicalContext</a>()))</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *ND : LR)</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        ND-&gt;markUsed(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  }</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AliasAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;}</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleTLSModelAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  StringRef Model;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="comment">// Check that it is a string.</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Model, &amp;LiteralLoc))</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <span class="comment">// Check that the value.</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="keywordflow">if</span> (Model != <span class="stringliteral">&quot;global-dynamic&quot;</span> &amp;&amp; Model != <span class="stringliteral">&quot;local-dynamic&quot;</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      &amp;&amp; Model != <span class="stringliteral">&quot;initial-exec&quot;</span> &amp;&amp; Model != <span class="stringliteral">&quot;local-exec&quot;</span>) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::err_attr_tlsmodel_arg);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSAIX() &amp;&amp;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      Model != <span class="stringliteral">&quot;global-dynamic&quot;</span>) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::err_aix_attr_unsupported_tls_model) &lt;&lt; Model;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160; </div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) TLSModelAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Model));</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;}</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleRestrictAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ResultType = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">if</span> (ResultType-&gt;<a class="code" href="classclang_1_1Type.html#acec6a1ac593ef9b1805529f25dd32b12">isAnyPointerType</a>() || ResultType-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>()) {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) RestrictAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  }</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_return_pointers_only)</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      &lt;&lt; AL &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">getFunctionOrMethodResultSourceRange</a>(D);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;}</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160; </div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCPUSpecificAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="comment">// Ensure we don&#39;t combine these with themselves, since that causes some</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="comment">// confusing behavior.</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#af85f17313658274e0a36974ebc397dfa">getParsedKind</a>() == ParsedAttr::AT_CPUDispatch) {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="keywordflow">if</span> (checkAttrMutualExclusion&lt;CPUSpecificAttr&gt;(S, D, AL))</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Other = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;CPUDispatchAttr&gt;()) {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_disallowed_duplicate_attribute) &lt;&lt; AL;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Other-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    }</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#af85f17313658274e0a36974ebc397dfa">getParsedKind</a>() == ParsedAttr::AT_CPUSpecific) {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">if</span> (checkAttrMutualExclusion&lt;CPUDispatchAttr&gt;(S, D, AL))</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Other = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;CPUSpecificAttr&gt;()) {</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_disallowed_duplicate_attribute) &lt;&lt; AL;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Other-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160; </div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">if</span> (MD-&gt;<a class="code" href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">getParent</a>()-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#a47bd4d56ae0e4ddd26ac0bec6e977160">isLambda</a>()) {</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_dll_lambda) &lt;&lt; AL;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160; </div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;IdentifierInfo *, 8&gt;</a> CPUs;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ArgNo = 0; ArgNo &lt; <a class="code" href="SemaDeclAttr_8cpp.html#aa66a4f788c2087c9710be661d1179c22">getNumAttributeArgs</a>(AL); ++ArgNo) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(ArgNo)) {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;          &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160; </div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *CPUArg = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(ArgNo);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    StringRef CPUName = CPUArg-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>().trim();</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160; </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ac0cde90dc0b5c986ea29c96c0f9f2fe6">validateCPUSpecificCPUDispatch</a>(CPUName)) {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(CPUArg-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::err_invalid_cpu_specific_dispatch_value)</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;          &lt;&lt; CPUName &lt;&lt; (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_CPUDispatch);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1TargetInfo.html">TargetInfo</a> &amp;<a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a> = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>();</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (llvm::any_of(CPUs, [CPUName, &amp;Target](<span class="keyword">const</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Cur) {</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>.CPUSpecificManglingCharacter(CPUName) ==</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                 <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>.CPUSpecificManglingCharacter(Cur-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>());</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        })) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_multiversion_duplicate_entries);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    }</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    CPUs.push_back(CPUArg-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  }</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160; </div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a24dba9bcdd8392c3124cb62d7b56a5e5">setIsMultiVersion</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_CPUSpecific)</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                   CPUSpecificAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, CPUs.data(), CPUs.size()));</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                   CPUDispatchAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, CPUs.data(), CPUs.size()));</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;}</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160; </div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCommonAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.CPlusPlus) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_not_supported_in_lang)</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dab600815d6d9e18d9146b12719639e8f3">AttributeLangSupport::Cpp</a>;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160; </div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CommonAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;}</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160; </div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCmseNSEntryAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.CPlusPlus &amp;&amp; !D-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>()-&gt;<a class="code" href="classclang_1_1DeclContext.html#ad7ab62cfc73a62174af9418139e47f5a">isExternCContext</a>()) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_not_clinkage) &lt;&lt; AL;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  }</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; </div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keywordflow">if</span> (!FD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#ae261851b288b486223cea4d3516861a6">isExternallyVisible</a>()) {</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_cmse_entry_static);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  }</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CmseNSEntryAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;}</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNakedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a4443a6593412d7b2eab3a28a0bc4a248">isDeclspecAttribute</a>()) {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Triple = S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>().<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>();</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Arch = Triple.getArch();</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span> (Arch != llvm::Triple::x86 &amp;&amp;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        (Arch != llvm::Triple::arm &amp;&amp; Arch != llvm::Triple::thumb)) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_not_supported_on_arch)</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;          &lt;&lt; AL &lt;&lt; Triple.getArchName();</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    }</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160; </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="comment">// This form is not allowed to be written on a member function (static or</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="comment">// nonstatic) when in Microsoft compatibility mode.</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().MSVCCompat &amp;&amp; isa&lt;CXXMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_decl_type_str)</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;          &lt;&lt; AL &lt;&lt; <span class="stringliteral">&quot;non-member functions&quot;</span>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    }</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  }</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NakedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;}</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160; </div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNoReturnAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;Attrs) {</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#a71ce58e657f548708725ba2ad028f186">hasDeclarator</a>(D)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160; </div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ObjCMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Attrs.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        &lt;&lt; Attrs &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d">ExpectedFunctionOrMethod</a>;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  }</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160; </div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NoReturnAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Attrs));</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;}</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160; </div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleStandardNoReturnAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="comment">// The [[_Noreturn]] spelling is deprecated in C2x, so if that was used,</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="comment">// issue an appropriate diagnostic. However, don&#39;t issue a diagnostic if the</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="comment">// attribute name comes from a macro expansion. We don&#39;t want to punish users</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="comment">// who write [[noreturn]] after including &lt;stdnoreturn.h&gt; (where &#39;noreturn&#39;</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="comment">// is defined as a macro which expands to &#39;_Noreturn&#39;).</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CPlusPlus &amp;&amp;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      A.<a class="code" href="classclang_1_1ParsedAttr.html#a1c23175b6d2cfc723d6e18390c5cd25a">getSemanticSpelling</a>() == CXX11NoReturnAttr::C2x_Noreturn &amp;&amp;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      !(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>().<a class="code" href="classclang_1_1SourceLocation.html#a7b86d0136676be7b367dc8202cd0729a">isMacroID</a>() &amp;&amp;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a9926ceb22d6934583667ea2b7bb65d58">getSourceManager</a>().<a class="code" href="classclang_1_1SourceManager.html#a96cf5b49a9e9c314298e9d4e55d10f1f">isInSystemMacro</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>())))</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_deprecated_noreturn_spelling) &lt;&lt; A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CXX11NoReturnAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, A));</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;}</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160; </div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNoCfCheckAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;Attrs) {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CFProtectionBranch)</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Attrs.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_nocf_check_attribute_ignored);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    handleSimpleAttribute&lt;AnyX86NoCfCheckAttr&gt;(S, D, Attrs);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;}</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160; </div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#ae722275ed5d5c9f9373f97183a897b49">Sema::CheckAttrNoArgs</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;Attrs) {</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="keywordflow">if</span> (!Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(*<span class="keyword">this</span>, 0)) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  }</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160; </div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;}</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160; </div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#ad269d80f4b9afb68b95196aa6dfe66bb">Sema::CheckAttrTarget</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="comment">// Check whether the attribute is valid on the current target.</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1TargetInfo.html">TargetInfo</a> *Aux = Context.<a class="code" href="classclang_1_1ASTContext.html#adaa68e898feba5f67c091eb936e53744">getAuxTargetInfo</a>();</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="keywordflow">if</span> (!(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2aeab101dc398b79dda9649356b6a2d2">existsInTarget</a>(Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>()) ||</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        (Context.<a class="code" href="classclang_1_1ASTContext.html#a5d08520048c29a58b06a07f1bfb69b77">getLangOpts</a>().SYCLIsDevice &amp;&amp;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;         Aux &amp;&amp; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2aeab101dc398b79dda9649356b6a2d2">existsInTarget</a>(*Aux)))) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_unknown_attribute_ignored)</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        &lt;&lt; AL &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;}</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160; </div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAnalyzerNoReturnAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160; </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="comment">// The checking path for &#39;noreturn&#39; and &#39;analyzer_noreturn&#39; are different</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="comment">// because &#39;analyzer_noreturn&#39; does not impact the type.</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a856af5962802c5e86dd819ab58552e7b">isFunctionOrMethodOrBlock</a>(D)) {</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <a class="code" href="classclang_1_1ValueDecl.html">ValueDecl</a> *VD = dyn_cast&lt;ValueDecl&gt;(D);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">if</span> (!VD || (!VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>() &amp;&amp;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;                !VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">isFunctionPointerType</a>())) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#af4bc4e9853a101b16769c91f3cd19aa8">isStandardAttributeSyntax</a>()</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;                              ? diag::err_attribute_wrong_decl_type</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;                              : diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;          &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a2c9689ea2433df5199a907e99d7a7486">ExpectedFunctionMethodOrBlock</a>;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  }</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160; </div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AnalyzerNoReturnAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;}</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160; </div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="comment">// PS3 PPU-specific.</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleVecReturnAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="comment">    Returning a Vector Class in Registers</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="comment">    According to the PPU ABI specifications, a class with a single member of</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="comment">    vector type is returned in memory when used as the return value of a</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="comment">    function.</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="comment">    This results in inefficient code when implementing vector classes. To return</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="comment">    the value in a single vector register, add the vecreturn attribute to the</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="comment">    class definition. This attribute is also applicable to struct types.</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<span class="comment">    Example:</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="comment">    struct Vector</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="comment">      __vector float xyzw;</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="comment">    } __attribute__((vecreturn));</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="comment">    Vector Add(Vector lhs, Vector rhs)</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment">      Vector result;</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="comment">      result.xyzw = vec_add(lhs.xyzw, rhs.xyzw);</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="comment">      return result; // This will be returned in a register</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="keywordflow">if</span> (VecReturnAttr *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;VecReturnAttr&gt;()) {</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_repeat_attribute) &lt;&lt; A;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  }</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160; </div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *R = cast&lt;RecordDecl&gt;(D);</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160; </div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;CXXRecordDecl&gt;(R)) {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_vecreturn_only_vector_member);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> (!cast&lt;CXXRecordDecl&gt;(R)-&gt;isPOD()) {</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_vecreturn_only_pod_record);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  }</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160; </div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *I : R-&gt;fields()) {</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordflow">if</span> ((count == 1) || !I-&gt;getType()-&gt;isVectorType()) {</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_vecreturn_only_vector_member);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    }</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    count++;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  }</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) VecReturnAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;}</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160; </div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDependencyAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Scope.html">Scope</a> *<a class="code" href="classclang_1_1Scope.html">Scope</a>, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ParmVarDecl&gt;(D)) {</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="comment">// [[carries_dependency]] can only be applied to a parameter if it is a</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="comment">// parameter of a function declaration or lambda.</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="classclang_1_1Scope.html">Scope</a>-&gt;<a class="code" href="classclang_1_1Scope.html#a42bf6d862e958f486c21020f81395afa">getFlags</a>() &amp; <a class="code" href="classclang_1_1Scope.html#afa7e82b8e23f84d0d73e27953b9afab7ad0c60d6cb6734034fb8ee9d694e2d854">clang::Scope::FunctionDeclarationScope</a>)) {</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;             diag::err_carries_dependency_param_not_function_decl);</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    }</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  }</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160; </div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CarriesDependencyAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;}</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160; </div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleUnusedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keywordtype">bool</span> IsCXX17Attr = AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a3aaefe89fd12252284cee68b661d1eaa">isCXX11Attribute</a>() &amp;&amp; !AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>();</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="comment">// If this is spelled as the standard C++17 attribute, but not in C++17, warn</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="comment">// about using it as an extension.</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CPlusPlus17 &amp;&amp; IsCXX17Attr)</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::ext_cxx17_attr) &lt;&lt; AL;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160; </div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) UnusedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;}</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160; </div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleConstructorAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  uint32_t priority = ConstructorAttr::DefaultPriority;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &amp;&amp;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      !<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0), priority))</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160; </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ConstructorAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, priority));</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;}</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160; </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDestructorAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  uint32_t priority = DestructorAttr::DefaultPriority;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &amp;&amp;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      !<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0), priority))</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160; </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) DestructorAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, priority));</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;}</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrTy&gt;</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAttrWithMessage(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  <span class="comment">// Handle the case where the attribute has a text message.</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 1 &amp;&amp; !S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160; </div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AttrTy(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;}</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160; </div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCSuppresProtocolAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <span class="keywordflow">if</span> (!cast&lt;ObjCProtocolDecl&gt;(D)-&gt;isThisDeclarationADefinition()) {</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_objc_attr_protocol_requires_definition)</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;        &lt;&lt; AL &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  }</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160; </div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCExplicitProtocolImplAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;}</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160; </div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkAvailabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> Range,</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                                  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Platform,</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                                  VersionTuple Introduced,</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                                  VersionTuple Deprecated,</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                                  VersionTuple Obsoleted) {</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  StringRef PlatformName</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    = AvailabilityAttr::getPrettyPlatformName(Platform-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>());</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="keywordflow">if</span> (PlatformName.empty())</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    PlatformName = Platform-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160; </div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <span class="comment">// Ensure that Introduced &lt;= Deprecated &lt;= Obsoleted (although not all</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="comment">// of these steps are needed).</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">if</span> (!Introduced.empty() &amp;&amp; !Deprecated.empty() &amp;&amp;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;      !(Introduced &lt;= Deprecated)) {</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="namespaceclang_1_1transformer.html#ad80941aa4fbfbd2f0d99e77a2c779b2ca87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.getBegin(), diag::warn_availability_version_ordering)</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      &lt;&lt; 1 &lt;&lt; PlatformName &lt;&lt; Deprecated.getAsString()</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;      &lt;&lt; 0 &lt;&lt; Introduced.getAsString();</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  }</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160; </div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordflow">if</span> (!Introduced.empty() &amp;&amp; !Obsoleted.empty() &amp;&amp;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      !(Introduced &lt;= Obsoleted)) {</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="namespaceclang_1_1transformer.html#ad80941aa4fbfbd2f0d99e77a2c779b2ca87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.getBegin(), diag::warn_availability_version_ordering)</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      &lt;&lt; 2 &lt;&lt; PlatformName &lt;&lt; Obsoleted.getAsString()</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      &lt;&lt; 0 &lt;&lt; Introduced.getAsString();</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  }</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordflow">if</span> (!Deprecated.empty() &amp;&amp; !Obsoleted.empty() &amp;&amp;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      !(Deprecated &lt;= Obsoleted)) {</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="namespaceclang_1_1transformer.html#ad80941aa4fbfbd2f0d99e77a2c779b2ca87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.getBegin(), diag::warn_availability_version_ordering)</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      &lt;&lt; 2 &lt;&lt; PlatformName &lt;&lt; Obsoleted.getAsString()</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      &lt;&lt; 1 &lt;&lt; Deprecated.getAsString();</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  }</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;}</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">/// Check whether the two versions match.</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;<span class="comment">/// If either version tuple is empty, then they are assumed to match. If</span></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="comment">/// \p BeforeIsOkay is true, then \p X can be less than or equal to \p Y.</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a>(<span class="keyword">const</span> VersionTuple &amp;<a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a>, <span class="keyword">const</span> VersionTuple &amp;Y,</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                          <span class="keywordtype">bool</span> BeforeIsOkay) {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a>.empty() || Y.empty())</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160; </div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a> == Y)</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160; </div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="keywordflow">if</span> (BeforeIsOkay &amp;&amp; <a class="code" href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">X</a> &lt; Y)</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160; </div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;}</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160; </div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;AvailabilityAttr *<a class="code" href="classclang_1_1Sema.html#a150d4864858a1a2e736f5da30f59de23">Sema::mergeAvailabilityAttr</a>(</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI, <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Platform,</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="keywordtype">bool</span> Implicit, VersionTuple Introduced, VersionTuple Deprecated,</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    VersionTuple Obsoleted, <span class="keywordtype">bool</span> IsUnavailable, StringRef Message,</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordtype">bool</span> IsStrict, StringRef Replacement, AvailabilityMergeKind AMK,</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="Format_8cpp.html#a4450b0bad265ba3bd24e994f70aec802">Priority</a>) {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  VersionTuple MergedIntroduced = Introduced;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  VersionTuple MergedDeprecated = Deprecated;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  VersionTuple MergedObsoleted = Obsoleted;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="keywordtype">bool</span> FoundAny = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  <span class="keywordtype">bool</span> OverrideOrImpl = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  <span class="keywordflow">switch</span> (AMK) {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  <span class="keywordflow">case</span> AMK_None:</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <span class="keywordflow">case</span> AMK_Redeclaration:</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    OverrideOrImpl = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160; </div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;  <span class="keywordflow">case</span> AMK_Override:</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="keywordflow">case</span> AMK_ProtocolImplementation:</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <span class="keywordflow">case</span> AMK_OptionalProtocolImplementation:</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    OverrideOrImpl = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  }</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160; </div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#a1e0b6223e2547ac65ddbf4802117998b">hasAttrs</a>()) {</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">AttrVec</a> &amp;Attrs = D-&gt;<a class="code" href="classclang_1_1Decl.html#abae11b19b60f5291f70b397af22d81ca">getAttrs</a>();</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Attrs.size(); i != e;) {</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *OldAA = dyn_cast&lt;AvailabilityAttr&gt;(Attrs[i]);</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      <span class="keywordflow">if</span> (!OldAA) {</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        ++i;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      }</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160; </div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *OldPlatform = OldAA-&gt;getPlatform();</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="keywordflow">if</span> (OldPlatform != Platform) {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;        ++i;</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      }</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160; </div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <span class="comment">// If there is an existing availability attribute for this platform that</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      <span class="comment">// has a lower priority use the existing one and discard the new</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      <span class="comment">// attribute.</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <span class="keywordflow">if</span> (OldAA-&gt;getPriority() &lt; <a class="code" href="Format_8cpp.html#a4450b0bad265ba3bd24e994f70aec802">Priority</a>)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160; </div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;      <span class="comment">// If there is an existing attribute for this platform that has a higher</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      <span class="comment">// priority than the new attribute then erase the old one and continue</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;      <span class="comment">// processing the attributes.</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      <span class="keywordflow">if</span> (OldAA-&gt;getPriority() &gt; <a class="code" href="Format_8cpp.html#a4450b0bad265ba3bd24e994f70aec802">Priority</a>) {</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        Attrs.erase(Attrs.begin() + i);</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        --e;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;      }</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160; </div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      FoundAny = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      VersionTuple OldIntroduced = OldAA-&gt;getIntroduced();</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      VersionTuple OldDeprecated = OldAA-&gt;getDeprecated();</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      VersionTuple OldObsoleted = OldAA-&gt;getObsoleted();</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <span class="keywordtype">bool</span> OldIsUnavailable = OldAA-&gt;getUnavailable();</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160; </div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a>(OldIntroduced, Introduced, OverrideOrImpl) ||</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;          !<a class="code" href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a>(Deprecated, OldDeprecated, OverrideOrImpl) ||</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;          !<a class="code" href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a>(Obsoleted, OldObsoleted, OverrideOrImpl) ||</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;          !(OldIsUnavailable == IsUnavailable ||</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;            (OverrideOrImpl &amp;&amp; !OldIsUnavailable &amp;&amp; IsUnavailable))) {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        <span class="keywordflow">if</span> (OverrideOrImpl) {</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;          <span class="keywordtype">int</span> Which = -1;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;          VersionTuple FirstVersion;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;          VersionTuple SecondVersion;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a>(OldIntroduced, Introduced, OverrideOrImpl)) {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;            Which = 0;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;            FirstVersion = OldIntroduced;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;            SecondVersion = Introduced;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a>(Deprecated, OldDeprecated, OverrideOrImpl)) {</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;            Which = 1;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;            FirstVersion = Deprecated;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;            SecondVersion = OldDeprecated;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a>(Obsoleted, OldObsoleted, OverrideOrImpl)) {</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;            Which = 2;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            FirstVersion = Obsoleted;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;            SecondVersion = OldObsoleted;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;          }</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160; </div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;          <span class="keywordflow">if</span> (Which == -1) {</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(OldAA-&gt;getLocation(),</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                 diag::warn_mismatched_availability_override_unavail)</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;              &lt;&lt; AvailabilityAttr::getPrettyPlatformName(Platform-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>())</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;              &lt;&lt; (AMK == AMK_Override);</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Which != 1 &amp;&amp; AMK == AMK_OptionalProtocolImplementation) {</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            <span class="comment">// Allow different &#39;introduced&#39; / &#39;obsoleted&#39; availability versions</span></div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;            <span class="comment">// on a method that implements an optional protocol requirement. It</span></div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;            <span class="comment">// makes less sense to allow this for &#39;deprecated&#39; as the user can&#39;t</span></div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <span class="comment">// see if the method is &#39;deprecated&#39; as &#39;respondsToSelector&#39; will</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            <span class="comment">// still return true when the method is deprecated.</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;            ++i;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;            <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(OldAA-&gt;getLocation(),</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                 diag::warn_mismatched_availability_override)</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;              &lt;&lt; Which</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;              &lt;&lt; AvailabilityAttr::getPrettyPlatformName(Platform-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>())</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;              &lt;&lt; FirstVersion.getAsString() &lt;&lt; SecondVersion.getAsString()</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;              &lt;&lt; (AMK == AMK_Override);</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;          }</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;          <span class="keywordflow">if</span> (AMK == AMK_Override)</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;            <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_overridden_method);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_protocol_method);</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(OldAA-&gt;getLocation(), diag::warn_mismatched_availability);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_previous_attribute);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        }</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        Attrs.erase(Attrs.begin() + i);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        --e;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;      }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;      VersionTuple MergedIntroduced2 = MergedIntroduced;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      VersionTuple MergedDeprecated2 = MergedDeprecated;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      VersionTuple MergedObsoleted2 = MergedObsoleted;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      <span class="keywordflow">if</span> (MergedIntroduced2.empty())</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        MergedIntroduced2 = OldIntroduced;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;      <span class="keywordflow">if</span> (MergedDeprecated2.empty())</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        MergedDeprecated2 = OldDeprecated;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      <span class="keywordflow">if</span> (MergedObsoleted2.empty())</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        MergedObsoleted2 = OldObsoleted;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160; </div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      <span class="keywordflow">if</span> (checkAvailabilityAttr(*<span class="keyword">this</span>, OldAA-&gt;getRange(), Platform,</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;                                MergedIntroduced2, MergedDeprecated2,</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                                MergedObsoleted2)) {</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        Attrs.erase(Attrs.begin() + i);</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        --e;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;      }</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160; </div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;      MergedIntroduced = MergedIntroduced2;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;      MergedDeprecated = MergedDeprecated2;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      MergedObsoleted = MergedObsoleted2;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;      ++i;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    }</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  }</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="keywordflow">if</span> (FoundAny &amp;&amp;</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      MergedIntroduced == Introduced &amp;&amp;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;      MergedDeprecated == Deprecated &amp;&amp;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      MergedObsoleted == Obsoleted)</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160; </div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="comment">// Only create a new attribute if !OverrideOrImpl, but we want to do</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="comment">// the checking.</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="keywordflow">if</span> (!checkAvailabilityAttr(*<span class="keyword">this</span>, CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), Platform, MergedIntroduced,</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                             MergedDeprecated, MergedObsoleted) &amp;&amp;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      !OverrideOrImpl) {</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keyword">auto</span> *Avail = ::new (Context) AvailabilityAttr(</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        Context, CI, Platform, Introduced, Deprecated, Obsoleted, IsUnavailable,</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        Message, IsStrict, Replacement, <a class="code" href="Format_8cpp.html#a4450b0bad265ba3bd24e994f70aec802">Priority</a>);</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    Avail-&gt;setImplicit(Implicit);</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keywordflow">return</span> Avail;</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  }</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;}</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160; </div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAvailabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UsingDecl, UnresolvedUsingTypenameDecl, UnresolvedUsingValueDecl&gt;(</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;          D)) {</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(), diag::warn_deprecated_ignored_on_using)</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        &lt;&lt; AL;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  }</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160; </div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Platform = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160; </div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II = Platform-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  <span class="keywordflow">if</span> (AvailabilityAttr::getPrettyPlatformName(II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>()).empty())</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Platform-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::warn_availability_unknown_platform)</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      &lt;&lt; Platform-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keyword">auto</span> *ND = dyn_cast&lt;NamedDecl&gt;(D);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  <span class="keywordflow">if</span> (!ND) <span class="comment">// We warned about this already, so just return.</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160; </div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  <a class="code" href="structclang_1_1AvailabilityChange.html">AvailabilityChange</a> Introduced = AL.<a class="code" href="classclang_1_1ParsedAttr.html#af03c4510d385db776ddeb93415c024ab">getAvailabilityIntroduced</a>();</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <a class="code" href="structclang_1_1AvailabilityChange.html">AvailabilityChange</a> Deprecated = AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf8615443621aecf51b66bd3daaee4da">getAvailabilityDeprecated</a>();</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <a class="code" href="structclang_1_1AvailabilityChange.html">AvailabilityChange</a> Obsoleted = AL.<a class="code" href="classclang_1_1ParsedAttr.html#aad3006722dcaf55029ad2176b195e402">getAvailabilityObsoleted</a>();</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="keywordtype">bool</span> IsUnavailable = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a5d8a76380838094257a859e4c894b6ed">getUnavailableLoc</a>().<a class="code" href="classclang_1_1SourceLocation.html#a980da8d6100c0a0c3764991ca80ce6e7">isValid</a>();</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  <span class="keywordtype">bool</span> IsStrict = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a765f7182bccdc02a5e0ac40fc2ea465a">getStrictLoc</a>().<a class="code" href="classclang_1_1SourceLocation.html#a980da8d6100c0a0c3764991ca80ce6e7">isValid</a>();</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *SE = dyn_cast_or_null&lt;StringLiteral&gt;(AL.<a class="code" href="classclang_1_1ParsedAttr.html#abb126c27ac7070ff0f79c4dfd5286de8">getMessageExpr</a>()))</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    Str = SE-&gt;getString();</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  StringRef Replacement;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *SE = dyn_cast_or_null&lt;StringLiteral&gt;(AL.<a class="code" href="classclang_1_1ParsedAttr.html#ad7b0ece68181a256c8f6b382dc6ba25c">getReplacementExpr</a>()))</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    Replacement = SE-&gt;getString();</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160; </div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;swift&quot;</span>)) {</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">if</span> (Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a445c0590e132224e65e5723f6b21abf7">isValid</a>() || Obsoleted.<a class="code" href="structclang_1_1AvailabilityChange.html#a445c0590e132224e65e5723f6b21abf7">isValid</a>() ||</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;        (!IsUnavailable &amp;&amp; !Deprecated.<a class="code" href="structclang_1_1AvailabilityChange.html#a445c0590e132224e65e5723f6b21abf7">isValid</a>())) {</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;             diag::warn_availability_swift_unavailable_deprecated_only);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    }</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  }</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160; </div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;fuchsia&quot;</span>)) {</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <a class="code" href="classllvm_1_1Optional.html">Optional&lt;unsigned&gt;</a> Min, <a class="code" href="namespaceclang_1_1interp.html#a1bf3981a441b5357f0f3984df94fb2c5">Sub</a>;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordflow">if</span> ((Min = Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>.getMinor()) ||</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;        (<a class="code" href="namespaceclang_1_1interp.html#a1bf3981a441b5357f0f3984df94fb2c5">Sub</a> = Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>.getSubminor())) {</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_availability_fuchsia_unavailable_minor);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    }</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  }</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160; </div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="keywordtype">int</span> PriorityModifier = AL.<a class="code" href="classclang_1_1ParsedAttr.html#aaa7c2f922a6d517d8060f0806299762b">isPragmaClangAttribute</a>()</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                             ? <a class="code" href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4a721f29e9c65b3ee019eee99a0972e78f">Sema::AP_PragmaClangAttribute</a></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;                             : <a class="code" href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ad9851b2653a2f363617ac52b23752e4a">Sema::AP_Explicit</a>;</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  AvailabilityAttr *NewAttr = S.<a class="code" href="classclang_1_1Sema.html#a150d4864858a1a2e736f5da30f59de23">mergeAvailabilityAttr</a>(</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      ND, AL, II, <span class="keyword">false</span> <span class="comment">/*Implicit*/</span>, Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>, Deprecated.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>,</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      Obsoleted.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>, IsUnavailable, Str, IsStrict, Replacement,</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      <a class="code" href="classclang_1_1Sema.html#ac1d54bada076817ebee6b14b4df4ad05a69f6da662c2d72a4e3fa820874cfcda4">Sema::AMK_None</a>, PriorityModifier);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  <span class="keywordflow">if</span> (NewAttr)</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160; </div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  <span class="comment">// Transcribe &quot;ios&quot; to &quot;watchos&quot; (and add a new attribute) if the versioning</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="comment">// matches before the start of the watchOS platform.</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isWatchOS()) {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *NewII = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;ios&quot;</span>)</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;      NewII = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;watchos&quot;</span>);</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;ios_app_extension&quot;</span>)</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;      NewII = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;watchos_app_extension&quot;</span>);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160; </div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    <span class="keywordflow">if</span> (NewII) {</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *SDKInfo = S.<a class="code" href="classclang_1_1Sema.html#ae8fd528d9e01462ea2543a9a2e69f5ea">getDarwinSDKInfoForAvailabilityChecking</a>();</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *IOSToWatchOSMapping =</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;          SDKInfo ? SDKInfo-&gt;<a class="code" href="classclang_1_1DarwinSDKInfo.html#a7fe8bf714c1c63c58e4386e8e30a8e79">getVersionMapping</a>(</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;                        <a class="code" href="structclang_1_1DarwinSDKInfo_1_1OSEnvPair.html#a2bc7adefa88f31da8b31382fab8d9b3a">DarwinSDKInfo::OSEnvPair::iOStoWatchOSPair</a>())</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                  : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      <span class="keyword">auto</span> adjustWatchOSVersion =</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;          [IOSToWatchOSMapping](VersionTuple Version) -&gt; VersionTuple {</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        <span class="keywordflow">if</span> (Version.empty())</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;          <span class="keywordflow">return</span> Version;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        <span class="keyword">auto</span> MinimumWatchOSVersion = VersionTuple(2, 0);</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        <span class="keywordflow">if</span> (IOSToWatchOSMapping) {</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> MappedVersion = IOSToWatchOSMapping-&gt;map(</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;                  Version, MinimumWatchOSVersion, None)) {</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;            <span class="keywordflow">return</span> MappedVersion.getValue();</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;          }</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        }</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160; </div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;        <span class="keyword">auto</span> Major = Version.getMajor();</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        <span class="keyword">auto</span> NewMajor = Major &gt;= 9 ? Major - 7 : 0;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;        <span class="keywordflow">if</span> (NewMajor &gt;= 2) {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;          <span class="keywordflow">if</span> (Version.getMinor().hasValue()) {</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;            <span class="keywordflow">if</span> (Version.getSubminor().hasValue())</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;              <span class="keywordflow">return</span> VersionTuple(NewMajor, Version.getMinor().getValue(),</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                                  Version.getSubminor().getValue());</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;              <span class="keywordflow">return</span> VersionTuple(NewMajor, Version.getMinor().getValue());</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;          }</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;          <span class="keywordflow">return</span> VersionTuple(NewMajor);</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;        }</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160; </div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        <span class="keywordflow">return</span> MinimumWatchOSVersion;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      };</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160; </div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;      <span class="keyword">auto</span> NewIntroduced = adjustWatchOSVersion(Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;      <span class="keyword">auto</span> NewDeprecated = adjustWatchOSVersion(Deprecated.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>);</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;      <span class="keyword">auto</span> NewObsoleted = adjustWatchOSVersion(Obsoleted.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>);</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160; </div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;      AvailabilityAttr *NewAttr = S.<a class="code" href="classclang_1_1Sema.html#a150d4864858a1a2e736f5da30f59de23">mergeAvailabilityAttr</a>(</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;          ND, AL, NewII, <span class="keyword">true</span> <span class="comment">/*Implicit*/</span>, NewIntroduced, NewDeprecated,</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;          NewObsoleted, IsUnavailable, Str, IsStrict, Replacement,</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;          <a class="code" href="classclang_1_1Sema.html#ac1d54bada076817ebee6b14b4df4ad05a69f6da662c2d72a4e3fa820874cfcda4">Sema::AMK_None</a>,</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;          PriorityModifier + <a class="code" href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ace5f121fd7e5acd9c842855035a33cdf">Sema::AP_InferredFromOtherPlatform</a>);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      <span class="keywordflow">if</span> (NewAttr)</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    }</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isTvOS()) {</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    <span class="comment">// Transcribe &quot;ios&quot; to &quot;tvos&quot; (and add a new attribute) if the versioning</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <span class="comment">// matches before the start of the tvOS platform.</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *NewII = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;ios&quot;</span>)</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;      NewII = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;tvos&quot;</span>);</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;ios_app_extension&quot;</span>)</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;      NewII = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;tvos_app_extension&quot;</span>);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160; </div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="keywordflow">if</span> (NewII) {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *SDKInfo = S.<a class="code" href="classclang_1_1Sema.html#ae8fd528d9e01462ea2543a9a2e69f5ea">getDarwinSDKInfoForAvailabilityChecking</a>();</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *IOSToTvOSMapping =</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;          SDKInfo ? SDKInfo-&gt;<a class="code" href="classclang_1_1DarwinSDKInfo.html#a7fe8bf714c1c63c58e4386e8e30a8e79">getVersionMapping</a>(</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;                        <a class="code" href="structclang_1_1DarwinSDKInfo_1_1OSEnvPair.html#a5b9b6d3be47dd4ed41ba335e7888aa5f">DarwinSDKInfo::OSEnvPair::iOStoTvOSPair</a>())</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;                  : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160; </div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;      <span class="keyword">auto</span> AdjustTvOSVersion =</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;          [IOSToTvOSMapping](VersionTuple Version) -&gt; VersionTuple {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        <span class="keywordflow">if</span> (Version.empty())</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;          <span class="keywordflow">return</span> Version;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160; </div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;        <span class="keywordflow">if</span> (IOSToTvOSMapping) {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> MappedVersion =</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                  IOSToTvOSMapping-&gt;map(Version, VersionTuple(0, 0), None)) {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;            <span class="keywordflow">return</span> MappedVersion.getValue();</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;          }</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        }</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;        <span class="keywordflow">return</span> Version;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      };</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160; </div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;      <span class="keyword">auto</span> NewIntroduced = AdjustTvOSVersion(Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;      <span class="keyword">auto</span> NewDeprecated = AdjustTvOSVersion(Deprecated.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>);</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;      <span class="keyword">auto</span> NewObsoleted = AdjustTvOSVersion(Obsoleted.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>);</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;      AvailabilityAttr *NewAttr = S.<a class="code" href="classclang_1_1Sema.html#a150d4864858a1a2e736f5da30f59de23">mergeAvailabilityAttr</a>(</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;          ND, AL, NewII, <span class="keyword">true</span> <span class="comment">/*Implicit*/</span>, NewIntroduced, NewDeprecated,</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;          NewObsoleted, IsUnavailable, Str, IsStrict, Replacement,</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;          <a class="code" href="classclang_1_1Sema.html#ac1d54bada076817ebee6b14b4df4ad05a69f6da662c2d72a4e3fa820874cfcda4">Sema::AMK_None</a>,</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;          PriorityModifier + <a class="code" href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ace5f121fd7e5acd9c842855035a33cdf">Sema::AP_InferredFromOtherPlatform</a>);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      <span class="keywordflow">if</span> (NewAttr)</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    }</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().getOS() ==</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                 llvm::Triple::IOS &amp;&amp;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;             S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isMacCatalystEnvironment()) {</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="keyword">auto</span> GetSDKInfo = [&amp;]() {</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#ae8fd528d9e01462ea2543a9a2e69f5ea">getDarwinSDKInfoForAvailabilityChecking</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(),</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                                                       <span class="stringliteral">&quot;macOS&quot;</span>);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    };</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="comment">// Transcribe &quot;ios&quot; to &quot;maccatalyst&quot; (and add a new attribute).</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *NewII = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;ios&quot;</span>)</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;      NewII = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;maccatalyst&quot;</span>);</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;ios_app_extension&quot;</span>)</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;      NewII = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;maccatalyst_app_extension&quot;</span>);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <span class="keywordflow">if</span> (NewII) {</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;      <span class="keyword">auto</span> MinMacCatalystVersion = [](<span class="keyword">const</span> VersionTuple &amp;<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) {</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>.empty())</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>.getMajor() &lt; 13 ||</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;            (<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>.getMajor() == 13 &amp;&amp; <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>.getMinor() &amp;&amp; *<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>.getMinor() &lt; 1))</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;          <span class="keywordflow">return</span> VersionTuple(13, 1); <span class="comment">// The min Mac Catalyst version is 13.1.</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;      };</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;      AvailabilityAttr *NewAttr = S.<a class="code" href="classclang_1_1Sema.html#a150d4864858a1a2e736f5da30f59de23">mergeAvailabilityAttr</a>(</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;          ND, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), NewII, <span class="keyword">true</span> <span class="comment">/*Implicit*/</span>,</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;          MinMacCatalystVersion(Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>),</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;          MinMacCatalystVersion(Deprecated.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>),</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;          MinMacCatalystVersion(Obsoleted.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>), IsUnavailable, Str,</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;          IsStrict, Replacement, <a class="code" href="classclang_1_1Sema.html#ac1d54bada076817ebee6b14b4df4ad05a69f6da662c2d72a4e3fa820874cfcda4">Sema::AMK_None</a>,</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;          PriorityModifier + <a class="code" href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ace5f121fd7e5acd9c842855035a33cdf">Sema::AP_InferredFromOtherPlatform</a>);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;      <span class="keywordflow">if</span> (NewAttr)</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;macos&quot;</span> &amp;&amp; GetSDKInfo() &amp;&amp;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;               (!Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>.empty() || !Deprecated.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>.empty() ||</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                !Obsoleted.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>.empty())) {</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MacOStoMacCatalystMapping =</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;              GetSDKInfo()-&gt;getVersionMapping(</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                  <a class="code" href="structclang_1_1DarwinSDKInfo_1_1OSEnvPair.html#a280ae1f91c10e3f9f6812ee88323d53a">DarwinSDKInfo::OSEnvPair::macOStoMacCatalystPair</a>())) {</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        <span class="comment">// Infer Mac Catalyst availability from the macOS availability attribute</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <span class="comment">// if it has versioned availability. Don&#39;t infer &#39;unavailable&#39;. This</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;        <span class="comment">// inferred availability has lower priority than the other availability</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;        <span class="comment">// attributes that are inferred from &#39;ios&#39;.</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;        NewII = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(<span class="stringliteral">&quot;maccatalyst&quot;</span>);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;        <span class="keyword">auto</span> RemapMacOSVersion =</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;            [&amp;](<span class="keyword">const</span> VersionTuple &amp;<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) -&gt; <a class="code" href="classllvm_1_1Optional.html">Optional&lt;VersionTuple&gt;</a> {</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>.empty())</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            <span class="keywordflow">return</span> None;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;          <span class="comment">// API_TO_BE_DEPRECATED is 100000.</span></div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>.getMajor() == 100000)</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;            <span class="keywordflow">return</span> VersionTuple(100000);</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;          <span class="comment">// The minimum iosmac version is 13.1</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;          <span class="keywordflow">return</span> MacOStoMacCatalystMapping-&gt;map(<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>, VersionTuple(13, 1), <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a>);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;        };</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        <a class="code" href="classllvm_1_1Optional.html">Optional&lt;VersionTuple&gt;</a> NewIntroduced =</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                                   RemapMacOSVersion(Introduced.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>),</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                               NewDeprecated =</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;                                   RemapMacOSVersion(Deprecated.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>),</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;                               NewObsoleted =</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                                   RemapMacOSVersion(Obsoleted.<a class="code" href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">Version</a>);</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;        <span class="keywordflow">if</span> (NewIntroduced || NewDeprecated || NewObsoleted) {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;          <span class="keyword">auto</span> VersionOrEmptyVersion =</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;              [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Optional.html">Optional&lt;VersionTuple&gt;</a> &amp;<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) -&gt; VersionTuple {</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> ? *<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> : VersionTuple();</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;          };</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;          AvailabilityAttr *NewAttr = S.<a class="code" href="classclang_1_1Sema.html#a150d4864858a1a2e736f5da30f59de23">mergeAvailabilityAttr</a>(</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;              ND, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), NewII, <span class="keyword">true</span> <span class="comment">/*Implicit*/</span>,</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;              VersionOrEmptyVersion(NewIntroduced),</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;              VersionOrEmptyVersion(NewDeprecated),</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;              VersionOrEmptyVersion(NewObsoleted), <span class="comment">/*IsUnavailable=*/</span><span class="keyword">false</span>, Str,</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;              IsStrict, Replacement, <a class="code" href="classclang_1_1Sema.html#ac1d54bada076817ebee6b14b4df4ad05a69f6da662c2d72a4e3fa820874cfcda4">Sema::AMK_None</a>,</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;              PriorityModifier + <a class="code" href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ace5f121fd7e5acd9c842855035a33cdf">Sema::AP_InferredFromOtherPlatform</a> +</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                  <a class="code" href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ace5f121fd7e5acd9c842855035a33cdf">Sema::AP_InferredFromOtherPlatform</a>);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;          <span class="keywordflow">if</span> (NewAttr)</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;            D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;        }</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      }</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    }</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  }</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;}</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160; </div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleExternalSourceSymbolAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1) || !AL.<a class="code" href="classclang_1_1ParsedAttr.html#af567be8de0ee90a38d42b3bbc2bee3dd">checkAtMostNumArgs</a>(S, 3))</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160; </div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  StringRef <a class="code" href="namespaceclang.html#a6f904bf7056cbce941d51eeebe3bfd5c">Language</a>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *SE = dyn_cast_or_null&lt;StringLiteral&gt;(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0)))</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <a class="code" href="namespaceclang.html#a6f904bf7056cbce941d51eeebe3bfd5c">Language</a> = SE-&gt;getString();</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  StringRef DefinedIn;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *SE = dyn_cast_or_null&lt;StringLiteral&gt;(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1)))</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    DefinedIn = SE-&gt;getString();</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="keywordtype">bool</span> IsGeneratedDeclaration = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(2) != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160; </div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ExternalSourceSymbolAttr(</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="namespaceclang.html#a6f904bf7056cbce941d51eeebe3bfd5c">Language</a>, DefinedIn, IsGeneratedDeclaration));</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;}</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160; </div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;<span class="keyword">static</span> T *mergeVisibilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                              <span class="keyword">typename</span> T::VisibilityType value) {</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  T *existingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;T&gt;();</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="keywordflow">if</span> (existingAttr) {</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keyword">typename</span> T::VisibilityType existingValue = existingAttr-&gt;<a class="code" href="classclang_1_1Type.html#ab88f9a7d1946c06e508f3e4016913f78">getVisibility</a>();</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordflow">if</span> (existingValue == value)</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(existingAttr-&gt;getLocation(), diag::err_mismatched_visibility);</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_previous_attribute);</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;T&gt;();</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  }</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  return ::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) T(S.Context, CI, value);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;}</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160; </div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;VisibilityAttr *<a class="code" href="classclang_1_1Sema.html">Sema</a>::mergeVisibilityAttr(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                                          const <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                                          VisibilityAttr::VisibilityType Vis) {</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  return ::mergeVisibilityAttr&lt;VisibilityAttr&gt;(*<span class="keyword">this</span>, D, CI, Vis);</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;}</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160; </div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;TypeVisibilityAttr *</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<a class="code" href="classclang_1_1Sema.html#ae202970107ac736d01b53987dc1a6fc4">Sema::mergeTypeVisibilityAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                              TypeVisibilityAttr::VisibilityType Vis) {</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  return ::mergeVisibilityAttr&lt;TypeVisibilityAttr&gt;(*<span class="keyword">this</span>, D, CI, Vis);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;}</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160; </div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleVisibilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                                 <span class="keywordtype">bool</span> isTypeVisibility) {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <span class="comment">// Visibility attributes don&#39;t mean anything on a typedef.</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <span class="keywordflow">if</span> (isa&lt;TypedefNameDecl&gt;(D)) {</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(), diag::warn_attribute_ignored) &lt;&lt; AL;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  }</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160; </div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="comment">// &#39;type_visibility&#39; can only go on a type or namespace.</span></div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <span class="keywordflow">if</span> (isTypeVisibility &amp;&amp;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;      !(isa&lt;TagDecl&gt;(D) ||</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;        isa&lt;ObjCInterfaceDecl&gt;(D) ||</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;        isa&lt;NamespaceDecl&gt;(D))) {</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a3473b8e666542b2dd59de1e6d184fed4">ExpectedTypeOrNamespace</a>;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  }</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160; </div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="comment">// Check that the argument is a string literal.</span></div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  StringRef TypeStr;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, TypeStr, &amp;LiteralLoc))</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  VisibilityAttr::VisibilityType <a class="code" href="namespaceclang_1_1ast__matchers.html#a600679c157b5bd05c4bfb940fb2511dd">type</a>;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <span class="keywordflow">if</span> (!VisibilityAttr::ConvertStrToVisibilityType(TypeStr, <a class="code" href="classstd_1_1conditional_1_1type.html">type</a>)) {</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::warn_attribute_type_not_supported) &lt;&lt; AL</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                                                                &lt;&lt; TypeStr;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  }</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160; </div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  <span class="comment">// Complain about attempts to use protected visibility on targets</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;  <span class="comment">// (like Darwin) that don&#39;t support it.</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classstd_1_1conditional_1_1type.html">type</a> == VisibilityAttr::Protected &amp;&amp;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;      !S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ac62387ec0fa107f2ea2ce7ec655e92f0">hasProtectedVisibility</a>()) {</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_protected_visibility);</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <a class="code" href="classstd_1_1conditional_1_1type.html">type</a> = VisibilityAttr::Default;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  }</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160; </div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <a class="code" href="classclang_1_1Attr.html">Attr</a> *newAttr;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="keywordflow">if</span> (isTypeVisibility) {</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    newAttr = S.<a class="code" href="classclang_1_1Sema.html#ae202970107ac736d01b53987dc1a6fc4">mergeTypeVisibilityAttr</a>(</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        D, AL, (TypeVisibilityAttr::VisibilityType)<a class="code" href="classstd_1_1conditional_1_1type.html">type</a>);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    newAttr = S.<a class="code" href="classclang_1_1Sema.html#a95136d337c6d556eff520a7b958baa16">mergeVisibilityAttr</a>(D, AL, <a class="code" href="classstd_1_1conditional_1_1type.html">type</a>);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  <span class="keywordflow">if</span> (newAttr)</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(newAttr);</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;}</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160; </div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCDirectAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  <span class="comment">// objc_direct cannot be set on methods declared in the context of a protocol</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ObjCProtocolDecl&gt;(D-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>())) {</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_objc_direct_on_protocol) &lt;&lt; <span class="keyword">false</span>;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  }</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160; </div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().<a class="code" href="classclang_1_1LangOptions.html#a34a8b84f730051971c84c36daa84dda7">ObjCRuntime</a>.<a class="code" href="classclang_1_1ObjCRuntime.html#ad39258c17d6c4521e6481815defb20ec">allowsDirectDispatch</a>()) {</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    handleSimpleAttribute&lt;ObjCDirectAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_objc_direct_ignored) &lt;&lt; AL;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  }</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;}</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160; </div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCDirectMembersAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().<a class="code" href="classclang_1_1LangOptions.html#a34a8b84f730051971c84c36daa84dda7">ObjCRuntime</a>.<a class="code" href="classclang_1_1ObjCRuntime.html#ad39258c17d6c4521e6481815defb20ec">allowsDirectDispatch</a>()) {</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    handleSimpleAttribute&lt;ObjCDirectMembersAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_objc_direct_ignored) &lt;&lt; AL;</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  }</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;}</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160; </div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCMethodFamilyAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *M = cast&lt;ObjCMethodDecl&gt;(D);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;  }</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160; </div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;  <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *IL = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  ObjCMethodFamilyAttr::FamilyKind F;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  <span class="keywordflow">if</span> (!ObjCMethodFamilyAttr::ConvertStrToFamilyKind(IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(), F)) {</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>, diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  }</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160; </div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  <span class="keywordflow">if</span> (F == <a class="code" href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece">ObjCMethodFamilyAttr::OMF_init</a> &amp;&amp;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      !M-&gt;getReturnType()-&gt;isObjCObjectPointerType()) {</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(M-&gt;getLocation(), diag::err_init_method_bad_return_type)</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;        &lt;&lt; M-&gt;getReturnType();</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="comment">// Ignore the attribute.</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  }</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160; </div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCMethodFamilyAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, F));</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;}</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160; </div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCNSObject(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D)) {</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T = TD-&gt;getUnderlyingType();</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#a6f61faa28610039a0996fe03ddbc9eb4">isCARCBridgableType</a>()) {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(TD-&gt;getLocation(), diag::err_nsobject_attribute);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    }</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  }</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PD = dyn_cast&lt;ObjCPropertyDecl&gt;(D)) {</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T = PD-&gt;getType();</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#a6f61faa28610039a0996fe03ddbc9eb4">isCARCBridgableType</a>()) {</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(PD-&gt;getLocation(), diag::err_nsobject_attribute);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  }</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <span class="comment">// It is okay to include this attribute on properties, e.g.:</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="comment">//  @property (retain, nonatomic) struct Bork *Q __attribute__((NSObject));</span></div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    <span class="comment">// In this case it follows tradition and suppresses an error in the above</span></div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <span class="comment">// case.</span></div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_nsobject_attribute);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  }</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCNSObjectAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;}</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160; </div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCIndependentClass(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D)) {</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T = TD-&gt;getUnderlyingType();</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#ab6892f73d3e8a207c397b038ab090b77">isObjCObjectPointerType</a>()) {</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(TD-&gt;getLocation(), diag::warn_ptr_independentclass_attribute);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    }</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_independentclass_attribute);</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  }</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCIndependentClassAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;}</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160; </div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleBlocksAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  }</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160; </div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  BlocksAttr::BlockType <a class="code" href="namespaceclang_1_1ast__matchers.html#a600679c157b5bd05c4bfb940fb2511dd">type</a>;</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  <span class="keywordflow">if</span> (!BlocksAttr::ConvertStrToBlockType(II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(), <a class="code" href="classstd_1_1conditional_1_1type.html">type</a>)) {</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; II;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  }</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160; </div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) BlocksAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="classstd_1_1conditional_1_1type.html">type</a>));</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;}</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160; </div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSentinelAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <span class="keywordtype">unsigned</span> sentinel = (<a class="code" href="classunsigned.html">unsigned</a>)SentinelAttr::DefaultSentinel;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 0) {</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <a class="code" href="classllvm_1_1Optional.html">Optional&lt;llvm::APSInt&gt;</a> Idx = <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a>(32);</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>() || !(Idx = E-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>))) {</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;          &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a> &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    }</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="keywordflow">if</span> (Idx-&gt;isSigned() &amp;&amp; Idx-&gt;isNegative()) {</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_sentinel_less_than_zero)</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;        &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    }</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160; </div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    sentinel = Idx-&gt;getZExtValue();</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  }</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  <span class="keywordtype">unsigned</span> nullPos = (<a class="code" href="classunsigned.html">unsigned</a>)SentinelAttr::DefaultNullPos;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1) {</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1);</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    <a class="code" href="classllvm_1_1Optional.html">Optional&lt;llvm::APSInt&gt;</a> Idx = <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a>(32);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>() || !(Idx = E-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>))) {</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;          &lt;&lt; AL &lt;&lt; 2 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a> &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    }</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    nullPos = Idx-&gt;getZExtValue();</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160; </div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="keywordflow">if</span> ((Idx-&gt;isSigned() &amp;&amp; Idx-&gt;isNegative()) || nullPos &gt; 1) {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;      <span class="comment">// FIXME: This error message could be improved, it would be nice</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;      <span class="comment">// to say what the bounds actually are.</span></div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_sentinel_not_zero_or_one)</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;        &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  }</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160; </div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionType.html">FunctionType</a> *FT = FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1FunctionType.html">FunctionType</a>&gt;();</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    <span class="keywordflow">if</span> (isa&lt;FunctionNoProtoType&gt;(FT)) {</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_sentinel_named_arguments);</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    }</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160; </div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    <span class="keywordflow">if</span> (!cast&lt;FunctionProtoType&gt;(FT)-&gt;isVariadic()) {</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_sentinel_not_variadic) &lt;&lt; 0;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    }</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;ObjCMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <span class="keywordflow">if</span> (!MD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a4a1ed5708e9778a32d15ef3668f2ebc9">isVariadic</a>()) {</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_sentinel_not_variadic) &lt;&lt; 0;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    }</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BD = dyn_cast&lt;BlockDecl&gt;(D)) {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="keywordflow">if</span> (!BD-&gt;isVariadic()) {</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_sentinel_not_variadic) &lt;&lt; 1;</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    }</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> = dyn_cast&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>-&gt;getType();</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>() || Ty-&gt;<a class="code" href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">isFunctionPointerType</a>()) {</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      <span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionType.html">FunctionType</a> *FT = Ty-&gt;<a class="code" href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">isFunctionPointerType</a>()</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                                   ? D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>()</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                                   : Ty-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1BlockPointerType.html">BlockPointerType</a>&gt;()</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                                         -&gt;getPointeeType()</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                                         -&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1FunctionType.html">FunctionType</a>&gt;();</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      <span class="keywordflow">if</span> (!cast&lt;FunctionProtoType&gt;(FT)-&gt;isVariadic()) {</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;        <span class="keywordtype">int</span> m = Ty-&gt;<a class="code" href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">isFunctionPointerType</a>() ? 0 : 1;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_sentinel_not_variadic) &lt;&lt; m;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;      }</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;          &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a2c9689ea2433df5199a907e99d7a7486">ExpectedFunctionMethodOrBlock</a>;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    }</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a2c9689ea2433df5199a907e99d7a7486">ExpectedFunctionMethodOrBlock</a>;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SentinelAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, sentinel, nullPos));</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;}</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160; </div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleWarnUnusedResult(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>() &amp;&amp;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>()-&gt;<a class="code" href="classclang_1_1FunctionType.html#a72d2fe185651231ebe4856ad548b99b7">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>() &amp;&amp;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      !isa&lt;CXXConstructorDecl&gt;(D)) {</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_void_function_method) &lt;&lt; AL &lt;&lt; 0;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  }</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;ObjCMethodDecl&gt;(D))</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    <span class="keywordflow">if</span> (MD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>()) {</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_void_function_method) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    }</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160; </div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#af4bc4e9853a101b16769c91f3cd19aa8">isStandardAttributeSyntax</a>() &amp;&amp; !AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>()) {</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <span class="comment">// The standard attribute cannot be applied to variable declarations such</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <span class="comment">// as a function pointer.</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="keywordflow">if</span> (isa&lt;VarDecl&gt;(D))</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type_str)</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;          &lt;&lt; AL &lt;&lt; <span class="stringliteral">&quot;functions, classes, or enumerations&quot;</span>;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    <span class="comment">// If this is spelled as the standard C++17 attribute, but not in C++17,</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <span class="comment">// warn about using it as an extension. If there are attribute arguments,</span></div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="comment">// then claim it&#39;s a C++2a extension instead.</span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <span class="comment">// FIXME: If WG14 does not seem likely to adopt the same feature, add an</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="comment">// extension warning for C2x mode.</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1LangOptions.html">LangOptions</a> &amp;LO = S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>();</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 1) {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      <span class="keywordflow">if</span> (LO.CPlusPlus &amp;&amp; !LO.CPlusPlus20)</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::ext_cxx20_attr) &lt;&lt; AL;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160; </div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;      <span class="comment">// Since this this is spelled [[nodiscard]], get the optional string</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;      <span class="comment">// literal. If in C++ mode, but not in C++2a mode, diagnose as an</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      <span class="comment">// extension.</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      <span class="comment">// FIXME: C2x should support this feature as well, even as an extension.</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, <span class="keyword">nullptr</span>))</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LO.CPlusPlus &amp;&amp; !LO.CPlusPlus17)</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::ext_cxx17_attr) &lt;&lt; AL;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;  }</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160; </div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) WarnUnusedResultAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;}</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160; </div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleWeakImportAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  <span class="comment">// weak_import only applies to variable &amp; function declarations.</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  <span class="keywordtype">bool</span> isDef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#a74e6beab3066d55443ee4f8258934e80">canBeWeakImported</a>(isDef)) {</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="keywordflow">if</span> (isDef)</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_invalid_on_definition)</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;weak_import&quot;</span>;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;ObjCPropertyDecl&gt;(D) || isa&lt;ObjCMethodDecl&gt;(D) ||</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;             (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSDarwin() &amp;&amp;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;              (isa&lt;ObjCInterfaceDecl&gt;(D) || isa&lt;EnumDecl&gt;(D)))) {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;      <span class="comment">// Nothing to warn about here.</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;          &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ab9d1b7c2c5b379a61141b3abbb2076dd">ExpectedVariableOrFunction</a>;</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160; </div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  }</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160; </div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) WeakImportAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;}</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160; </div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;<span class="comment">// Returns a DupArgResult value; Same means the args have the same value,</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;<span class="comment">// Different means the args do not have the same value, and Unknown means that</span></div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="comment">// the args cannot (yet) be compared.</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;<span class="keyword">enum class</span> DupArgResult { <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">Unknown</a>, Same, Different };</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;<span class="keyword">static</span> DupArgResult AreArgValuesIdentical(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *LHS, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *RHS) {</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="comment">// If either operand is still value dependent, we can&#39;t test anything.</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *LHSCE = dyn_cast&lt;ConstantExpr&gt;(LHS);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *RHSCE = dyn_cast&lt;ConstantExpr&gt;(RHS);</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  <span class="keywordflow">if</span> (!LHSCE || !RHSCE)</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">DupArgResult::Unknown</a>;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160; </div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;  <span class="comment">// Otherwise, test that the values.</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  <span class="keywordflow">return</span> LHSCE-&gt;getResultAsAPSInt() == RHSCE-&gt;getResultAsAPSInt()</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;             ? DupArgResult::Same</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;             : DupArgResult::Different;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;}</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160; </div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a3d4f840234e8680704c5fa29522c825b">Sema::AddWorkGroupSizeHintAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                                    <a class="code" href="classclang_1_1Expr.html">Expr</a> *XDim, <a class="code" href="classclang_1_1Expr.html">Expr</a> *YDim, <a class="code" href="classclang_1_1Expr.html">Expr</a> *ZDim) {</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  <span class="comment">// Returns nullptr if diagnosing, otherwise returns the original expression</span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  <span class="comment">// or the original expression converted to a constant expression.</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;  <span class="keyword">auto</span> CheckAndConvertArg = [&amp;](<a class="code" href="classclang_1_1Expr.html">Expr</a> *E) -&gt; <a class="code" href="classclang_1_1Expr.html">Expr</a> * {</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="comment">// We can only check if the expression is not value dependent.</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;      <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;      <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;      <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;      E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160; </div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;      <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;      <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;            &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      }</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    }</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160; </div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="keywordflow">return</span> E;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;  };</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160; </div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <span class="comment">// Check all three argument values, and if any are bad, bail out. This will</span></div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;  <span class="comment">// convert the given expressions into constant expressions when possible.</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;  XDim = CheckAndConvertArg(XDim);</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  YDim = CheckAndConvertArg(YDim);</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;  ZDim = CheckAndConvertArg(ZDim);</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;  <span class="keywordflow">if</span> (!XDim || !YDim || !ZDim)</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160; </div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="comment">// If the attribute was already applied with different arguments, then</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;  <span class="comment">// diagnose the second attribute as a duplicate and don&#39;t add it.</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Existing = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;WorkGroupSizeHintAttr&gt;()) {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    DupArgResult Results[] = {AreArgValuesIdentical(XDim, Existing-&gt;getXDim()),</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                              AreArgValuesIdentical(YDim, Existing-&gt;getYDim()),</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                              AreArgValuesIdentical(ZDim, Existing-&gt;getZDim())};</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <span class="comment">// If any of the results are known to be different, we can diagnose at this</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="comment">// point and drop the attribute.</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="keywordflow">if</span> (llvm::is_contained(Results, DupArgResult::Different)) {</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Existing-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    }</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    <span class="comment">// If all of the results are known to be the same, we can silently drop the</span></div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="comment">// attribute. Otherwise, we have to add the attribute and resolve its</span></div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    <span class="comment">// differences later.</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    <span class="keywordflow">if</span> (llvm::all_of(Results,</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                     [](DupArgResult <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) { <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> == DupArgResult::Same; }))</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  }</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160; </div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                 WorkGroupSizeHintAttr(Context, CI, XDim, YDim, ZDim));</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;}</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160; </div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;WorkGroupSizeHintAttr *</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;<a class="code" href="classclang_1_1Sema.html#adeae50dacf3aca8217cd288ce4a7e4ae">Sema::MergeWorkGroupSizeHintAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> WorkGroupSizeHintAttr &amp;A) {</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute already applied.</span></div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;WorkGroupSizeHintAttr&gt;()) {</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    DupArgResult Results[] = {</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getXDim(), A.getXDim()),</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getYDim(), A.getYDim()),</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getZDim(), A.getZDim())};</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160; </div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <span class="comment">// If any of the results are known to be different, we can diagnose at this</span></div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <span class="comment">// point and drop the attribute.</span></div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    <span class="keywordflow">if</span> (llvm::is_contained(Results, DupArgResult::Different)) {</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    }</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="comment">// If all of the results are known to be the same, we can silently drop the</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="comment">// attribute. Otherwise, we have to add the attribute and resolve its</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="comment">// differences later.</span></div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordflow">if</span> (llvm::all_of(Results,</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                     [](DupArgResult <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) { <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> == DupArgResult::Same; }))</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  }</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;      WorkGroupSizeHintAttr(Context, A, A.getXDim(), A.getYDim(), A.getZDim());</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;}</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160; </div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="comment">// Handles work_group_size_hint.</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleWorkGroupSizeHint(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">CheckDeprecatedSYCLAttributeSpelling</a>(AL);</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160; </div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="comment">// __attribute__((work_group_size_hint) requires exactly three arguments.</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a055ffcfc79821816092eb192a077337e">getSyntax</a>() == <a class="code" href="classclang_1_1AttributeCommonInfo.html#a2fb9e85e18b9794ac89be1ac461704caa50b64659642efa5b07a11db3e89d68ba">ParsedAttr::AS_GNU</a> || !AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>() ||</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;      (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>() &amp;&amp; !AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;sycl&quot;</span>))) {</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 3))</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;  }</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160; </div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  <span class="comment">// FIXME: NumArgs checking is disabled in Attr.td to keep consistent</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  <span class="comment">// disgnostics with OpenCL C that does not have optional values here.</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1) || !AL.<a class="code" href="classclang_1_1ParsedAttr.html#af567be8de0ee90a38d42b3bbc2bee3dd">checkAtMostNumArgs</a>(S, 3))</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160; </div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  <span class="comment">// Handles default arguments in [[sycl::work_group_size_hint]] attribute.</span></div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;  <span class="keyword">auto</span> SetDefaultValue = [](<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    assert(AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_WorkGroupSizeHint &amp;&amp; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>() &amp;&amp;</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;           AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;sycl&quot;</span>));</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1IntegerLiteral.html#a68782c17506bd26183c21aa2bf9dc1d7">IntegerLiteral::Create</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <a class="code" href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">llvm::APInt</a>(32, 1),</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                                  S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>());</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  };</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160; </div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *XDimExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *YDimExpr =</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;      AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(1) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1) : SetDefaultValue(S, AL);</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *ZDimExpr =</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;      AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(2) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(2) : SetDefaultValue(S, AL);</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a3d4f840234e8680704c5fa29522c825b">AddWorkGroupSizeHintAttr</a>(D, AL, XDimExpr, YDimExpr, ZDimExpr);</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;}</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160; </div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;<span class="comment">// Checks correctness of mutual usage of different work_group_size attributes:</span></div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="comment">// reqd_work_group_size, max_work_group_size, and max_global_work_dim.</span></div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="comment">// If [[intel::max_work_group_size(X, Y, Z)]] or</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;<span class="comment">// [[sycl::reqd_work_group_size(X, Y, Z)]] or</span></div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="comment">// [[cl::reqd_work_group_size(X, Y, Z)]]</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;<span class="comment">// or __attribute__((reqd_work_group_size)) attribute is specified on a</span></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;<span class="comment">// declaration along with [[intel::max_global_work_dim()]] attribute, check to</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;<span class="comment">// see if all arguments of &#39;max_work_group_size&#39; or different spellings of</span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;<span class="comment">// &#39;reqd_work_group_size&#39; attribute hold value 1 in case the argument of</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;<span class="comment">// [[intel::max_global_work_dim()]] attribute value equals to 0.</span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> InvalidWorkGroupSizeAttrs(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *MGValue, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *XDim,</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *YDim, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *ZDim) {</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  <span class="comment">// If any of the operand is still value dependent, we can&#39;t test anything.</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *MGValueExpr = dyn_cast&lt;ConstantExpr&gt;(MGValue);</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *XDimExpr = dyn_cast&lt;ConstantExpr&gt;(XDim);</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *YDimExpr = dyn_cast&lt;ConstantExpr&gt;(YDim);</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *ZDimExpr = dyn_cast&lt;ConstantExpr&gt;(ZDim);</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160; </div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <span class="keywordflow">if</span> (!MGValueExpr || !XDimExpr || !YDimExpr || !ZDimExpr)</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160; </div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;  <span class="comment">// Otherwise, check if the attribute values are equal to one.</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;  <span class="keywordflow">return</span> (MGValueExpr-&gt;getResultAsAPSInt() == 0 &amp;&amp;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;          (XDimExpr-&gt;getResultAsAPSInt() != 1 ||</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;           YDimExpr-&gt;getResultAsAPSInt() != 1 ||</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;           ZDimExpr-&gt;getResultAsAPSInt() != 1));</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;}</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160; </div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;<span class="comment">// Checks correctness of mutual usage of different work_group_size attributes:</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;<span class="comment">// reqd_work_group_size and max_work_group_size.</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;<span class="comment">// If the &#39;reqd_work_group_size&#39; attribute is specified on a declaration along</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;<span class="comment">// with &#39;max_work_group_size&#39; attribute, check to see if values of</span></div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;<span class="comment">// &#39;reqd_work_group_size&#39; attribute arguments are equal to or less than values</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;<span class="comment">// of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;<span class="comment">// The arguments to reqd_work_group_size are ordered based on which index</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;<span class="comment">// increments the fastest. In OpenCL, the first argument is the index that</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;<span class="comment">// increments the fastest, and in SYCL, the last argument is the index that</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="comment">// increments the fastest.</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;<span class="comment">// __attribute__((reqd_work_group_size)) follows the OpenCL rules in OpenCL</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;<span class="comment">// mode. All spellings of reqd_work_group_size attribute (regardless of</span></div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;<span class="comment">// syntax used) follow the SYCL rules when in SYCL mode.</span></div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkMaxAllowedWorkGroupSize(</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *RWGSXDim, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *RWGSYDim, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *RWGSZDim,</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *MWGSXDim, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *MWGSYDim, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *MWGSZDim) {</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="comment">// If any of the operand is still value dependent, we can&#39;t test anything.</span></div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *RWGSXDimExpr = dyn_cast&lt;ConstantExpr&gt;(RWGSXDim);</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *RWGSYDimExpr = dyn_cast&lt;ConstantExpr&gt;(RWGSYDim);</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *RWGSZDimExpr = dyn_cast&lt;ConstantExpr&gt;(RWGSZDim);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *MWGSXDimExpr = dyn_cast&lt;ConstantExpr&gt;(MWGSXDim);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *MWGSYDimExpr = dyn_cast&lt;ConstantExpr&gt;(MWGSYDim);</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *MWGSZDimExpr = dyn_cast&lt;ConstantExpr&gt;(MWGSZDim);</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160; </div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <span class="keywordflow">if</span> (!RWGSXDimExpr || !RWGSYDimExpr || !RWGSZDimExpr || !MWGSXDimExpr ||</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;      !MWGSYDimExpr || !MWGSZDimExpr)</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160; </div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  <span class="comment">// Otherwise, check if values of &#39;reqd_work_group_size&#39; attribute arguments</span></div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <span class="comment">// are greater than values of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <span class="keywordtype">bool</span> CheckFirstArgument =</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().OpenCL</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;          ? RWGSXDimExpr-&gt;getResultAsAPSInt().getZExtValue() &gt;</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;                MWGSZDimExpr-&gt;getResultAsAPSInt().getZExtValue()</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;          : RWGSXDimExpr-&gt;getResultAsAPSInt().getZExtValue() &gt;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;                MWGSXDimExpr-&gt;getResultAsAPSInt().getZExtValue();</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160; </div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  <span class="keywordtype">bool</span> CheckSecondArgument = RWGSYDimExpr-&gt;getResultAsAPSInt().getZExtValue() &gt;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;                             MWGSYDimExpr-&gt;getResultAsAPSInt().getZExtValue();</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <span class="keywordtype">bool</span> CheckThirdArgument =</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().OpenCL</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;          ? RWGSZDimExpr-&gt;getResultAsAPSInt().getZExtValue() &gt;</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;                MWGSXDimExpr-&gt;getResultAsAPSInt().getZExtValue()</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;          : RWGSZDimExpr-&gt;getResultAsAPSInt().getZExtValue() &gt;</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;                MWGSZDimExpr-&gt;getResultAsAPSInt().getZExtValue();</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160; </div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <span class="keywordflow">return</span> CheckFirstArgument || CheckSecondArgument || CheckThirdArgument;</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;}</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160; </div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#afe6cd99c0a9fd38178c260c50d70b5e5">Sema::AddSYCLIntelMaxWorkGroupSizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;                                            <a class="code" href="classclang_1_1Expr.html">Expr</a> *XDim, <a class="code" href="classclang_1_1Expr.html">Expr</a> *YDim,</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;                                            <a class="code" href="classclang_1_1Expr.html">Expr</a> *ZDim) {</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <span class="comment">// Returns nullptr if diagnosing, otherwise returns the original expression</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="comment">// or the original expression converted to a constant expression.</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  <span class="keyword">auto</span> CheckAndConvertArg = [&amp;](<a class="code" href="classclang_1_1Expr.html">Expr</a> *E) -&gt; <a class="code" href="classclang_1_1Expr.html">Expr</a> * {</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <span class="comment">// Check if the expression is not value dependent.</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;      <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;      <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;      <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;      E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160; </div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;      <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;            &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;      }</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    }</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="keywordflow">return</span> E;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  };</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160; </div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="comment">// Check all three argument values, and if any are bad, bail out. This will</span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  <span class="comment">// convert the given expressions into constant expressions when possible.</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  XDim = CheckAndConvertArg(XDim);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  YDim = CheckAndConvertArg(YDim);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;  ZDim = CheckAndConvertArg(ZDim);</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  <span class="keywordflow">if</span> (!XDim || !YDim || !ZDim)</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160; </div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  <span class="comment">// If the &#39;max_work_group_size&#39; attribute is specified on a declaration along</span></div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="comment">// with &#39;reqd_work_group_size&#39; attribute, check to see if values of</span></div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  <span class="comment">// &#39;reqd_work_group_size&#39; attribute arguments are equal to or less than values</span></div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="comment">// of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  <span class="comment">// We emit diagnostic if values of &#39;reqd_work_group_size&#39; attribute arguments</span></div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;  <span class="comment">// are greater than values of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ReqdWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <span class="keywordflow">if</span> (checkMaxAllowedWorkGroupSize(*<span class="keyword">this</span>, DeclAttr-&gt;getXDim(),</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;                                     DeclAttr-&gt;getYDim(), DeclAttr-&gt;getZDim(),</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                                     XDim, YDim, ZDim)) {</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_conflicting_sycl_function_attributes)</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;          &lt;&lt; CI &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    }</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;  }</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160; </div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  <span class="comment">// If the declaration has a SYCLIntelMaxWorkGroupSizeAttr, check to see if</span></div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  <span class="comment">// the attribute holds values equal to (1, 1, 1) in case the value of</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;  <span class="comment">// SYCLIntelMaxGlobalWorkDimAttr equals to 0.</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxGlobalWorkDimAttr&gt;()) {</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <span class="keywordflow">if</span> (InvalidWorkGroupSizeAttrs(DeclAttr-&gt;getValue(), XDim, YDim, ZDim)) {</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_sycl_x_y_z_arguments_must_be_one)</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;          &lt;&lt; CI &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    }</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  }</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160; </div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  <span class="comment">// If the attribute was already applied with different arguments, then</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  <span class="comment">// diagnose the second attribute as a duplicate and don&#39;t add it.</span></div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Existing = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    DupArgResult Results[] = {AreArgValuesIdentical(XDim, Existing-&gt;getXDim()),</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;                              AreArgValuesIdentical(YDim, Existing-&gt;getYDim()),</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;                              AreArgValuesIdentical(ZDim, Existing-&gt;getZDim())};</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <span class="comment">// If any of the results are known to be different, we can diagnose at this</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    <span class="comment">// point and drop the attribute.</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="keywordflow">if</span> (llvm::is_contained(Results, DupArgResult::Different)) {</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Existing-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    }</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="comment">// If all of the results are known to be the same, we can silently drop the</span></div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <span class="comment">// attribute. Otherwise, we have to add the attribute and resolve its</span></div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <span class="comment">// differences later.</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="keywordflow">if</span> (llvm::all_of(Results,</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;                     [](DupArgResult <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) { <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> == DupArgResult::Same; }))</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  }</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160; </div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;                 SYCLIntelMaxWorkGroupSizeAttr(Context, CI, XDim, YDim, ZDim));</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;}</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160; </div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;SYCLIntelMaxWorkGroupSizeAttr *<a class="code" href="classclang_1_1Sema.html#ab2aaa7c1383b097cba2063da93cad4f4">Sema::MergeSYCLIntelMaxWorkGroupSizeAttr</a>(</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelMaxWorkGroupSizeAttr &amp;A) {</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute already applied.</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    DupArgResult Results[] = {</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getXDim(), A.getXDim()),</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getYDim(), A.getYDim()),</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getZDim(), A.getZDim())};</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160; </div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    <span class="comment">// If any of the results are known to be different, we can diagnose at this</span></div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <span class="comment">// point and drop the attribute.</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="keywordflow">if</span> (llvm::is_contained(Results, DupArgResult::Different)) {</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    }</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    <span class="comment">// If all of the results are known to be the same, we can silently drop the</span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    <span class="comment">// attribute. Otherwise, we have to add the attribute and resolve its</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <span class="comment">// differences later.</span></div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    <span class="keywordflow">if</span> (llvm::all_of(Results,</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;                     [](DupArgResult <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) { <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> == DupArgResult::Same; }))</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  }</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160; </div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <span class="comment">// If the &#39;max_work_group_size&#39; attribute is specified on a declaration along</span></div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  <span class="comment">// with &#39;reqd_work_group_size&#39; attribute, check to see if values of</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  <span class="comment">// &#39;reqd_work_group_size&#39; attribute arguments are equal to or less than values</span></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  <span class="comment">// of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;  <span class="comment">// We emit diagnostic if values of &#39;reqd_work_group_size&#39; attribute arguments</span></div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;  <span class="comment">// are greater than values of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ReqdWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    <span class="keywordflow">if</span> (checkMaxAllowedWorkGroupSize(*<span class="keyword">this</span>, DeclAttr-&gt;getXDim(),</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;                                     DeclAttr-&gt;getYDim(), DeclAttr-&gt;getZDim(),</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;                                     A.getXDim(), A.getYDim(), A.getZDim())) {</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::err_conflicting_sycl_function_attributes)</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;          &lt;&lt; DeclAttr &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    }</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  }</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160; </div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <span class="comment">// If the declaration has a SYCLIntelMaxWorkGroupSizeAttr, check to see if</span></div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  <span class="comment">// the attribute holds values equal to (1, 1, 1) in case the value of</span></div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  <span class="comment">// SYCLIntelMaxGlobalWorkDimAttr equals to 0.</span></div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxGlobalWorkDimAttr&gt;()) {</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    <span class="keywordflow">if</span> (InvalidWorkGroupSizeAttrs(DeclAttr-&gt;getValue(), A.getXDim(),</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;                                  A.getYDim(), A.getZDim())) {</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::err_sycl_x_y_z_arguments_must_be_one)</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;          &lt;&lt; &amp;A &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    }</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  }</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160; </div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;  return ::new (Context) SYCLIntelMaxWorkGroupSizeAttr(</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;      Context, A, A.getXDim(), A.getYDim(), A.getZDim());</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;}</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160; </div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;<span class="comment">// Handles max_work_group_size attribute.</span></div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelMaxWorkGroupSize(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#afe6cd99c0a9fd38178c260c50d70b5e5">AddSYCLIntelMaxWorkGroupSizeAttr</a>(D, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0),</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;                                     AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1), AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(2));</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;}</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160; </div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;<span class="comment">// Handles reqd_work_group_size.</span></div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;<span class="comment">// If the &#39;reqd_work_group_size&#39; attribute is specified on a declaration along</span></div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;<span class="comment">// with &#39;num_simd_work_items&#39; attribute, the required work group size specified</span></div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;<span class="comment">// by &#39;num_simd_work_items&#39; attribute must evenly divide the index that</span></div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;<span class="comment">// increments fastest in the &#39;reqd_work_group_size&#39; attribute.</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;<span class="comment">// The arguments to reqd_work_group_size are ordered based on which index</span></div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;<span class="comment">// increments the fastest. In OpenCL, the first argument is the index that</span></div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;<span class="comment">// increments the fastest, and in SYCL, the last argument is the index that</span></div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;<span class="comment">// increments the fastest.</span></div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;<span class="comment">// __attribute__((reqd_work_group_size)) follows the OpenCL rules in OpenCL</span></div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;<span class="comment">// mode. All spellings of reqd_work_group_size attribute (regardless of</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;<span class="comment">// syntax used) follow the SYCL rules when in SYCL mode.</span></div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> CheckWorkGroupSize(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *NSWIValue,</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *RWGSXDim, <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *RWGSZDim) {</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  <span class="comment">// If any of the operand is still value dependent, we can&#39;t test anything.</span></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *NSWIValueExpr = dyn_cast&lt;ConstantExpr&gt;(NSWIValue);</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *RWGSXDimExpr = dyn_cast&lt;ConstantExpr&gt;(RWGSXDim);</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *RWGSZDimExpr = dyn_cast&lt;ConstantExpr&gt;(RWGSZDim);</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160; </div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="keywordflow">if</span> (!NSWIValueExpr || !RWGSXDimExpr || !RWGSZDimExpr)</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160; </div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;  <span class="comment">// Otherwise, check which argument increments the fastest</span></div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  <span class="comment">// in OpenCL vs SYCL mode.</span></div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  <span class="keywordtype">unsigned</span> WorkGroupSize =</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().OpenCL</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;          ? (RWGSXDimExpr-&gt;getResultAsAPSInt()).getZExtValue()</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;          : (RWGSZDimExpr-&gt;getResultAsAPSInt()).getZExtValue();</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160; </div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <span class="comment">// Check if the required work group size specified by &#39;num_simd_work_items&#39;</span></div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <span class="comment">// attribute evenly divides the index that increments fastest in the</span></div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <span class="comment">// &#39;reqd_work_group_size&#39; attribute.</span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <span class="keywordflow">return</span> WorkGroupSize % NSWIValueExpr-&gt;getResultAsAPSInt().getZExtValue() != 0;</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;}</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160; </div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a7355fd655f8598380692eaafd580f6b4">Sema::AddReqdWorkGroupSizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;                                    <a class="code" href="classclang_1_1Expr.html">Expr</a> *XDim, <a class="code" href="classclang_1_1Expr.html">Expr</a> *YDim, <a class="code" href="classclang_1_1Expr.html">Expr</a> *ZDim) {</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="comment">// Returns nullptr if diagnosing, otherwise returns the original expression</span></div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <span class="comment">// or the original expression converted to a constant expression.</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  <span class="keyword">auto</span> CheckAndConvertArg = [&amp;](<a class="code" href="classclang_1_1Expr.html">Expr</a> *E) -&gt; <a class="code" href="classclang_1_1Expr.html">Expr</a> * {</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <span class="comment">// Check if the expression is not value dependent.</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;      <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;      <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;      <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;      E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160; </div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;      <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;            &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;      }</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    }</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <span class="keywordflow">return</span> E;</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  };</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160; </div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  <span class="comment">// Check all three argument values, and if any are bad, bail out. This will</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  <span class="comment">// convert the given expressions into constant expressions when possible.</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  XDim = CheckAndConvertArg(XDim);</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  YDim = CheckAndConvertArg(YDim);</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  ZDim = CheckAndConvertArg(ZDim);</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="keywordflow">if</span> (!XDim || !YDim || !ZDim)</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160; </div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <span class="comment">// If the declaration has a ReqdWorkGroupSizeAttr, check to see if</span></div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <span class="comment">// the attribute holds values equal to (1, 1, 1) in case the value of</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <span class="comment">// SYCLIntelMaxGlobalWorkDimAttr equals to 0.</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxGlobalWorkDimAttr&gt;()) {</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <span class="keywordflow">if</span> (InvalidWorkGroupSizeAttrs(DeclAttr-&gt;getValue(), XDim, YDim, ZDim)) {</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_sycl_x_y_z_arguments_must_be_one)</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;          &lt;&lt; CI &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    }</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  }</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160; </div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="comment">// If the &#39;max_work_group_size&#39; attribute is specified on a declaration along</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <span class="comment">// with &#39;reqd_work_group_size&#39; attribute, check to see if values of</span></div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <span class="comment">// &#39;reqd_work_group_size&#39; attribute arguments are equal to or less than values</span></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  <span class="comment">// of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;  <span class="comment">// We emit diagnostic if values of &#39;reqd_work_group_size&#39; attribute arguments</span></div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;  <span class="comment">// are greater than values of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <span class="keywordflow">if</span> (checkMaxAllowedWorkGroupSize(*<span class="keyword">this</span>, XDim, YDim, ZDim,</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;                                     DeclAttr-&gt;getXDim(), DeclAttr-&gt;getYDim(),</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;                                     DeclAttr-&gt;getZDim())) {</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_conflicting_sycl_function_attributes)</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;          &lt;&lt; CI &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    }</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  }</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160; </div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <span class="comment">// If the &#39;reqd_work_group_size&#39; attribute is specified on a declaration</span></div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;  <span class="comment">// along with &#39;num_simd_work_items&#39; attribute, the required work group size</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  <span class="comment">// specified by &#39;num_simd_work_items&#39; attribute must evenly divide the index</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;  <span class="comment">// that increments fastest in the &#39;reqd_work_group_size&#39; attribute.</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelNumSimdWorkItemsAttr&gt;()) {</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="keywordflow">if</span> (CheckWorkGroupSize(*<span class="keyword">this</span>, DeclAttr-&gt;getValue(), XDim, ZDim)) {</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::err_sycl_num_kernel_wrong_reqd_wg_size)</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;          &lt;&lt; DeclAttr &lt;&lt; CI;</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    }</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  }</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160; </div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  <span class="comment">// If the attribute was already applied with different arguments, then</span></div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  <span class="comment">// diagnose the second attribute as a duplicate and don&#39;t add it.</span></div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Existing = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ReqdWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    DupArgResult Results[] = {AreArgValuesIdentical(XDim, Existing-&gt;getXDim()),</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;                              AreArgValuesIdentical(YDim, Existing-&gt;getYDim()),</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;                              AreArgValuesIdentical(ZDim, Existing-&gt;getZDim())};</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    <span class="comment">// If any of the results are known to be different, we can diagnose at this</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <span class="comment">// point and drop the attribute.</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordflow">if</span> (llvm::is_contained(Results, DupArgResult::Different)) {</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Existing-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    }</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160; </div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <span class="comment">// If all of the results are known to be the same, we can silently drop the</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <span class="comment">// attribute. Otherwise, we have to add the attribute and resolve its</span></div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;    <span class="comment">// differences later.</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    <span class="keywordflow">if</span> (llvm::all_of(Results,</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;                     [](DupArgResult <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) { <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> == DupArgResult::Same; }))</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  }</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160; </div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;                 ReqdWorkGroupSizeAttr(Context, CI, XDim, YDim, ZDim));</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;}</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160; </div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;ReqdWorkGroupSizeAttr *</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;<a class="code" href="classclang_1_1Sema.html#ab0fd9d3a9541c25e082752452d8732f6">Sema::MergeReqdWorkGroupSizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> ReqdWorkGroupSizeAttr &amp;A) {</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <span class="comment">// If the declaration has a ReqdWorkGroupSizeAttr, check to see if the</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="comment">// attribute holds values equal to (1, 1, 1) in case the value of</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <span class="comment">// SYCLIntelMaxGlobalWorkDimAttr equals to 0.</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxGlobalWorkDimAttr&gt;()) {</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    <span class="keywordflow">if</span> (InvalidWorkGroupSizeAttrs(DeclAttr-&gt;getValue(), A.getXDim(),</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;                                  A.getYDim(), A.getZDim())) {</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::err_sycl_x_y_z_arguments_must_be_one)</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;          &lt;&lt; &amp;A &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    }</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  }</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160; </div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <span class="comment">// If the &#39;max_work_group_size&#39; attribute is specified on a declaration along</span></div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <span class="comment">// with &#39;reqd_work_group_size&#39; attribute, check to see if values of</span></div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <span class="comment">// &#39;reqd_work_group_size&#39; attribute arguments are equal or less than values</span></div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <span class="comment">// of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  <span class="comment">// We emit diagnostic if values of &#39;reqd_work_group_size&#39; attribute arguments</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <span class="comment">// are greater than values of &#39;max_work_group_size&#39; attribute arguments.</span></div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <span class="keywordflow">if</span> (checkMaxAllowedWorkGroupSize(</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;            *<span class="keyword">this</span>, A.getXDim(), A.getYDim(), A.getZDim(), DeclAttr-&gt;getXDim(),</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;            DeclAttr-&gt;getYDim(), DeclAttr-&gt;getZDim())) {</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::err_conflicting_sycl_function_attributes)</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;          &lt;&lt; DeclAttr &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    }</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;  }</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160; </div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <span class="comment">// If the &#39;reqd_work_group_size&#39; attribute is specified on a declaration</span></div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  <span class="comment">// along with &#39;num_simd_work_items&#39; attribute, the required work group size</span></div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;  <span class="comment">// specified by &#39;num_simd_work_items&#39; attribute must evenly divide the index</span></div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  <span class="comment">// that increments fastest in the &#39;reqd_work_group_size&#39; attribute.</span></div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelNumSimdWorkItemsAttr&gt;()) {</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    <span class="keywordflow">if</span> (CheckWorkGroupSize(*<span class="keyword">this</span>, DeclAttr-&gt;getValue(), A.getXDim(),</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;                           A.getZDim())) {</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::err_sycl_num_kernel_wrong_reqd_wg_size)</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;          &lt;&lt; DeclAttr &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    }</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  }</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute already applied.</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ReqdWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    DupArgResult Results[] = {</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getXDim(), A.getXDim()),</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getYDim(), A.getYDim()),</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;        AreArgValuesIdentical(DeclAttr-&gt;getZDim(), A.getZDim())};</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160; </div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    <span class="comment">// If any of the results are known to be different, we can diagnose at this</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;    <span class="comment">// point and drop the attribute.</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;    <span class="keywordflow">if</span> (llvm::is_contained(Results, DupArgResult::Different)) {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::err_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;    }</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160; </div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    <span class="comment">// If all of the results are known to be the same, we can silently drop the</span></div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    <span class="comment">// attribute. Otherwise, we have to add the attribute and resolve its</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    <span class="comment">// differences later.</span></div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <span class="keywordflow">if</span> (llvm::all_of(Results,</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;                     [](DupArgResult <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a>) { <span class="keywordflow">return</span> <a class="code" href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a> == DupArgResult::Same; }))</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  }</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160; </div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;      ReqdWorkGroupSizeAttr(Context, A, A.getXDim(), A.getYDim(), A.getZDim());</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;}</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160; </div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleReqdWorkGroupSize(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">CheckDeprecatedSYCLAttributeSpelling</a>(AL);</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160; </div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <span class="comment">// __attribute__((reqd_work_group_size)) and [[cl::reqd_work_group_size]]</span></div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <span class="comment">// all require exactly three arguments.</span></div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <span class="keywordflow">if</span> ((AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_ReqdWorkGroupSize &amp;&amp;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;       AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a6940b4f3219ae86ee8e691e5451e1e22">getAttributeSpellingListIndex</a>() ==</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;           ReqdWorkGroupSizeAttr::CXX11_cl_reqd_work_group_size) ||</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;      AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a055ffcfc79821816092eb192a077337e">getSyntax</a>() == <a class="code" href="classclang_1_1AttributeCommonInfo.html#a2fb9e85e18b9794ac89be1ac461704caa50b64659642efa5b07a11db3e89d68ba">ParsedAttr::AS_GNU</a>) {</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 3))</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;  }</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160; </div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *XDimExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160; </div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <span class="comment">// If no attribute argument is specified, set the second and third argument</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <span class="comment">// to the default value 1, but only if the sycl::reqd_work_group_size</span></div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  <span class="comment">// spelling was used.</span></div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="keyword">auto</span> SetDefaultValue = [](<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    assert(AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_ReqdWorkGroupSize &amp;&amp; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>() &amp;&amp;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;           AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">getScopeName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;sycl&quot;</span>));</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1IntegerLiteral.html#a68782c17506bd26183c21aa2bf9dc1d7">IntegerLiteral::Create</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <a class="code" href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">llvm::APInt</a>(32, 1),</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;                                  S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>());</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  };</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160; </div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *YDimExpr =</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;      AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(1) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1) : SetDefaultValue(S, AL);</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *ZDimExpr =</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;      AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(2) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(2) : SetDefaultValue(S, AL);</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160; </div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a7355fd655f8598380692eaafd580f6b4">AddReqdWorkGroupSizeAttr</a>(D, AL, XDimExpr, YDimExpr, ZDimExpr);</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;}</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160; </div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a8ce18c64eab6738432e45e2d4684a3b0">Sema::AddIntelReqdSubGroupSize</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;                                    <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160; </div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;    <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    }</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160; </div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelReqdSubGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        }</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;      }</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    }</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  }</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160; </div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) IntelReqdSubGroupSizeAttr(Context, CI, E));</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;}</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160; </div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;IntelReqdSubGroupSizeAttr *</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<a class="code" href="classclang_1_1Sema.html#a7eec7e2c71a515a8f76f10dcd3561874">Sema::MergeIntelReqdSubGroupSizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;                                     <span class="keyword">const</span> IntelReqdSubGroupSizeAttr &amp;A) {</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelReqdSubGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        }</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      }</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    }</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;  }</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  return ::new (Context) IntelReqdSubGroupSizeAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;}</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160; </div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelReqdSubGroupSize(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">CheckDeprecatedSYCLAttributeSpelling</a>(AL);</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160; </div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a8ce18c64eab6738432e45e2d4684a3b0">AddIntelReqdSubGroupSize</a>(D, AL, E);</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;}</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160; </div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;IntelNamedSubGroupSizeAttr *</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;<a class="code" href="classclang_1_1Sema.html#a293a12ce6ae216861c1034a6168a7278">Sema::MergeIntelNamedSubGroupSizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;                                      <span class="keyword">const</span> IntelNamedSubGroupSizeAttr &amp;A) {</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelNamedSubGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    <span class="keywordflow">if</span> (DeclAttr-&gt;getType() != A.getType()) {</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    }</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;  }</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160; </div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;  <span class="keywordflow">return</span> IntelNamedSubGroupSizeAttr::Create(Context, A.getType(), A);</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;}</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160; </div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelNamedSubGroupSize(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  StringRef SizeStr;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *IL = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    SizeStr = IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;    Loc = IL-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>;</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, SizeStr, &amp;Loc)) {</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;  }</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160; </div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;  IntelNamedSubGroupSizeAttr::SubGroupSizeType SizeType;</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  <span class="keywordflow">if</span> (!IntelNamedSubGroupSizeAttr::ConvertStrToSubGroupSizeType(SizeStr,</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;                                                                SizeType)) {</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; SizeStr;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;  }</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelNamedSubGroupSizeAttr::Create(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, SizeType, AL));</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;}</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160; </div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#aea83ce33ebe6da5a5ced45aaf1686cdb">Sema::AddSYCLIntelNumSimdWorkItemsAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;                                            <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160; </div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;    }</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160; </div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelNumSimdWorkItemsAttr&gt;()) {</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;        }</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;      }</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    }</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160; </div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;    <span class="comment">// If the &#39;reqd_work_group_size&#39; attribute is specified on a declaration</span></div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <span class="comment">// along with &#39;num_simd_work_items&#39; attribute, the required work group size</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <span class="comment">// specified by &#39;num_simd_work_items&#39; attribute must evenly divide the index</span></div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    <span class="comment">// that increments fastest in the &#39;reqd_work_group_size&#39; attribute.</span></div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ReqdWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;      <span class="keywordflow">if</span> (CheckWorkGroupSize(*<span class="keyword">this</span>, E, DeclAttr-&gt;getXDim(),</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;                             DeclAttr-&gt;getZDim())) {</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_sycl_num_kernel_wrong_reqd_wg_size)</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;            &lt;&lt; CI &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;      }</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    }</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;  }</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160; </div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLIntelNumSimdWorkItemsAttr(Context, CI, E));</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;}</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160; </div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;SYCLIntelNumSimdWorkItemsAttr *<a class="code" href="classclang_1_1Sema.html#a190965d69b6e3d8486d48d85a6b20f54">Sema::MergeSYCLIntelNumSimdWorkItemsAttr</a>(</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelNumSimdWorkItemsAttr &amp;A) {</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelNumSimdWorkItemsAttr&gt;()) {</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;        }</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;      }</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;    }</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  }</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160; </div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;  <span class="comment">// If the &#39;reqd_work_group_size&#39; attribute is specified on a declaration</span></div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;  <span class="comment">// along with &#39;num_simd_work_items&#39; attribute, the required work group size</span></div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;  <span class="comment">// specified by &#39;num_simd_work_items&#39; attribute must evenly divide the index</span></div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;  <span class="comment">// that increments fastest in the &#39;reqd_work_group_size&#39; attribute.</span></div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ReqdWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    <span class="keywordflow">if</span> (CheckWorkGroupSize(*<span class="keyword">this</span>, A.getValue(), DeclAttr-&gt;getXDim(),</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;                           DeclAttr-&gt;getZDim())) {</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::err_sycl_num_kernel_wrong_reqd_wg_size)</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;          &lt;&lt; &amp;A &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    }</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  }</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160; </div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      SYCLIntelNumSimdWorkItemsAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;}</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160; </div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelNumSimdWorkItemsAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#aea83ce33ebe6da5a5ced45aaf1686cdb">AddSYCLIntelNumSimdWorkItemsAttr</a>(D, A, E);</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;}</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160; </div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;<span class="comment">// Handles use_stall_enable_clusters</span></div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelUseStallEnableClustersAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;                                                      <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;                 SYCLIntelUseStallEnableClustersAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, A));</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;}</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160; </div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;<span class="comment">// Handles initiation_interval attribute.</span></div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a9a28522152f040e42dd33e305be47e81">Sema::AddSYCLIntelFPGAInitiationIntervalAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;                                                  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;    <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    }</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr =</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;            D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelFPGAInitiationIntervalAttr&gt;()) {</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr =</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;              dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getIntervalExpr())) {</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        }</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;      }</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;    }</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  }</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160; </div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;                 SYCLIntelFPGAInitiationIntervalAttr(Context, CI, E));</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;}</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160; </div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;SYCLIntelFPGAInitiationIntervalAttr *</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;<a class="code" href="classclang_1_1Sema.html#a9fb88737e97b44e0fd940c371514765a">Sema::MergeSYCLIntelFPGAInitiationIntervalAttr</a>(</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelFPGAInitiationIntervalAttr &amp;A) {</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr =</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;          D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelFPGAInitiationIntervalAttr&gt;()) {</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr =</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;            dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getIntervalExpr())) {</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getIntervalExpr())) {</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;        }</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;      }</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;    }</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;  }</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160; </div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;      SYCLIntelFPGAInitiationIntervalAttr(Context, A, A.getIntervalExpr());</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;}</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160; </div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SemaStmtAttr_8cpp.html#a120c76f8d213e602c147d9e4c372b613">handleSYCLIntelFPGAInitiationIntervalAttr</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;                                                      <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">CheckDeprecatedSYCLAttributeSpelling</a>(A);</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160; </div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a9a28522152f040e42dd33e305be47e81">AddSYCLIntelFPGAInitiationIntervalAttr</a>(D, A, A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;}</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160; </div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;<span class="comment">// Handle scheduler_target_fmax_mhz</span></div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a7bb94ced8df1c2bc0449a5596198ba3e">Sema::AddSYCLIntelSchedulerTargetFmaxMhzAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;                                                  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160; </div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    <span class="comment">// This attribute requires a non-negative value.</span></div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt; 0) {</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*non-negative*/</span> 1;</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    }</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr =</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;            D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelSchedulerTargetFmaxMhzAttr&gt;()) {</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;        }</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;      }</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    }</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;  }</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160; </div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;                 SYCLIntelSchedulerTargetFmaxMhzAttr(Context, CI, E));</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;}</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160; </div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;SYCLIntelSchedulerTargetFmaxMhzAttr *</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;<a class="code" href="classclang_1_1Sema.html#a928cfe999316f2367598afcc901271af">Sema::MergeSYCLIntelSchedulerTargetFmaxMhzAttr</a>(</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelSchedulerTargetFmaxMhzAttr &amp;A) {</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr =</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;          D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelSchedulerTargetFmaxMhzAttr&gt;()) {</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;        }</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      }</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    }</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  }</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;      SYCLIntelSchedulerTargetFmaxMhzAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;}</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160; </div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelSchedulerTargetFmaxMhzAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;                                                      <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a7bb94ced8df1c2bc0449a5596198ba3e">AddSYCLIntelSchedulerTargetFmaxMhzAttr</a>(D, AL, E);</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;}</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160; </div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;<span class="comment">// Handles max_global_work_dim.</span></div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;<span class="comment">// Returns a OneArgResult value; EqualToOne means all argument values are</span></div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;<span class="comment">// equal to one, NotEqualToOne means at least one argument value is not</span></div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;<span class="comment">// equal to one, and Unknown means that at least one of the argument values</span></div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;<span class="comment">// could not be determined.</span></div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;<span class="keyword">enum class</span> OneArgResult { <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">Unknown</a>, EqualToOne, NotEqualToOne };</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;<span class="keyword">static</span> OneArgResult AreAllArgsOne(<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *Args[], <span class="keywordtype">size_t</span> Count) {</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160; </div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Idx = 0; Idx &lt; Count; ++Idx) {</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *CE = dyn_cast&lt;ConstantExpr&gt;(Args[Idx]);</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    <span class="keywordflow">if</span> (!CE)</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">OneArgResult::Unknown</a>;</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    <span class="keywordflow">if</span> (CE-&gt;getResultAsAPSInt() != 1)</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;      <span class="keywordflow">return</span> OneArgResult::NotEqualToOne;</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;  }</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;  <span class="keywordflow">return</span> OneArgResult::EqualToOne;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;}</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160; </div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;<span class="comment">// If the declaration has a SYCLIntelMaxWorkGroupSizeAttr or</span></div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;<span class="comment">// ReqdWorkGroupSizeAttr, check to see if they hold equal values</span></div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;<span class="comment">// (1, 1, 1). Returns true if diagnosed.</span></div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrTy&gt;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkWorkGroupSizeAttrExpr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;AL) {</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AttrTy&gt;()) {</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *Args[3] = {A-&gt;getXDim(), A-&gt;getYDim(), A-&gt;getZDim()};</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    <span class="keywordflow">if</span> (OneArgResult::NotEqualToOne == AreAllArgsOne(Args, 3)) {</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A-&gt;getLocation(), diag::err_sycl_x_y_z_arguments_must_be_one)</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;          &lt;&lt; A &lt;&lt; AL;</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    }</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  }</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;}</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160; </div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a9ec549da663eebde2ff1ba6c6d08e8a6">Sema::AddSYCLIntelMaxGlobalWorkDimAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;                                            <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160; </div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    <span class="comment">// This attribute must be in the range [0, 3].</span></div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt; 0 || ArgVal &gt; 3) {</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_argument_out_of_range)</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;          &lt;&lt; CI &lt;&lt; 0 &lt;&lt; 3 &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    }</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160; </div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxGlobalWorkDimAttr&gt;()) {</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;        }</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;      }</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    }</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160; </div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    <span class="comment">// If the declaration has a SYCLIntelMaxWorkGroupSizeAttr or</span></div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    <span class="comment">// ReqdWorkGroupSizeAttr, check to see if the attribute holds values equal</span></div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;    <span class="comment">// to (1, 1, 1) in case the value of SYCLIntelMaxGlobalWorkDimAttr equals</span></div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    <span class="comment">// to 0.</span></div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    <span class="keywordflow">if</span> (ArgVal == 0) {</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;      <span class="keywordflow">if</span> (checkWorkGroupSizeAttrExpr&lt;SYCLIntelMaxWorkGroupSizeAttr&gt;(*<span class="keyword">this</span>, D,</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;                                                                    CI) ||</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;          checkWorkGroupSizeAttrExpr&lt;ReqdWorkGroupSizeAttr&gt;(*<span class="keyword">this</span>, D, CI))</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    }</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;  }</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160; </div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLIntelMaxGlobalWorkDimAttr(Context, CI, E));</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;}</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160; </div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;SYCLIntelMaxGlobalWorkDimAttr *<a class="code" href="classclang_1_1Sema.html#aac51ccea2ca51bbc8e3007fce367efa4">Sema::MergeSYCLIntelMaxGlobalWorkDimAttr</a>(</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelMaxGlobalWorkDimAttr &amp;A) {</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxGlobalWorkDimAttr&gt;()) {</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;        }</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;      }</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    }</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  }</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160; </div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="comment">// If the declaration has a SYCLIntelMaxWorkGroupSizeAttr or</span></div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;  <span class="comment">// ReqdWorkGroupSizeAttr, check to see if the attribute holds values equal to</span></div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="comment">// (1, 1, 1) in case the value of SYCLIntelMaxGlobalWorkDimAttr equals to 0.</span></div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue());</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  <span class="keywordflow">if</span> (MergeExpr-&gt;getResultAsAPSInt() == 0) {</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;    <span class="keywordflow">if</span> (checkWorkGroupSizeAttrExpr&lt;SYCLIntelMaxWorkGroupSizeAttr&gt;(*<span class="keyword">this</span>, D,</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;                                                                  A) ||</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;        checkWorkGroupSizeAttrExpr&lt;ReqdWorkGroupSizeAttr&gt;(*<span class="keyword">this</span>, D, A))</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  }</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160; </div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;      SYCLIntelMaxGlobalWorkDimAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;}</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160; </div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelMaxGlobalWorkDimAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a9ec549da663eebde2ff1ba6c6d08e8a6">AddSYCLIntelMaxGlobalWorkDimAttr</a>(D, AL, E);</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;}</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160; </div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;<span class="comment">// Handles [[intel::loop_fuse]] and [[intel::loop_fuse_independent]].</span></div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#aec8d6a3671dc3b894d97ed597f88b920">Sema::AddSYCLIntelLoopFuseAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;                                    <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160; </div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;    <span class="comment">// This attribute requires a non-negative value.</span></div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt; 0) {</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*non-negative*/</span> 1;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    }</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelLoopFuseAttr&gt;()) {</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;      <span class="comment">// [[intel::loop_fuse]] and [[intel::loop_fuse_independent]] are</span></div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;      <span class="comment">// incompatible.</span></div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;      <span class="comment">// FIXME: If additional spellings are provided for this attribute,</span></div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;      <span class="comment">// this code will do the wrong thing.</span></div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;      <span class="keywordflow">if</span> (DeclAttr-&gt;getAttributeSpellingListIndex() !=</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;          CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a6940b4f3219ae86ee8e691e5451e1e22">getAttributeSpellingListIndex</a>()) {</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attributes_are_not_compatible)</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;            &lt;&lt; CI &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;      }</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;        }</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;      }</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;    }</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;  }</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160; </div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLIntelLoopFuseAttr(Context, CI, E));</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;}</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160; </div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;SYCLIntelLoopFuseAttr *</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;<a class="code" href="classclang_1_1Sema.html#a38ecaa7c3142a2c38cc66efd3e96e89f">Sema::MergeSYCLIntelLoopFuseAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelLoopFuseAttr &amp;A) {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelLoopFuseAttr&gt;()) {</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;    <span class="comment">// [[intel::loop_fuse]] and [[intel::loop_fuse_independent]] are</span></div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;    <span class="comment">// incompatible.</span></div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    <span class="comment">// FIXME: If additional spellings are provided for this attribute,</span></div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    <span class="comment">// this code will do the wrong thing.</span></div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;    <span class="keywordflow">if</span> (DeclAttr-&gt;getAttributeSpellingListIndex() !=</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        A.getAttributeSpellingListIndex()) {</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::err_attributes_are_not_compatible)</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;          &lt;&lt; &amp;A &lt;&lt; DeclAttr;</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;    }</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;        }</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;      }</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;    }</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;  }</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160; </div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  return ::new (Context) SYCLIntelLoopFuseAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;}</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160; </div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelLoopFuseAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;  <span class="comment">// If no attribute argument is specified, set to default value &#39;1&#39;.</span></div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = A.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(0)</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;                ? A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0)</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;                : <a class="code" href="classclang_1_1IntegerLiteral.html#a68782c17506bd26183c21aa2bf9dc1d7">IntegerLiteral::Create</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <a class="code" href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">llvm::APInt</a>(32, 1),</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;                                         S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>, A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>());</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160; </div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#aec8d6a3671dc3b894d97ed597f88b920">AddSYCLIntelLoopFuseAttr</a>(D, A, E);</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;}</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160; </div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleVecTypeHint(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;  <span class="comment">// This attribute is deprecated without replacement in SYCL 2020 mode.</span></div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.getSYCLVersion() &gt; <a class="code" href="classclang_1_1LangOptions.html#ab77f63ee3a4b2592fe64deea72c94de1ad75c21b8eb68f2232771433dfa41d63d">LangOptions::SYCL_2017</a>)</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_spelling_deprecated) &lt;&lt; AL;</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160; </div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;  <span class="comment">// If the attribute is used with the [[sycl::vec_type_hint]] spelling in SYCL</span></div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;  <span class="comment">// 2017 mode, we want to warn about using the newer name in the older</span></div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;  <span class="comment">// standard as a compatibility extension.</span></div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.getSYCLVersion() == <a class="code" href="classclang_1_1LangOptions.html#ab77f63ee3a4b2592fe64deea72c94de1ad75c21b8eb68f2232771433dfa41d63d">LangOptions::SYCL_2017</a> &amp;&amp; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">hasScope</a>())</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::ext_sycl_2020_attr_spelling) &lt;&lt; AL;</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160; </div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3268778235a07ab81be02b50fe601582">hasParsedType</a>()) {</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_number_arguments) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;  }</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160; </div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;  <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *ParmTSI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ParmType = S.<a class="code" href="classclang_1_1Sema.html#af01ac7ae5060cb2c8714b3fc034069a2">GetTypeFromParser</a>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#afd85b5081f1dded428912184ccf42e05">getTypeArg</a>(), &amp;ParmTSI);</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;  assert(ParmTSI &amp;&amp; <span class="stringliteral">&quot;no type source info for attribute argument&quot;</span>);</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160; </div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;  <span class="keywordflow">if</span> (!ParmType-&gt;<a class="code" href="classclang_1_1Type.html#a5b42d6ab5ff217daa5fa373ee027b685">isExtVectorType</a>() &amp;&amp; !ParmType-&gt;<a class="code" href="classclang_1_1Type.html#acce830e9845ef21b901c5473105e2eda">isFloatingType</a>() &amp;&amp;</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;      (ParmType-&gt;<a class="code" href="classclang_1_1Type.html#a096577dc2c0e924586ad954a1f99e671">isBooleanType</a>() ||</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;       !ParmType-&gt;<a class="code" href="classclang_1_1Type.html#a522d6c088d4e3e61918a13a1e4c65a4f">isIntegralType</a>(S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>()))) {</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_invalid_argument) &lt;&lt; 2 &lt;&lt; AL;</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;  }</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160; </div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;  <span class="keywordflow">if</span> (VecTypeHintAttr *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;VecTypeHintAttr&gt;()) {</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a3556b4a11d8724de9a397309835827d0">hasSameType</a>(A-&gt;getTypeHint(), ParmType)) {</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; AL;</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    }</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;  }</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160; </div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) VecTypeHintAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, ParmTSI));</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;}</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160; </div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;SectionAttr *<a class="code" href="classclang_1_1Sema.html#ac6a77200b822234520e0ef64fcf2f502">Sema::mergeSectionAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;                                    StringRef Name) {</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;  <span class="comment">// Explicit or partial specializations do not inherit</span></div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;  <span class="comment">// the section attribute from the primary template.</span></div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;    <span class="keywordflow">if</span> (CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a6940b4f3219ae86ee8e691e5451e1e22">getAttributeSpellingListIndex</a>() == SectionAttr::Declspec_allocate &amp;&amp;</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;        FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae0dad247b544b8927e77a05d51f8eede">isFunctionTemplateSpecialization</a>())</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;  }</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;  <span class="keywordflow">if</span> (SectionAttr *ExistingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SectionAttr&gt;()) {</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;    <span class="keywordflow">if</span> (ExistingAttr-&gt;getName() == Name)</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLocation(), diag::warn_mismatched_section)</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;         &lt;&lt; 1 <span class="comment">/*section*/</span>;</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  }</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;  return ::new (Context) SectionAttr(Context, CI, Name);</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;}</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;<span class="comment">/// Used to implement to perform semantic checking on</span></div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;<span class="comment">/// attribute((section(&quot;foo&quot;))) specifiers.</span></div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;<span class="comment">/// In this case, &quot;foo&quot; is passed in to be checked.  If the section</span></div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;<span class="comment">/// specifier is invalid, return an Error that indicates the problem.</span></div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;<span class="comment">/// This is a simple quality of implementation feature to catch errors</span></div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;<span class="comment">/// and give good diagnostics in cases when the assembler or code generator</span></div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;<span class="comment">/// would otherwise reject the section specifier.</span></div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;<span class="comment"></span>llvm::Error <a class="code" href="classclang_1_1Sema.html#a5633727ff414f272a3c4b2e6ca310718">Sema::isValidSectionSpecifier</a>(StringRef SecName) {</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;  <span class="keywordflow">if</span> (!Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSDarwin())</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    <span class="keywordflow">return</span> llvm::Error::success();</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160; </div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;  <span class="comment">// Let MCSectionMachO validate this.</span></div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;  StringRef Segment, Section;</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;  <span class="keywordtype">unsigned</span> TAA, StubSize;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;  <span class="keywordtype">bool</span> HasTAA;</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;  <span class="keywordflow">return</span> llvm::MCSectionMachO::ParseSectionSpecifier(SecName, Segment, Section,</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;                                                     TAA, HasTAA, StubSize);</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;}</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160; </div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a206ef02d52b47f3a3ad3c27d71b78298">Sema::checkSectionName</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc, StringRef SecName) {</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;  <span class="keywordflow">if</span> (llvm::Error E = isValidSectionSpecifier(SecName)) {</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::err_attribute_section_invalid_for_target)</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;        &lt;&lt; <a class="code" href="namespaceclang_1_1threadSafety_1_1sx.html#ae17443dfb73305637d8d327cc2fd0058">toString</a>(std::move(E)) &lt;&lt; 1 <span class="comment">/*&#39;section&#39;*/</span>;</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;  }</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;}</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160; </div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSectionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;  <span class="comment">// Make sure that there is a string literal as the sections&#39;s single</span></div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;  <span class="comment">// argument.</span></div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;LiteralLoc))</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160; </div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a206ef02d52b47f3a3ad3c27d71b78298">checkSectionName</a>(LiteralLoc, Str))</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160; </div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;  SectionAttr *NewAttr = S.<a class="code" href="classclang_1_1Sema.html#ac6a77200b822234520e0ef64fcf2f502">mergeSectionAttr</a>(D, AL, Str);</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;  <span class="keywordflow">if</span> (NewAttr) {</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceclang.html#a09cf2fc3951483df7a3cafac379a4f03">isa</a>&lt;<a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a>, <a class="code" href="classclang_1_1FunctionTemplateDecl.html">FunctionTemplateDecl</a>, <a class="code" href="classclang_1_1ObjCMethodDecl.html">ObjCMethodDecl</a>,</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;            <a class="code" href="classclang_1_1ObjCPropertyDecl.html">ObjCPropertyDecl</a>&gt;(D))</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a58d48cf40e73e186b299875dac826862">UnifySection</a>(NewAttr-&gt;getName(),</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;                     <a class="code" href="classclang_1_1ASTContext.html#a4b318347193858996e56f0001f26112dab59b72f0cd69f7d6859640785ebc8a21">ASTContext::PSF_Execute</a> | <a class="code" href="classclang_1_1ASTContext.html#a4b318347193858996e56f0001f26112daaf3ba5843080a5765fc6c9d0a7913249">ASTContext::PSF_Read</a>,</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;                     cast&lt;NamedDecl&gt;(D));</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;  }</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;}</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160; </div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;<span class="comment">// This is used for `__declspec(code_seg(&quot;segname&quot;))` on a decl.</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;<span class="comment">// `#pragma code_seg(&quot;segname&quot;)` uses checkSectionName() instead.</span></div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkCodeSegName(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc,</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;                             StringRef CodeSegName) {</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;  <span class="keywordflow">if</span> (llvm::Error E = S.<a class="code" href="classclang_1_1Sema.html#a5633727ff414f272a3c4b2e6ca310718">isValidSectionSpecifier</a>(CodeSegName)) {</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::err_attribute_section_invalid_for_target)</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;        &lt;&lt; <a class="code" href="namespaceclang_1_1threadSafety_1_1sx.html#ae17443dfb73305637d8d327cc2fd0058">toString</a>(std::move(E)) &lt;&lt; 0 <span class="comment">/*&#39;code-seg&#39;*/</span>;</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;  }</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160; </div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;}</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160; </div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;CodeSegAttr *<a class="code" href="classclang_1_1Sema.html#a5f98f4b287011e4d342d57af74557e2d">Sema::mergeCodeSegAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;                                    StringRef Name) {</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;  <span class="comment">// Explicit or partial specializations do not inherit</span></div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;  <span class="comment">// the code_seg attribute from the primary template.</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae0dad247b544b8927e77a05d51f8eede">isFunctionTemplateSpecialization</a>())</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;  }</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;CodeSegAttr&gt;()) {</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;    <span class="keywordflow">if</span> (ExistingAttr-&gt;getName() == Name)</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLocation(), diag::warn_mismatched_section)</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;         &lt;&lt; 0 <span class="comment">/*codeseg*/</span>;</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;  }</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;  return ::new (Context) CodeSegAttr(Context, CI, Name);</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;}</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160; </div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCodeSegAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;LiteralLoc))</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;  <span class="keywordflow">if</span> (!checkCodeSegName(S, LiteralLoc, Str))</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;CodeSegAttr&gt;()) {</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <span class="keywordflow">if</span> (!ExistingAttr-&gt;isImplicit()) {</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;             ExistingAttr-&gt;getName() == Str</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;             ? diag::warn_duplicate_codeseg_attribute</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;             : diag::err_conflicting_codeseg_attribute);</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;    }</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;CodeSegAttr&gt;();</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;  }</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;  <span class="keywordflow">if</span> (CodeSegAttr *CSA = S.<a class="code" href="classclang_1_1Sema.html#a5f98f4b287011e4d342d57af74557e2d">mergeCodeSegAttr</a>(D, AL, Str))</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(CSA);</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;}</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160; </div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;<span class="comment">// Check for things we&#39;d like to warn about. Multiversioning issues are</span></div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;<span class="comment">// handled later in the process, once we know how many exist.</span></div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#abc97ce21ef0d738c701e1486a3c41230">Sema::checkTargetAttr</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc, StringRef AttrStr) {</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;  <span class="keyword">enum</span> FirstParam { <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a>, Duplicate, <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">Unknown</a> };</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;  <span class="keyword">enum</span> SecondParam { <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a>, Architecture, Tune };</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;  <span class="keyword">enum</span> ThirdParam { <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>, <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">TargetClones</a> };</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;  <span class="keywordflow">if</span> (AttrStr.contains(<span class="stringliteral">&quot;fpmath=&quot;</span>))</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;           &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;fpmath=&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160; </div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;  <span class="comment">// Diagnose use of tune if target doesn&#39;t support it.</span></div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;  <span class="keywordflow">if</span> (!Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ada9633495d42d0efc3485fab4e8214ae">supportsTargetAttributeTune</a>() &amp;&amp;</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;      AttrStr.contains(<span class="stringliteral">&quot;tune=&quot;</span>))</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;           &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;tune=&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160; </div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;  <a class="code" href="structclang_1_1ParsedTargetAttr.html">ParsedTargetAttr</a> ParsedAttrs = TargetAttr::parse(AttrStr);</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160; </div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;  <span class="keywordflow">if</span> (!ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#ac8bc9ff82d81cdc0d512f7f6f0e676ca">Architecture</a>.empty() &amp;&amp;</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;      !Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#aeef24474a0a5aa43429fac620e828b88">isValidCPUName</a>(ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#ac8bc9ff82d81cdc0d512f7f6f0e676ca">Architecture</a>))</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;           &lt;&lt; <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">Unknown</a> &lt;&lt; Architecture &lt;&lt; ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#ac8bc9ff82d81cdc0d512f7f6f0e676ca">Architecture</a> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160; </div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;  <span class="keywordflow">if</span> (!ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#a8c8da06cfbbd928acd4e331fb5b5fe53">Tune</a>.empty() &amp;&amp;</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;      !Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#aeef24474a0a5aa43429fac620e828b88">isValidCPUName</a>(ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#a8c8da06cfbbd928acd4e331fb5b5fe53">Tune</a>))</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;           &lt;&lt; <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">Unknown</a> &lt;&lt; Tune &lt;&lt; ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#a8c8da06cfbbd928acd4e331fb5b5fe53">Tune</a> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160; </div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;  <span class="keywordflow">if</span> (ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#ad6336ecc619cd436b2b12fa2a118252e">DuplicateArchitecture</a>)</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;           &lt;&lt; Duplicate &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;arch=&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;  <span class="keywordflow">if</span> (ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#a3c8f9cf95dfe28518781670fb01a8e17">DuplicateTune</a>)</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;           &lt;&lt; Duplicate &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;tune=&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160; </div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Feature : ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#a1b07765723b75cab71db6ae1e644e5b5">Features</a>) {</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;    <span class="keyword">auto</span> CurFeature = StringRef(Feature).drop_front(); <span class="comment">// remove + or -.</span></div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    <span class="keywordflow">if</span> (!Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ad28df365bbdd775ad793819325699e78">isValidFeatureName</a>(CurFeature))</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;             &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; CurFeature &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;  }</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160; </div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <a class="code" href="structclang_1_1TargetInfo_1_1BranchProtectionInfo.html">TargetInfo::BranchProtectionInfo</a> BPI;</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;  StringRef DiagMsg;</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <span class="keywordflow">if</span> (ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#a3e86b26912265e5e36a5d81bbd5755be">BranchProtection</a>.empty())</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;  <span class="keywordflow">if</span> (!Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#aff9df59ee454e353ab88dd9f3a34c795">validateBranchProtection</a>(</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;          ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#a3e86b26912265e5e36a5d81bbd5755be">BranchProtection</a>, ParsedAttrs.<a class="code" href="structclang_1_1ParsedTargetAttr.html#ac8bc9ff82d81cdc0d512f7f6f0e676ca">Architecture</a>, BPI,</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;          DiagMsg)) {</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    <span class="keywordflow">if</span> (DiagMsg.empty())</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;             &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;branch-protection&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>;</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::err_invalid_branch_protection_spec)</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;           &lt;&lt; DiagMsg;</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;  }</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;  <span class="keywordflow">if</span> (!DiagMsg.empty())</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_branch_protection_spec) &lt;&lt; DiagMsg;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160; </div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;}</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160; </div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleTargetAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;LiteralLoc) ||</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#abc97ce21ef0d738c701e1486a3c41230">checkTargetAttr</a>(LiteralLoc, Str))</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160; </div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  TargetAttr *NewAttr = ::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) TargetAttr(S.Context, AL, Str);</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;  D-&gt;addAttr(NewAttr);</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;}</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160; </div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html">Sema</a>::checkTargetClonesAttrString(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc, StringRef Str,</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;                                       const <a class="code" href="classclang_1_1StringLiteral.html">StringLiteral</a> *<a class="code" href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">Literal</a>,</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;                                       <span class="keywordtype">bool</span> &amp;HasDefault, <span class="keywordtype">bool</span> &amp;HasCommas,</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;                                       <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;StringRef&gt; &amp;Strings) {</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;  <span class="keyword">enum</span> FirstParam { <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a>, Duplicate, <a class="code" href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">Unknown</a> };</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;  <span class="keyword">enum</span> SecondParam { <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a>, Architecture, Tune };</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;  <span class="keyword">enum</span> ThirdParam { <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">Target</a>, <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">TargetClones</a> };</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;  HasCommas = HasCommas || Str.contains(<span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;  <span class="comment">// Warn on empty at the beginning of a string.</span></div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;  <span class="keywordflow">if</span> (Str.size() == 0)</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;           &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">TargetClones</a>;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160; </div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;  std::pair&lt;StringRef, StringRef&gt; Parts = {{}, Str};</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;  <span class="keywordflow">while</span> (!Parts.second.empty()) {</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    Parts = Parts.second.split(<span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;    StringRef Cur = Parts.first.trim();</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;    <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> CurLoc = <a class="code" href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">Literal</a>-&gt;getLocationOfByte(</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;        Cur.data() - <a class="code" href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">Literal</a>-&gt;getString().data(), getSourceManager(),</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;        getLangOpts(), Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>());</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160; </div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;    <span class="keywordtype">bool</span> DefaultIsDupe = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;    <span class="keywordflow">if</span> (Cur.empty())</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CurLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;             &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">TargetClones</a>;</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160; </div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;    <span class="keywordflow">if</span> (Cur.startswith(<span class="stringliteral">&quot;arch=&quot;</span>)) {</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;      <span class="keywordflow">if</span> (!Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#aeef24474a0a5aa43429fac620e828b88">isValidCPUName</a>(</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;              Cur.drop_front(<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;arch=&quot;</span>) - 1)))</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CurLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;               &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; Architecture</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;               &lt;&lt; Cur.drop_front(<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;arch=&quot;</span>) - 1) &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">TargetClones</a>;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cur == <span class="stringliteral">&quot;default&quot;</span>) {</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;      DefaultIsDupe = HasDefault;</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;      HasDefault = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ad28df365bbdd775ad793819325699e78">isValidFeatureName</a>(Cur))</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CurLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;             &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; Cur &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">TargetClones</a>;</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160; </div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    <span class="keywordflow">if</span> (llvm::find(Strings, Cur) != Strings.end() || DefaultIsDupe)</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CurLoc, diag::warn_target_clone_duplicate_options);</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    <span class="comment">// Note: Add even if there are duplicates, since it changes name mangling.</span></div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;    Strings.push_back(Cur);</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;  }</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160; </div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;  <span class="keywordflow">if</span> (Str.rtrim().endswith(<span class="stringliteral">&quot;,&quot;</span>))</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LiteralLoc, diag::warn_unsupported_target_attribute)</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;           &lt;&lt; <a class="code" href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">Unsupported</a> &lt;&lt; <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">None</a> &lt;&lt; <span class="stringliteral">&quot;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">TargetClones</a>;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;}</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160; </div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleTargetClonesAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;  <span class="comment">// Ensure we don&#39;t combine these with themselves, since that causes some</span></div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;  <span class="comment">// confusing behavior.</span></div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Other = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;TargetClonesAttr&gt;()) {</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_disallowed_duplicate_attribute) &lt;&lt; AL;</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Other-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;  }</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;  <span class="keywordflow">if</span> (checkAttrMutualExclusion&lt;TargetClonesAttr&gt;(S, D, AL))</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160; </div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 2&gt;</a> Strings;</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;  <span class="keywordtype">bool</span> HasCommas = <span class="keyword">false</span>, HasDefault = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160; </div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I != E; ++I) {</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;    StringRef CurStr;</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, I, CurStr, &amp;LiteralLoc) ||</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a635f5dc70c38e827066a1c8f3ac3a77e">checkTargetClonesAttrString</a>(</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;            LiteralLoc, CurStr,</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;            cast&lt;StringLiteral&gt;(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I)-&gt;<a class="code" href="classclang_1_1Expr.html#a397a707d10e0d3ac4a150325eafa4368">IgnoreParenCasts</a>()),</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;            HasDefault, HasCommas, Strings))</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;  }</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160; </div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;  <span class="keywordflow">if</span> (HasCommas &amp;&amp; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1)</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_target_clone_mixed_values);</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160; </div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;  <span class="keywordflow">if</span> (!HasDefault) {</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_target_clone_must_have_default);</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;  }</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160; </div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;  <span class="comment">// FIXME: We could probably figure out how to get this to work for lambdas</span></div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;  <span class="comment">// someday.</span></div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;    <span class="keywordflow">if</span> (MD-&gt;<a class="code" href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">getParent</a>()-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#a47bd4d56ae0e4ddd26ac0bec6e977160">isLambda</a>()) {</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_multiversion_doesnt_support)</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;          &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">MultiVersionKind::TargetClones</a>)</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;          &lt;&lt; <span class="comment">/*Lambda*/</span> 9;</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;    }</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;  }</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160; </div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;  cast&lt;FunctionDecl&gt;(D)-&gt;setIsMultiVersion();</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;  TargetClonesAttr *NewAttr = ::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;      TargetClonesAttr(S.Context, AL, Strings.data(), Strings.size());</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;  D-&gt;addAttr(NewAttr);</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;}</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160; </div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;static <span class="keywordtype">void</span> handleMinVectorWidthAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, const <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.getArgAsExpr(0);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;  uint32_t VecWidth;</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, E, VecWidth)) {</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;    AL.setInvalid();</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;  }</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160; </div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;  MinVectorWidthAttr *Existing = D-&gt;getAttr&lt;MinVectorWidthAttr&gt;();</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <span class="keywordflow">if</span> (Existing &amp;&amp; Existing-&gt;getVectorWidth() != VecWidth) {</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.getLoc(), diag::warn_duplicate_attribute) &lt;&lt; AL;</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;  }</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160; </div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;  D-&gt;addAttr(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) MinVectorWidthAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, VecWidth));</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;}</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160; </div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCleanupAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc = E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>();</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  <a class="code" href="structclang_1_1DeclarationNameInfo.html">DeclarationNameInfo</a> NI;</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160; </div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  <span class="comment">// gcc only allows for simple identifiers. Since we support more than gcc, we</span></div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;  <span class="comment">// will warn the user.</span></div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DRE = dyn_cast&lt;DeclRefExpr&gt;(E)) {</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;    <span class="keywordflow">if</span> (DRE-&gt;<a class="code" href="classclang_1_1DeclRefExpr.html#a922adecbb6631a59630ada2889d11d36">hasQualifier</a>())</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_cleanup_ext);</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;    FD = dyn_cast&lt;FunctionDecl&gt;(DRE-&gt;<a class="code" href="classclang_1_1DeclRefExpr.html#a22eec021070f5d0733e90b6c5c127a25">getDecl</a>());</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;    NI = DRE-&gt;<a class="code" href="classclang_1_1DeclRefExpr.html#a5a7911c416252815e0f245d63775f881">getNameInfo</a>();</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;    <span class="keywordflow">if</span> (!FD) {</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_attribute_cleanup_arg_not_function) &lt;&lt; 1</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;        &lt;&lt; NI.<a class="code" href="structclang_1_1DeclarationNameInfo.html#a09d47cb0da3fea189ecbd6ab0094c70d">getName</a>();</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    }</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ULE = dyn_cast&lt;UnresolvedLookupExpr&gt;(E)) {</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    <span class="keywordflow">if</span> (ULE-&gt;hasExplicitTemplateArgs())</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_cleanup_ext);</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;    FD = S.<a class="code" href="classclang_1_1Sema.html#aa3dd47a219a599f72ed45231da417e5b">ResolveSingleFunctionTemplateSpecialization</a>(ULE, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;    NI = ULE-&gt;getNameInfo();</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;    <span class="keywordflow">if</span> (!FD) {</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_attribute_cleanup_arg_not_function) &lt;&lt; 2</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;        &lt;&lt; NI.<a class="code" href="structclang_1_1DeclarationNameInfo.html#a09d47cb0da3fea189ecbd6ab0094c70d">getName</a>();</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;      <span class="keywordflow">if</span> (ULE-&gt;getType() == S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a9630077a927001f119e396456dc9e091">OverloadTy</a>)</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#abdd8761bdcecbf6cdce472f76e437a58">NoteAllOverloadCandidates</a>(ULE);</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    }</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_attribute_cleanup_arg_not_function) &lt;&lt; 0;</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  }</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160; </div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae3cf2778dffe5ebe820cf811ca0a134f">getNumParams</a>() != 1) {</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_attribute_cleanup_func_must_take_one_arg)</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;      &lt;&lt; NI.<a class="code" href="structclang_1_1DeclarationNameInfo.html#a09d47cb0da3fea189ecbd6ab0094c70d">getName</a>();</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  }</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160; </div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;  <span class="comment">// We&#39;re currently more strict than GCC about what function types we accept.</span></div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;  <span class="comment">// If this ever proves to be a problem it should be easy to fix.</span></div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a41483c42a2f92e8cb7737cf20661a92c">getPointerType</a>(cast&lt;VarDecl&gt;(D)-&gt;getType());</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ParamTy = FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#afd761724c0261c3613c187ca98482442">getParamDecl</a>(0)-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ae926bdadf47f89f8ef6ff5415386286e">CheckAssignmentConstraints</a>(FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#afd761724c0261c3613c187ca98482442">getParamDecl</a>(0)-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;                                   ParamTy, Ty) != <a class="code" href="classclang_1_1Sema.html#a989c30946e5cabc831bca08a8da4b3dda691144416ccd7da1984a21de8941c3e2">Sema::Compatible</a>) {</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_attribute_cleanup_func_arg_incompatible_type)</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;      &lt;&lt; NI.<a class="code" href="structclang_1_1DeclarationNameInfo.html#a09d47cb0da3fea189ecbd6ab0094c70d">getName</a>() &lt;&lt; ParamTy &lt;&lt; Ty;</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  }</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160; </div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CleanupAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, FD));</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;}</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160; </div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleEnumExtensibilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;        &lt;&lt; AL &lt;&lt; 0 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;  }</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160; </div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">EnumExtensibilityAttr::Kind</a> ExtensibilityKind;</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;  <span class="keywordflow">if</span> (!EnumExtensibilityAttr::ConvertStrToKind(II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(),</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;                                               ExtensibilityKind)) {</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; II;</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;  }</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160; </div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;                 EnumExtensibilityAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, ExtensibilityKind));</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;}</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;<span class="comment">/// Handle __attribute__((format_arg((idx)))) attribute based on</span></div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;<span class="comment">/// http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html</span></div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleFormatArgAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *IdxExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> Idx;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AL, 1, IdxExpr, Idx))</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160; </div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;  <span class="comment">// Make sure the format string is really a string.</span></div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>());</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160; </div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <span class="keywordtype">bool</span> NotNSStringTy = !<a class="code" href="SemaDeclAttr_8cpp.html#a10579cffb2afe5a445a4e0a7e0cd64b3">isNSStringType</a>(Ty, S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>);</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  <span class="keywordflow">if</span> (NotNSStringTy &amp;&amp;</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;      !<a class="code" href="SemaDeclAttr_8cpp.html#a00319681c00349140baab62dbe185875">isCFStringType</a>(Ty, S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) &amp;&amp;</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;      (!Ty-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>() ||</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;       !Ty-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;()-&gt;<a class="code" href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a2c9850e71c1c771e229b962699ddaa19">isCharType</a>())) {</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_format_attribute_not)</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;a string type&quot;</span> &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>()</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;        &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, 0);</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;  }</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;  Ty = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;  <span class="comment">// replace instancetype with the class type</span></div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;  <span class="keyword">auto</span> Instancetype = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a16931d319b70270aef72375d85a585f4">getObjCInstanceTypeDecl</a>()-&gt;<a class="code" href="classclang_1_1TypeDecl.html#a84a2dafb93379e1b892012e92193d3a7">getTypeForDecl</a>();</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1TypedefType.html">TypedefType</a>&gt;() == Instancetype)</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OMD = dyn_cast&lt;ObjCMethodDecl&gt;(D))</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Interface = OMD-&gt;getClassInterface())</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;        Ty = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a920f88ccbce6c2ce4cd30f161b6b7f0d">getObjCObjectPointerType</a>(</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;            <a class="code" href="classclang_1_1QualType.html">QualType</a>(Interface-&gt;getTypeForDecl(), 0));</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a10579cffb2afe5a445a4e0a7e0cd64b3">isNSStringType</a>(Ty, S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <span class="comment">/*AllowNSAttributedString=*/</span><span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;      !<a class="code" href="SemaDeclAttr_8cpp.html#a00319681c00349140baab62dbe185875">isCFStringType</a>(Ty, S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) &amp;&amp;</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;      (!Ty-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>() ||</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;       !Ty-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;()-&gt;<a class="code" href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a2c9850e71c1c771e229b962699ddaa19">isCharType</a>())) {</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_format_attribute_result_not)</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;        &lt;&lt; (NotNSStringTy ? <span class="stringliteral">&quot;string type&quot;</span> : <span class="stringliteral">&quot;NSString&quot;</span>)</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;        &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>() &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, 0);</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;  }</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160; </div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) FormatArgAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Idx));</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;}</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160; </div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;<span class="keyword">enum</span> FormatAttrKind {</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;  CFStringFormat,</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;  NSStringFormat,</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;  StrftimeFormat,</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;  SupportedFormat,</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;  IgnoredFormat,</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;  InvalidFormat</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;};</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;<span class="comment">/// getFormatAttrKind - Map from format attribute names to supported format</span></div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;<span class="comment">/// types.</span></div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;<span class="comment"></span><span class="keyword">static</span> FormatAttrKind getFormatAttrKind(StringRef Format) {</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;  <span class="keywordflow">return</span> llvm::StringSwitch&lt;FormatAttrKind&gt;(Format)</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;      <span class="comment">// Check for formats that get handled specially.</span></div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;      .Case(<span class="stringliteral">&quot;NSString&quot;</span>, NSStringFormat)</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;      .Case(<span class="stringliteral">&quot;CFString&quot;</span>, CFStringFormat)</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;      .Case(<span class="stringliteral">&quot;strftime&quot;</span>, StrftimeFormat)</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160; </div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;      <span class="comment">// Otherwise, check for supported formats.</span></div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;      .Cases(<span class="stringliteral">&quot;scanf&quot;</span>, <span class="stringliteral">&quot;printf&quot;</span>, <span class="stringliteral">&quot;printf0&quot;</span>, <span class="stringliteral">&quot;strfmon&quot;</span>, SupportedFormat)</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;      .Cases(<span class="stringliteral">&quot;cmn_err&quot;</span>, <span class="stringliteral">&quot;vcmn_err&quot;</span>, <span class="stringliteral">&quot;zcmn_err&quot;</span>, SupportedFormat)</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;      .Case(<span class="stringliteral">&quot;kprintf&quot;</span>, SupportedFormat)         <span class="comment">// OpenBSD.</span></div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;      .Case(<span class="stringliteral">&quot;freebsd_kprintf&quot;</span>, SupportedFormat) <span class="comment">// FreeBSD.</span></div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;      .Case(<span class="stringliteral">&quot;os_trace&quot;</span>, SupportedFormat)</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;      .Case(<span class="stringliteral">&quot;os_log&quot;</span>, SupportedFormat)</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160; </div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;      .Cases(<span class="stringliteral">&quot;gcc_diag&quot;</span>, <span class="stringliteral">&quot;gcc_cdiag&quot;</span>, <span class="stringliteral">&quot;gcc_cxxdiag&quot;</span>, <span class="stringliteral">&quot;gcc_tdiag&quot;</span>, IgnoredFormat)</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;      .Default(InvalidFormat);</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;}</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;<span class="comment">/// Handle __attribute__((init_priority(priority))) attributes based on</span></div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;<span class="comment">/// http://gcc.gnu.org/onlinedocs/gcc/C_002b_002b-Attributes.html</span></div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleInitPriorityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CPlusPlus) {</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_ignored) &lt;&lt; AL;</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;  }</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160; </div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a05d1d321a7094ef098f9471db9c43ba4">getCurFunctionOrMethodDecl</a>()) {</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_init_priority_object_attr);</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;  }</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T = cast&lt;VarDecl&gt;(D)-&gt;getType();</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#aa39dff434d30711957097bb5b9d04343">getAsArrayType</a>(T))</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;    T = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a60d5109a61814ffd030ffc07b4a9913c">getBaseElementType</a>(T);</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;  <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1RecordType.html">RecordType</a>&gt;()) {</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_init_priority_object_attr);</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;  }</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160; </div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;  uint32_t prioritynum;</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, E, prioritynum)) {</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;  }</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160; </div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;  <span class="comment">// Only perform the priority check if the attribute is outside of a system</span></div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;  <span class="comment">// header. Values &lt;= 100 are reserved for the implementation, and libc++</span></div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;  <span class="comment">// benefits from being able to specify values in that range.</span></div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;  <span class="keywordflow">if</span> ((prioritynum &lt; 101 || prioritynum &gt; 65535) &amp;&amp;</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;      !S.<a class="code" href="classclang_1_1Sema.html#a9926ceb22d6934583667ea2b7bb65d58">getSourceManager</a>().<a class="code" href="classclang_1_1SourceManager.html#aa728bad682c5216d9efa45c03404447a">isInSystemHeader</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>())) {</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_range)</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;        &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>() &lt;&lt; AL &lt;&lt; 101 &lt;&lt; 65535;</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;  }</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) InitPriorityAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, prioritynum));</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;}</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160; </div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;ErrorAttr *<a class="code" href="classclang_1_1Sema.html#a92982e7f219d7eebdbf4323a98c3f801">Sema::mergeErrorAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;                                StringRef NewUserDiagnostic) {</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *EA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ErrorAttr&gt;()) {</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <a class="code" href="lib_2Tooling_2CMakeLists_8txt.html#af86de1f06488914e30d948a42f397df5">std::string</a> NewAttr = CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a23e6d35fc1ec39e9118c981ae4dfceb4">getNormalizedFullName</a>();</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    assert((NewAttr == <span class="stringliteral">&quot;error&quot;</span> || NewAttr == <span class="stringliteral">&quot;warning&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;           <span class="stringliteral">&quot;unexpected normalized full name&quot;</span>);</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;    <span class="keywordtype">bool</span> Match = (EA-&gt;isError() &amp;&amp; NewAttr == <span class="stringliteral">&quot;error&quot;</span>) ||</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;                 (EA-&gt;isWarning() &amp;&amp; NewAttr == <span class="stringliteral">&quot;warning&quot;</span>);</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    <span class="keywordflow">if</span> (!Match) {</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(EA-&gt;getLocation(), diag::err_attributes_are_not_compatible)</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;          &lt;&lt; CI &lt;&lt; EA;</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;    }</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;    <span class="keywordflow">if</span> (EA-&gt;getUserDiagnostic() != NewUserDiagnostic) {</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; EA;</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(EA-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    }</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;ErrorAttr&gt;();</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;  }</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;  return ::new (Context) ErrorAttr(Context, CI, NewUserDiagnostic);</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;}</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160; </div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;FormatAttr *<a class="code" href="classclang_1_1Sema.html#a92dc2e00b88296cddf5d4a9fe17be6d6">Sema::mergeFormatAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;                                  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Format, <span class="keywordtype">int</span> FormatIdx,</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;                                  <span class="keywordtype">int</span> FirstArg) {</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;  <span class="comment">// Check whether we already have an equivalent format attribute.</span></div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *F : D-&gt;<a class="code" href="classclang_1_1Decl.html#a9c0ac8ddf9155de0b95eeeb18034e50f">specific_attrs</a>&lt;FormatAttr&gt;()) {</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    <span class="keywordflow">if</span> (F-&gt;getType() == Format &amp;&amp;</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;        F-&gt;getFormatIdx() == FormatIdx &amp;&amp;</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;        F-&gt;getFirstArg() == FirstArg) {</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;      <span class="comment">// If we don&#39;t have a valid location for this attribute, adopt the</span></div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;      <span class="comment">// location.</span></div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;      <span class="keywordflow">if</span> (F-&gt;getLocation().isInvalid())</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;        F-&gt;setRange(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>());</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    }</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;  }</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160; </div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;  return ::new (Context) FormatAttr(Context, CI, Format, FormatIdx, FirstArg);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;}</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;<span class="comment">/// Handle __attribute__((format(type,idx,firstarg))) attributes based on</span></div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;<span class="comment">/// http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html</span></div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleFormatAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;  }</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160; </div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;  <span class="comment">// In C++ the implicit &#39;this&#39; function parameter also counts, and they are</span></div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;  <span class="comment">// counted from one.</span></div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;  <span class="keywordtype">bool</span> HasImplicitThisParam = <a class="code" href="SemaDeclAttr_8cpp.html#ad35282e02924165aae3b360b22ab028e">isInstanceMethod</a>(D);</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;  <span class="keywordtype">unsigned</span> NumArgs = <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) + HasImplicitThisParam;</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160; </div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;  StringRef Format = II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160; </div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Attributes_8cpp.html#a2443733863a1efcf2245fa252ffb4c62">normalizeName</a>(Format)) {</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;    <span class="comment">// If we&#39;ve modified the string name, we need a new identifier for it.</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;    II = &amp;S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">Idents</a>.<a class="code" href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">get</a>(Format);</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;  }</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160; </div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;  <span class="comment">// Check for supported formats.</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;  FormatAttrKind <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> = getFormatAttrKind(Format);</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160; </div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> == IgnoredFormat)</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160; </div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> == InvalidFormat) {</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported)</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;        &lt;&lt; AL &lt;&lt; II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;  }</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160; </div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;  <span class="comment">// checks for the 2nd argument</span></div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *IdxExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1);</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;  uint32_t Idx;</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, IdxExpr, Idx, 2))</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160; </div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; 1 || Idx &gt; NumArgs) {</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;        &lt;&lt; AL &lt;&lt; 2 &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;  }</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160; </div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;  <span class="comment">// FIXME: Do we need to bounds check?</span></div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;  <span class="keywordtype">unsigned</span> ArgIdx = Idx - 1;</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160; </div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  <span class="keywordflow">if</span> (HasImplicitThisParam) {</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    <span class="keywordflow">if</span> (ArgIdx == 0) {</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;             diag::err_format_attribute_implicit_this_format_string)</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;        &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;    }</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    ArgIdx--;</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;  }</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160; </div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;  <span class="comment">// make sure the format string is really a string</span></div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, ArgIdx);</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160; </div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> == CFStringFormat) {</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a00319681c00349140baab62dbe185875">isCFStringType</a>(Ty, S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)) {</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_format_attribute_not)</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;a CFString&quot;</span> &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>()</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;        &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, ArgIdx);</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    }</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> == NSStringFormat) {</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="comment">// FIXME: do we need to check if the type is NSString*?  What are the</span></div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;    <span class="comment">// semantics?</span></div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a10579cffb2afe5a445a4e0a7e0cd64b3">isNSStringType</a>(Ty, S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <span class="comment">/*AllowNSAttributedString=*/</span><span class="keyword">true</span>)) {</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_format_attribute_not)</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;an NSString&quot;</span> &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>()</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;        &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, ArgIdx);</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;    }</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Ty-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>() ||</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;             !Ty-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;()-&gt;<a class="code" href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a2c9850e71c1c771e229b962699ddaa19">isCharType</a>()) {</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_format_attribute_not)</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;a string type&quot;</span> &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>()</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;      &lt;&lt; <a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, ArgIdx);</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;  }</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160; </div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;  <span class="comment">// check the 3rd argument</span></div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *FirstArgExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(2);</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;  uint32_t FirstArg;</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, FirstArgExpr, FirstArg, 3))</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160; </div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;  <span class="comment">// check if the function is variadic if the 3rd argument non-zero</span></div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;  <span class="keywordflow">if</span> (FirstArg != 0) {</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#a12afa036cb4e017652edff238e76bfeb">isFunctionOrMethodVariadic</a>(D)) {</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;      ++NumArgs; <span class="comment">// +1 for ...</span></div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_format_attribute_requires_variadic);</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;    }</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;  }</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160; </div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;  <span class="comment">// strftime requires FirstArg to be 0 because it doesn&#39;t read from any</span></div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;  <span class="comment">// variable the input is just the current time + the format string.</span></div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> == StrftimeFormat) {</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;    <span class="keywordflow">if</span> (FirstArg != 0) {</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_format_strftime_third_parameter)</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;        &lt;&lt; FirstArgExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;    }</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;  <span class="comment">// if 0 it disables parameter checking (to use with e.g. va_list)</span></div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FirstArg != 0 &amp;&amp; FirstArg != NumArgs) {</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;        &lt;&lt; AL &lt;&lt; 3 &lt;&lt; FirstArgExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;  }</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160; </div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;  FormatAttr *NewAttr = S.<a class="code" href="classclang_1_1Sema.html#a92dc2e00b88296cddf5d4a9fe17be6d6">mergeFormatAttr</a>(D, AL, II, Idx, FirstArg);</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;  <span class="keywordflow">if</span> (NewAttr)</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;}</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;<span class="comment">/// Handle __attribute__((callback(CalleeIdx, PayloadIdx0, ...))) attributes.</span></div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleCallbackAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;  <span class="comment">// The index that identifies the callback callee is mandatory.</span></div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0) {</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_attribute_no_callee)</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;        &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;  }</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160; </div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;  <span class="keywordtype">bool</span> HasImplicitThisParam = <a class="code" href="SemaDeclAttr_8cpp.html#ad35282e02924165aae3b360b22ab028e">isInstanceMethod</a>(D);</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;  int32_t NumArgs = <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D);</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160; </div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;  <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD = D-&gt;<a class="code" href="classclang_1_1Decl.html#a70883d55e5f59f51d40eb524e8322fe2">getAsFunction</a>();</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;  assert(FD &amp;&amp; <span class="stringliteral">&quot;Expected a function declaration!&quot;</span>);</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160; </div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;  llvm::StringMap&lt;int&gt; NameIdxMapping;</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;  NameIdxMapping[<span class="stringliteral">&quot;__&quot;</span>] = -1;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160; </div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;  NameIdxMapping[<span class="stringliteral">&quot;this&quot;</span>] = 0;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160; </div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;  <span class="keywordtype">int</span> Idx = 1;</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *PVD : FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ab95c29a19de7d1c1e967d59cdbac2dcc">parameters</a>())</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    NameIdxMapping[PVD-&gt;getName()] = Idx++;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160; </div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;  <span class="keyword">auto</span> UnknownName = NameIdxMapping.end();</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160; </div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> EncodingIndices;</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I &lt; E; ++I) {</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> SR;</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    int32_t ArgIdx;</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160; </div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(I)) {</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;      <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *IdLoc = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(I);</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;      <span class="keyword">auto</span> It = NameIdxMapping.find(IdLoc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>());</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;      <span class="keywordflow">if</span> (It == UnknownName) {</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_attribute_argument_unknown)</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;            &lt;&lt; IdLoc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a> &lt;&lt; IdLoc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>;</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;      }</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160; </div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;      SR = <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(IdLoc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">Loc</a>);</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;      ArgIdx = It-&gt;second;</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(I)) {</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;      <a class="code" href="classclang_1_1Expr.html">Expr</a> *IdxExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I);</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160; </div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;      <span class="comment">// If the expression is not parseable as an int32_t we have a problem.</span></div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, IdxExpr, (uint32_t &amp;)ArgIdx, I + 1,</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;                               <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;            &lt;&lt; AL &lt;&lt; (I + 1) &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;      }</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160; </div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;      <span class="comment">// Check oob, excluding the special values, 0 and -1.</span></div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;      <span class="keywordflow">if</span> (ArgIdx &lt; -1 || ArgIdx &gt; NumArgs) {</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;            &lt;&lt; AL &lt;&lt; (I + 1) &lt;&lt; IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;      }</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160; </div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;      SR = IdxExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;      llvm_unreachable(<span class="stringliteral">&quot;Unexpected ParsedAttr argument type!&quot;</span>);</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;    }</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160; </div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    <span class="keywordflow">if</span> (ArgIdx == 0 &amp;&amp; !HasImplicitThisParam) {</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_implicit_this_not_available)</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;          &lt;&lt; (I + 1) &lt;&lt; SR;</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;    }</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160; </div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;    <span class="comment">// Adjust for the case we do not have an implicit &quot;this&quot; parameter. In this</span></div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;    <span class="comment">// case we decrease all positive values by 1 to get LLVM argument indices.</span></div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;    <span class="keywordflow">if</span> (!HasImplicitThisParam &amp;&amp; ArgIdx &gt; 0)</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;      ArgIdx -= 1;</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160; </div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    EncodingIndices.push_back(ArgIdx);</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;  }</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160; </div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;  <span class="keywordtype">int</span> CalleeIdx = EncodingIndices.front();</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;  <span class="comment">// Check if the callee index is proper, thus not &quot;this&quot; and not &quot;unknown&quot;.</span></div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;  <span class="comment">// This means the &quot;CalleeIdx&quot; has to be non-negative if &quot;HasImplicitThisParam&quot;</span></div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;  <span class="comment">// is false and positive if &quot;HasImplicitThisParam&quot; is true.</span></div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;  <span class="keywordflow">if</span> (CalleeIdx &lt; (<span class="keywordtype">int</span>)HasImplicitThisParam) {</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_attribute_invalid_callee)</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;        &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;  }</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160; </div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;  <span class="comment">// Get the callee type, note the index adjustment as the AST doesn&#39;t contain</span></div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;  <span class="comment">// the this type (which the callee cannot reference anyway!).</span></div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> *CalleeType =</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;      <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, CalleeIdx - HasImplicitThisParam)</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;          .<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>();</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;  <span class="keywordflow">if</span> (!CalleeType || !CalleeType-&gt;<a class="code" href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">isFunctionPointerType</a>()) {</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_callee_no_function_type)</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;        &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;  }</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160; </div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> *CalleeFnType =</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;      CalleeType-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#ade3143863492c2334132ed6b6eb47364">getUnqualifiedDesugaredType</a>();</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160; </div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  <span class="comment">// TODO: Check the type of the callee arguments.</span></div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160; </div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *CalleeFnProtoType = dyn_cast&lt;FunctionProtoType&gt;(CalleeFnType);</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;  <span class="keywordflow">if</span> (!CalleeFnProtoType) {</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_callee_no_function_type)</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;        &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;  }</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160; </div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;  <span class="keywordflow">if</span> (CalleeFnProtoType-&gt;getNumParams() &gt; EncodingIndices.size() - 1) {</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_number_arguments)</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        &lt;&lt; AL &lt;&lt; (<a class="code" href="classunsigned.html">unsigned</a>)(EncodingIndices.size() - 1);</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;  }</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160; </div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;  <span class="keywordflow">if</span> (CalleeFnProtoType-&gt;getNumParams() &lt; EncodingIndices.size() - 1) {</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_number_arguments)</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;        &lt;&lt; AL &lt;&lt; (<span class="keywordtype">unsigned</span>)(EncodingIndices.size() - 1);</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;  }</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160; </div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  <span class="keywordflow">if</span> (CalleeFnProtoType-&gt;isVariadic()) {</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_callee_is_variadic) &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;  }</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160; </div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;  <span class="comment">// Do not allow multiple callback attributes.</span></div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;CallbackAttr&gt;()) {</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_callback_attribute_multiple) &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;  }</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160; </div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CallbackAttr(</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, EncodingIndices.data(), EncodingIndices.size()));</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;}</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160; </div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isFunctionLike(<span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> &amp;T) {</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;  <span class="comment">// Check for explicit function types.</span></div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;  <span class="comment">// &#39;called_once&#39; is only supported in Objective-C and it has</span></div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;  <span class="comment">// function pointers and block pointers.</span></div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;  <span class="keywordflow">return</span> T.<a class="code" href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">isFunctionPointerType</a>() || T.<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>();</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;}</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;<span class="comment">/// Handle &#39;called_once&#39; attribute.</span></div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleCalledOnceAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;  <span class="comment">// &#39;called_once&#39; only applies to parameters representing functions.</span></div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T = cast&lt;ParmVarDecl&gt;(D)-&gt;getType();</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160; </div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;  <span class="keywordflow">if</span> (!isFunctionLike(*T)) {</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_called_once_attribute_wrong_type);</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;  }</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160; </div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CalledOnceAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;}</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160; </div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleTransparentUnionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;  <span class="comment">// Try to find the underlying union declaration.</span></div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;  <a class="code" href="classclang_1_1RecordDecl.html">RecordDecl</a> *RD = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D);</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  <span class="keywordflow">if</span> (TD &amp;&amp; TD-&gt;getUnderlyingType()-&gt;isUnionType())</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    RD = TD-&gt;getUnderlyingType()-&gt;getAsUnionType()-&gt;getDecl();</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    RD = dyn_cast&lt;RecordDecl&gt;(D);</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160; </div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;  <span class="keywordflow">if</span> (!RD || !RD-&gt;<a class="code" href="classclang_1_1TagDecl.html#a938e536b03a85612984a4a2155b8fc6c">isUnion</a>()) {</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type) &lt;&lt; AL</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;                                                              &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a74cb68dc2791d12d252561ec2a941405">ExpectedUnion</a>;</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;  }</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160; </div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;  <span class="keywordflow">if</span> (!RD-&gt;<a class="code" href="classclang_1_1TagDecl.html#a42d39fe75b915fdc8c36e840c3a86f50">isCompleteDefinition</a>()) {</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    <span class="keywordflow">if</span> (!RD-&gt;<a class="code" href="classclang_1_1TagDecl.html#a2387df6a82c20b2d0a54acacb25ef501">isBeingDefined</a>())</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;             diag::warn_transparent_union_attribute_not_definition);</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;  }</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160; </div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;  <a class="code" href="classclang_1_1DeclContext_1_1specific__decl__iterator.html">RecordDecl::field_iterator</a> <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">Field</a> = RD-&gt;<a class="code" href="classclang_1_1RecordDecl.html#afc36412f0657ec2e9810e6f9d321b29a">field_begin</a>(),</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;                          FieldEnd = RD-&gt;<a class="code" href="classclang_1_1RecordDecl.html#a5c6e33929fd31d2c56ae28db7ff01237">field_end</a>();</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;  <span class="keywordflow">if</span> (Field == FieldEnd) {</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_transparent_union_attribute_zero_fields);</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;  }</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160; </div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;  <a class="code" href="classclang_1_1FieldDecl.html">FieldDecl</a> *FirstField = *<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">Field</a>;</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> FirstType = FirstField-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;  <span class="keywordflow">if</span> (FirstType-&gt;<a class="code" href="classclang_1_1Type.html#ab8b286127868e62b176caa0987422d36">hasFloatingRepresentation</a>() || FirstType-&gt;<a class="code" href="classclang_1_1Type.html#ac05278434b747d760b219c67625f41e1">isVectorType</a>()) {</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FirstField-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;           diag::warn_transparent_union_attribute_floating)</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;      &lt;&lt; FirstType-&gt;<a class="code" href="classclang_1_1Type.html#ac05278434b747d760b219c67625f41e1">isVectorType</a>() &lt;&lt; FirstType;</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;  }</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160; </div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;  <span class="keywordflow">if</span> (FirstType-&gt;<a class="code" href="classclang_1_1Type.html#ab349777c8b730854e626849c6acff90d">isIncompleteType</a>())</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;  uint64_t FirstSize = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(FirstType);</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;  uint64_t FirstAlign = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#afb825a845dced571b094627bfcae7870">getTypeAlign</a>(FirstType);</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;  <span class="keywordflow">for</span> (; <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">Field</a> != FieldEnd; ++<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">Field</a>) {</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> FieldType = <a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">Field</a>-&gt;getType();</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    <span class="keywordflow">if</span> (FieldType-&gt;<a class="code" href="classclang_1_1Type.html#ab349777c8b730854e626849c6acff90d">isIncompleteType</a>())</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    <span class="comment">// FIXME: this isn&#39;t fully correct; we also need to test whether the</span></div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;    <span class="comment">// members of the union would all have the same calling convention as the</span></div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;    <span class="comment">// first member of the union. Checking just the size and alignment isn&#39;t</span></div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;    <span class="comment">// sufficient (consider structs passed on the stack instead of in registers</span></div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <span class="comment">// as an example).</span></div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;    <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(FieldType) != FirstSize ||</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#afb825a845dced571b094627bfcae7870">getTypeAlign</a>(FieldType) &gt; FirstAlign) {</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;      <span class="comment">// Warn if we drop the attribute.</span></div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      <span class="keywordtype">bool</span> isSize = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(FieldType) != FirstSize;</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;      <span class="keywordtype">unsigned</span> FieldBits = isSize ? S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(FieldType)</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;                                  : S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#afb825a845dced571b094627bfcae7870">getTypeAlign</a>(FieldType);</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">Field</a>-&gt;getLocation(),</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;             diag::warn_transparent_union_attribute_field_size_align)</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;          &lt;&lt; isSize &lt;&lt; *<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">Field</a> &lt;&lt; FieldBits;</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;      <span class="keywordtype">unsigned</span> FirstBits = isSize ? FirstSize : FirstAlign;</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FirstField-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;             diag::note_transparent_union_first_field_size_align)</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;          &lt;&lt; isSize &lt;&lt; FirstBits;</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    }</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;  }</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160; </div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;  RD-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) TransparentUnionAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;}</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160; </div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#ae38d864f8f7300e049e2ff2ca2bedc07">Sema::AddAnnotationAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;                             StringRef Str, <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;Expr *&gt;</a> Args) {</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classclang_1_1Attr.html">Attr</a> = AnnotateAttr::Create(Context, Str, Args.data(), Args.size(), CI);</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;PartialDiagnosticAt, 8&gt;</a> Notes;</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; <a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_size(); Idx++) {</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *&amp;E = <a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_begin()[Idx];</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;    assert(E &amp;&amp; <span class="stringliteral">&quot;error are handled before&quot;</span>);</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() || E-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>())</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160; </div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a2c11a3a0ab42e6a9aca748967de1ede8">isArrayType</a>())</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;      E = ImpCastExprToType(E, Context.<a class="code" href="classclang_1_1ASTContext.html#a41483c42a2f92e8cb7737cf20661a92c">getPointerType</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()),</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;                            clang::CK_ArrayToPointerDecay)</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;              .get();</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#ab63e4b997dc203acefb4932261a17583">isFunctionType</a>())</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;      E = <a class="code" href="classclang_1_1ImplicitCastExpr.html#a080c7b455a9ba17fd2e8c8956eb3853a">ImplicitCastExpr::Create</a>(Context,</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;                                   Context.<a class="code" href="classclang_1_1ASTContext.html#a41483c42a2f92e8cb7737cf20661a92c">getPointerType</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()),</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;                                   clang::CK_FunctionToPointerDecay, E, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;                                   <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340a4c79e862e6b6be5be4dec932c3114572">VK_PRValue</a>, <a class="code" href="classclang_1_1FPOptionsOverride.html">FPOptionsOverride</a>());</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a7ca271e78c095346d73202fcee93964c">isLValue</a>())</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;      E = <a class="code" href="classclang_1_1ImplicitCastExpr.html#a080c7b455a9ba17fd2e8c8956eb3853a">ImplicitCastExpr::Create</a>(Context, E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>().<a class="code" href="classclang_1_1QualType.html#a8be1f3b9e144fba37e7aa9ae2a583de6">getNonReferenceType</a>(),</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;                                   clang::CK_LValueToRValue, E, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;                                   <a class="code" href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340a4c79e862e6b6be5be4dec932c3114572">VK_PRValue</a>, <a class="code" href="classclang_1_1FPOptionsOverride.html">FPOptionsOverride</a>());</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160; </div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    <a class="code" href="structclang_1_1Expr_1_1EvalResult.html">Expr::EvalResult</a> Eval;</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    Notes.clear();</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    Eval.<a class="code" href="structclang_1_1Expr_1_1EvalStatus.html#a7488cd40b42a4151922651a53a4fe936">Diag</a> = &amp;Notes;</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160; </div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    <span class="keywordtype">bool</span> Result =</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;        E-&gt;<a class="code" href="classclang_1_1Expr.html#a94894bb73fbf5675123327560d3c8568">EvaluateAsConstantExpr</a>(Eval, Context);</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;<span class="comment">    /// Result means the expression can be folded to a constant.</span></div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;<span class="comment">    /// Note.empty() means the expression is a valid constant expression in the</span></div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;<span class="comment">    /// current language mode.</span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;<span class="comment"></span>    <span class="keywordflow">if</span> (!Result || !Notes.empty()) {</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;          &lt;&lt; CI &lt;&lt; (Idx + 1) &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca9dc817d1f3f2239c873381c657af2d64">AANT_ArgumentConstantExpr</a>;</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Note : Notes)</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(<a class="code" href="namespaceclang_1_1serialized__diags.html#aff3d77d6832f7e576d1f410a478997aaa5c7281567c5fe43cde001bd23a8391d4">Note</a>.first, <a class="code" href="namespaceclang_1_1serialized__diags.html#aff3d77d6832f7e576d1f410a478997aaa5c7281567c5fe43cde001bd23a8391d4">Note</a>.second);</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;    }</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;    assert(Eval.<a class="code" href="structclang_1_1Expr_1_1EvalResult.html#a94083629a969e7faa7812eb84a7ecd24">Val</a>.<a class="code" href="classclang_1_1APValue.html#a729b2c00806b977fd000fcec15f28c27">hasValue</a>());</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;    E = <a class="code" href="classclang_1_1ConstantExpr.html#a9c075760ac34f144d8b0577d207ffa6d">ConstantExpr::Create</a>(Context, E, Eval.<a class="code" href="structclang_1_1Expr_1_1EvalResult.html#a94083629a969e7faa7812eb84a7ecd24">Val</a>);</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;  }</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>);</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;}</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160; </div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAnnotateAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;  <span class="comment">// Make sure that there is a string literal as the annotation&#39;s first</span></div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;  <span class="comment">// argument.</span></div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160; </div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Expr *, 4&gt;</a> Args;</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;  Args.reserve(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() - 1);</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 1; Idx &lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); Idx++) {</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;    assert(!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(Idx));</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;    Args.push_back(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(Idx));</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;  }</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160; </div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#ae38d864f8f7300e049e2ff2ca2bedc07">AddAnnotationAttr</a>(D, AL, Str, Args);</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;}</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160; </div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAlignValueAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#aeb871140de6874d241e57b6d009aa8cb">AddAlignValueAttr</a>(D, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;}</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160; </div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#aeb871140de6874d241e57b6d009aa8cb">Sema::AddAlignValueAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;  AlignValueAttr TmpAttr(Context, CI, E);</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> AttrLoc = CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>();</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160; </div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> T;</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D))</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;    T = TD-&gt;getUnderlyingType();</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;ValueDecl&gt;(D))</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;    T = VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;    llvm_unreachable(<span class="stringliteral">&quot;Unknown decl type for align_value&quot;</span>);</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160; </div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;  <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp; !T-&gt;<a class="code" href="classclang_1_1Type.html#acec6a1ac593ef9b1805529f25dd32b12">isAnyPointerType</a>() &amp;&amp;</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;      !T-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>() &amp;&amp; !T-&gt;<a class="code" href="classclang_1_1Type.html#a873e93be80ba4f6439e8fafdacabd056">isMemberPointerType</a>()) {</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::warn_attribute_pointer_or_reference_only)</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;      &lt;&lt; &amp;TmpAttr &lt;&lt; T &lt;&lt; D-&gt;<a class="code" href="classclang_1_1Decl.html#af32959df6a722f5089bbdd3dd88ea9bd">getSourceRange</a>();</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;  }</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160; </div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> Alignment;</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ICE = VerifyIntegerConstantExpression(</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;        E, &amp;Alignment, diag::err_align_value_attribute_argument_not_int);</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;    <span class="keywordflow">if</span> (ICE.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160; </div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;    <span class="keywordflow">if</span> (!Alignment.isPowerOf2()) {</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_alignment_not_power_of_two)</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;        &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;    }</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160; </div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) AlignValueAttr(Context, CI, ICE.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>()));</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;  }</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160; </div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;  <span class="comment">// Save dependent expressions in the AST to be instantiated.</span></div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) AlignValueAttr(Context, CI, E));</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;}</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160; </div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAlignedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;  <span class="comment">// check the attribute arguments.</span></div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1) {</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_number_arguments) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;  }</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160; </div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0) {</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AlignedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <span class="keyword">true</span>, <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;  }</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160; </div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a007e14267fb78c7410a53836a3ec21a0">isPackExpansion</a>() &amp;&amp; !E-&gt;<a class="code" href="classclang_1_1Expr.html#a45c0f5a000bc434250cb5338a536e187">containsUnexpandedParameterPack</a>()) {</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#ae896b9d4370dde869549742d97f11cfa">getEllipsisLoc</a>(),</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;           diag::err_pack_expansion_without_parameter_packs);</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;  }</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160; </div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a007e14267fb78c7410a53836a3ec21a0">isPackExpansion</a>() &amp;&amp; S.<a class="code" href="classclang_1_1Sema.html#a69f55a1c542e724b49a035ceeca1b6ee">DiagnoseUnexpandedParameterPack</a>(E))</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160; </div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#ad7fab0a3f999e36cc86eb13480b40866">AddAlignedAttr</a>(D, AL, E, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a007e14267fb78c7410a53836a3ec21a0">isPackExpansion</a>());</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;}</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160; </div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#ad7fab0a3f999e36cc86eb13480b40866">Sema::AddAlignedAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;                          <span class="keywordtype">bool</span> IsPackExpansion) {</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;  AlignedAttr TmpAttr(Context, CI, <span class="keyword">true</span>, E);</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> AttrLoc = CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>();</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160; </div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;  <span class="comment">// C++11 alignas(...) and C11 _Alignas(...) have additional requirements.</span></div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;  <span class="keywordflow">if</span> (TmpAttr.isAlignas()) {</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;    <span class="comment">// C++11 [dcl.align]p1:</span></div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;    <span class="comment">//   An alignment-specifier may be applied to a variable or to a class</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;    <span class="comment">//   data member, but it shall not be applied to a bit-field, a function</span></div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;    <span class="comment">//   parameter, the formal parameter of a catch clause, or a variable</span></div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;    <span class="comment">//   declared with the register storage class specifier. An</span></div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;    <span class="comment">//   alignment-specifier may also be applied to the declaration of a class</span></div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;    <span class="comment">//   or enumeration type.</span></div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;    <span class="comment">// CWG 2354:</span></div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    <span class="comment">//   CWG agreed to remove permission for alignas to be applied to</span></div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    <span class="comment">//   enumerations.</span></div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;    <span class="comment">// C11 6.7.5/2:</span></div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    <span class="comment">//   An alignment attribute shall not be specified in a declaration of</span></div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    <span class="comment">//   a typedef, or a bit-field, or a function, or a parameter, or an</span></div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;    <span class="comment">//   object declared with the register storage-class specifier.</span></div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    <span class="keywordtype">int</span> DiagKind = -1;</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ParmVarDecl&gt;(D)) {</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;      DiagKind = 0;</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;      <span class="keywordflow">if</span> (VD-&gt;getStorageClass() == <a class="code" href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370a76a85026905d09aaa68c9cba6953c82b">SC_Register</a>)</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;        DiagKind = 1;</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;      <span class="keywordflow">if</span> (VD-&gt;isExceptionVariable())</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;        DiagKind = 2;</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FieldDecl&gt;(D)) {</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;      <span class="keywordflow">if</span> (FD-&gt;isBitField())</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;        DiagKind = 3;</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ED = dyn_cast&lt;EnumDecl&gt;(D)) {</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;      <span class="keywordflow">if</span> (ED-&gt;getLangOpts().CPlusPlus)</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;        DiagKind = 4;</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isa&lt;TagDecl&gt;(D)) {</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_attribute_wrong_decl_type) &lt;&lt; &amp;TmpAttr</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;        &lt;&lt; (TmpAttr.isC11() ? <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a676f5101b2301d1a1cb13d2e3fd55f52">ExpectedVariableOrField</a></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;                            : <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a4e3de3ff56b0be3aa6c30799e3085474">ExpectedVariableFieldOrTag</a>);</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;    }</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;    <span class="keywordflow">if</span> (DiagKind != -1) {</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_alignas_attribute_wrong_decl_type)</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;        &lt;&lt; &amp;TmpAttr &lt;&lt; DiagKind;</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    }</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;  }</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160; </div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;    <span class="comment">// We can&#39;t support a dependent alignment on a non-dependent type,</span></div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;    <span class="comment">// because we have no way to model that a type is &quot;alignment-dependent&quot;</span></div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;    <span class="comment">// but not dependent in any other way.</span></div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TND = dyn_cast&lt;TypedefNameDecl&gt;(D)) {</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;      <span class="keywordflow">if</span> (!TND-&gt;getUnderlyingType()-&gt;isDependentType()) {</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_alignment_dependent_typedef_name)</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;            &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;      }</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;    }</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160; </div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;    <span class="comment">// Save dependent expressions in the AST to be instantiated.</span></div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;    AlignedAttr *AA = ::new (Context) AlignedAttr(Context, CI, <span class="keyword">true</span>, E);</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;    AA-&gt;setPackExpansion(IsPackExpansion);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(AA);</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;  }</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160; </div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;  <span class="comment">// FIXME: Cache the number on the AL object?</span></div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;  <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> Alignment;</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ICE = VerifyIntegerConstantExpression(</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;      E, &amp;Alignment, diag::err_aligned_attribute_argument_not_int);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;  <span class="keywordflow">if</span> (ICE.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160; </div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;  uint64_t AlignVal = Alignment.getZExtValue();</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;  <span class="comment">// 16 byte ByVal alignment not due to a vector member is not honoured by XL</span></div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;  <span class="comment">// on AIX. Emit a warning here that users are generating binary incompatible</span></div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;  <span class="comment">// code to be safe.</span></div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;  <span class="keywordflow">if</span> (AlignVal &gt;= 16 &amp;&amp; isa&lt;FieldDecl&gt;(D) &amp;&amp;</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;      Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSAIX())</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::warn_not_xl_compatible) &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160; </div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;  <span class="comment">// C++11 [dcl.align]p2:</span></div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;  <span class="comment">//   -- if the constant expression evaluates to zero, the alignment</span></div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;  <span class="comment">//      specifier shall have no effect</span></div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;  <span class="comment">// C11 6.7.5p6:</span></div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;  <span class="comment">//   An alignment specification of zero has no effect.</span></div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;  <span class="keywordflow">if</span> (!(TmpAttr.isAlignas() &amp;&amp; !Alignment)) {</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;    <span class="keywordflow">if</span> (!llvm::isPowerOf2_64(AlignVal)) {</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_alignment_not_power_of_two)</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;        &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    }</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  }</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160; </div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;  uint64_t MaximumAlignment = <a class="code" href="classclang_1_1Sema.html#a6fd5be08919ffcceade0e51f7789f2d5">Sema::MaximumAlignment</a>;</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  <span class="keywordflow">if</span> (Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSBinFormatCOFF())</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;    MaximumAlignment = <a class="code" href="____clang__cuda__math_8h.html#a56979bdbfd9314c50e30a5c645f2bc4d">std::min</a>(MaximumAlignment, uint64_t(8192));</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;  <span class="keywordflow">if</span> (AlignVal &gt; MaximumAlignment) {</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_attribute_aligned_too_great)</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;        &lt;&lt; MaximumAlignment &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  }</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160; </div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D);</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;  <span class="keywordflow">if</span> (VD &amp;&amp; Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#a91c66f861a69f88019a52dcf7043b3e7">isTLSSupported</a>()) {</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;    <span class="keywordtype">unsigned</span> MaxTLSAlign =</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;        Context.<a class="code" href="classclang_1_1ASTContext.html#ad236937ee0824ce057d168e31290370a">toCharUnitsFromBits</a>(Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#a9c1051527ce6e3f95274ad9f2c7a33af">getMaxTLSAlign</a>())</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;            .<a class="code" href="classclang_1_1CharUnits.html#a968b1a66a449ab256c4dd176bd663c07">getQuantity</a>();</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;    <span class="keywordflow">if</span> (MaxTLSAlign &amp;&amp; AlignVal &gt; MaxTLSAlign &amp;&amp;</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;        VD-&gt;getTLSKind() != <a class="code" href="classclang_1_1VarDecl.html#abd5cfc880214a4e8b29d1875602ae3c6a9d620e432e4fb1d0137c9aaa4de9ee3d">VarDecl::TLS_None</a>) {</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(VD-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_tls_var_aligned_over_maximum)</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;          &lt;&lt; (<a class="code" href="classunsigned.html">unsigned</a>)AlignVal &lt;&lt; VD &lt;&lt; MaxTLSAlign;</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;    }</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;  }</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160; </div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;  <span class="comment">// On AIX, an aligned attribute can not decrease the alignment when applied</span></div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;  <span class="comment">// to a variable declaration with vector type.</span></div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;  <span class="keywordflow">if</span> (VD &amp;&amp; Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSAIX()) {</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> *Ty = VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>().<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>();</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;    <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classclang_1_1Type.html#ac05278434b747d760b219c67625f41e1">isVectorType</a>() &amp;&amp; AlignVal &lt; 16) {</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(VD-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_aligned_attr_underaligned)</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;          &lt;&lt; VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>() &lt;&lt; 16;</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;    }</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;  }</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160; </div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;  AlignedAttr *AA = ::new (Context) AlignedAttr(Context, CI, <span class="keyword">true</span>, ICE.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>());</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;  AA-&gt;setPackExpansion(IsPackExpansion);</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(AA);</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;}</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160; </div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#ad7fab0a3f999e36cc86eb13480b40866">Sema::AddAlignedAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;                          <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *TS, <span class="keywordtype">bool</span> IsPackExpansion) {</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;  <span class="comment">// FIXME: Cache the number on the AL object if non-dependent?</span></div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;  <span class="comment">// FIXME: Perform checking of type validity</span></div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;  AlignedAttr *AA = ::new (Context) AlignedAttr(Context, CI, <span class="keyword">false</span>, TS);</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;  AA-&gt;setPackExpansion(IsPackExpansion);</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(AA);</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;}</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160; </div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a64f343d29ea6046970ee5c7526cfc52c">Sema::CheckAlignasUnderalignment</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;  assert(D-&gt;<a class="code" href="classclang_1_1Decl.html#a1e0b6223e2547ac65ddbf4802117998b">hasAttrs</a>() &amp;&amp; <span class="stringliteral">&quot;no attributes on decl&quot;</span>);</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160; </div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> UnderlyingTy, DiagTy;</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;ValueDecl&gt;(D)) {</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    UnderlyingTy = DiagTy = VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;    UnderlyingTy = DiagTy = Context.<a class="code" href="classclang_1_1ASTContext.html#a1f66339e2295c5b8a43321f31797aaa8">getTagDeclType</a>(cast&lt;TagDecl&gt;(D));</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ED = dyn_cast&lt;EnumDecl&gt;(D))</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;      UnderlyingTy = ED-&gt;getIntegerType();</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;  }</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;  <span class="keywordflow">if</span> (DiagTy-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() || DiagTy-&gt;<a class="code" href="classclang_1_1Type.html#ab349777c8b730854e626849c6acff90d">isIncompleteType</a>())</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160; </div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;  <span class="comment">// C++11 [dcl.align]p5, C11 6.7.5/4:</span></div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;  <span class="comment">//   The combined effect of all alignment attributes in a declaration shall</span></div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;  <span class="comment">//   not specify an alignment that is less strict than the alignment that</span></div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;  <span class="comment">//   would otherwise be required for the entity being declared.</span></div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;  AlignedAttr *AlignasAttr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;  AlignedAttr *LastAlignedAttr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;  <span class="keywordtype">unsigned</span> Align = 0;</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *I : D-&gt;<a class="code" href="classclang_1_1Decl.html#a9c0ac8ddf9155de0b95eeeb18034e50f">specific_attrs</a>&lt;AlignedAttr&gt;()) {</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;    <span class="keywordflow">if</span> (I-&gt;isAlignmentDependent())</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;    <span class="keywordflow">if</span> (I-&gt;isAlignas())</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;      AlignasAttr = I;</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;    Align = <a class="code" href="____clang__cuda__math_8h.html#ae6bb573e13e3bd5738c8faa552b6a129">std::max</a>(Align, I-&gt;getAlignment(Context));</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    LastAlignedAttr = I;</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;  }</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160; </div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;  <span class="keywordflow">if</span> (Align &amp;&amp; DiagTy-&gt;<a class="code" href="classclang_1_1Type.html#a00c7c18084e8774a6a101c8fd0dbb65f">isSizelessType</a>()) {</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(LastAlignedAttr-&gt;getLocation(), diag::err_attribute_sizeless_type)</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;        &lt;&lt; LastAlignedAttr &lt;&lt; DiagTy;</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AlignasAttr &amp;&amp; Align) {</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;    <a class="code" href="classclang_1_1CharUnits.html">CharUnits</a> RequestedAlign = Context.<a class="code" href="classclang_1_1ASTContext.html#ad236937ee0824ce057d168e31290370a">toCharUnitsFromBits</a>(Align);</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;    <a class="code" href="classclang_1_1CharUnits.html">CharUnits</a> NaturalAlign = Context.<a class="code" href="classclang_1_1ASTContext.html#a07111138b85e822af31a341cadb6c31f">getTypeAlignInChars</a>(UnderlyingTy);</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;    <span class="keywordflow">if</span> (NaturalAlign &gt; RequestedAlign)</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AlignasAttr-&gt;getLocation(), diag::err_alignas_underaligned)</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;        &lt;&lt; DiagTy &lt;&lt; (<a class="code" href="classunsigned.html">unsigned</a>)NaturalAlign.<a class="code" href="classclang_1_1CharUnits.html#a968b1a66a449ab256c4dd176bd663c07">getQuantity</a>();</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;  }</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;}</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160; </div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a483f80074dcd745a9fadd1ae138cb333">Sema::checkMSInheritanceAttrOnDefinition</a>(</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    <a class="code" href="classclang_1_1CXXRecordDecl.html">CXXRecordDecl</a> *RD, <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> Range, <span class="keywordtype">bool</span> BestCase,</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <a class="code" href="namespaceclang.html#ad3b44399e5a02cb6427596a4489bb3ae">MSInheritanceModel</a> ExplicitModel) {</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;  assert(RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#ab3f30c6d31454fa41835a0641b603e33">hasDefinition</a>() &amp;&amp; <span class="stringliteral">&quot;RD has no definition!&quot;</span>);</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160; </div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;  <span class="comment">// We may not have seen base specifiers or any virtual methods yet.  We will</span></div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;  <span class="comment">// have to wait until the record is defined to catch any mismatches.</span></div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;  <span class="keywordflow">if</span> (!RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#aff836161e095eaaed60427ddd4f444de">getDefinition</a>()-&gt;<a class="code" href="classclang_1_1TagDecl.html#a42d39fe75b915fdc8c36e840c3a86f50">isCompleteDefinition</a>())</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160; </div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;  <span class="comment">// The unspecified model never matches what a definition could need.</span></div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;  <span class="keywordflow">if</span> (ExplicitModel == <a class="code" href="namespaceclang.html#ad3b44399e5a02cb6427596a4489bb3aea6fcdc090caeade09d0efd6253932b6f5">MSInheritanceModel::Unspecified</a>)</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160; </div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;  <span class="keywordflow">if</span> (BestCase) {</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;    <span class="keywordflow">if</span> (RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#abb7efa999c3f9c9a95e255bf29dd9edd">calculateInheritanceModel</a>() == ExplicitModel)</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;    <span class="keywordflow">if</span> (RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#abb7efa999c3f9c9a95e255bf29dd9edd">calculateInheritanceModel</a>() &lt;= ExplicitModel)</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;  }</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160; </div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;  <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(<a class="code" href="namespaceclang_1_1transformer.html#ad80941aa4fbfbd2f0d99e77a2c779b2ca87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.getBegin(), diag::err_mismatched_ms_inheritance)</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;      &lt;&lt; 0 <span class="comment">/*definition*/</span>;</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;  <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#aff836161e095eaaed60427ddd4f444de">getDefinition</a>()-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::note_defined_here) &lt;&lt; RD;</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;}</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;<span class="comment">/// parseModeAttrArg - Parses attribute mode string and returns parsed type</span></div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;<span class="comment">/// attribute.</span></div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> parseModeAttrArg(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, StringRef Str, <span class="keywordtype">unsigned</span> &amp;DestWidth,</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;                             <span class="keywordtype">bool</span> &amp;IntegerMode, <span class="keywordtype">bool</span> &amp;ComplexMode,</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;                             <a class="code" href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211">FloatModeKind</a> &amp;ExplicitType) {</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;  IntegerMode = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;  ComplexMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;  ExplicitType = <a class="code" href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211a40ff4090052bf9eae6dc325f08d2f638">FloatModeKind::NoFloat</a>;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;  <span class="keywordflow">switch</span> (Str.size()) {</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;  <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;    <span class="keywordflow">switch</span> (Str[0]) {</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;Q&#39;</span>:</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;      DestWidth = 8;</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;      DestWidth = 16;</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;      DestWidth = 32;</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;      DestWidth = 64;</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;      DestWidth = 96;</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>: <span class="comment">// KFmode - IEEE quad precision (__float128)</span></div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;      ExplicitType = <a class="code" href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211ae74f68ddb36c1ed379de92ae3b589d34">FloatModeKind::Float128</a>;</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;      DestWidth = Str[1] == <span class="charliteral">&#39;I&#39;</span> ? 0 : 128;</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;      ExplicitType = <a class="code" href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211a78fdb83282b8f169decee78a0f160c7f">FloatModeKind::LongDouble</a>;</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;      DestWidth = 128;</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;      ExplicitType = <a class="code" href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211ad64db716c4b47cdff60676ef5d1c9202">FloatModeKind::Ibm128</a>;</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;      DestWidth = Str[1] == <span class="charliteral">&#39;I&#39;</span> ? 0 : 128;</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;    }</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    <span class="keywordflow">if</span> (Str[1] == <span class="charliteral">&#39;F&#39;</span>) {</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;      IntegerMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Str[1] == <span class="charliteral">&#39;C&#39;</span>) {</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;      IntegerMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;      ComplexMode = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Str[1] != <span class="charliteral">&#39;I&#39;</span>) {</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;      DestWidth = 0;</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;    }</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;    <span class="comment">// FIXME: glibc uses &#39;word&#39; to define register_t; this is narrower than a</span></div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;    <span class="comment">// pointer on PIC16 and other embedded platforms.</span></div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;    <span class="keywordflow">if</span> (Str == <span class="stringliteral">&quot;word&quot;</span>)</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;      DestWidth = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#a9cb044961dd694f5ea2dc908a11fc99e">getRegisterWidth</a>();</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Str == <span class="stringliteral">&quot;byte&quot;</span>)</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;      DestWidth = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ad4851f54acecb924f449041d7bdee89c">getCharWidth</a>();</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;  <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;    <span class="keywordflow">if</span> (Str == <span class="stringliteral">&quot;pointer&quot;</span>)</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;      DestWidth = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#aac1cfac8a30d87399e705804c50db802">getPointerWidth</a>(0);</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;  <span class="keywordflow">case</span> 11:</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;    <span class="keywordflow">if</span> (Str == <span class="stringliteral">&quot;unwind_word&quot;</span>)</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;      DestWidth = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ad0dac4a57c44bbdd325b25d3adc267e5">getUnwindWordWidth</a>();</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;  }</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;}</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;<span class="comment">/// handleModeAttr - This attribute modifies the width of a decl with primitive</span></div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;<span class="comment">/// type.</span></div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;<span class="comment">/// Despite what would be logical, the mode attribute is a decl attribute, not a</span></div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;<span class="comment">/// type attribute: &#39;int ** __attribute((mode(HI))) *G;&#39; tries to make &#39;G&#39; be</span></div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;<span class="comment">/// HImode, not an intermediate pointer.</span></div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleModeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;  <span class="comment">// This attribute isn&#39;t documented, but glibc uses it.  It changes</span></div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;  <span class="comment">// the width of an int or unsigned int to the specified size.</span></div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;  }</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160; </div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Name = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160; </div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a17ba07837d61ad9e44ea341dc4a63686">AddModeAttr</a>(D, AL, Name);</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;}</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160; </div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a17ba07837d61ad9e44ea341dc4a63686">Sema::AddModeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;                       <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Name, <span class="keywordtype">bool</span> InInstantiation) {</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;  StringRef Str = Name-&gt;getName();</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;  <a class="code" href="Attributes_8cpp.html#a2443733863a1efcf2245fa252ffb4c62">normalizeName</a>(Str);</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> AttrLoc = CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>();</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160; </div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;  <span class="keywordtype">unsigned</span> DestWidth = 0;</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;  <span class="keywordtype">bool</span> IntegerMode = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;  <span class="keywordtype">bool</span> ComplexMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;  <a class="code" href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211">FloatModeKind</a> ExplicitType = <a class="code" href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211a40ff4090052bf9eae6dc325f08d2f638">FloatModeKind::NoFloat</a>;</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;  <a class="code" href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">llvm::APInt</a> VectorSize(64, 0);</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;  <span class="keywordflow">if</span> (Str.size() &gt;= 4 &amp;&amp; Str[0] == <span class="charliteral">&#39;V&#39;</span>) {</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;    <span class="comment">// Minimal length of vector mode is 4: &#39;V&#39; + NUMBER(&gt;=1) + TYPE(&gt;=2).</span></div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;    <span class="keywordtype">size_t</span> StrSize = Str.size();</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;    <span class="keywordtype">size_t</span> VectorStringLength = 0;</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;    <span class="keywordflow">while</span> ((VectorStringLength + 1) &lt; StrSize &amp;&amp;</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;           isdigit(Str[VectorStringLength + 1]))</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;      ++VectorStringLength;</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;    <span class="keywordflow">if</span> (VectorStringLength &amp;&amp;</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;        !Str.substr(1, VectorStringLength).getAsInteger(10, VectorSize) &amp;&amp;</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;        VectorSize.isPowerOf2()) {</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;      parseModeAttrArg(*<span class="keyword">this</span>, Str.substr(VectorStringLength + 1), DestWidth,</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;                       IntegerMode, ComplexMode, ExplicitType);</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;      <span class="comment">// Avoid duplicate warning from template instantiation.</span></div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;      <span class="keywordflow">if</span> (!InInstantiation)</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::warn_vector_mode_deprecated);</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;      VectorSize = 0;</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;    }</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;  }</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160; </div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;  <span class="keywordflow">if</span> (!VectorSize)</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;    parseModeAttrArg(*<span class="keyword">this</span>, Str, DestWidth, IntegerMode, ComplexMode,</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;                     ExplicitType);</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160; </div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;  <span class="comment">// FIXME: Sync this with InitializePredefinedMacros; we need to match int8_t</span></div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;  <span class="comment">// and friends, at least with glibc.</span></div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;  <span class="comment">// FIXME: Make sure floating-point mappings are accurate</span></div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;  <span class="comment">// FIXME: Support XF and TF types</span></div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;  <span class="keywordflow">if</span> (!DestWidth) {</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_machine_mode) &lt;&lt; 0 <span class="comment">/*Unknown*/</span> &lt;&lt; Name;</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;  }</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160; </div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> OldTy;</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D))</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;    OldTy = TD-&gt;getUnderlyingType();</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ED = dyn_cast&lt;EnumDecl&gt;(D)) {</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;    <span class="comment">// Something like &#39;typedef enum { X } __attribute__((mode(XX))) T;&#39;.</span></div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;    <span class="comment">// Try to get type from enum declaration, default to int.</span></div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;    OldTy = ED-&gt;getIntegerType();</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;    <span class="keywordflow">if</span> (OldTy.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>())</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;      OldTy = Context.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>;</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;    OldTy = cast&lt;ValueDecl&gt;(D)-&gt;getType();</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160; </div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;  <span class="keywordflow">if</span> (OldTy-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>()) {</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) ModeAttr(Context, CI, Name));</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;  }</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160; </div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;  <span class="comment">// Base type can also be a vector type (see PR17453).</span></div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;  <span class="comment">// Distinguish between base type and base element type.</span></div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> OldElemTy = OldTy;</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VT = OldTy-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1VectorType.html">VectorType</a>&gt;())</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;    OldElemTy = VT-&gt;getElementType();</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160; </div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;  <span class="comment">// GCC allows &#39;mode&#39; attribute on enumeration types (even incomplete), except</span></div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;  <span class="comment">// for vector modes. So, &#39;enum X __attribute__((mode(QI)));&#39; forms a complete</span></div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;  <span class="comment">// type, &#39;enum { A } __attribute__((mode(V4SI)))&#39; is rejected.</span></div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;  <span class="keywordflow">if</span> ((isa&lt;EnumDecl&gt;(D) || OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1EnumType.html">EnumType</a>&gt;()) &amp;&amp;</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;      VectorSize.getBoolValue()) {</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_enum_mode_vector_type) &lt;&lt; Name &lt;&lt; CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;  }</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;  <span class="keywordtype">bool</span> IntegralOrAnyEnumType = (OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#a58b6f352a1bd0963e500a4e902c4e74c">isIntegralOrEnumerationType</a>() &amp;&amp;</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;                                !OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#a69c39f9c64c82f2764b2126c425bfa68">isBitIntType</a>()) ||</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;                               OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1EnumType.html">EnumType</a>&gt;();</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160; </div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;  <span class="keywordflow">if</span> (!OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1BuiltinType.html">BuiltinType</a>&gt;() &amp;&amp; !OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#a171b4ee1948d6cb430df6747202d16fd">isComplexType</a>() &amp;&amp;</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;      !IntegralOrAnyEnumType)</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_mode_not_primitive);</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IntegerMode) {</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;    <span class="keywordflow">if</span> (!IntegralOrAnyEnumType)</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_mode_wrong_type);</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ComplexMode) {</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;    <span class="keywordflow">if</span> (!OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#a171b4ee1948d6cb430df6747202d16fd">isComplexType</a>())</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_mode_wrong_type);</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;    <span class="keywordflow">if</span> (!OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#acce830e9845ef21b901c5473105e2eda">isFloatingType</a>())</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_mode_wrong_type);</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;  }</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160; </div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> NewElemTy;</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160; </div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;  <span class="keywordflow">if</span> (IntegerMode)</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;    NewElemTy = Context.<a class="code" href="classclang_1_1ASTContext.html#a6b50b44b241ecee20c8b4fb9d3747ef2">getIntTypeForBitwidth</a>(DestWidth,</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;                                              OldElemTy-&gt;<a class="code" href="classclang_1_1Type.html#a16eb0575c711c0e24f411931d2eff068">isSignedIntegerType</a>());</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;    NewElemTy = Context.<a class="code" href="classclang_1_1ASTContext.html#a2c90b11c77f2927fb28e2a4b086e0acd">getRealTypeForBitwidth</a>(DestWidth, ExplicitType);</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160; </div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;  <span class="keywordflow">if</span> (NewElemTy.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_machine_mode) &lt;&lt; 1 <span class="comment">/*Unsupported*/</span> &lt;&lt; Name;</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;  }</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160; </div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;  <span class="keywordflow">if</span> (ComplexMode) {</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;    NewElemTy = Context.<a class="code" href="classclang_1_1ASTContext.html#ac5bbbbd3bd6f30050bb2aab73b310f92">getComplexType</a>(NewElemTy);</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  }</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160; </div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> NewTy = NewElemTy;</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;  <span class="keywordflow">if</span> (VectorSize.getBoolValue()) {</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;    NewTy = Context.<a class="code" href="classclang_1_1ASTContext.html#a8b36a55b543df95901cb5df40fc032d5">getVectorType</a>(NewTy, VectorSize.getZExtValue(),</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;                                  <a class="code" href="classclang_1_1VectorType.html#a807990d3b88bf4e957936b17f7a4c45ca7898e4f62492152901a72e442e78ac1d">VectorType::GenericVector</a>);</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *OldVT = OldTy-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1VectorType.html">VectorType</a>&gt;()) {</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;    <span class="comment">// Complex machine mode does not support base vector types.</span></div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    <span class="keywordflow">if</span> (ComplexMode) {</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_complex_mode_vector_type);</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;    }</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;    <span class="keywordtype">unsigned</span> NumElements = Context.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(OldElemTy) *</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;                           OldVT-&gt;getNumElements() /</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;                           Context.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(NewElemTy);</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;    NewTy =</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;        Context.<a class="code" href="classclang_1_1ASTContext.html#a8b36a55b543df95901cb5df40fc032d5">getVectorType</a>(NewElemTy, NumElements, OldVT-&gt;getVectorKind());</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;  }</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160; </div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;  <span class="keywordflow">if</span> (NewTy.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrLoc, diag::err_mode_wrong_type);</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;  }</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160; </div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;  <span class="comment">// Install the new type.</span></div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D))</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;    TD-&gt;setModedTypeSourceInfo(TD-&gt;getTypeSourceInfo(), NewTy);</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ED = dyn_cast&lt;EnumDecl&gt;(D))</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;    ED-&gt;setIntegerType(NewTy);</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    cast&lt;ValueDecl&gt;(D)-&gt;setType(NewTy);</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160; </div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) ModeAttr(Context, CI, Name));</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;}</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160; </div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNoDebugAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NoDebugAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;}</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160; </div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;AlwaysInlineAttr *<a class="code" href="classclang_1_1Sema.html#abd27b2c7d960f6e944c257914930b260">Sema::mergeAlwaysInlineAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Ident) {</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;  <span class="keywordflow">if</span> (OptimizeNoneAttr *Optnone = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;OptimizeNoneAttr&gt;()) {</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_ignored) &lt;&lt; Ident;</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Optnone-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;  }</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160; </div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;AlwaysInlineAttr&gt;())</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160; </div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;  return ::new (Context) AlwaysInlineAttr(Context, CI);</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;}</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160; </div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;InternalLinkageAttr *<a class="code" href="classclang_1_1Sema.html#a058fa1c71b80e23992dd14c8e19b0b97">Sema::mergeInternalLinkageAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;    <span class="comment">// Attribute applies to Var but not any subclass of it (like ParmVar,</span></div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    <span class="comment">// ImplicitParm or VarTemplateSpecialization).</span></div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;<a class="code" href="classclang_1_1Decl.html#aedd1ee920162f9a35e8d249a4926d9d5">getKind</a>() != Decl::Var) {</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;          &lt;&lt; AL &lt;&lt; (getLangOpts().CPlusPlus ? <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac12fab256a88ffabb612b3990ebf4e66">ExpectedFunctionVariableOrClass</a></div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;                                            : <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ab9d1b7c2c5b379a61141b3abbb2076dd">ExpectedVariableOrFunction</a>);</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;    }</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;    <span class="comment">// Attribute does not apply to non-static local variables.</span></div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;hasLocalStorage()) {</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(VD-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_internal_linkage_local_storage);</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;    }</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;  }</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160; </div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;  return ::new (Context) InternalLinkageAttr(Context, AL);</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;}</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;InternalLinkageAttr *</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;<a class="code" href="classclang_1_1Sema.html#a058fa1c71b80e23992dd14c8e19b0b97">Sema::mergeInternalLinkageAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> InternalLinkageAttr &amp;AL) {</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;    <span class="comment">// Attribute applies to Var but not any subclass of it (like ParmVar,</span></div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <span class="comment">// ImplicitParm or VarTemplateSpecialization).</span></div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;<a class="code" href="classclang_1_1Decl.html#aedd1ee920162f9a35e8d249a4926d9d5">getKind</a>() != Decl::Var) {</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.getLocation(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;          &lt;&lt; &amp;AL &lt;&lt; (getLangOpts().CPlusPlus ? <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac12fab256a88ffabb612b3990ebf4e66">ExpectedFunctionVariableOrClass</a></div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;                                             : <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ab9d1b7c2c5b379a61141b3abbb2076dd">ExpectedVariableOrFunction</a>);</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;    }</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;    <span class="comment">// Attribute does not apply to non-static local variables.</span></div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;hasLocalStorage()) {</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(VD-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_internal_linkage_local_storage);</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;    }</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;  }</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160; </div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;  return ::new (Context) InternalLinkageAttr(Context, AL);</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;}</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160; </div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;MinSizeAttr *<a class="code" href="classclang_1_1Sema.html#a224ea656376ab3d0d870e82b0f1f8f56">Sema::mergeMinSizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;  <span class="keywordflow">if</span> (OptimizeNoneAttr *Optnone = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;OptimizeNoneAttr&gt;()) {</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_ignored) &lt;&lt; <span class="stringliteral">&quot;&#39;minsize&#39;&quot;</span>;</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Optnone-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;  }</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160; </div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;MinSizeAttr&gt;())</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160; </div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;  return ::new (Context) MinSizeAttr(Context, CI);</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;}</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160; </div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;SwiftNameAttr *<a class="code" href="classclang_1_1Sema.html#acc80fd34c2353066ca3034e7cd90c29c">Sema::mergeSwiftNameAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SwiftNameAttr &amp;SNA,</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;                                        StringRef Name) {</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PrevSNA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SwiftNameAttr&gt;()) {</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;    <span class="keywordflow">if</span> (PrevSNA-&gt;getName() != Name &amp;&amp; !PrevSNA-&gt;isImplicit()) {</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(PrevSNA-&gt;getLocation(), diag::err_attributes_are_not_compatible)</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;          &lt;&lt; PrevSNA &lt;&lt; &amp;SNA;</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(SNA.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    }</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160; </div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;SwiftNameAttr&gt;();</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;  }</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;  return ::new (Context) SwiftNameAttr(Context, SNA, Name);</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;}</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160; </div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;OptimizeNoneAttr *<a class="code" href="classclang_1_1Sema.html#ab04a81490867cb728a613ca5f940da77">Sema::mergeOptimizeNoneAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;  <span class="keywordflow">if</span> (AlwaysInlineAttr *Inline = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AlwaysInlineAttr&gt;()) {</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Inline-&gt;getLocation(), diag::warn_attribute_ignored) &lt;&lt; Inline;</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;AlwaysInlineAttr&gt;();</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;  }</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;  <span class="keywordflow">if</span> (MinSizeAttr *MinSize = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;MinSizeAttr&gt;()) {</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(MinSize-&gt;getLocation(), diag::warn_attribute_ignored) &lt;&lt; MinSize;</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;MinSizeAttr&gt;();</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;  }</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160; </div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;OptimizeNoneAttr&gt;())</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160; </div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;  return ::new (Context) OptimizeNoneAttr(Context, CI);</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;}</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160; </div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SemaStmtAttr_8cpp.html#a677c8a76b71993d24c638d7dc970593e">handleAlwaysInlineAttr</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;  <span class="keywordflow">if</span> (AlwaysInlineAttr *Inline =</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;          S.<a class="code" href="classclang_1_1Sema.html#abd27b2c7d960f6e944c257914930b260">mergeAlwaysInlineAttr</a>(D, AL, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()))</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(Inline);</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;}</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160; </div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleMinSizeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;  <span class="keywordflow">if</span> (MinSizeAttr *MinSize = S.<a class="code" href="classclang_1_1Sema.html#a224ea656376ab3d0d870e82b0f1f8f56">mergeMinSizeAttr</a>(D, AL))</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(MinSize);</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;}</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160; </div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleOptimizeNoneAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;  <span class="keywordflow">if</span> (OptimizeNoneAttr *Optnone = S.<a class="code" href="classclang_1_1Sema.html#ab04a81490867cb728a613ca5f940da77">mergeOptimizeNoneAttr</a>(D, AL))</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(Optnone);</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;}</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160; </div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLDeviceAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;  <span class="keywordflow">if</span> (!FD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#ae261851b288b486223cea4d3516861a6">isExternallyVisible</a>()) {</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_sycl_attribute_internal_function) &lt;&lt; AL;</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;  }</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160; </div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;  handleSimpleAttribute&lt;SYCLDeviceAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;}</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160; </div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLDeviceIndirectlyCallableAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;  <span class="keywordflow">if</span> (!FD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#ae261851b288b486223cea4d3516861a6">isExternallyVisible</a>()) {</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_sycl_attribute_internal_function) &lt;&lt; AL;</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;  }</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160; </div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(SYCLDeviceAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;  handleSimpleAttribute&lt;SYCLDeviceIndirectlyCallableAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;}</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160; </div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLGlobalVarAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a091e2575135f7f9f1aeb25ba0090bfde">getSourceManager</a>().<a class="code" href="classclang_1_1SourceManager.html#aa728bad682c5216d9efa45c03404447a">isInSystemHeader</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>())) {</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_only_system_header) &lt;&lt; AL;</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;  }</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160; </div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;  handleSimpleAttribute&lt;SYCLGlobalVarAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;}</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160; </div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLRegisterNumAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;  uint32_t RegNo = 0;</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, E, RegNo, 0, <span class="comment">/*StrictlyUnsigned=*/</span><span class="keyword">true</span>))</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SYCLRegisterNumAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, RegNo));</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;}</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160; </div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#ad2e5289d83d35aa083c1a3c38fcd8f71">Sema::AddSYCLIntelESimdVectorizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;                                          <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160; </div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;    <span class="keywordflow">if</span> (ArgVal != 8 &amp;&amp; ArgVal != 16 &amp;&amp; ArgVal != 32) {</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_sycl_esimd_vectorize_unsupported_value)</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;          &lt;&lt; CI;</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;    }</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160; </div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelESimdVectorizeAttr&gt;()) {</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;        }</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;      }</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;    }</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;  }</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160; </div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLIntelESimdVectorizeAttr(Context, CI, E));</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;}</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160; </div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;SYCLIntelESimdVectorizeAttr *</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;<a class="code" href="classclang_1_1Sema.html#a91f9fb3f344d7fe876cd48cbb8cea045">Sema::MergeSYCLIntelESimdVectorizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;                                       <span class="keyword">const</span> SYCLIntelESimdVectorizeAttr &amp;A) {</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelESimdVectorizeAttr&gt;()) {</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;        }</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;      }</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    }</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;  }</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;  return ::new (Context) SYCLIntelESimdVectorizeAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;}</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160; </div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelESimdVectorizeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">CheckDeprecatedSYCLAttributeSpelling</a>(A);</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160; </div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#ad2e5289d83d35aa083c1a3c38fcd8f71">AddSYCLIntelESimdVectorizeAttr</a>(D, A, E);</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;}</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160; </div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleConstantAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *VD = cast&lt;VarDecl&gt;(D);</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;  <span class="keywordflow">if</span> (VD-&gt;hasLocalStorage()) {</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_cuda_nonstatic_constdev);</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;  }</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  <span class="comment">// constexpr variable may already get an implicit constant attr, which should</span></div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;  <span class="comment">// be replaced by the explicit constant attr.</span></div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;CUDAConstantAttr&gt;()) {</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    <span class="keywordflow">if</span> (!A-&gt;isImplicit())</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;CUDAConstantAttr&gt;();</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;  }</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CUDAConstantAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;}</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160; </div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSharedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *VD = cast&lt;VarDecl&gt;(D);</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;  <span class="comment">// extern __shared__ is only allowed on arrays with no length (e.g.</span></div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;  <span class="comment">// &quot;int x[]&quot;).</span></div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().GPURelocatableDeviceCode &amp;&amp; VD-&gt;hasExternalStorage() &amp;&amp;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;      !isa&lt;IncompleteArrayType&gt;(VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>())) {</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_cuda_extern_shared) &lt;&lt; VD;</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;  }</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CUDA &amp;&amp; VD-&gt;hasLocalStorage() &amp;&amp;</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#aaad21f30ac0972a50baecd428960443a">CUDADiagIfHostCode</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_cuda_host_shared)</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;          &lt;&lt; S.<a class="code" href="classclang_1_1Sema.html#ac13d352eeb09d3feaad360af1d8a0831">CurrentCUDATarget</a>())</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CUDASharedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;}</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160; </div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleGlobalAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;  <span class="keywordflow">if</span> (!FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>() &amp;&amp;</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;      !FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1AutoType.html">AutoType</a>&gt;() &amp;&amp;</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;      !FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a667dce4e01854030af47e218428222fe">isInstantiationDependentType</a>()) {</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;    <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a> RTRange = FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a1ac2b87b937cc44d8980a898851c0c75">getReturnTypeSourceRange</a>();</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a701b158251d143e1b2f608221113db60">getTypeSpecStartLoc</a>(), diag::err_kern_type_not_void_return)</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;        &lt;&lt; FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;        &lt;&lt; (RTRange.<a class="code" href="classclang_1_1SourceRange.html#a57c37e1fcbc74220b2f82dc78dc7f606">isValid</a>() ? <a class="code" href="classclang_1_1FixItHint.html#a90e122cd34933ba821718385fddfae7a">FixItHint::CreateReplacement</a>(RTRange, <span class="stringliteral">&quot;void&quot;</span>)</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;                              : <a class="code" href="classclang_1_1FixItHint.html">FixItHint</a>());</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;  }</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Method = dyn_cast&lt;CXXMethodDecl&gt;(FD)) {</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;    <span class="keywordflow">if</span> (Method-&gt;isInstance()) {</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Method-&gt;getBeginLoc(), diag::err_kern_is_nonstatic_method)</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;          &lt;&lt; Method;</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;    }</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Method-&gt;getBeginLoc(), diag::warn_kern_is_method) &lt;&lt; Method;</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;  }</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;  <span class="comment">// Only warn for &quot;inline&quot; when compiling for host, to cut down on noise.</span></div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#af1177013fb679cc26f4d06173c488e14">isInlineSpecified</a>() &amp;&amp; !S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CUDAIsDevice)</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a73cead379a984c4b4ddb6e0d308725f6">getBeginLoc</a>(), diag::warn_kern_is_inline) &lt;&lt; FD;</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160; </div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CUDAGlobalAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;  <span class="comment">// In host compilation the kernel is emitted as a stub function, which is</span></div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;  <span class="comment">// a helper function for launching the kernel. The instructions in the helper</span></div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;  <span class="comment">// function has nothing to do with the source code of the kernel. Do not emit</span></div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;  <span class="comment">// debug info for the stub function to avoid confusing the debugger.</span></div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.HIP &amp;&amp; !S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.CUDAIsDevice)</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NoDebugAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;}</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160; </div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDeviceAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;hasLocalStorage()) {</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_cuda_nonstatic_constdev);</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;    }</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;  }</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160; </div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;CUDADeviceAttr&gt;()) {</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;    <span class="keywordflow">if</span> (!A-&gt;isImplicit())</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;CUDADeviceAttr&gt;();</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;  }</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CUDADeviceAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;}</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160; </div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleManagedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;hasLocalStorage()) {</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_cuda_nonstatic_constdev);</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;    }</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;  }</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;HIPManagedAttr&gt;())</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) HIPManagedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;CUDADeviceAttr&gt;())</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(CUDADeviceAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;}</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160; </div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleGNUInlineAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Fn = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;  <span class="keywordflow">if</span> (!Fn-&gt;isInlineSpecified()) {</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_gnu_inline_attribute_requires_inline);</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;  }</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160; </div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.CPlusPlus &amp;&amp; Fn-&gt;getStorageClass() != <a class="code" href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370a5d305f71b6e8fb20f648c2aca83753ac">SC_Extern</a>)</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_gnu_inline_cplusplus_without_extern);</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160; </div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) GNUInlineAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;}</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160; </div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCallConvAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#a71ce58e657f548708725ba2ad028f186">hasDeclarator</a>(D)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160; </div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;  <span class="comment">// Diagnostic is emitted elsewhere: here we store the (valid) AL</span></div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;  <span class="comment">// in the Decl node for syntactic reasoning, e.g., pretty-printing.</span></div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;  <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25b">CallingConv</a> CC;</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#ac02bc05fa620d0746e7201fe6f48eb87">CheckCallingConvAttr</a>(AL, CC, <span class="comment">/*FD*/</span><span class="keyword">nullptr</span>))</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160; </div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ObjCMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d">ExpectedFunctionOrMethod</a>;</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;  }</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160; </div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;  <span class="keywordflow">switch</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>()) {</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_FastCall:</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) FastCallAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_StdCall:</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) StdCallAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ThisCall:</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ThisCallAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CDecl:</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CDeclAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Pascal:</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PascalAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftCall:</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftCallAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAsyncCall:</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftAsyncCallAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_VectorCall:</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) VectorCallAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MSABI:</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) MSABIAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SysVABI:</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SysVABIAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_RegCall:</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) RegCallAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Pcs: {</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;    PcsAttr::PCSType PCS;</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;    <span class="keywordflow">switch</span> (CC) {</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba71c99c14409da8ef2e72ec69e4ed12fe">CC_AAPCS</a>:</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;      PCS = PcsAttr::AAPCS;</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25baf0614fbebb3b0d48dc9575b4f5e1caa2">CC_AAPCS_VFP</a>:</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;      PCS = PcsAttr::AAPCS_VFP;</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;      llvm_unreachable(<span class="stringliteral">&quot;unexpected calling convention in pcs attribute&quot;</span>);</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;    }</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160; </div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PcsAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, PCS));</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;  }</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AArch64VectorPcs:</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AArch64VectorPcsAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelOclBicc:</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) IntelOclBiccAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PreserveMost:</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PreserveMostAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PreserveAll:</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) PreserveAllAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;    llvm_unreachable(<span class="stringliteral">&quot;unexpected attribute kind&quot;</span>);</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;  }</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;}</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160; </div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SemaStmtAttr_8cpp.html#a0476e39e8c617612ae5a10fa2409daff">handleSuppressAttr</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160; </div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;  std::vector&lt;StringRef&gt; DiagnosticIdentifiers;</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I != E; ++I) {</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;    StringRef RuleName;</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160; </div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, I, RuleName, <span class="keyword">nullptr</span>))</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160; </div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;    <span class="comment">// FIXME: Warn if the rule name is unknown. This is tricky because only</span></div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;    <span class="comment">// clang-tidy knows about available rules.</span></div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;    DiagnosticIdentifiers.push_back(RuleName);</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;  }</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;                 SuppressAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, DiagnosticIdentifiers.data(),</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;                              DiagnosticIdentifiers.size()));</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;}</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160; </div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleLifetimeCategoryAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;  <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *DerefTypeLoc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ParmType;</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3268778235a07ab81be02b50fe601582">hasParsedType</a>()) {</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    ParmType = S.<a class="code" href="classclang_1_1Sema.html#af01ac7ae5060cb2c8714b3fc034069a2">GetTypeFromParser</a>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#afd85b5081f1dded428912184ccf42e05">getTypeArg</a>(), &amp;DerefTypeLoc);</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160; </div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <span class="keywordtype">unsigned</span> SelectIdx = ~0<a class="code" href="classU.html">U</a>;</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    <span class="keywordflow">if</span> (ParmType-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>())</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;      SelectIdx = 0;</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ParmType-&gt;<a class="code" href="classclang_1_1Type.html#a2c11a3a0ab42e6a9aca748967de1ede8">isArrayType</a>())</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;      SelectIdx = 1;</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160; </div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    <span class="keywordflow">if</span> (SelectIdx != ~0<a class="code" href="classU.html">U</a>) {</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_invalid_argument)</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;          &lt;&lt; SelectIdx &lt;&lt; AL;</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    }</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;  }</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160; </div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;  <span class="comment">// To check if earlier decl attributes do not conflict the newly parsed ones</span></div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;  <span class="comment">// we always add (and check) the attribute to the canonical decl. We need</span></div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;  <span class="comment">// to repeat the check for attribute mutual exclusion because we&#39;re attaching</span></div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;  <span class="comment">// all of the attributes to the canonical declaration rather than the current</span></div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;  <span class="comment">// declaration.</span></div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;  D = D-&gt;<a class="code" href="classclang_1_1Decl.html#a8dc8c86b18af77eba9afe42e4f429fdc">getCanonicalDecl</a>();</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_Owner) {</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    <span class="keywordflow">if</span> (checkAttrMutualExclusion&lt;PointerAttr&gt;(S, D, AL))</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *OAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;OwnerAttr&gt;()) {</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;      <span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> *ExistingDerefType = OAttr-&gt;getDerefTypeLoc()</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;                                          ? OAttr-&gt;getDerefType().getTypePtr()</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;                                          : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;      <span class="keywordflow">if</span> (ExistingDerefType != ParmType.<a class="code" href="classclang_1_1QualType.html#adfc8b9030353f23f3091c3bee1148aa4">getTypePtrOrNull</a>()) {</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attributes_are_not_compatible)</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;            &lt;&lt; AL &lt;&lt; OAttr;</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(OAttr-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;      }</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    }</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1Decl.html">Decl</a> *Redecl : D-&gt;<a class="code" href="classclang_1_1Decl.html#ab0315817477d3f3e155f86290e98e782">redecls</a>()) {</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;      Redecl-&gt;addAttr(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) OwnerAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, DerefTypeLoc));</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;    }</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;    <span class="keywordflow">if</span> (checkAttrMutualExclusion&lt;OwnerAttr&gt;(S, D, AL))</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;PointerAttr&gt;()) {</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;      <span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> *ExistingDerefType = PAttr-&gt;getDerefTypeLoc()</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;                                          ? PAttr-&gt;getDerefType().getTypePtr()</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;                                          : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;      <span class="keywordflow">if</span> (ExistingDerefType != ParmType.<a class="code" href="classclang_1_1QualType.html#adfc8b9030353f23f3091c3bee1148aa4">getTypePtrOrNull</a>()) {</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attributes_are_not_compatible)</div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;            &lt;&lt; AL &lt;&lt; PAttr;</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(PAttr-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;      }</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    }</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1Decl.html">Decl</a> *Redecl : D-&gt;<a class="code" href="classclang_1_1Decl.html#ab0315817477d3f3e155f86290e98e782">redecls</a>()) {</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;      Redecl-&gt;addAttr(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;                          PointerAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, DerefTypeLoc));</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;    }</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;  }</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;}</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160; </div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#ac02bc05fa620d0746e7201fe6f48eb87">Sema::CheckCallingConvAttr</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;Attrs, <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25b">CallingConv</a> &amp;CC,</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD) {</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;  <span class="keywordflow">if</span> (Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#af1d98aaa8c74192f9375e3f3a4843bcc">isInvalid</a>())</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160; </div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;  <span class="keywordflow">if</span> (Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a59a746b5fc30334d212916f57780d998">hasProcessingCache</a>()) {</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;    CC = (<a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25b">CallingConv</a>) Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a642dfcd6bcbe60201479cce23552edb6">getProcessingCache</a>();</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;  }</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160; </div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;  <span class="keywordtype">unsigned</span> ReqArgs = Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_Pcs ? 1 : 0;</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;  <span class="keywordflow">if</span> (!Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(*<span class="keyword">this</span>, ReqArgs)) {</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;    Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;  }</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160; </div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1TargetInfo.html">TargetInfo</a> &amp;TI = Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>();</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;  <span class="comment">// TODO: diagnose uses of these conventions on the wrong target.</span></div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;  <span class="keywordflow">switch</span> (Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>()) {</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CDecl:</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;    CC = TI.<a class="code" href="classclang_1_1TargetInfo.html#a4a89d99c5a7f5992fe2d22793fa82f37">getDefaultCallingConv</a>();</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_FastCall:</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25baeee847654c699507e58f40edaef0256a">CC_X86FastCall</a>;</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_StdCall:</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25bab08f1a124e4aaef328ca1459f8b0d710">CC_X86StdCall</a>;</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ThisCall:</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba49ff8852eacaf74d36536e700613881f">CC_X86ThisCall</a>;</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Pascal:</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba085f5ddc5db3eaf20e859b71ffa8fb0f">CC_X86Pascal</a>;</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftCall:</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba2aeacc446ef2639ee6e06b0318b7f1f7">CC_Swift</a>;</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAsyncCall:</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba8c6186dcdb49afc079f8bcf87e190ce5">CC_SwiftAsync</a>;</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_VectorCall:</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25baa19aa9c1c05709b58e9572b216c5713c">CC_X86VectorCall</a>;</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AArch64VectorPcs:</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba4f0830e79d59eb79781124533ae24053">CC_AArch64VectorCall</a>;</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_RegCall:</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba998b3ac72a9aeb0acc846d688e549411">CC_X86RegCall</a>;</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MSABI:</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;    CC = Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSWindows() ? <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba7a504297547dacad7f909bc7da059378">CC_C</a> :</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;                                                             <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba443861eff59bd7828399e4c12c9efa85">CC_Win64</a>;</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SysVABI:</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;    CC = Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isOSWindows() ? <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25bac0b883ae27291a0b85df3e629d1c14a4">CC_X86_64SysV</a> :</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;                                                             <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba7a504297547dacad7f909bc7da059378">CC_C</a>;</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Pcs: {</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;    StringRef StrRef;</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;    <span class="keywordflow">if</span> (!checkStringLiteralArgumentAttr(Attrs, 0, StrRef)) {</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;      Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    }</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    <span class="keywordflow">if</span> (StrRef == <span class="stringliteral">&quot;aapcs&quot;</span>) {</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;      CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba71c99c14409da8ef2e72ec69e4ed12fe">CC_AAPCS</a>;</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (StrRef == <span class="stringliteral">&quot;aapcs-vfp&quot;</span>) {</div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;      CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25baf0614fbebb3b0d48dc9575b4f5e1caa2">CC_AAPCS_VFP</a>;</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    }</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160; </div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Attrs.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_invalid_pcs);</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;  }</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelOclBicc:</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba308ad5c13f13cc72ac772a63583eab64">CC_IntelOclBicc</a>;</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PreserveMost:</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba438e1d380de59c9ce17cef5ccac07930">CC_PreserveMost</a>;</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PreserveAll:</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25bae2cbd0c56b4a0ec6e0e4a475bffaa414">CC_PreserveAll</a>;</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;  <span class="keywordflow">default</span>: llvm_unreachable(<span class="stringliteral">&quot;unexpected attribute kind&quot;</span>);</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;  }</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160; </div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;  <a class="code" href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039e">TargetInfo::CallingConvCheckResult</a> A = <a class="code" href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea925f72416bdf7fe52e525ace8be394b2">TargetInfo::CCCR_OK</a>;</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;  <span class="comment">// CUDA functions may have host and/or device attributes which indicate</span></div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;  <span class="comment">// their targeted execution environment, therefore the calling convention</span></div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;  <span class="comment">// of functions in CUDA should be checked against the target deduced based</span></div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;  <span class="comment">// on their host/device attributes.</span></div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;  <span class="keywordflow">if</span> (LangOpts.CUDA) {</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;    <span class="keyword">auto</span> *Aux = Context.<a class="code" href="classclang_1_1ASTContext.html#adaa68e898feba5f67c091eb936e53744">getAuxTargetInfo</a>();</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    <span class="keyword">auto</span> CudaTarget = IdentifyCUDATarget(FD);</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;    <span class="keywordtype">bool</span> CheckHost = <span class="keyword">false</span>, CheckDevice = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;    <span class="keywordflow">switch</span> (CudaTarget) {</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;    <span class="keywordflow">case</span> CFT_HostDevice:</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;      CheckHost = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;      CheckDevice = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;    <span class="keywordflow">case</span> CFT_Host:</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;      CheckHost = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;    <span class="keywordflow">case</span> CFT_Device:</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    <span class="keywordflow">case</span> CFT_Global:</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;      CheckDevice = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    <span class="keywordflow">case</span> CFT_InvalidTarget:</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;      llvm_unreachable(<span class="stringliteral">&quot;unexpected cuda target&quot;</span>);</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;    }</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;    <span class="keyword">auto</span> *HostTI = LangOpts.CUDAIsDevice ? Aux : &amp;TI;</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    <span class="keyword">auto</span> *DeviceTI = LangOpts.CUDAIsDevice ? &amp;TI : Aux;</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    <span class="keywordflow">if</span> (CheckHost &amp;&amp; HostTI)</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;      A = HostTI-&gt;<a class="code" href="classclang_1_1TargetInfo.html#a5b49760ab67866ecd4f949cc88729f7d">checkCallingConvention</a>(CC);</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;    <span class="keywordflow">if</span> (A == <a class="code" href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea925f72416bdf7fe52e525ace8be394b2">TargetInfo::CCCR_OK</a> &amp;&amp; CheckDevice &amp;&amp; DeviceTI)</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;      A = DeviceTI-&gt;checkCallingConvention(CC);</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;    A = TI.<a class="code" href="classclang_1_1TargetInfo.html#a5b49760ab67866ecd4f949cc88729f7d">checkCallingConvention</a>(CC);</div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;  }</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160; </div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;  <span class="keywordflow">switch</span> (A) {</div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea925f72416bdf7fe52e525ace8be394b2">TargetInfo::CCCR_OK</a>:</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160; </div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea85481440eaaebe0f668a5bcf23a13c9c">TargetInfo::CCCR_Ignore</a>:</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;    <span class="comment">// Treat an ignored convention as if it was an explicit C calling convention</span></div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;    <span class="comment">// attribute. For example, __stdcall on Win x64 functions as __cdecl, so</span></div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;    <span class="comment">// that command line flags that change the default convention to</span></div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    <span class="comment">// __vectorcall don&#39;t affect declarations marked __stdcall.</span></div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;    CC = <a class="code" href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba7a504297547dacad7f909bc7da059378">CC_C</a>;</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160; </div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039eaf7bb90380e18e878d50092877afdbaa8">TargetInfo::CCCR_Error</a>:</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Attrs.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::error_cconv_unsupported)</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;        &lt;&lt; Attrs &lt;&lt; (<a class="code" href="____clang__hip__libdevice__declares_8h.html#aa7b8984e16daeff79f73e22b4e040334">int</a>)CallingConventionIgnoredReason::ForThisTarget;</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160; </div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea126cf08c468019a607eaf0d199acee97">TargetInfo::CCCR_Warning</a>: {</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Attrs.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_cconv_unsupported)</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;        &lt;&lt; Attrs &lt;&lt; (<a class="code" href="____clang__hip__libdevice__declares_8h.html#aa7b8984e16daeff79f73e22b4e040334">int</a>)CallingConventionIgnoredReason::ForThisTarget;</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160; </div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;    <span class="comment">// This convention is not valid for the target. Use the default function or</span></div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;    <span class="comment">// method calling convention.</span></div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    <span class="keywordtype">bool</span> IsCXXMethod = <span class="keyword">false</span>, IsVariadic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    <span class="keywordflow">if</span> (FD) {</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;      IsCXXMethod = FD-&gt;<a class="code" href="classclang_1_1NamedDecl.html#acee6a5d553ca31f16c76f880c9c55cd9">isCXXInstanceMember</a>();</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;      IsVariadic = FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a4a1ed5708e9778a32d15ef3668f2ebc9">isVariadic</a>();</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;    }</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    CC = Context.<a class="code" href="classclang_1_1ASTContext.html#a3f7483d592cbd904ed592312222ca6ae">getDefaultCallingConvention</a>(IsVariadic, IsCXXMethod);</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;  }</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;  }</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160; </div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;  Attrs.<a class="code" href="classclang_1_1ParsedAttr.html#ab5fca65130cfae5e28e7c93be2375d92">setProcessingCache</a>((<span class="keywordtype">unsigned</span>) CC);</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;}</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;<span class="comment">/// Pointer-like types in the default address space.</span></div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isValidSwiftContextType(<a class="code" href="classclang_1_1QualType.html">QualType</a> Ty) {</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;  <span class="keywordflow">if</span> (!Ty-&gt;<a class="code" href="classclang_1_1Type.html#aef25a855bd12b76726842c826920ecae">hasPointerRepresentation</a>())</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;    <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>();</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;  <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>().<a class="code" href="classclang_1_1QualType.html#a6cc7661c7c6b310a91fd90d78b9539db">getAddressSpace</a>() == <a class="code" href="namespaceclang.html#aa3eb18d56ff745e83217cde4d647793aa7a1920d61156abc05a60135aefe8bc67">LangAS::Default</a>;</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;}</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;<span class="comment">/// Pointers and references in the default address space.</span></div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isValidSwiftIndirectResultType(<a class="code" href="classclang_1_1QualType.html">QualType</a> Ty) {</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PtrType = Ty-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;()) {</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    Ty = PtrType-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *RefType = Ty-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ReferenceType.html">ReferenceType</a>&gt;()) {</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;    Ty = RefType-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>();</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;  }</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;  <span class="keywordflow">return</span> Ty.<a class="code" href="classclang_1_1QualType.html#a6cc7661c7c6b310a91fd90d78b9539db">getAddressSpace</a>() == <a class="code" href="namespaceclang.html#aa3eb18d56ff745e83217cde4d647793aa7a1920d61156abc05a60135aefe8bc67">LangAS::Default</a>;</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;}</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;<span class="comment">/// Pointers and references to pointers in the default address space.</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isValidSwiftErrorResultType(<a class="code" href="classclang_1_1QualType.html">QualType</a> Ty) {</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PtrType = Ty-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;()) {</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    Ty = PtrType-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *RefType = Ty-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ReferenceType.html">ReferenceType</a>&gt;()) {</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    Ty = RefType-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;    <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>();</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;  }</div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;  <span class="keywordflow">if</span> (!Ty.<a class="code" href="classclang_1_1QualType.html#a79656767a29a455153af86c4afac9fbe">getQualifiers</a>().<a class="code" href="classclang_1_1Qualifiers.html#ab169ae1144a8e0838958634171cf1ccd">empty</a>())</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;  <span class="keywordflow">return</span> isValidSwiftContextType(Ty);</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;}</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160; </div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a5928345bfac5758ac40b1e30645bc98a">Sema::AddParameterABIAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;                               <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56">ParameterABI</a> abi) {</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160; </div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> <a class="code" href="classstd_1_1conditional_1_1type.html">type</a> = cast&lt;ParmVarDecl&gt;(D)-&gt;getType();</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160; </div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> existingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;<a class="code" href="classclang_1_1ParameterABIAttr.html">ParameterABIAttr</a>&gt;()) {</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;    <span class="keywordflow">if</span> (existingAttr-&gt;getABI() != abi) {</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attributes_are_not_compatible)</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;          &lt;&lt; <a class="code" href="namespaceclang.html#a1b6b4bce2d09ffd33faf8a181d2acd7b">getParameterABISpelling</a>(abi) &lt;&lt; existingAttr;</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(existingAttr-&gt;getLocation(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    }</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;  }</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160; </div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;  <span class="keywordflow">switch</span> (abi) {</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a5681660b68aa20365a8e3279790ea419">ParameterABI::Ordinary</a>:</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;    llvm_unreachable(<span class="stringliteral">&quot;explicit attribute for ordinary parameter ABI?&quot;</span>);</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160; </div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56af9bba77d3c723c0692ff7678151d5bc5">ParameterABI::SwiftContext</a>:</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;    <span class="keywordflow">if</span> (!isValidSwiftContextType(<a class="code" href="classstd_1_1conditional_1_1type.html">type</a>)) {</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_swift_abi_parameter_wrong_type)</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;          &lt;&lt; <a class="code" href="namespaceclang.html#a1b6b4bce2d09ffd33faf8a181d2acd7b">getParameterABISpelling</a>(abi) &lt;&lt; <span class="comment">/*pointer to pointer */</span> 0 &lt;&lt; <a class="code" href="namespaceclang_1_1ast__matchers.html#a600679c157b5bd05c4bfb940fb2511dd">type</a>;</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;    }</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SwiftContextAttr(Context, CI));</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160; </div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a20f1613a091be0d3eb93f8bfed02fca9">ParameterABI::SwiftAsyncContext</a>:</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    <span class="keywordflow">if</span> (!isValidSwiftContextType(<a class="code" href="classstd_1_1conditional_1_1type.html">type</a>)) {</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_swift_abi_parameter_wrong_type)</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;          &lt;&lt; <a class="code" href="namespaceclang.html#a1b6b4bce2d09ffd33faf8a181d2acd7b">getParameterABISpelling</a>(abi) &lt;&lt; <span class="comment">/*pointer to pointer */</span> 0 &lt;&lt; <a class="code" href="namespaceclang_1_1ast__matchers.html#a600679c157b5bd05c4bfb940fb2511dd">type</a>;</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;    }</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SwiftAsyncContextAttr(Context, CI));</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160; </div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a2892fdd5fbfb0f8c4317836c4199d191">ParameterABI::SwiftErrorResult</a>:</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;    <span class="keywordflow">if</span> (!isValidSwiftErrorResultType(<a class="code" href="classstd_1_1conditional_1_1type.html">type</a>)) {</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_swift_abi_parameter_wrong_type)</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;          &lt;&lt; <a class="code" href="namespaceclang.html#a1b6b4bce2d09ffd33faf8a181d2acd7b">getParameterABISpelling</a>(abi) &lt;&lt; <span class="comment">/*pointer to pointer */</span> 1 &lt;&lt; <a class="code" href="namespaceclang_1_1ast__matchers.html#a600679c157b5bd05c4bfb940fb2511dd">type</a>;</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;    }</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SwiftErrorResultAttr(Context, CI));</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160; </div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56aaf1dd368d799611c46f3e22d59352935">ParameterABI::SwiftIndirectResult</a>:</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;    <span class="keywordflow">if</span> (!isValidSwiftIndirectResultType(<a class="code" href="classstd_1_1conditional_1_1type.html">type</a>)) {</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_swift_abi_parameter_wrong_type)</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;          &lt;&lt; <a class="code" href="namespaceclang.html#a1b6b4bce2d09ffd33faf8a181d2acd7b">getParameterABISpelling</a>(abi) &lt;&lt; <span class="comment">/*pointer*/</span> 0 &lt;&lt; <a class="code" href="namespaceclang_1_1ast__matchers.html#a600679c157b5bd05c4bfb940fb2511dd">type</a>;</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;    }</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SwiftIndirectResultAttr(Context, CI));</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;  }</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;  llvm_unreachable(<span class="stringliteral">&quot;bad parameter ABI attribute&quot;</span>);</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;}</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;<span class="comment">/// Checks a regparm attribute, returning true if it is ill-formed and</span></div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;<span class="comment">/// otherwise setting numParams to the appropriate value.</span></div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a6c479c16f7a4d826dde1ec1f346ba3f9">Sema::CheckRegparmAttr</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL, <span class="keywordtype">unsigned</span> &amp;numParams) {</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#af1d98aaa8c74192f9375e3f3a4843bcc">isInvalid</a>())</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160; </div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(*<span class="keyword">this</span>, 1)) {</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;  }</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160; </div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;  uint32_t NP;</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *NumParamsExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(*<span class="keyword">this</span>, AL, NumParamsExpr, NP)) {</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;  }</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160; </div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;  <span class="keywordflow">if</span> (Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ac6cd74778d73df50bd4ce476afb91f4b">getRegParmMax</a>() == 0) {</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_regparm_wrong_platform)</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;      &lt;&lt; NumParamsExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;  }</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160; </div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;  numParams = NP;</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;  <span class="keywordflow">if</span> (numParams &gt; Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ac6cd74778d73df50bd4ce476afb91f4b">getRegParmMax</a>()) {</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_regparm_invalid_number)</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;      &lt;&lt; Context.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#ac6cd74778d73df50bd4ce476afb91f4b">getRegParmMax</a>() &lt;&lt; NumParamsExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">setInvalid</a>();</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;  }</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160; </div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;}</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160; </div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;<span class="comment">// Checks whether an argument of launch_bounds attribute is</span></div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;<span class="comment">// acceptable, performs implicit conversion to Rvalue, and returns</span></div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;<span class="comment">// non-nullptr Expr result on success. Otherwise, it returns nullptr</span></div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;<span class="comment">// and may output an error.</span></div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *makeLaunchBoundsArgExpr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Expr.html">Expr</a> *E,</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;                                     <span class="keyword">const</span> CUDALaunchBoundsAttr &amp;AL,</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Idx) {</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a69f55a1c542e724b49a035ceeca1b6ee">DiagnoseUnexpandedParameterPack</a>(E))</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160; </div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;  <span class="comment">// Accept template arguments for now as they depend on something else.</span></div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;  <span class="comment">// We&#39;ll get to check them when they eventually get instantiated.</span></div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;  <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>())</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;    <span class="keywordflow">return</span> E;</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160; </div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;llvm::APSInt&gt;</a> I = <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a>(64);</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;  <span class="keywordflow">if</span> (!(I = E-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>))) {</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;        &lt;&lt; &amp;AL &lt;&lt; Idx &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a> &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;  }</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;  <span class="comment">// Make sure we can fit it in 32 bits.</span></div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;  <span class="keywordflow">if</span> (!I-&gt;isIntN(32)) {</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_ice_too_large)</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;        &lt;&lt; <a class="code" href="namespaceclang_1_1threadSafety_1_1sx.html#ae17443dfb73305637d8d327cc2fd0058">toString</a>(*I, 10, <span class="keyword">false</span>) &lt;&lt; 32 &lt;&lt; <span class="comment">/* Unsigned */</span> 1;</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;  }</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;  <span class="keywordflow">if</span> (*I &lt; 0)</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::warn_attribute_argument_n_negative)</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;        &lt;&lt; &amp;AL &lt;&lt; Idx &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160; </div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;  <span class="comment">// We may need to perform implicit conversion of the argument.</span></div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;  <a class="code" href="classclang_1_1InitializedEntity.html">InitializedEntity</a> Entity = <a class="code" href="classclang_1_1InitializedEntity.html#aa5e72e026c95ee7c907147bb2b2e1462">InitializedEntity::InitializeParameter</a>(</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a517ea1862592f0eb10bf6d20b907287a">getConstType</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>), <span class="comment">/*consume*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;  <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ValArg = S.<a class="code" href="classclang_1_1Sema.html#ad36f57d7a801997658ab43b24034db20">PerformCopyInitialization</a>(Entity, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a>(), E);</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;  assert(!ValArg.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>() &amp;&amp;</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;         <span class="stringliteral">&quot;Unexpected PerformCopyInitialization() failure.&quot;</span>);</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160; </div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;  <span class="keywordflow">return</span> ValArg.<a class="code" href="classclang_1_1ActionResult.html#ae61f73e5f3e09fb136635ebd0d35100f">getAs</a>&lt;<a class="code" href="classclang_1_1Expr.html">Expr</a>&gt;();</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;}</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160; </div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a57c33a6df3c94d6c1c67cafe32a8b164">Sema::AddLaunchBoundsAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;                               <a class="code" href="classclang_1_1Expr.html">Expr</a> *MaxThreads, <a class="code" href="classclang_1_1Expr.html">Expr</a> *MinBlocks) {</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;  CUDALaunchBoundsAttr TmpAttr(Context, CI, MaxThreads, MinBlocks);</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;  MaxThreads = makeLaunchBoundsArgExpr(*<span class="keyword">this</span>, MaxThreads, TmpAttr, 0);</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;  <span class="keywordflow">if</span> (MaxThreads == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160; </div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;  <span class="keywordflow">if</span> (MinBlocks) {</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;    MinBlocks = makeLaunchBoundsArgExpr(*<span class="keyword">this</span>, MinBlocks, TmpAttr, 1);</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;    <span class="keywordflow">if</span> (MinBlocks == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;  }</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160; </div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;                 CUDALaunchBoundsAttr(Context, CI, MaxThreads, MinBlocks));</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;}</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160; </div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleLaunchBoundsAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1) || !AL.<a class="code" href="classclang_1_1ParsedAttr.html#af567be8de0ee90a38d42b3bbc2bee3dd">checkAtMostNumArgs</a>(S, 2))</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160; </div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a57c33a6df3c94d6c1c67cafe32a8b164">AddLaunchBoundsAttr</a>(D, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0),</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;                        AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1 ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1) : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;}</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160; </div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleArgumentWithTypeTagAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="comment">/* arg num = */</span> 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;  }</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160; </div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> ArgumentIdx;</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;  <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AL, 2, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1),</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;                                           ArgumentIdx))</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160; </div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> TypeTagIdx;</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;  <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AL, 3, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(2),</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;                                           TypeTagIdx))</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160; </div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;  <span class="keywordtype">bool</span> IsPointer = AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() == <span class="stringliteral">&quot;pointer_with_type_tag&quot;</span>;</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;  <span class="keywordflow">if</span> (IsPointer) {</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;    <span class="comment">// Ensure that buffer has a pointer type.</span></div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    <span class="keywordtype">unsigned</span> ArgumentIdxAST = ArgumentIdx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>();</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    <span class="keywordflow">if</span> (ArgumentIdxAST &gt;= <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) ||</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;        !<a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, ArgumentIdxAST)-&gt;isPointerType())</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_pointers_only) &lt;&lt; AL &lt;&lt; 0;</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;  }</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160; </div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ArgumentWithTypeTagAttr(</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>, ArgumentIdx, TypeTagIdx,</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;      IsPointer));</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;}</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160; </div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleTypeTagForDatatypeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;  }</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160; </div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160; </div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6aabd195a6676c279955e841296e6f265e">ExpectedVariable</a>;</div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;  }</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160; </div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *PointerKind = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;  <a class="code" href="classclang_1_1TypeSourceInfo.html">TypeSourceInfo</a> *MatchingCTypeLoc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#af01ac7ae5060cb2c8714b3fc034069a2">GetTypeFromParser</a>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1185613e456030a6df6e5687e8c8ba8e">getMatchingCType</a>(), &amp;MatchingCTypeLoc);</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;  assert(MatchingCTypeLoc &amp;&amp; <span class="stringliteral">&quot;no type source info for attribute argument&quot;</span>);</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160; </div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) TypeTagForDatatypeAttr(</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, PointerKind, MatchingCTypeLoc, AL.<a class="code" href="classclang_1_1ParsedAttr.html#acfba30764741d4d84417952239df7845">getLayoutCompatible</a>(),</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;      AL.<a class="code" href="classclang_1_1ParsedAttr.html#a8a86f4cf4eaa54fa3809eae4b8f925e0">getMustBeNull</a>()));</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;}</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;<span class="comment">/// Give a warning for duplicate attributes, return true if duplicate.</span></div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrType&gt;</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkForDuplicateAttribute(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a>) {</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;  <span class="comment">// Give a warning for duplicates but not if it&#39;s one we&#39;ve implicitly added.</span></div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;  <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AttrType&gt;();</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;  <span class="keywordflow">if</span> (A &amp;&amp; !A-&gt;isImplicit()) {</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute_exact) &lt;&lt; A;</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;  }</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;}</div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160; </div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a99bfe9921eee10e208a83f4e74f86bb8">Sema::AddSYCLIntelNoGlobalWorkOffsetAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;                                              <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160; </div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelNoGlobalWorkOffsetAttr&gt;()) {</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;        }</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;      }</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;    }</div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;  }</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160; </div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLIntelNoGlobalWorkOffsetAttr(Context, CI, E));</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;}</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160; </div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;SYCLIntelNoGlobalWorkOffsetAttr *<a class="code" href="classclang_1_1Sema.html#af9607fd10f0eafa9a0a16f92ce47f2cb">Sema::MergeSYCLIntelNoGlobalWorkOffsetAttr</a>(</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelNoGlobalWorkOffsetAttr &amp;A) {</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelNoGlobalWorkOffsetAttr&gt;()) {</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;        }</div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;      }</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;    }</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;  }</div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;      SYCLIntelNoGlobalWorkOffsetAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;}</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160; </div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelNoGlobalWorkOffsetAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;  <span class="comment">// If no attribute argument is specified, set to default value &#39;1&#39;.</span></div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = A.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(0)</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;                ? A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0)</div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;                : <a class="code" href="classclang_1_1IntegerLiteral.html#a68782c17506bd26183c21aa2bf9dc1d7">IntegerLiteral::Create</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <a class="code" href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">llvm::APInt</a>(32, 1),</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;                                         S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>, A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>());</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160; </div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a99bfe9921eee10e208a83f4e74f86bb8">AddSYCLIntelNoGlobalWorkOffsetAttr</a>(D, A, E);</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;}</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;<span class="comment">/// Handle the [[intel::singlepump]] attribute.</span></div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelFPGASinglePumpAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;  checkForDuplicateAttribute&lt;IntelFPGASinglePumpAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160; </div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;  <span class="comment">// If the declaration does not have an [[intel::fpga_memory]]</span></div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;  <span class="comment">// attribute, this creates one as an implicit attribute.</span></div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160; </div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) IntelFPGASinglePumpAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;}</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;<span class="comment">/// Handle the [[intel::doublepump]] attribute.</span></div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelFPGADoublePumpAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;  checkForDuplicateAttribute&lt;IntelFPGADoublePumpAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160; </div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;  <span class="comment">// If the declaration does not have an [[intel::fpga_memory]]</span></div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;  <span class="comment">// attribute, this creates one as an implicit attribute.</span></div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160; </div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) IntelFPGADoublePumpAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;}</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;<span class="comment">/// Handle the [[intel::fpga_memory]] attribute.</span></div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;<span class="comment">/// This is incompatible with the [[intel::fpga_register]] attribute.</span></div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGAMemoryAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;  checkForDuplicateAttribute&lt;IntelFPGAMemoryAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;  <span class="keywordflow">if</span> (checkAttrMutualExclusion&lt;IntelFPGARegisterAttr&gt;(S, D, AL))</div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160; </div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;  IntelFPGAMemoryAttr::MemoryKind <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>;</div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0)</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;    <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> = IntelFPGAMemoryAttr::Default;</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;    StringRef Str;</div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;    <span class="keywordflow">if</span> (Str.empty() ||</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;        !IntelFPGAMemoryAttr::ConvertStrToMemoryKind(Str, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)) {</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;      <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;256&gt;</a> ValidStrings;</div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;      IntelFPGAMemoryAttr::generateValidStrings(ValidStrings);</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_intel_fpga_memory_arg_invalid)</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;          &lt;&lt; AL &lt;&lt; ValidStrings;</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;    }</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;  }</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160; </div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;  <span class="comment">// We are adding a user memory attribute, drop any implicit default.</span></div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;    <span class="keywordflow">if</span> (MA-&gt;isImplicit())</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;IntelFPGAMemoryAttr&gt;();</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160; </div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) IntelFPGAMemoryAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>));</div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;}</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;<span class="comment">/// Check for and diagnose attributes incompatible with register.</span></div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;<span class="comment">/// return true if any incompatible attributes exist.</span></div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> checkIntelFPGARegisterAttrCompatibility(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a>) {</div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;  <span class="keywordtype">bool</span> InCompat = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;    <span class="keywordflow">if</span> (!MA-&gt;isImplicit() &amp;&amp;</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;        checkAttrMutualExclusion&lt;IntelFPGAMemoryAttr&gt;(S, D, <a class="code" href="classclang_1_1Attr.html">Attr</a>))</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;      InCompat = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160; </div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;  <span class="keywordflow">return</span> InCompat;</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;}</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;<span class="comment">/// Handle the [[intel::fpga_register]] attribute.</span></div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;<span class="comment">/// This is incompatible with most of the other memory attributes.</span></div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGARegisterAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;  checkForDuplicateAttribute&lt;IntelFPGARegisterAttr&gt;(S, D, A);</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;  <span class="keywordflow">if</span> (checkIntelFPGARegisterAttrCompatibility(S, D, A))</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160; </div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;  handleSimpleAttribute&lt;IntelFPGARegisterAttr&gt;(S, D, A);</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;}</div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;<span class="comment">/// Handle the [[intel::bankwidth]] and [[intel::numbanks]] attributes.</span></div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;<span class="comment">/// These require a single constant power of two greater than zero.</span></div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;<span class="comment">/// These are incompatible with the register attribute.</span></div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;<span class="comment">/// The numbanks and bank_bits attributes are related.  If bank_bits exists</span></div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;<span class="comment">/// when handling numbanks they are checked for consistency.</span></div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a83adc0e369f33e9177d5cec74c1638ec">Sema::AddIntelFPGABankWidthAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;                                     <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160; </div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;    <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;    }</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160; </div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;    <span class="comment">// This attribute requires a single constant power of two greater than zero.</span></div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;    <span class="keywordflow">if</span> (!ArgVal.isPowerOf2()) {</div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_argument_not_power_of_two)</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;          &lt;&lt; CI;</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;    }</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160; </div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGABankWidthAttr&gt;()) {</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;        }</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;      }</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;    }</div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;  }</div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160; </div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;  <span class="comment">// If the declaration does not have an [[intel::fpga_memory]]</span></div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;  <span class="comment">// attribute, this creates one as an implicit attribute.</span></div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;        Context, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160; </div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) IntelFPGABankWidthAttr(Context, CI, E));</div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;}</div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160; </div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;IntelFPGABankWidthAttr *</div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;<a class="code" href="classclang_1_1Sema.html#a2ede9a6e1997f827604458045541e339">Sema::MergeIntelFPGABankWidthAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> IntelFPGABankWidthAttr &amp;A) {</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGABankWidthAttr&gt;()) {</div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue());</div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue());</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;    <span class="keywordflow">if</span> (DeclExpr &amp;&amp; MergeExpr &amp;&amp;</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;        DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;    }</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;  }</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160; </div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;  return ::new (Context) IntelFPGABankWidthAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;}</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160; </div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGABankWidthAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a83adc0e369f33e9177d5cec74c1638ec">AddIntelFPGABankWidthAttr</a>(D, A, A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;}</div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160; </div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a4c5972da4ab29deebf57316eb4c2200b">Sema::AddIntelFPGANumBanksAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;                                    <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160; </div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;    <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;    }</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160; </div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;    <span class="comment">// This attribute requires a single constant power of two greater than zero.</span></div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;    <span class="keywordflow">if</span> (!ArgVal.isPowerOf2()) {</div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_argument_not_power_of_two)</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;          &lt;&lt; CI;</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;    }</div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160; </div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;    <span class="comment">// Check or add the related BankBits attribute.</span></div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BBA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGABankBitsAttr&gt;()) {</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;      <span class="keywordtype">unsigned</span> NumBankBits = BBA-&gt;args_size();</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;      <span class="keywordflow">if</span> (NumBankBits != ArgVal.ceilLogBase2()) {</div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_bankbits_numbanks_conflicting) &lt;&lt; CI;</div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;      }</div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;    }</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160; </div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGANumBanksAttr&gt;()) {</div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;        }</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;      }</div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;    }</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;  }</div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160; </div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;  <span class="comment">// If the declaration does not have an [[intel::fpga_memory]]</span></div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;  <span class="comment">// attribute, this creates one as an implicit attribute.</span></div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;        Context, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160; </div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;  <span class="comment">// We are adding a user NumBanks attribute, drop any implicit default.</span></div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *NBA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGANumBanksAttr&gt;()) {</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;    <span class="keywordflow">if</span> (NBA-&gt;isImplicit())</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;IntelFPGANumBanksAttr&gt;();</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;  }</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160; </div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) IntelFPGANumBanksAttr(Context, CI, E));</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;}</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160; </div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;IntelFPGANumBanksAttr *</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;<a class="code" href="classclang_1_1Sema.html#aef57d20b122f492ebff2dbef6a29ed9a">Sema::MergeIntelFPGANumBanksAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> IntelFPGANumBanksAttr &amp;A) {</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGANumBanksAttr&gt;()) {</div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue());</div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue());</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;    <span class="keywordflow">if</span> (DeclExpr &amp;&amp; MergeExpr &amp;&amp;</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;        DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;    }</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;  }</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160; </div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;  return ::new (Context) IntelFPGANumBanksAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;}</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160; </div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGANumBanksAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a4c5972da4ab29deebf57316eb4c2200b">AddIntelFPGANumBanksAttr</a>(D, A, A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;}</div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160; </div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGASimpleDualPortAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;  checkForDuplicateAttribute&lt;IntelFPGASimpleDualPortAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160; </div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160; </div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;                 IntelFPGASimpleDualPortAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;}</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160; </div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#aba40da784200469100c172bffdb61df4">Sema::AddIntelFPGAMaxReplicatesAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;                                         <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;    <span class="comment">// This attribute requires a strictly positive value.</span></div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt;= 0) {</div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*positive*/</span> 0;</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;    }</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGAMaxReplicatesAttr&gt;()) {</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;        }</div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;      }</div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;    }</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;  }</div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160; </div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;  <span class="comment">// If the declaration does not have an [[intel::fpga_memory]]</span></div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;  <span class="comment">// attribute, this creates one as an implicit attribute.</span></div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;        Context, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160; </div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) IntelFPGAMaxReplicatesAttr(Context, CI, E));</div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;}</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160; </div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;IntelFPGAMaxReplicatesAttr *</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;<a class="code" href="classclang_1_1Sema.html#abe7399aec8bd64d8e95579dbbda907a6">Sema::MergeIntelFPGAMaxReplicatesAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;                                      <span class="keyword">const</span> IntelFPGAMaxReplicatesAttr &amp;A) {</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGAMaxReplicatesAttr&gt;()) {</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;        }</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;      }</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;    }</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;  }</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160; </div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;  return ::new (Context) IntelFPGAMaxReplicatesAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;}</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160; </div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGAMaxReplicatesAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#aba40da784200469100c172bffdb61df4">AddIntelFPGAMaxReplicatesAttr</a>(D, A, A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;}</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;<span class="comment">/// Handle the merge attribute.</span></div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;<span class="comment">/// This requires two string arguments.  The first argument is a name, the</span></div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;<span class="comment">/// second is a direction.  The direction must be &quot;depth&quot; or &quot;width&quot;.</span></div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;<span class="comment">/// This is incompatible with the register attribute.</span></div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGAMergeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;  checkForDuplicateAttribute&lt;IntelFPGAMergeAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160; </div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 2&gt;</a> Results;</div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> I = 0; I &lt; 2; I++) {</div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;    StringRef Str;</div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, I, Str))</div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160; </div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;    <span class="keywordflow">if</span> (I == 1 &amp;&amp; Str != <span class="stringliteral">&quot;depth&quot;</span> &amp;&amp; Str != <span class="stringliteral">&quot;width&quot;</span>) {</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_intel_fpga_merge_dir_invalid) &lt;&lt; AL;</div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;    }</div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;    Results.push_back(Str);</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;  }</div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160; </div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160; </div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;                 IntelFPGAMergeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Results[0], Results[1]));</div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;}</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;<span class="comment">/// Handle the bank_bits attribute.</span></div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;<span class="comment">/// This attribute accepts a list of values greater than zero.</span></div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;<span class="comment">/// This is incompatible with the register attribute.</span></div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;<span class="comment">/// The numbanks and bank_bits attributes are related. If numbanks exists</span></div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;<span class="comment">/// when handling bank_bits they are checked for consistency. If numbanks</span></div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;<span class="comment">/// hasn&#39;t been added yet an implicit one is added with the correct value.</span></div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;<span class="comment">/// If the user later adds a numbanks attribute the implicit one is removed.</span></div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;<span class="comment">/// The values must be consecutive values (i.e. 3,4,5 or 2,1).</span></div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGABankBitsAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;  checkForDuplicateAttribute&lt;IntelFPGABankBitsAttr&gt;(S, D, A);</div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160; </div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;  <span class="keywordflow">if</span> (!A.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160; </div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 8&gt;</a> Args;</div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++I) {</div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;    Args.push_back(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;  }</div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160; </div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a3993a9ad89ea4dd89119f9e654068ada">AddIntelFPGABankBitsAttr</a>(D, A, Args.data(), Args.size());</div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;}</div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160; </div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a3993a9ad89ea4dd89119f9e654068ada">Sema::AddIntelFPGABankBitsAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;                                    <a class="code" href="classclang_1_1Expr.html">Expr</a> **Exprs, <span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;  IntelFPGABankBitsAttr TmpAttr(Context, CI, Exprs, Size);</div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 8&gt;</a> Args;</div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int64_t, 8&gt;</a> Values;</div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;  <span class="keywordtype">bool</span> ListIsValueDep = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *E : TmpAttr.args()) {</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> <a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880">Value</a>(32, <span class="comment">/*IsUnsigned=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;    <a class="code" href="structclang_1_1Expr_1_1EvalResult.html">Expr::EvalResult</a> Result;</div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;    ListIsValueDep = ListIsValueDep || E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>();</div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;    <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;      <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> ICE = VerifyIntegerConstantExpression(E, &amp;<a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880">Value</a>);</div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;      <span class="keywordflow">if</span> (ICE.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880">Value</a>.isNonNegative()) {</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;            &lt;&lt; CI &lt;&lt; <span class="comment">/*non-negative*/</span> 1;</div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;      }</div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;      E = ICE.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;    }</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;    Args.push_back(E);</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;    Values.push_back(<a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880">Value</a>.getExtValue());</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;  }</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160; </div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;  <span class="comment">// Check that the list is consecutive.</span></div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;  <span class="keywordflow">if</span> (!ListIsValueDep &amp;&amp; Values.size() &gt; 1) {</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;    <span class="keywordtype">bool</span> ListIsAscending = Values[0] &lt; Values[1];</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> I = 0, E = Values.size() - 1; I &lt; E; ++I) {</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;      <span class="keywordflow">if</span> (Values[I + 1] != Values[I] + (ListIsAscending ? 1 : -1)) {</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_bankbits_non_consecutive) &lt;&lt; &amp;TmpAttr;</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;      }</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;    }</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;  }</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160; </div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;  <span class="comment">// Check or add the related numbanks attribute.</span></div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *NBA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGANumBanksAttr&gt;()) {</div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = NBA-&gt;getValue();</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;    <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;      <a class="code" href="structclang_1_1Expr_1_1EvalResult.html">Expr::EvalResult</a> Result;</div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;      E-&gt;<a class="code" href="classclang_1_1Expr.html#a0f6e749cb5925e01a5f08377f1d95d0a">EvaluateAsInt</a>(Result, Context);</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;      <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> <a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880">Value</a> = Result.Val.getInt();</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;      <span class="keywordflow">if</span> (Args.size() != <a class="code" href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880">Value</a>.ceilLogBase2()) {</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(TmpAttr.getLoc(), diag::err_bankbits_numbanks_conflicting);</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;      }</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;    }</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;    <a class="code" href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">llvm::APInt</a> Num(32, (<span class="keywordtype">unsigned</span>)(1 &lt;&lt; Args.size()));</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *NBE =</div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;        <a class="code" href="classclang_1_1IntegerLiteral.html#a68782c17506bd26183c21aa2bf9dc1d7">IntegerLiteral::Create</a>(Context, Num, Context.<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a>());</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGANumBanksAttr::CreateImplicit(Context, NBE));</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;  }</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160; </div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;        Context, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160; </div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;                 IntelFPGABankBitsAttr(Context, CI, Args.data(), Args.size()));</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;}</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160; </div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a588d60a36016f23f0cb2806e7b3c1b53">Sema::AddIntelFPGAPrivateCopiesAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;                                         <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;    <span class="comment">// This attribute requires a non-negative value.</span></div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt; 0) {</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*non-negative*/</span> 1;</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;    }</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGAPrivateCopiesAttr&gt;()) {</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;        }</div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;      }</div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;    }</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;  }</div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160; </div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;  <span class="comment">// If the declaration does not have [[intel::fpga_memory]]</span></div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;  <span class="comment">// attribute, this creates default implicit memory.</span></div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;        Context, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160; </div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) IntelFPGAPrivateCopiesAttr(Context, CI, E));</div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;}</div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160; </div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGAPrivateCopiesAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a588d60a36016f23f0cb2806e7b3c1b53">AddIntelFPGAPrivateCopiesAttr</a>(D, A, A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;}</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160; </div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a116343cf997daa43cdcfaf6c6b89e237">Sema::AddIntelFPGAForcePow2DepthAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;                                          <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160; </div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;    <span class="comment">// This attribute requires a range of values.</span></div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt; 0 || ArgVal &gt; 1) {</div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_argument_out_of_range)</div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;          &lt;&lt; CI &lt;&lt; 0 &lt;&lt; 1 &lt;&lt; E-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;    }</div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160; </div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGAForcePow2DepthAttr&gt;()) {</div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;        }</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;        <span class="comment">// If there is no mismatch, drop any duplicate attributes.</span></div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;      }</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;    }</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;  }</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160; </div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;  <span class="comment">// If the declaration does not have an [[intel::fpga_memory]]</span></div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;  <span class="comment">// attribute, this creates one as an implicit attribute.</span></div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;  <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;IntelFPGAMemoryAttr&gt;())</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IntelFPGAMemoryAttr::CreateImplicit(</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;        Context, IntelFPGAMemoryAttr::Default));</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160; </div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) IntelFPGAForcePow2DepthAttr(Context, CI, E));</div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;}</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160; </div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;IntelFPGAForcePow2DepthAttr *</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;<a class="code" href="classclang_1_1Sema.html#a4fa650452971fb846e9d3a2f63b1e45e">Sema::MergeIntelFPGAForcePow2DepthAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;                                       <span class="keyword">const</span> IntelFPGAForcePow2DepthAttr &amp;A) {</div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelFPGAForcePow2DepthAttr&gt;()) {</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getValue())) {</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getValue())) {</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;        }</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;        <span class="comment">// If there is no mismatch, drop any duplicate attributes.</span></div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;      }</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;    }</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;  }</div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160; </div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;  return ::new (Context) IntelFPGAForcePow2DepthAttr(Context, A, A.getValue());</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;}</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160; </div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleIntelFPGAForcePow2DepthAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a116343cf997daa43cdcfaf6c6b89e237">AddIntelFPGAForcePow2DepthAttr</a>(D, A, A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;}</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160; </div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleXRayLogArgsAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> ArgCount;</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160; </div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;  <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AL, 1, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0),</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;                                           ArgCount,</div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;                                           <span class="keyword">true</span> <span class="comment">/* CanIndexImplicitThis */</span>))</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160; </div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;  <span class="comment">// ArgCount isn&#39;t a parameter index [0;n), it&#39;s a count [1;n]</span></div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;                 XRayLogArgsAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, ArgCount.<a class="code" href="classclang_1_1ParamIdx.html#a62d65ba307efac5f42ae7488fc68f2cf">getSourceIndex</a>()));</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;}</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160; </div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handlePatchableFunctionEntryAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;  uint32_t Count = 0, <a class="code" href="Format_8cpp.html#a9fcf84dffafb0ea03c0f9b686ddbf2b3">Offset</a> = 0;</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0), Count, 0, <span class="keyword">true</span>))</div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 2) {</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *Arg = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1);</div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, Arg, <a class="code" href="Format_8cpp.html#a9fcf84dffafb0ea03c0f9b686ddbf2b3">Offset</a>, 1, <span class="keyword">true</span>))</div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;    <span class="keywordflow">if</span> (Count &lt; <a class="code" href="Format_8cpp.html#a9fcf84dffafb0ea03c0f9b686ddbf2b3">Offset</a>) {</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a>(AL), diag::err_attribute_argument_out_of_range)</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;          &lt;&lt; &amp;AL &lt;&lt; 0 &lt;&lt; Count &lt;&lt; Arg-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>();</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;    }</div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;  }</div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;                 PatchableFunctionEntryAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Count, <a class="code" href="Format_8cpp.html#a9fcf84dffafb0ea03c0f9b686ddbf2b3">Offset</a>));</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;}</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160; </div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#af4dce621d5b24cbf26188c24a6878033">Sema::addSYCLIntelPipeIOAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;                                  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;  <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *VD = cast&lt;VarDecl&gt;(D);</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;  <span class="comment">// TODO: Applicable only on pipe storages. Currently they are defined</span></div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;  <span class="comment">// as structures inside of SYCL headers. Add a check for pipe_storage_t</span></div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;  <span class="comment">// when it is ready.</span></div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;  <span class="keywordflow">if</span> (!Ty-&gt;<a class="code" href="classclang_1_1Type.html#a02e572bb27d5f79ff36f66ddc036d1f0">isStructureType</a>()) {</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_wrong_decl_type_str)</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;        &lt;&lt; CI &lt;&lt; <span class="stringliteral">&quot;SYCL pipe storage declaration&quot;</span>;</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;  }</div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160; </div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;    <span class="comment">// Validate that we have an integer constant expression and then store the</span></div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;    <span class="comment">// converted constant expression into the semantic attribute so that we</span></div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;    <span class="comment">// don&#39;t have to evaluate it again later.</span></div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160; </div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;    <span class="comment">// This attribute requires a non-negative value.</span></div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt; 0) {</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*non-negative*/</span> 1;</div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;    }</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160; </div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;    <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;    <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelPipeIOAttr&gt;()) {</div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;      <span class="comment">// If the other attribute argument is instantiation dependent, we won&#39;t</span></div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;      <span class="comment">// have converted it to a constant expression yet and thus we test</span></div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;      <span class="comment">// whether this is a null pointer.</span></div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getID())) {</div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;        <span class="keywordflow">if</span> (ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;        }</div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;        <span class="comment">// Drop the duplicate attribute.</span></div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;      }</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;    }</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;  }</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160; </div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLIntelPipeIOAttr(Context, CI, E));</div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;}</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160; </div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;SYCLIntelPipeIOAttr *</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;<a class="code" href="classclang_1_1Sema.html#a640104bde18ff6448eedd2321c65a1fe">Sema::MergeSYCLIntelPipeIOAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelPipeIOAttr &amp;A) {</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelPipeIOAttr&gt;()) {</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getID())) {</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getID())) {</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;        <span class="keywordflow">if</span> (DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::err_disallowed_duplicate_attribute)</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;              &lt;&lt; &amp;A;</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;          <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;        }</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;        <span class="comment">// Do not add a duplicate attribute.</span></div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;      }</div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;    }</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;  }</div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160; </div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;  return ::new (Context) SYCLIntelPipeIOAttr(Context, A, A.getID());</div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;}</div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160; </div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLIntelPipeIOAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#af4dce621d5b24cbf26188c24a6878033">addSYCLIntelPipeIOAttr</a>(D, A, E);</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;}</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160; </div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;SYCLIntelFPGAMaxConcurrencyAttr *<a class="code" href="classclang_1_1Sema.html#a8e4339d482d82f4506415c666b67751f">Sema::MergeSYCLIntelFPGAMaxConcurrencyAttr</a>(</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLIntelFPGAMaxConcurrencyAttr &amp;A) {</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;  <span class="comment">// Check to see if there&#39;s a duplicate attribute with different values</span></div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;  <span class="comment">// already applied to the declaration.</span></div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelFPGAMaxConcurrencyAttr&gt;()) {</div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr = dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getNThreadsExpr());</div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *MergeExpr = dyn_cast&lt;ConstantExpr&gt;(A.getNThreadsExpr());</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;    <span class="keywordflow">if</span> (DeclExpr &amp;&amp; MergeExpr &amp;&amp;</div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;        DeclExpr-&gt;getResultAsAPSInt() != MergeExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::warn_duplicate_attribute) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;    }</div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;  }</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160; </div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;      SYCLIntelFPGAMaxConcurrencyAttr(Context, A, A.getNThreadsExpr());</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;}</div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160; </div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a4206a4c787485a03460cf2b2d9d1a38b">Sema::AddSYCLIntelFPGAMaxConcurrencyAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;                                              <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;  <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()) {</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;    <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a> ArgVal;</div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;    <a class="code" href="classclang_1_1ActionResult.html">ExprResult</a> Res = VerifyIntegerConstantExpression(E, &amp;ArgVal);</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;    <span class="keywordflow">if</span> (Res.<a class="code" href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">isInvalid</a>())</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;    E = Res.<a class="code" href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">get</a>();</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160; </div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;    <span class="comment">// This attribute requires a non-negative value.</span></div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;    <span class="keywordflow">if</span> (ArgVal &lt; 0) {</div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_attribute_requires_positive_integer)</div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;          &lt;&lt; CI &lt;&lt; <span class="comment">/*non-negative*/</span> 1;</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;    }</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160; </div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DeclAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelFPGAMaxConcurrencyAttr&gt;()) {</div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *DeclExpr =</div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;          dyn_cast&lt;ConstantExpr&gt;(DeclAttr-&gt;getNThreadsExpr());</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;      <span class="keywordflow">if</span> (DeclExpr &amp;&amp; ArgVal != DeclExpr-&gt;getResultAsAPSInt()) {</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; CI;</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(DeclAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;      }</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;    }</div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;  }</div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160; </div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLIntelFPGAMaxConcurrencyAttr(Context, CI, E));</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;}</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160; </div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SemaStmtAttr_8cpp.html#a4db93cf4fd15e8cfd0702ee32c3dc1bf">handleSYCLIntelFPGAMaxConcurrencyAttr</a>(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a4206a4c787485a03460cf2b2d9d1a38b">AddSYCLIntelFPGAMaxConcurrencyAttr</a>(D, A, E);</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;}</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160; </div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;<span class="comment">// Checks if an expression is a valid filter list for an add_ir_attributes_*</span></div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;<span class="comment">// attribute. Returns true if an error occured.</span></div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkAddIRAttributesFilterListExpr(<a class="code" href="classclang_1_1Expr.html">Expr</a> *FilterListArg, <a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S,</div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *FilterListE = cast&lt;InitListExpr&gt;(FilterListArg);</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *FilterElemE : FilterListE-&gt;inits())</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;StringLiteral&gt;(FilterElemE))</div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;      <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FilterElemE-&gt;getBeginLoc(),</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;                    diag::err_sycl_add_ir_attribute_invalid_filter)</div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;             &lt;&lt; CI;</div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;}</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160; </div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;<span class="comment">// Returns true if a type is either an array of char or a pointer to char.</span></div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isAddIRAttributesValidStringType(<a class="code" href="classclang_1_1QualType.html">QualType</a> T) {</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;  <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#a2c11a3a0ab42e6a9aca748967de1ede8">isArrayType</a>() &amp;&amp; !T-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>())</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ElemT = T-&gt;<a class="code" href="classclang_1_1Type.html#a2c11a3a0ab42e6a9aca748967de1ede8">isArrayType</a>()</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;                       ? cast&lt;ArrayType&gt;(T.<a class="code" href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">getTypePtr</a>())-&gt;getElementType()</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;                       : T-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;  <span class="keywordflow">return</span> ElemT.<a class="code" href="classclang_1_1QualType.html#aca156152b1a49b67df130233ccb77a29">isConstQualified</a>() &amp;&amp; ElemT-&gt;<a class="code" href="classclang_1_1Type.html#a2c9850e71c1c771e229b962699ddaa19">isCharType</a>();</div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;}</div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160; </div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;<span class="comment">// Checks if an expression is a valid attribute name for an add_ir_attributes_*</span></div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;<span class="comment">// attribute. Returns true if an error occured.</span></div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkAddIRAttributesNameExpr(<a class="code" href="classclang_1_1Expr.html">Expr</a> *NameArg, <a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S,</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;  <span class="comment">// Only strings and const char * are valid name arguments.</span></div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;  <span class="keywordflow">if</span> (isAddIRAttributesValidStringType(NameArg-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()))</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160; </div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;  <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(NameArg-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(),</div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;                diag::err_sycl_add_ir_attribute_invalid_name)</div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;         &lt;&lt; CI;</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;}</div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160; </div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;<span class="comment">// Checks if an expression is a valid attribute value for an add_ir_attributes_*</span></div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;<span class="comment">// attribute. Returns true if an error occured.</span></div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkAddIRAttributesValueExpr(<a class="code" href="classclang_1_1Expr.html">Expr</a> *ValArg, <a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S,</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ValType = ValArg-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>();</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;  <span class="keywordflow">if</span> (isAddIRAttributesValidStringType(ValType) || ValType-&gt;<a class="code" href="classclang_1_1Type.html#adf9c6d2a06193650855cc26c601846fe">isNullPtrType</a>() ||</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;      ValType-&gt;<a class="code" href="classclang_1_1Type.html#a58b6f352a1bd0963e500a4e902c4e74c">isIntegralOrEnumerationType</a>() || ValType-&gt;<a class="code" href="classclang_1_1Type.html#acce830e9845ef21b901c5473105e2eda">isFloatingType</a>())</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160; </div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;  <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(ValArg-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(),</div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;                diag::err_sycl_add_ir_attribute_invalid_value)</div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;         &lt;&lt; CI;</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;}</div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160; </div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;<span class="comment">// Checks and evaluates arguments of an add_ir_attributes_* attribute. Returns</span></div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;<span class="comment">// true if an error occured.</span></div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> evaluateAddIRAttributesArgs(<a class="code" href="classclang_1_1Expr.html">Expr</a> **Args, <span class="keywordtype">size_t</span> ArgsSize, <a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S,</div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Context = S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>();</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160; </div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;  <span class="comment">// Check filter list if it is the first argument.</span></div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;  <span class="keywordtype">bool</span> HasFilter = ArgsSize &amp;&amp; isa&lt;InitListExpr&gt;(Args[0]);</div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;  <span class="keywordflow">if</span> (HasFilter &amp;&amp; checkAddIRAttributesFilterListExpr(Args[0], S, CI))</div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160; </div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;PartialDiagnosticAt, 8&gt;</a> Notes;</div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;  <span class="keywordtype">bool</span> HasDependentArg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = HasFilter; I &lt; ArgsSize; I++) {</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *&amp;E = Args[I];</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160; </div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;    <span class="keywordflow">if</span> (isa&lt;InitListExpr&gt;(E))</div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;      <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(),</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;                    diag::err_sycl_add_ir_attr_filter_list_invalid_arg)</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;             &lt;&lt; CI;</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160; </div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() || E-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>()) {</div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;      HasDependentArg = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;    }</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160; </div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;    <a class="code" href="structclang_1_1Expr_1_1EvalResult.html">Expr::EvalResult</a> Eval;</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;    Eval.<a class="code" href="structclang_1_1Expr_1_1EvalStatus.html#a7488cd40b42a4151922651a53a4fe936">Diag</a> = &amp;Notes;</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;    <span class="keywordflow">if</span> (!E-&gt;<a class="code" href="classclang_1_1Expr.html#a94894bb73fbf5675123327560d3c8568">EvaluateAsConstantExpr</a>(Eval, Context) || !Notes.empty()) {</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;          &lt;&lt; CI &lt;&lt; (I + 1) &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca9dc817d1f3f2239c873381c657af2d64">AANT_ArgumentConstantExpr</a>;</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Note : Notes)</div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="namespaceclang_1_1serialized__diags.html#aff3d77d6832f7e576d1f410a478997aaa5c7281567c5fe43cde001bd23a8391d4">Note</a>.first, <a class="code" href="namespaceclang_1_1serialized__diags.html#aff3d77d6832f7e576d1f410a478997aaa5c7281567c5fe43cde001bd23a8391d4">Note</a>.second);</div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;    }</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;    assert(Eval.<a class="code" href="structclang_1_1Expr_1_1EvalResult.html#a94083629a969e7faa7812eb84a7ecd24">Val</a>.<a class="code" href="classclang_1_1APValue.html#a729b2c00806b977fd000fcec15f28c27">hasValue</a>());</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;    E = <a class="code" href="classclang_1_1ConstantExpr.html#a9c075760ac34f144d8b0577d207ffa6d">ConstantExpr::Create</a>(Context, E, Eval.<a class="code" href="structclang_1_1Expr_1_1EvalResult.html#a94083629a969e7faa7812eb84a7ecd24">Val</a>);</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;  }</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160; </div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;  <span class="comment">// If there are no dependent expressions, check for expected number of args.</span></div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;  <span class="keywordflow">if</span> (!HasDependentArg &amp;&amp; ArgsSize &amp;&amp; (ArgsSize - HasFilter) &amp; 1)</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;    <span class="keywordflow">return</span> S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_sycl_add_ir_attribute_must_have_pairs)</div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;           &lt;&lt; CI;</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160; </div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;  <span class="comment">// If there are no dependent expressions, check argument types.</span></div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;  <span class="comment">// First half of the arguments are names, the second half are values.</span></div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;  <span class="keywordtype">unsigned</span> MidArg = (ArgsSize - HasFilter) / 2 + HasFilter;</div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;  <span class="keywordflow">if</span> (!HasDependentArg) {</div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = HasFilter; I &lt; ArgsSize; ++I) {</div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;      <span class="keywordflow">if</span> ((I &lt; MidArg &amp;&amp; checkAddIRAttributesNameExpr(Args[I], S, CI)) ||</div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;          (I &gt;= MidArg &amp;&amp; checkAddIRAttributesValueExpr(Args[I], S, CI)))</div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;    }</div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;  }</div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;}</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160; </div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> hasDependentExpr(<a class="code" href="classclang_1_1Expr.html">Expr</a> **Exprs, <span class="keyword">const</span> <span class="keywordtype">size_t</span> ExprsSize) {</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;  <span class="keywordflow">return</span> std::any_of(Exprs, Exprs + ExprsSize, [](<span class="keyword">const</span> <a class="code" href="classclang_1_1Expr.html">Expr</a> *E) {</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;    <span class="keywordflow">return</span> E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() || E-&gt;<a class="code" href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">isTypeDependent</a>();</div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;  });</div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;}</div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160; </div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> hasSameSYCLAddIRAttributes(</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;std::pair&lt;std::string, std::string&gt;, 4&gt; &amp;LAttrs,</div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;std::pair&lt;std::string, std::string&gt;, 4&gt; &amp;RAttrs) {</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;  std::set&lt;std::pair&lt;std::string, std::string&gt;&gt; LNameValSet{LAttrs.begin(),</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;                                                            LAttrs.end()};</div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;  std::set&lt;std::pair&lt;std::string, std::string&gt;&gt; RNameValSet{RAttrs.begin(),</div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;                                                            RAttrs.end()};</div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;  <span class="keywordflow">return</span> LNameValSet == RNameValSet;</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;}</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160; </div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AddIRAttrT&gt;</div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkSYCLAddIRAttributesMergeability(<span class="keyword">const</span> AddIRAttrT &amp;NewAttr,</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;                                                 <span class="keyword">const</span> AddIRAttrT &amp;ExistingAttr,</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;                                                 <a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S) {</div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Context = S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>();</div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;  <span class="comment">// If there are no dependent argument expressions and the filters or the</span></div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;  <span class="comment">// attributes are different, then fail due to differing duplicates.</span></div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;  <span class="keywordflow">if</span> (!hasDependentExpr(NewAttr.args_begin(), NewAttr.args_size()) &amp;&amp;</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;      !hasDependentExpr(ExistingAttr.args_begin(), ExistingAttr.args_size()) &amp;&amp;</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;      (NewAttr.getAttributeFilter() != ExistingAttr.getAttributeFilter() ||</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;       !hasSameSYCLAddIRAttributes(</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;           NewAttr.getAttributeNameValuePairs(Context),</div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;           ExistingAttr.getAttributeNameValuePairs(Context)))) {</div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(ExistingAttr.getLoc(), diag::err_duplicate_attribute) &lt;&lt; &amp;NewAttr;</div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(NewAttr.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;  }</div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;}</div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160; </div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;SYCLAddIRAttributesFunctionAttr *<a class="code" href="classclang_1_1Sema.html#a5a338b92ad0aa77589c06fc298db923c">Sema::MergeSYCLAddIRAttributesFunctionAttr</a>(</div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLAddIRAttributesFunctionAttr &amp;A) {</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr =</div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;          D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLAddIRAttributesFunctionAttr&gt;()) {</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;    checkSYCLAddIRAttributesMergeability(A, *ExistingAttr, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;  }</div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;  <span class="keywordflow">return</span> A.clone(Context);</div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;}</div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160; </div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#ade6bf90a93756865b38488b3e441d2e5">Sema::AddSYCLAddIRAttributesFunctionAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;                                              <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;Expr *&gt;</a> Args) {</div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FuncD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;    <span class="keywordflow">if</span> (FuncD-&gt;isDefaulted()) {</div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_disallow_attribute_on_func) &lt;&lt; CI &lt;&lt; 1;</div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;    }</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;    <span class="keywordflow">if</span> (FuncD-&gt;isDeleted()) {</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_disallow_attribute_on_func) &lt;&lt; CI &lt;&lt; 2;</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;    }</div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;  }</div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160; </div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classclang_1_1Attr.html">Attr</a> = SYCLAddIRAttributesFunctionAttr::Create(Context, Args.data(),</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;                                                       Args.size(), CI);</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;  <span class="keywordflow">if</span> (evaluateAddIRAttributesArgs(<a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_begin(), <a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_size(), *<span class="keyword">this</span>,</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;                                  CI))</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>);</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;}</div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160; </div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLAddIRAttributesFunctionAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Expr *, 4&gt;</a> Args;</div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;  Args.reserve(A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() - 1);</div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I++) {</div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;    assert(A.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(I));</div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;    Args.push_back(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;  }</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160; </div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#ade6bf90a93756865b38488b3e441d2e5">AddSYCLAddIRAttributesFunctionAttr</a>(D, A, Args);</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;}</div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160; </div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;SYCLAddIRAttributesKernelParameterAttr *</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;<a class="code" href="classclang_1_1Sema.html#a89f08b5121e136c72fd2acc87ea2752f">Sema::MergeSYCLAddIRAttributesKernelParameterAttr</a>(</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLAddIRAttributesKernelParameterAttr &amp;A) {</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr =</div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;          D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLAddIRAttributesKernelParameterAttr&gt;()) {</div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;    checkSYCLAddIRAttributesMergeability(A, *ExistingAttr, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;  }</div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;  <span class="keywordflow">return</span> A.clone(Context);</div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;}</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160; </div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a9b5b1b26afaab7786d781464b699a8cd">Sema::AddSYCLAddIRAttributesKernelParameterAttr</a>(</div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI, <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;Expr *&gt;</a> Args) {</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classclang_1_1Attr.html">Attr</a> = SYCLAddIRAttributesKernelParameterAttr::Create(</div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;      Context, Args.data(), Args.size(), CI);</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;  <span class="keywordflow">if</span> (evaluateAddIRAttributesArgs(<a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_begin(), <a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_size(), *<span class="keyword">this</span>,</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;                                  CI))</div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>);</div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;}</div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160; </div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLAddIRAttributesKernelParameterAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;                                                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Expr *, 4&gt;</a> Args;</div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;  Args.reserve(A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() - 1);</div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I++) {</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;    assert(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;    Args.push_back(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;  }</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160; </div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a9b5b1b26afaab7786d781464b699a8cd">AddSYCLAddIRAttributesKernelParameterAttr</a>(D, A, Args);</div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;}</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160; </div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;SYCLAddIRAttributesGlobalVariableAttr *</div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;<a class="code" href="classclang_1_1Sema.html#a4def03ad9f265dab3d83354079020854">Sema::MergeSYCLAddIRAttributesGlobalVariableAttr</a>(</div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLAddIRAttributesGlobalVariableAttr &amp;A) {</div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr =</div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;          D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLAddIRAttributesGlobalVariableAttr&gt;()) {</div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;    checkSYCLAddIRAttributesMergeability(A, *ExistingAttr, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;  }</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;  <span class="keywordflow">return</span> A.clone(Context);</div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;}</div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160; </div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#ab5933d2206753a4f135c26c5ed43bafb">Sema::AddSYCLAddIRAttributesGlobalVariableAttr</a>(</div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI, <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;Expr *&gt;</a> Args) {</div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classclang_1_1Attr.html">Attr</a> = SYCLAddIRAttributesGlobalVariableAttr::Create(</div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;      Context, Args.data(), Args.size(), CI);</div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;  <span class="keywordflow">if</span> (evaluateAddIRAttributesArgs(<a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_begin(), <a class="code" href="classclang_1_1Attr.html">Attr</a>-&gt;args_size(), *<span class="keyword">this</span>,</div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;                                  CI))</div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>);</div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;}</div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160; </div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLAddIRAttributesGlobalVariableAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;                                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Expr *, 4&gt;</a> Args;</div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;  Args.reserve(A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() - 1);</div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I++) {</div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;    assert(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;    Args.push_back(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;  }</div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160; </div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#ab5933d2206753a4f135c26c5ed43bafb">AddSYCLAddIRAttributesGlobalVariableAttr</a>(D, A, Args);</div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;}</div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160; </div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;<span class="keyword">struct </span>IntrinToName {</div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;  uint32_t <a class="code" href="ASTDiff_8cpp.html#afe0b47b3c92f2f69ea3da50cb72553eb">Id</a>;</div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;  int32_t FullName;</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;  int32_t ShortName;</div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;};</div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;} <span class="comment">// unnamed namespace</span></div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160; </div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ArmBuiltinAliasValid(<span class="keywordtype">unsigned</span> BuiltinID, StringRef AliasName,</div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;                                 <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;IntrinToName&gt;</a> Map,</div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;                                 <span class="keyword">const</span> <span class="keywordtype">char</span> *IntrinNames) {</div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;  <span class="keywordflow">if</span> (AliasName.startswith(<span class="stringliteral">&quot;__arm_&quot;</span>))</div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;    AliasName = AliasName.substr(6);</div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;  <span class="keyword">const</span> IntrinToName *It = std::lower_bound(</div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;      Map.begin(), Map.end(), BuiltinID,</div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;      [](<span class="keyword">const</span> IntrinToName &amp;L, <span class="keywordtype">unsigned</span> <a class="code" href="ASTDiff_8cpp.html#afe0b47b3c92f2f69ea3da50cb72553eb">Id</a>) { return L.Id &lt; Id; });</div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;  <span class="keywordflow">if</span> (It == Map.end() || It-&gt;Id != BuiltinID)</div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;  StringRef FullName(&amp;IntrinNames[It-&gt;FullName]);</div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;  <span class="keywordflow">if</span> (AliasName == FullName)</div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;  <span class="keywordflow">if</span> (It-&gt;ShortName == -1)</div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;  StringRef ShortName(&amp;IntrinNames[It-&gt;ShortName]);</div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;  <span class="keywordflow">return</span> AliasName == ShortName;</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;}</div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160; </div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ArmMveAliasValid(<span class="keywordtype">unsigned</span> BuiltinID, StringRef AliasName) {</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;<span class="preprocessor">#include &quot;clang/Basic/arm_mve_builtin_aliases.inc&quot;</span></div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;  <span class="comment">// The included file defines:</span></div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;  <span class="comment">// - ArrayRef&lt;IntrinToName&gt; Map</span></div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;  <span class="comment">// - const char IntrinNames[]</span></div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;  <span class="keywordflow">return</span> ArmBuiltinAliasValid(BuiltinID, AliasName, Map, IntrinNames);</div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;}</div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160; </div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ArmCdeAliasValid(<span class="keywordtype">unsigned</span> BuiltinID, StringRef AliasName) {</div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;<span class="preprocessor">#include &quot;clang/Basic/arm_cde_builtin_aliases.inc&quot;</span></div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;  <span class="keywordflow">return</span> ArmBuiltinAliasValid(BuiltinID, AliasName, Map, IntrinNames);</div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;}</div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160; </div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> ArmSveAliasValid(<a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Context, <span class="keywordtype">unsigned</span> BuiltinID,</div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;                             StringRef AliasName) {</div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;  <span class="keywordflow">if</span> (Context.<a class="code" href="classclang_1_1ASTContext.html#a502181c4f5710068dddb1b4fc3233238">BuiltinInfo</a>.<a class="code" href="classclang_1_1Builtin_1_1Context.html#a0fe8c3db54bc86586346d2472d5bfbd5">isAuxBuiltinID</a>(BuiltinID))</div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;    BuiltinID = Context.<a class="code" href="classclang_1_1ASTContext.html#a502181c4f5710068dddb1b4fc3233238">BuiltinInfo</a>.<a class="code" href="classclang_1_1Builtin_1_1Context.html#a3b92d940eca29e4ef7ef7b6c8ce4aa95">getAuxBuiltinID</a>(BuiltinID);</div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;  <span class="keywordflow">return</span> BuiltinID &gt;= <a class="code" href="namespaceclang_1_1AArch64.html#aba8b4c5e5685e9436c51d964b959273fa480a4973c83f92d18c6374095f120c2a">AArch64::FirstSVEBuiltin</a> &amp;&amp;</div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;         BuiltinID &lt;= <a class="code" href="namespaceclang_1_1AArch64.html#aba8b4c5e5685e9436c51d964b959273fa6c3a37f8d311852540956ff2cce16ec1">AArch64::LastSVEBuiltin</a>;</div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;}</div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160; </div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleArmBuiltinAliasAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;  }</div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160; </div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Ident = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;  <span class="keywordtype">unsigned</span> BuiltinID = Ident-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#a2770c184558b32d8747fba68d95fd5c2">getBuiltinID</a>();</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;  StringRef AliasName = cast&lt;FunctionDecl&gt;(D)-&gt;getIdentifier()-&gt;getName();</div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160; </div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;  <span class="keywordtype">bool</span> IsAArch64 = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isAArch64();</div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;  <span class="keywordflow">if</span> ((IsAArch64 &amp;&amp; !ArmSveAliasValid(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, BuiltinID, AliasName)) ||</div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;      (!IsAArch64 &amp;&amp; !ArmMveAliasValid(BuiltinID, AliasName) &amp;&amp;</div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;       !ArmCdeAliasValid(BuiltinID, AliasName))) {</div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_arm_builtin_alias);</div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;  }</div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160; </div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ArmBuiltinAliasAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Ident));</div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;}</div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160; </div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> RISCVAliasValid(<span class="keywordtype">unsigned</span> BuiltinID, StringRef AliasName) {</div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;  <span class="keywordflow">return</span> BuiltinID &gt;= <a class="code" href="namespaceclang_1_1RISCV.html#a24516708c8e8fa3d362e8a34e9d52b65a76727cb512daba236bffc6c5adf1af1a">RISCV::FirstRVVBuiltin</a> &amp;&amp;</div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;         BuiltinID &lt;= <a class="code" href="namespaceclang_1_1RISCV.html#a24516708c8e8fa3d362e8a34e9d52b65aede55e74ae6c026223d883aa70d13ed5">RISCV::LastRVVBuiltin</a>;</div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;}</div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160; </div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleBuiltinAliasAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;  }</div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160; </div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *Ident = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;  <span class="keywordtype">unsigned</span> BuiltinID = Ident-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#a2770c184558b32d8747fba68d95fd5c2">getBuiltinID</a>();</div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;  StringRef AliasName = cast&lt;FunctionDecl&gt;(D)-&gt;getIdentifier()-&gt;getName();</div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160; </div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;  <span class="keywordtype">bool</span> IsAArch64 = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isAArch64();</div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;  <span class="keywordtype">bool</span> IsARM = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isARM();</div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;  <span class="keywordtype">bool</span> IsRISCV = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().isRISCV();</div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;  <span class="keywordflow">if</span> ((IsAArch64 &amp;&amp; !ArmSveAliasValid(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, BuiltinID, AliasName)) ||</div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;      (IsARM &amp;&amp; !ArmMveAliasValid(BuiltinID, AliasName) &amp;&amp;</div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;       !ArmCdeAliasValid(BuiltinID, AliasName)) ||</div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;      (IsRISCV &amp;&amp; !RISCVAliasValid(BuiltinID, AliasName)) ||</div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;      (!IsAArch64 &amp;&amp; !IsARM &amp;&amp; !IsRISCV)) {</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_builtin_alias) &lt;&lt; AL;</div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;  }</div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160; </div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) BuiltinAliasAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Ident));</div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;}</div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160; </div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;<span class="comment">// Checker-specific attribute handlers.</span></div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isValidSubjectOfNSReturnsRetainedAttribute(<a class="code" href="classclang_1_1QualType.html">QualType</a> QT) {</div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;  <span class="keywordflow">return</span> QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() || QT-&gt;<a class="code" href="classclang_1_1Type.html#ae110ade2f54505d561de5a2f048254fc">isObjCRetainableType</a>();</div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;}</div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160; </div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isValidSubjectOfNSAttribute(<a class="code" href="classclang_1_1QualType.html">QualType</a> QT) {</div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;  <span class="keywordflow">return</span> QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() || QT-&gt;<a class="code" href="classclang_1_1Type.html#ab6892f73d3e8a207c397b038ab090b77">isObjCObjectPointerType</a>() ||</div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;         QT-&gt;<a class="code" href="classclang_1_1Type.html#a4b9b73b137f6c80e4804d034cede4bb1">isObjCNSObjectType</a>();</div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;}</div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160; </div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isValidSubjectOfCFAttribute(<a class="code" href="classclang_1_1QualType.html">QualType</a> QT) {</div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;  <span class="keywordflow">return</span> QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() || QT-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>() ||</div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;         isValidSubjectOfNSAttribute(QT);</div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;}</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160; </div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isValidSubjectOfOSAttribute(<a class="code" href="classclang_1_1QualType.html">QualType</a> QT) {</div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;  <span class="keywordflow">if</span> (QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>())</div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> PT = QT-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;  <span class="keywordflow">return</span> !PT.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>() &amp;&amp; PT-&gt;<a class="code" href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">getAsCXXRecordDecl</a>() != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;}</div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160; </div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a00275bb81215fa4ffb2a9b3915011225">Sema::AddXConsumedAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;                            RetainOwnershipKind K,</div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;                            <span class="keywordtype">bool</span> IsTemplateInstantiation) {</div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;  <a class="code" href="classclang_1_1ValueDecl.html">ValueDecl</a> *VD = cast&lt;ValueDecl&gt;(D);</div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;  <span class="keywordflow">switch</span> (K) {</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;  <span class="keywordflow">case</span> RetainOwnershipKind::OS:</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160;    handleSimpleAttributeOrDiagnose&lt;OSConsumedAttr&gt;(</div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;        *<span class="keyword">this</span>, VD, CI, isValidSubjectOfOSAttribute(VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()),</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;        diag::warn_ns_attribute_wrong_parameter_type,</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;        <span class="comment">/*ExtraArgs=*/</span>CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), <span class="stringliteral">&quot;os_consumed&quot;</span>, <span class="comment">/*pointers*/</span> 1);</div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;  <span class="keywordflow">case</span> RetainOwnershipKind::NS:</div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;    handleSimpleAttributeOrDiagnose&lt;NSConsumedAttr&gt;(</div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;        *<span class="keyword">this</span>, VD, CI, isValidSubjectOfNSAttribute(VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()),</div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160; </div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;        <span class="comment">// These attributes are normally just advisory, but in ARC, ns_consumed</span></div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;        <span class="comment">// is significant.  Allow non-dependent code to contain inappropriate</span></div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;        <span class="comment">// attributes even in ARC, but require template instantiations to be</span></div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;        <span class="comment">// set up correctly.</span></div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;        ((IsTemplateInstantiation &amp;&amp; getLangOpts().ObjCAutoRefCount)</div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;             ? diag::err_ns_attribute_wrong_parameter_type</div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;             : diag::warn_ns_attribute_wrong_parameter_type),</div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;        <span class="comment">/*ExtraArgs=*/</span>CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), <span class="stringliteral">&quot;ns_consumed&quot;</span>, <span class="comment">/*objc pointers*/</span> 0);</div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;  <span class="keywordflow">case</span> RetainOwnershipKind::CF:</div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;    handleSimpleAttributeOrDiagnose&lt;CFConsumedAttr&gt;(</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;        *<span class="keyword">this</span>, VD, CI, isValidSubjectOfCFAttribute(VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()),</div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;        diag::warn_ns_attribute_wrong_parameter_type,</div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;        <span class="comment">/*ExtraArgs=*/</span>CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), <span class="stringliteral">&quot;cf_consumed&quot;</span>, <span class="comment">/*pointers*/</span> 1);</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;  }</div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;}</div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160; </div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;<span class="keyword">static</span> <a class="code" href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976">Sema::RetainOwnershipKind</a></div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;parsedAttrToRetainOwnershipKind(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;  <span class="keywordflow">switch</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>()) {</div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFConsumed:</div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsRetained:</div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsNotRetained:</div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976a758951cac5e62129e654698c8ca0333b">Sema::RetainOwnershipKind::CF</a>;</div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSConsumesThis:</div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSConsumed:</div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetained:</div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsNotRetained:</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetainedOnZero:</div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetainedOnNonZero:</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976a17bc10091293fdc562a6db69940ee924">Sema::RetainOwnershipKind::OS</a>;</div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSConsumesSelf:</div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSConsumed:</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsRetained:</div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsNotRetained:</div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsAutoreleased:</div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976a53c8d15a175221d2127083e66a8cc937">Sema::RetainOwnershipKind::NS</a>;</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;    llvm_unreachable(<span class="stringliteral">&quot;Wrong argument supplied&quot;</span>);</div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;  }</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;}</div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160; </div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a602c03777aa1be29b6e5bc9e34fd6daa">Sema::checkNSReturnsRetainedReturnType</a>(<a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc, <a class="code" href="classclang_1_1QualType.html">QualType</a> QT) {</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;  <span class="keywordflow">if</span> (isValidSubjectOfNSReturnsRetainedAttribute(QT))</div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160; </div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;  <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::warn_ns_attribute_wrong_return_type)</div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;&#39;ns_returns_retained&#39;&quot;</span> &lt;&lt; 0 &lt;&lt; 0;</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160;}</div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;<span class="comment">/// \return whether the parameter is a pointer to OSObject pointer.</span></div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isValidOSObjectOutParameter(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *PVD = dyn_cast&lt;ParmVarDecl&gt;(D);</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;  <span class="keywordflow">if</span> (!PVD)</div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> QT = PVD-&gt;getType();</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> PT = QT-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;  <span class="keywordflow">return</span> !PT.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>() &amp;&amp; isValidSubjectOfOSAttribute(PT);</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;}</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160; </div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleXReturnsXRetainedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> ReturnType;</div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;  <a class="code" href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976">Sema::RetainOwnershipKind</a> K = parsedAttrToRetainOwnershipKind(AL);</div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160; </div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;ObjCMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;    ReturnType = MD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>();</div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().ObjCAutoRefCount &amp;&amp; <a class="code" href="SemaDeclAttr_8cpp.html#a71ce58e657f548708725ba2ad028f186">hasDeclarator</a>(D) &amp;&amp;</div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;             (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_NSReturnsRetained)) {</div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// ignore: was handled as a type attribute</span></div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PD = dyn_cast&lt;ObjCPropertyDecl&gt;(D)) {</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;    ReturnType = PD-&gt;getType();</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;    ReturnType = FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>();</div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Param = dyn_cast&lt;ParmVarDecl&gt;(D)) {</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;    <span class="comment">// Attributes on parameters are used for out-parameters,</span></div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;    <span class="comment">// passed as pointers-to-pointers.</span></div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;    <span class="keywordtype">unsigned</span> DiagID = K == <a class="code" href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976a758951cac5e62129e654698c8ca0333b">Sema::RetainOwnershipKind::CF</a></div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;            ? <span class="comment">/*pointer-to-CF-pointer*/</span>2</div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;            : <span class="comment">/*pointer-to-OSObject-pointer*/</span>3;</div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;    ReturnType = Param-&gt;getType()-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;    <span class="keywordflow">if</span> (ReturnType.<a class="code" href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">isNull</a>()) {</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_ns_attribute_wrong_parameter_type)</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;          &lt;&lt; AL &lt;&lt; DiagID &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160;    }</div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a91ee3922aeeb1291e94716a1e5c7dc54">isUsedAsTypeAttr</a>()) {</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;    <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6">AttributeDeclKind</a> ExpectedDeclKind;</div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;    <span class="keywordflow">switch</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>()) {</div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;    <span class="keywordflow">default</span>: llvm_unreachable(<span class="stringliteral">&quot;invalid ownership attribute&quot;</span>);</div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsRetained:</div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsAutoreleased:</div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsNotRetained:</div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;      ExpectedDeclKind = <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d">ExpectedFunctionOrMethod</a>;</div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160; </div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetained:</div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsNotRetained:</div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsRetained:</div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsNotRetained:</div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;      ExpectedDeclKind = <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a1e9a1fefc3e275238655221aad5a1097">ExpectedFunctionMethodOrParameter</a>;</div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;    }</div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;        &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>() &lt;&lt; AL &lt;&lt; ExpectedDeclKind;</div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160;  }</div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160; </div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;  <span class="keywordtype">bool</span> TypeOK;</div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;  <span class="keywordtype">bool</span> Cf;</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;  <span class="keywordtype">unsigned</span> ParmDiagID = 2; <span class="comment">// Pointer-to-CF-pointer</span></div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;  <span class="keywordflow">switch</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>()) {</div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;  <span class="keywordflow">default</span>: llvm_unreachable(<span class="stringliteral">&quot;invalid ownership attribute&quot;</span>);</div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsRetained:</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;    TypeOK = isValidSubjectOfNSReturnsRetainedAttribute(ReturnType);</div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;    Cf = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160; </div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsAutoreleased:</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsNotRetained:</div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;    TypeOK = isValidSubjectOfNSAttribute(ReturnType);</div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;    Cf = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160; </div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsRetained:</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsNotRetained:</div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;    TypeOK = isValidSubjectOfCFAttribute(ReturnType);</div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;    Cf = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160; </div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetained:</div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsNotRetained:</div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;    TypeOK = isValidSubjectOfOSAttribute(ReturnType);</div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;    Cf = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;    ParmDiagID = 3; <span class="comment">// Pointer-to-OSObject-pointer</span></div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;  }</div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160; </div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;  <span class="keywordflow">if</span> (!TypeOK) {</div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a91ee3922aeeb1291e94716a1e5c7dc54">isUsedAsTypeAttr</a>())</div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160; </div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ParmVarDecl&gt;(D)) {</div>
<div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_ns_attribute_wrong_parameter_type)</div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;          &lt;&lt; AL &lt;&lt; ParmDiagID &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;      <span class="comment">// Needs to be kept in sync with warn_ns_attribute_wrong_return_type.</span></div>
<div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;      enum : <span class="keywordtype">unsigned</span> {</div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;        <a class="code" href="namespaceclang_1_1extractapi.html#ababb0c926bf44d38d9c7ebc34dcb8532a86408593c34af77fdd90df932f8b5261">Function</a>,</div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160;        Method,</div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;        <a class="code" href="namespaceclang.html#a7491b5cdc2843824aac96e74c3947c87a5ad234cb2cde4266195252a23ca7d84e">Property</a></div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;      } SubjectKind = <a class="code" href="namespaceclang_1_1extractapi.html#ababb0c926bf44d38d9c7ebc34dcb8532a86408593c34af77fdd90df932f8b5261">Function</a>;</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ObjCMethodDecl&gt;(D))</div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;        SubjectKind = Method;</div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;ObjCPropertyDecl&gt;(D))</div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;        SubjectKind = <a class="code" href="namespaceclang.html#a7491b5cdc2843824aac96e74c3947c87a5ad234cb2cde4266195252a23ca7d84e">Property</a>;</div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_ns_attribute_wrong_return_type)</div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;          &lt;&lt; AL &lt;&lt; SubjectKind &lt;&lt; Cf &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160;    }</div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;  }</div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160; </div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;  <span class="keywordflow">switch</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>()) {</div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;      llvm_unreachable(<span class="stringliteral">&quot;invalid ownership attribute&quot;</span>);</div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsAutoreleased:</div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;      handleSimpleAttribute&lt;NSReturnsAutoreleasedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsNotRetained:</div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;      handleSimpleAttribute&lt;CFReturnsNotRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsNotRetained:</div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;      handleSimpleAttribute&lt;NSReturnsNotRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsRetained:</div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;      handleSimpleAttribute&lt;CFReturnsRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsRetained:</div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;      handleSimpleAttribute&lt;NSReturnsRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetained:</div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160;      handleSimpleAttribute&lt;OSReturnsRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;    <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsNotRetained:</div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160;      handleSimpleAttribute&lt;OSReturnsNotRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;  };</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;}</div>
<div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160; </div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCReturnsInnerPointerAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;Attrs) {</div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> EP_ObjCMethod = 1;</div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> EP_ObjCProperty = 2;</div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160; </div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> loc = Attrs.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>();</div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> resultType;</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ObjCMethodDecl&gt;(D))</div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;    resultType = cast&lt;ObjCMethodDecl&gt;(D)-&gt;getReturnType();</div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;    resultType = cast&lt;ObjCPropertyDecl&gt;(D)-&gt;getType();</div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160; </div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;  <span class="keywordflow">if</span> (!resultType-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>() &amp;&amp;</div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;      (!resultType-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>() || resultType-&gt;<a class="code" href="classclang_1_1Type.html#ae110ade2f54505d561de5a2f048254fc">isObjCRetainableType</a>())) {</div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_ns_attribute_wrong_return_type)</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;        &lt;&lt; <a class="code" href="classclang_1_1SourceRange.html">SourceRange</a>(loc) &lt;&lt; Attrs</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160;        &lt;&lt; (isa&lt;ObjCMethodDecl&gt;(D) ? EP_ObjCMethod : EP_ObjCProperty)</div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;        &lt;&lt; <span class="comment">/*non-retainable pointer*/</span> 2;</div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160; </div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;    <span class="comment">// Drop the attribute.</span></div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;  }</div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160; </div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCReturnsInnerPointerAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Attrs));</div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;}</div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160; </div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCRequiresSuperAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;Attrs) {</div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Method = cast&lt;ObjCMethodDecl&gt;(D);</div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160; </div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1DeclContext.html">DeclContext</a> *DC = Method-&gt;getDeclContext();</div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PDecl = dyn_cast_or_null&lt;ObjCProtocolDecl&gt;(DC)) {</div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_objc_requires_super_protocol) &lt;&lt; Attrs</div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;                                                                      &lt;&lt; 0;</div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(PDecl-&gt;getLocation(), diag::note_protocol_decl);</div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;  }</div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160;  <span class="keywordflow">if</span> (Method-&gt;getMethodFamily() == <a class="code" href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a64eaf6dd57d06411366a75201a9f2850">OMF_dealloc</a>) {</div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_objc_requires_super_protocol) &lt;&lt; Attrs</div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;                                                                      &lt;&lt; 1;</div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;  }</div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160; </div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCRequiresSuperAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Attrs));</div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;}</div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160; </div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNSErrorDomain(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;  <span class="keyword">auto</span> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;  <span class="keyword">auto</span> Loc = E ? E-&gt;<a class="code" href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">getBeginLoc</a>() : AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>();</div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160; </div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;  <span class="keyword">auto</span> *DRE = dyn_cast&lt;DeclRefExpr&gt;(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;  <span class="keywordflow">if</span> (!DRE) {</div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_nserrordomain_invalid_decl) &lt;&lt; 0;</div>
<div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;  }</div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160; </div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;  <span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(DRE-&gt;<a class="code" href="classclang_1_1DeclRefExpr.html#a22eec021070f5d0733e90b6c5c127a25">getDecl</a>());</div>
<div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160;  <span class="keywordflow">if</span> (!VD) {</div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_nserrordomain_invalid_decl) &lt;&lt; 1 &lt;&lt; DRE-&gt;<a class="code" href="classclang_1_1DeclRefExpr.html#a22eec021070f5d0733e90b6c5c127a25">getDecl</a>();</div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;  }</div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160; </div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a10579cffb2afe5a445a4e0a7e0cd64b3">isNSStringType</a>(VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>(), S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) &amp;&amp;</div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160;      !<a class="code" href="SemaDeclAttr_8cpp.html#a00319681c00349140baab62dbe185875">isCFStringType</a>(VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>(), S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)) {</div>
<div class="line"><a name="l08312"></a><span class="lineno"> 8312</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::err_nserrordomain_wrong_type) &lt;&lt; VD;</div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;  }</div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160; </div>
<div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NSErrorDomainAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, VD));</div>
<div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;}</div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160; </div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCBridgeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;  <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Parm = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160; </div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;  <span class="keywordflow">if</span> (!Parm) {</div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::err_objc_attr_not_id) &lt;&lt; AL &lt;&lt; 0;</div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;  }</div>
<div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160; </div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;  <span class="comment">// Typedefs only allow objc_bridge(id) and have some additional checking.</span></div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D)) {</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;    <span class="keywordflow">if</span> (!Parm-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">isStr</a>(<span class="stringliteral">&quot;id&quot;</span>)) {</div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_objc_attr_typedef_not_id) &lt;&lt; AL;</div>
<div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;    }</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160; </div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;    <span class="comment">// Only allow &#39;cv void *&#39;.</span></div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T = TD-&gt;getUnderlyingType();</div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;    <span class="keywordflow">if</span> (!T-&gt;<a class="code" href="classclang_1_1Type.html#a27a66e13de0f33a48523e25961ded5e7">isVoidPointerType</a>()) {</div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_objc_attr_typedef_not_void_pointer);</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;    }</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;  }</div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160; </div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCBridgeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Parm-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>));</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;}</div>
<div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160; </div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCBridgeMutableAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160;  <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Parm = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160; </div>
<div class="line"><a name="l08349"></a><span class="lineno"> 8349</span>&#160;  <span class="keywordflow">if</span> (!Parm) {</div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::err_objc_attr_not_id) &lt;&lt; AL &lt;&lt; 0;</div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;  }</div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160; </div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;                 ObjCBridgeMutableAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Parm-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>));</div>
<div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;}</div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160; </div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCBridgeRelatedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *RelatedClass =</div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;      AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160;  <span class="keywordflow">if</span> (!RelatedClass) {</div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::err_objc_attr_not_id) &lt;&lt; AL &lt;&lt; 0;</div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160;  }</div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea2a9f85f18ecd7a64a7f091bc82f61483">ClassMethod</a> =</div>
<div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(1) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(1)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *<a class="code" href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea178c196a9c68e642ae8236ed5d19f571">InstanceMethod</a> =</div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(2) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(2)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCBridgeRelatedAttr(</div>
<div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, RelatedClass, ClassMethod, InstanceMethod));</div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;}</div>
<div class="line"><a name="l08373"></a><span class="lineno"> 8373</span>&#160; </div>
<div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCDesignatedInitializer(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160;  <a class="code" href="classclang_1_1DeclContext.html">DeclContext</a> *Ctx = D-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>();</div>
<div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160; </div>
<div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160;  <span class="comment">// This attribute can only be applied to methods in interfaces or class</span></div>
<div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160;  <span class="comment">// extensions.</span></div>
<div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ObjCInterfaceDecl&gt;(Ctx) &amp;&amp;</div>
<div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;      !(isa&lt;ObjCCategoryDecl&gt;(Ctx) &amp;&amp;</div>
<div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;        cast&lt;ObjCCategoryDecl&gt;(Ctx)-&gt;IsClassExtension())) {</div>
<div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_designated_init_attr_non_init);</div>
<div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160;  }</div>
<div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160; </div>
<div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160;  <a class="code" href="classclang_1_1ObjCInterfaceDecl.html">ObjCInterfaceDecl</a> *IFace;</div>
<div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CatDecl = dyn_cast&lt;ObjCCategoryDecl&gt;(Ctx))</div>
<div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;    IFace = CatDecl-&gt;getClassInterface();</div>
<div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;    IFace = cast&lt;ObjCInterfaceDecl&gt;(Ctx);</div>
<div class="line"><a name="l08392"></a><span class="lineno"> 8392</span>&#160; </div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;  <span class="keywordflow">if</span> (!IFace)</div>
<div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160; </div>
<div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160;  IFace-&gt;<a class="code" href="classclang_1_1ObjCInterfaceDecl.html#ae998a76f7cd59e1691962047032a6ba4">setHasDesignatedInitializers</a>();</div>
<div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCDesignatedInitializerAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;}</div>
<div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160; </div>
<div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCRuntimeName(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;  StringRef MetaDataName;</div>
<div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, MetaDataName))</div>
<div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;                 ObjCRuntimeNameAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, MetaDataName));</div>
<div class="line"><a name="l08406"></a><span class="lineno"> 8406</span>&#160;}</div>
<div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160; </div>
<div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;<span class="comment">// When a user wants to use objc_boxable with a union or struct</span></div>
<div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;<span class="comment">// but they don&#39;t have access to the declaration (legacy/third-party code)</span></div>
<div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160;<span class="comment">// then they can &#39;enable&#39; this feature with a typedef:</span></div>
<div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;<span class="comment">// typedef struct __attribute((objc_boxable)) legacy_struct legacy_struct;</span></div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCBoxable(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;  <span class="keywordtype">bool</span> notify = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160; </div>
<div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;  <span class="keyword">auto</span> *RD = dyn_cast&lt;RecordDecl&gt;(D);</div>
<div class="line"><a name="l08416"></a><span class="lineno"> 8416</span>&#160;  <span class="keywordflow">if</span> (RD &amp;&amp; RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#aff836161e095eaaed60427ddd4f444de">getDefinition</a>()) {</div>
<div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160;    RD = RD-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#aff836161e095eaaed60427ddd4f444de">getDefinition</a>();</div>
<div class="line"><a name="l08418"></a><span class="lineno"> 8418</span>&#160;    notify = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;  }</div>
<div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160; </div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;  <span class="keywordflow">if</span> (RD) {</div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;    ObjCBoxableAttr *BoxableAttr =</div>
<div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160;        ::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCBoxableAttr(S.Context, AL);</div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;    RD-&gt;addAttr(BoxableAttr);</div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;    <a class="code" href="namespaceclang.html#ae555fc7019e94c75897766189ed3c050">if</a> (notify) {</div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;      <span class="comment">// we need to notify ASTReader/ASTWriter about</span></div>
<div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;      <span class="comment">// modification of existing declaration</span></div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1ASTMutationListener.html">ASTMutationListener</a> *L = S.<a class="code" href="classclang_1_1Sema.html#afe058e1cba6389a944b7115eb4c7b96a">getASTMutationListener</a>())</div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;        L-&gt;AddedAttributeToRecord(BoxableAttr, RD);</div>
<div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;    }</div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;  }</div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;}</div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160; </div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCOwnershipAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#a71ce58e657f548708725ba2ad028f186">hasDeclarator</a>(D)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160; </div>
<div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;      &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>() &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6aabd195a6676c279955e841296e6f265e">ExpectedVariable</a>;</div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;}</div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160; </div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCPreciseLifetimeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *VD = cast&lt;ValueDecl&gt;(D);</div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> QT = VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160; </div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;  <span class="keywordflow">if</span> (!QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp;</div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;      !QT-&gt;<a class="code" href="classclang_1_1Type.html#aa6a396f356364a0d2fe9479bc07f30b2">isObjCLifetimeType</a>()) {</div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_objc_precise_lifetime_bad_type)</div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;      &lt;&lt; QT;</div>
<div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;  }</div>
<div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160; </div>
<div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;  <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300">Qualifiers::ObjCLifetime</a> Lifetime = QT.<a class="code" href="classclang_1_1QualType.html#a8285a21ebc94f5fdc127b1757c2a57fd">getObjCLifetime</a>();</div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160; </div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;  <span class="comment">// If we have no lifetime yet, check the lifetime we&#39;re presumably</span></div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;  <span class="comment">// going to infer.</span></div>
<div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;  <span class="keywordflow">if</span> (Lifetime == <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a29b319bca942e44bf183ca2749b072b3">Qualifiers::OCL_None</a> &amp;&amp; !QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>())</div>
<div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;    Lifetime = QT-&gt;<a class="code" href="classclang_1_1Type.html#aac0f6e44dc104b9ee57284650d014a01">getObjCARCImplicitLifetime</a>();</div>
<div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160; </div>
<div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160;  <span class="keywordflow">switch</span> (Lifetime) {</div>
<div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a29b319bca942e44bf183ca2749b072b3">Qualifiers::OCL_None</a>:</div>
<div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160;    assert(QT-&gt;<a class="code" href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">isDependentType</a>() &amp;&amp;</div>
<div class="line"><a name="l08463"></a><span class="lineno"> 8463</span>&#160;           <span class="stringliteral">&quot;didn&#39;t infer lifetime for non-dependent type?&quot;</span>);</div>
<div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08465"></a><span class="lineno"> 8465</span>&#160; </div>
<div class="line"><a name="l08466"></a><span class="lineno"> 8466</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300ad62a7a19d7027c37d407d2ca7638a89c">Qualifiers::OCL_Weak</a>:   <span class="comment">// meaningful</span></div>
<div class="line"><a name="l08467"></a><span class="lineno"> 8467</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a056719970802d94ba3740489f709a96e">Qualifiers::OCL_Strong</a>: <span class="comment">// meaningful</span></div>
<div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08469"></a><span class="lineno"> 8469</span>&#160; </div>
<div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a1868aff47acf923ca643cb6950363615">Qualifiers::OCL_ExplicitNone</a>:</div>
<div class="line"><a name="l08471"></a><span class="lineno"> 8471</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300afd7d211973aef2cc5945b96a963f0e4f">Qualifiers::OCL_Autoreleasing</a>:</div>
<div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_objc_precise_lifetime_meaningless)</div>
<div class="line"><a name="l08473"></a><span class="lineno"> 8473</span>&#160;        &lt;&lt; (Lifetime == <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300afd7d211973aef2cc5945b96a963f0e4f">Qualifiers::OCL_Autoreleasing</a>);</div>
<div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08475"></a><span class="lineno"> 8475</span>&#160;  }</div>
<div class="line"><a name="l08476"></a><span class="lineno"> 8476</span>&#160; </div>
<div class="line"><a name="l08477"></a><span class="lineno"> 8477</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ObjCPreciseLifetimeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l08478"></a><span class="lineno"> 8478</span>&#160;}</div>
<div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160; </div>
<div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftAttrAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;  <span class="comment">// Make sure that there is a string literal as the annotation&#39;s single</span></div>
<div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;  <span class="comment">// argument.</span></div>
<div class="line"><a name="l08483"></a><span class="lineno"> 8483</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160; </div>
<div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftAttrAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;}</div>
<div class="line"><a name="l08489"></a><span class="lineno"> 8489</span>&#160; </div>
<div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftBridge(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;  <span class="comment">// Make sure that there is a string literal as the annotation&#39;s single</span></div>
<div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160;  <span class="comment">// argument.</span></div>
<div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160;  StringRef BT;</div>
<div class="line"><a name="l08494"></a><span class="lineno"> 8494</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, BT))</div>
<div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160; </div>
<div class="line"><a name="l08497"></a><span class="lineno"> 8497</span>&#160;  <span class="comment">// Warn about duplicate attributes if they have different arguments, but drop</span></div>
<div class="line"><a name="l08498"></a><span class="lineno"> 8498</span>&#160;  <span class="comment">// any duplicate attributes regardless.</span></div>
<div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Other = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SwiftBridgeAttr&gt;()) {</div>
<div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;    <span class="keywordflow">if</span> (Other-&gt;getSwiftType() != BT)</div>
<div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute) &lt;&lt; AL;</div>
<div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;  }</div>
<div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160; </div>
<div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftBridgeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, BT));</div>
<div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;}</div>
<div class="line"><a name="l08507"></a><span class="lineno"> 8507</span>&#160; </div>
<div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> isErrorParameter(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1QualType.html">QualType</a> QT) {</div>
<div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *PT = QT-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;();</div>
<div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;  <span class="keywordflow">if</span> (!PT)</div>
<div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160; </div>
<div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Pointee = PT-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>();</div>
<div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160; </div>
<div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160;  <span class="comment">// Check for NSError**.</span></div>
<div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *OPT = Pointee-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;())</div>
<div class="line"><a name="l08517"></a><span class="lineno"> 8517</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a> = OPT-&gt;getInterfaceDecl())</div>
<div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>-&gt;getIdentifier() == S.<a class="code" href="classclang_1_1Sema.html#ac9074c46199231b2c93bc9690fe132d0">getNSErrorIdent</a>())</div>
<div class="line"><a name="l08519"></a><span class="lineno"> 8519</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08520"></a><span class="lineno"> 8520</span>&#160; </div>
<div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;  <span class="comment">// Check for CFError**.</span></div>
<div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PT = Pointee-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;())</div>
<div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *RT = PT-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1RecordType.html">RecordType</a>&gt;())</div>
<div class="line"><a name="l08524"></a><span class="lineno"> 8524</span>&#160;      <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a9efacb17965963abb580b676a76a10ec">isCFError</a>(RT-&gt;<a class="code" href="classclang_1_1RecordType.html#a11e6b541275f7003dc00276da5c6c7cc">getDecl</a>()))</div>
<div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160; </div>
<div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;}</div>
<div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160; </div>
<div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftError(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;  <span class="keyword">auto</span> hasErrorParameter = [](<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D); I != E; ++I) {</div>
<div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160;      <span class="keywordflow">if</span> (isErrorParameter(S, <a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, I)))</div>
<div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;    }</div>
<div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160; </div>
<div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attr_swift_error_no_error_parameter)</div>
<div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;        &lt;&lt; AL &lt;&lt; isa&lt;ObjCMethodDecl&gt;(D);</div>
<div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160;  };</div>
<div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160; </div>
<div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;  <span class="keyword">auto</span> hasPointerResult = [](<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;    <span class="comment">// - C, ObjC, and block pointers are definitely okay.</span></div>
<div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160;    <span class="comment">// - References are definitely not okay.</span></div>
<div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;    <span class="comment">// - nullptr_t is weird, but acceptable.</span></div>
<div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> RT = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;    <span class="keywordflow">if</span> (RT-&gt;<a class="code" href="classclang_1_1Type.html#aef25a855bd12b76726842c826920ecae">hasPointerRepresentation</a>() &amp;&amp; !RT-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>())</div>
<div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160; </div>
<div class="line"><a name="l08550"></a><span class="lineno"> 8550</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attr_swift_error_return_type)</div>
<div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;        &lt;&lt; AL &lt;&lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() &lt;&lt; isa&lt;ObjCMethodDecl&gt;(D)</div>
<div class="line"><a name="l08552"></a><span class="lineno"> 8552</span>&#160;        &lt;&lt; <span class="comment">/*pointer*/</span> 1;</div>
<div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;  };</div>
<div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160; </div>
<div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160;  <span class="keyword">auto</span> hasIntegerResult = [](<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> RT = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;    <span class="keywordflow">if</span> (RT-&gt;<a class="code" href="classclang_1_1Type.html#a522d6c088d4e3e61918a13a1e4c65a4f">isIntegralType</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>))</div>
<div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160; </div>
<div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attr_swift_error_return_type)</div>
<div class="line"><a name="l08562"></a><span class="lineno"> 8562</span>&#160;        &lt;&lt; AL &lt;&lt; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() &lt;&lt; isa&lt;ObjCMethodDecl&gt;(D)</div>
<div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160;        &lt;&lt; <span class="comment">/*integral*/</span> 0;</div>
<div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160;  };</div>
<div class="line"><a name="l08566"></a><span class="lineno"> 8566</span>&#160; </div>
<div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;  <span class="keywordflow">if</span> (D-&gt;isInvalidDecl())</div>
<div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160; </div>
<div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;  <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *Loc = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;  SwiftErrorAttr::ConventionKind Convention;</div>
<div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;  <span class="keywordflow">if</span> (!SwiftErrorAttr::ConvertStrToConventionKind(Loc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(),</div>
<div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;                                                  Convention)) {</div>
<div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported)</div>
<div class="line"><a name="l08575"></a><span class="lineno"> 8575</span>&#160;        &lt;&lt; AL &lt;&lt; Loc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;  }</div>
<div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160; </div>
<div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;  <span class="keywordflow">switch</span> (Convention) {</div>
<div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">SwiftErrorAttr::None</a>:</div>
<div class="line"><a name="l08581"></a><span class="lineno"> 8581</span>&#160;    <span class="comment">// No additional validation required.</span></div>
<div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160; </div>
<div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;  <span class="keywordflow">case</span> SwiftErrorAttr::NonNullError:</div>
<div class="line"><a name="l08585"></a><span class="lineno"> 8585</span>&#160;    <span class="keywordflow">if</span> (!hasErrorParameter(S, D, AL))</div>
<div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160; </div>
<div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;  <span class="keywordflow">case</span> SwiftErrorAttr::NullResult:</div>
<div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;    <span class="keywordflow">if</span> (!hasErrorParameter(S, D, AL) || !hasPointerResult(S, D, AL))</div>
<div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160; </div>
<div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;  <span class="keywordflow">case</span> SwiftErrorAttr::NonZeroResult:</div>
<div class="line"><a name="l08595"></a><span class="lineno"> 8595</span>&#160;  <span class="keywordflow">case</span> SwiftErrorAttr::ZeroResult:</div>
<div class="line"><a name="l08596"></a><span class="lineno"> 8596</span>&#160;    <span class="keywordflow">if</span> (!hasErrorParameter(S, D, AL) || !hasIntegerResult(S, D, AL))</div>
<div class="line"><a name="l08597"></a><span class="lineno"> 8597</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;  }</div>
<div class="line"><a name="l08600"></a><span class="lineno"> 8600</span>&#160; </div>
<div class="line"><a name="l08601"></a><span class="lineno"> 8601</span>&#160;  D-&gt;addAttr(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftErrorAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Convention));</div>
<div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;}</div>
<div class="line"><a name="l08603"></a><span class="lineno"> 8603</span>&#160; </div>
<div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> checkSwiftAsyncErrorBlock(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l08605"></a><span class="lineno"> 8605</span>&#160;                                      <span class="keyword">const</span> SwiftAsyncErrorAttr *ErrorAttr,</div>
<div class="line"><a name="l08606"></a><span class="lineno"> 8606</span>&#160;                                      <span class="keyword">const</span> SwiftAsyncAttr *AsyncAttr) {</div>
<div class="line"><a name="l08607"></a><span class="lineno"> 8607</span>&#160;  <span class="keywordflow">if</span> (AsyncAttr-&gt;getKind() == <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">SwiftAsyncAttr::None</a>) {</div>
<div class="line"><a name="l08608"></a><span class="lineno"> 8608</span>&#160;    <span class="keywordflow">if</span> (ErrorAttr-&gt;getConvention() != <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">SwiftAsyncErrorAttr::None</a>) {</div>
<div class="line"><a name="l08609"></a><span class="lineno"> 8609</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AsyncAttr-&gt;getLocation(),</div>
<div class="line"><a name="l08610"></a><span class="lineno"> 8610</span>&#160;             diag::err_swift_async_error_without_swift_async)</div>
<div class="line"><a name="l08611"></a><span class="lineno"> 8611</span>&#160;          &lt;&lt; AsyncAttr &lt;&lt; isa&lt;ObjCMethodDecl&gt;(D);</div>
<div class="line"><a name="l08612"></a><span class="lineno"> 8612</span>&#160;    }</div>
<div class="line"><a name="l08613"></a><span class="lineno"> 8613</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08614"></a><span class="lineno"> 8614</span>&#160;  }</div>
<div class="line"><a name="l08615"></a><span class="lineno"> 8615</span>&#160; </div>
<div class="line"><a name="l08616"></a><span class="lineno"> 8616</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *HandlerParam = <a class="code" href="SemaDeclAttr_8cpp.html#a129f9063859b12a10010182119f9f4ee">getFunctionOrMethodParam</a>(</div>
<div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160;      D, AsyncAttr-&gt;getCompletionHandlerIndex().getASTIndex());</div>
<div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160;  <span class="comment">// handleSwiftAsyncAttr already verified the type is correct, so no need to</span></div>
<div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;  <span class="comment">// double-check it here.</span></div>
<div class="line"><a name="l08620"></a><span class="lineno"> 8620</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *FuncTy = HandlerParam-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()</div>
<div class="line"><a name="l08621"></a><span class="lineno"> 8621</span>&#160;                           -&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1BlockPointerType.html">BlockPointerType</a>&gt;()</div>
<div class="line"><a name="l08622"></a><span class="lineno"> 8622</span>&#160;                           -&gt;getPointeeType()</div>
<div class="line"><a name="l08623"></a><span class="lineno"> 8623</span>&#160;                           -&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1FunctionProtoType.html">FunctionProtoType</a>&gt;();</div>
<div class="line"><a name="l08624"></a><span class="lineno"> 8624</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;QualType&gt;</a> BlockParams;</div>
<div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160;  <span class="keywordflow">if</span> (FuncTy)</div>
<div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;    BlockParams = FuncTy-&gt;getParamTypes();</div>
<div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160; </div>
<div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160;  <span class="keywordflow">switch</span> (ErrorAttr-&gt;getConvention()) {</div>
<div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160;  <span class="keywordflow">case</span> SwiftAsyncErrorAttr::ZeroArgument:</div>
<div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;  <span class="keywordflow">case</span> SwiftAsyncErrorAttr::NonZeroArgument: {</div>
<div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;    uint32_t <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> = ErrorAttr-&gt;getHandlerParamIdx();</div>
<div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> == 0 || <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> &gt; BlockParams.size()) {</div>
<div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(ErrorAttr-&gt;getLocation(),</div>
<div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;             diag::err_attribute_argument_out_of_bounds) &lt;&lt; ErrorAttr &lt;&lt; 2;</div>
<div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;    }</div>
<div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> ErrorParam = BlockParams[<a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> - 1];</div>
<div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;    <span class="keywordflow">if</span> (!ErrorParam-&gt;<a class="code" href="classclang_1_1Type.html#a522d6c088d4e3e61918a13a1e4c65a4f">isIntegralType</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)) {</div>
<div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;      StringRef ConvStr =</div>
<div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;          ErrorAttr-&gt;getConvention() == SwiftAsyncErrorAttr::ZeroArgument</div>
<div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;              ? <span class="stringliteral">&quot;zero_argument&quot;</span></div>
<div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;              : <span class="stringliteral">&quot;nonzero_argument&quot;</span>;</div>
<div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(ErrorAttr-&gt;getLocation(), diag::err_swift_async_error_non_integral)</div>
<div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160;          &lt;&lt; ErrorAttr &lt;&lt; ConvStr &lt;&lt; <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> &lt;&lt; ErrorParam;</div>
<div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160;    }</div>
<div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;  }</div>
<div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;  <span class="keywordflow">case</span> SwiftAsyncErrorAttr::NonNullError: {</div>
<div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;    <span class="keywordtype">bool</span> AnyErrorParams = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1QualType.html">QualType</a> Param : BlockParams) {</div>
<div class="line"><a name="l08652"></a><span class="lineno"> 8652</span>&#160;      <span class="comment">// Check for NSError *.</span></div>
<div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ObjCPtrTy = Param-&gt;getAs&lt;<a class="code" href="classclang_1_1ObjCObjectPointerType.html">ObjCObjectPointerType</a>&gt;()) {</div>
<div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a> = ObjCPtrTy-&gt;getInterfaceDecl()) {</div>
<div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">ID</a>-&gt;getIdentifier() == S.<a class="code" href="classclang_1_1Sema.html#ac9074c46199231b2c93bc9690fe132d0">getNSErrorIdent</a>()) {</div>
<div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;            AnyErrorParams = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;          }</div>
<div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;        }</div>
<div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;      }</div>
<div class="line"><a name="l08661"></a><span class="lineno"> 8661</span>&#160;      <span class="comment">// Check for CFError *.</span></div>
<div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PtrTy = Param-&gt;getAs&lt;<a class="code" href="classclang_1_1PointerType.html">PointerType</a>&gt;()) {</div>
<div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *RT = PtrTy-&gt;getPointeeType()-&gt;getAs&lt;<a class="code" href="classclang_1_1RecordType.html">RecordType</a>&gt;()) {</div>
<div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;          <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a9efacb17965963abb580b676a76a10ec">isCFError</a>(RT-&gt;getDecl())) {</div>
<div class="line"><a name="l08665"></a><span class="lineno"> 8665</span>&#160;            AnyErrorParams = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160;          }</div>
<div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;        }</div>
<div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;      }</div>
<div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160;    }</div>
<div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160; </div>
<div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;    <span class="keywordflow">if</span> (!AnyErrorParams) {</div>
<div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(ErrorAttr-&gt;getLocation(),</div>
<div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;             diag::err_swift_async_error_no_error_parameter)</div>
<div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160;          &lt;&lt; ErrorAttr &lt;&lt; isa&lt;ObjCMethodDecl&gt;(D);</div>
<div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;    }</div>
<div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08679"></a><span class="lineno"> 8679</span>&#160;  }</div>
<div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">SwiftAsyncErrorAttr::None</a>:</div>
<div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;  }</div>
<div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160;}</div>
<div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160; </div>
<div class="line"><a name="l08685"></a><span class="lineno"> 8685</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftAsyncError(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;  <a class="code" href="structclang_1_1IdentifierLoc.html">IdentifierLoc</a> *IDLoc = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0);</div>
<div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;  SwiftAsyncErrorAttr::ConventionKind ConvKind;</div>
<div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160;  <span class="keywordflow">if</span> (!SwiftAsyncErrorAttr::ConvertStrToConventionKind(IDLoc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(),</div>
<div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;                                                       ConvKind)) {</div>
<div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported)</div>
<div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160;        &lt;&lt; AL &lt;&lt; IDLoc-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08693"></a><span class="lineno"> 8693</span>&#160;  }</div>
<div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160; </div>
<div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160;  uint32_t <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> = 0;</div>
<div class="line"><a name="l08696"></a><span class="lineno"> 8696</span>&#160;  <span class="keywordflow">switch</span> (ConvKind) {</div>
<div class="line"><a name="l08697"></a><span class="lineno"> 8697</span>&#160;  <span class="keywordflow">case</span> SwiftAsyncErrorAttr::ZeroArgument:</div>
<div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;  <span class="keywordflow">case</span> SwiftAsyncErrorAttr::NonZeroArgument: {</div>
<div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 2))</div>
<div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160; </div>
<div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *IdxExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1);</div>
<div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, IdxExpr, <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a>))</div>
<div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;  }</div>
<div class="line"><a name="l08707"></a><span class="lineno"> 8707</span>&#160;  <span class="keywordflow">case</span> SwiftAsyncErrorAttr::NonNullError:</div>
<div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">SwiftAsyncErrorAttr::None</a>: {</div>
<div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;  }</div>
<div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;  }</div>
<div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160; </div>
<div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;  <span class="keyword">auto</span> *ErrorAttr =</div>
<div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;      ::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftAsyncErrorAttr(S.Context, AL, ConvKind, <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a>);</div>
<div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;  D-&gt;addAttr(ErrorAttr);</div>
<div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160; </div>
<div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;  <a class="code" href="namespaceclang.html#ae555fc7019e94c75897766189ed3c050">if</a> (auto *AsyncAttr = D-&gt;getAttr&lt;SwiftAsyncAttr&gt;())</div>
<div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;    checkSwiftAsyncErrorBlock(S, D, ErrorAttr, AsyncAttr);</div>
<div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;}</div>
<div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160; </div>
<div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;<span class="comment">// For a function, this will validate a compound Swift name, e.g.</span></div>
<div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;<span class="comment">// &lt;code&gt;init(foo:bar:baz:)&lt;/code&gt; or &lt;code&gt;controllerForName(_:)&lt;/code&gt;, and</span></div>
<div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;<span class="comment">// the function will output the number of parameter names, and whether this is a</span></div>
<div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;<span class="comment">// single-arg initializer.</span></div>
<div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;<span class="comment">// For a type, enum constant, property, or variable declaration, this will</span></div>
<div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;<span class="comment">// validate either a simple identifier, or a qualified</span></div>
<div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160;<span class="comment">// &lt;code&gt;context.identifier&lt;/code&gt; name.</span></div>
<div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;static <span class="keywordtype">bool</span></div>
<div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160;validateSwiftFunctionName(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, const <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;                          StringRef Name, <span class="keywordtype">unsigned</span> &amp;SwiftParamCount,</div>
<div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;                          <span class="keywordtype">bool</span> &amp;IsSingleParamInit) {</div>
<div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;  SwiftParamCount = 0;</div>
<div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;  IsSingleParamInit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160; </div>
<div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;  <span class="comment">// Check whether this will be mapped to a getter or setter of a property.</span></div>
<div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;  <span class="keywordtype">bool</span> IsGetter = <span class="keyword">false</span>, IsSetter = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;  <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;getter:&quot;</span>)) {</div>
<div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;    IsGetter = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;    Name = Name.substr(7);</div>
<div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;setter:&quot;</span>)) {</div>
<div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;    IsSetter = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;    Name = Name.substr(7);</div>
<div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;  }</div>
<div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160; </div>
<div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;  <span class="keywordflow">if</span> (Name.back() != <span class="charliteral">&#39;)&#39;</span>) {</div>
<div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_function) &lt;&lt; AL;</div>
<div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;  }</div>
<div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160; </div>
<div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;  <span class="keywordtype">bool</span> IsMember = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160;  StringRef ContextName, BaseName, <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>;</div>
<div class="line"><a name="l08755"></a><span class="lineno"> 8755</span>&#160; </div>
<div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;  std::tie(BaseName, Parameters) = Name.split(<span class="charliteral">&#39;(&#39;</span>);</div>
<div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160; </div>
<div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160;  <span class="comment">// Split at the first &#39;.&#39;, if it exists, which separates the context name</span></div>
<div class="line"><a name="l08759"></a><span class="lineno"> 8759</span>&#160;  <span class="comment">// from the base name.</span></div>
<div class="line"><a name="l08760"></a><span class="lineno"> 8760</span>&#160;  std::tie(ContextName, BaseName) = BaseName.split(<span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l08761"></a><span class="lineno"> 8761</span>&#160;  <span class="keywordflow">if</span> (BaseName.empty()) {</div>
<div class="line"><a name="l08762"></a><span class="lineno"> 8762</span>&#160;    BaseName = ContextName;</div>
<div class="line"><a name="l08763"></a><span class="lineno"> 8763</span>&#160;    ContextName = StringRef();</div>
<div class="line"><a name="l08764"></a><span class="lineno"> 8764</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ContextName.empty() || !<a class="code" href="namespaceclang.html#a4ed394d9a335c1d6c7fc168a88ffcec5">isValidAsciiIdentifier</a>(ContextName)) {</div>
<div class="line"><a name="l08765"></a><span class="lineno"> 8765</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_invalid_identifier)</div>
<div class="line"><a name="l08766"></a><span class="lineno"> 8766</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="comment">/*context*/</span> 1;</div>
<div class="line"><a name="l08767"></a><span class="lineno"> 8767</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08768"></a><span class="lineno"> 8768</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08769"></a><span class="lineno"> 8769</span>&#160;    IsMember = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08770"></a><span class="lineno"> 8770</span>&#160;  }</div>
<div class="line"><a name="l08771"></a><span class="lineno"> 8771</span>&#160; </div>
<div class="line"><a name="l08772"></a><span class="lineno"> 8772</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang.html#a4ed394d9a335c1d6c7fc168a88ffcec5">isValidAsciiIdentifier</a>(BaseName) || BaseName == <span class="stringliteral">&quot;_&quot;</span>) {</div>
<div class="line"><a name="l08773"></a><span class="lineno"> 8773</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_invalid_identifier)</div>
<div class="line"><a name="l08774"></a><span class="lineno"> 8774</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="comment">/*basename*/</span> 0;</div>
<div class="line"><a name="l08775"></a><span class="lineno"> 8775</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08776"></a><span class="lineno"> 8776</span>&#160;  }</div>
<div class="line"><a name="l08777"></a><span class="lineno"> 8777</span>&#160; </div>
<div class="line"><a name="l08778"></a><span class="lineno"> 8778</span>&#160;  <span class="keywordtype">bool</span> IsSubscript = BaseName == <span class="stringliteral">&quot;subscript&quot;</span>;</div>
<div class="line"><a name="l08779"></a><span class="lineno"> 8779</span>&#160;  <span class="comment">// A subscript accessor must be a getter or setter.</span></div>
<div class="line"><a name="l08780"></a><span class="lineno"> 8780</span>&#160;  <span class="keywordflow">if</span> (IsSubscript &amp;&amp; !IsGetter &amp;&amp; !IsSetter) {</div>
<div class="line"><a name="l08781"></a><span class="lineno"> 8781</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_subscript_invalid_parameter)</div>
<div class="line"><a name="l08782"></a><span class="lineno"> 8782</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="comment">/* getter or setter */</span> 0;</div>
<div class="line"><a name="l08783"></a><span class="lineno"> 8783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08784"></a><span class="lineno"> 8784</span>&#160;  }</div>
<div class="line"><a name="l08785"></a><span class="lineno"> 8785</span>&#160; </div>
<div class="line"><a name="l08786"></a><span class="lineno"> 8786</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>.empty()) {</div>
<div class="line"><a name="l08787"></a><span class="lineno"> 8787</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_missing_parameters) &lt;&lt; AL;</div>
<div class="line"><a name="l08788"></a><span class="lineno"> 8788</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08789"></a><span class="lineno"> 8789</span>&#160;  }</div>
<div class="line"><a name="l08790"></a><span class="lineno"> 8790</span>&#160; </div>
<div class="line"><a name="l08791"></a><span class="lineno"> 8791</span>&#160;  assert(<a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>.back() == <span class="charliteral">&#39;)&#39;</span> &amp;&amp; <span class="stringliteral">&quot;expected &#39;)&#39;&quot;</span>);</div>
<div class="line"><a name="l08792"></a><span class="lineno"> 8792</span>&#160;  <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a> = <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>.drop_back(); <span class="comment">// &#39;)&#39;</span></div>
<div class="line"><a name="l08793"></a><span class="lineno"> 8793</span>&#160; </div>
<div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>.empty()) {</div>
<div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160;    <span class="comment">// Setters and subscripts must have at least one parameter.</span></div>
<div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;    <span class="keywordflow">if</span> (IsSubscript) {</div>
<div class="line"><a name="l08797"></a><span class="lineno"> 8797</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_subscript_invalid_parameter)</div>
<div class="line"><a name="l08798"></a><span class="lineno"> 8798</span>&#160;          &lt;&lt; AL &lt;&lt; <span class="comment">/* have at least one parameter */</span>1;</div>
<div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;    }</div>
<div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160; </div>
<div class="line"><a name="l08802"></a><span class="lineno"> 8802</span>&#160;    <span class="keywordflow">if</span> (IsSetter) {</div>
<div class="line"><a name="l08803"></a><span class="lineno"> 8803</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_setter_parameters) &lt;&lt; AL;</div>
<div class="line"><a name="l08804"></a><span class="lineno"> 8804</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08805"></a><span class="lineno"> 8805</span>&#160;    }</div>
<div class="line"><a name="l08806"></a><span class="lineno"> 8806</span>&#160; </div>
<div class="line"><a name="l08807"></a><span class="lineno"> 8807</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08808"></a><span class="lineno"> 8808</span>&#160;  }</div>
<div class="line"><a name="l08809"></a><span class="lineno"> 8809</span>&#160; </div>
<div class="line"><a name="l08810"></a><span class="lineno"> 8810</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>.back() != <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l08811"></a><span class="lineno"> 8811</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_function) &lt;&lt; AL;</div>
<div class="line"><a name="l08812"></a><span class="lineno"> 8812</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08813"></a><span class="lineno"> 8813</span>&#160;  }</div>
<div class="line"><a name="l08814"></a><span class="lineno"> 8814</span>&#160; </div>
<div class="line"><a name="l08815"></a><span class="lineno"> 8815</span>&#160;  StringRef CurrentParam;</div>
<div class="line"><a name="l08816"></a><span class="lineno"> 8816</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">llvm::Optional&lt;unsigned&gt;</a> SelfLocation;</div>
<div class="line"><a name="l08817"></a><span class="lineno"> 8817</span>&#160;  <span class="keywordtype">unsigned</span> NewValueCount = 0;</div>
<div class="line"><a name="l08818"></a><span class="lineno"> 8818</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">llvm::Optional&lt;unsigned&gt;</a> NewValueLocation;</div>
<div class="line"><a name="l08819"></a><span class="lineno"> 8819</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l08820"></a><span class="lineno"> 8820</span>&#160;    std::tie(CurrentParam, Parameters) = <a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>.split(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l08821"></a><span class="lineno"> 8821</span>&#160; </div>
<div class="line"><a name="l08822"></a><span class="lineno"> 8822</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang.html#a4ed394d9a335c1d6c7fc168a88ffcec5">isValidAsciiIdentifier</a>(CurrentParam)) {</div>
<div class="line"><a name="l08823"></a><span class="lineno"> 8823</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_invalid_identifier)</div>
<div class="line"><a name="l08824"></a><span class="lineno"> 8824</span>&#160;          &lt;&lt; AL &lt;&lt; <span class="comment">/*parameter*/</span>2;</div>
<div class="line"><a name="l08825"></a><span class="lineno"> 8825</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08826"></a><span class="lineno"> 8826</span>&#160;    }</div>
<div class="line"><a name="l08827"></a><span class="lineno"> 8827</span>&#160; </div>
<div class="line"><a name="l08828"></a><span class="lineno"> 8828</span>&#160;    <span class="keywordflow">if</span> (IsMember &amp;&amp; CurrentParam == <span class="stringliteral">&quot;self&quot;</span>) {</div>
<div class="line"><a name="l08829"></a><span class="lineno"> 8829</span>&#160;      <span class="comment">// &quot;self&quot; indicates the &quot;self&quot; argument for a member.</span></div>
<div class="line"><a name="l08830"></a><span class="lineno"> 8830</span>&#160; </div>
<div class="line"><a name="l08831"></a><span class="lineno"> 8831</span>&#160;      <span class="comment">// More than one &quot;self&quot;?</span></div>
<div class="line"><a name="l08832"></a><span class="lineno"> 8832</span>&#160;      <span class="keywordflow">if</span> (SelfLocation) {</div>
<div class="line"><a name="l08833"></a><span class="lineno"> 8833</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_multiple_selfs) &lt;&lt; AL;</div>
<div class="line"><a name="l08834"></a><span class="lineno"> 8834</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08835"></a><span class="lineno"> 8835</span>&#160;      }</div>
<div class="line"><a name="l08836"></a><span class="lineno"> 8836</span>&#160; </div>
<div class="line"><a name="l08837"></a><span class="lineno"> 8837</span>&#160;      <span class="comment">// The &quot;self&quot; location is the current parameter.</span></div>
<div class="line"><a name="l08838"></a><span class="lineno"> 8838</span>&#160;      SelfLocation = SwiftParamCount;</div>
<div class="line"><a name="l08839"></a><span class="lineno"> 8839</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CurrentParam == <span class="stringliteral">&quot;newValue&quot;</span>) {</div>
<div class="line"><a name="l08840"></a><span class="lineno"> 8840</span>&#160;      <span class="comment">// &quot;newValue&quot; indicates the &quot;newValue&quot; argument for a setter.</span></div>
<div class="line"><a name="l08841"></a><span class="lineno"> 8841</span>&#160; </div>
<div class="line"><a name="l08842"></a><span class="lineno"> 8842</span>&#160;      <span class="comment">// There should only be one &#39;newValue&#39;, but it&#39;s only significant for</span></div>
<div class="line"><a name="l08843"></a><span class="lineno"> 8843</span>&#160;      <span class="comment">// subscript accessors, so don&#39;t error right away.</span></div>
<div class="line"><a name="l08844"></a><span class="lineno"> 8844</span>&#160;      ++NewValueCount;</div>
<div class="line"><a name="l08845"></a><span class="lineno"> 8845</span>&#160; </div>
<div class="line"><a name="l08846"></a><span class="lineno"> 8846</span>&#160;      NewValueLocation = SwiftParamCount;</div>
<div class="line"><a name="l08847"></a><span class="lineno"> 8847</span>&#160;    }</div>
<div class="line"><a name="l08848"></a><span class="lineno"> 8848</span>&#160; </div>
<div class="line"><a name="l08849"></a><span class="lineno"> 8849</span>&#160;    ++SwiftParamCount;</div>
<div class="line"><a name="l08850"></a><span class="lineno"> 8850</span>&#160;  } <span class="keywordflow">while</span> (!<a class="code" href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">Parameters</a>.empty());</div>
<div class="line"><a name="l08851"></a><span class="lineno"> 8851</span>&#160; </div>
<div class="line"><a name="l08852"></a><span class="lineno"> 8852</span>&#160;  <span class="comment">// Only instance subscripts are currently supported.</span></div>
<div class="line"><a name="l08853"></a><span class="lineno"> 8853</span>&#160;  <span class="keywordflow">if</span> (IsSubscript &amp;&amp; !SelfLocation) {</div>
<div class="line"><a name="l08854"></a><span class="lineno"> 8854</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_subscript_invalid_parameter)</div>
<div class="line"><a name="l08855"></a><span class="lineno"> 8855</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="comment">/*have a &#39;self:&#39; parameter*/</span>2;</div>
<div class="line"><a name="l08856"></a><span class="lineno"> 8856</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08857"></a><span class="lineno"> 8857</span>&#160;  }</div>
<div class="line"><a name="l08858"></a><span class="lineno"> 8858</span>&#160; </div>
<div class="line"><a name="l08859"></a><span class="lineno"> 8859</span>&#160;  IsSingleParamInit =</div>
<div class="line"><a name="l08860"></a><span class="lineno"> 8860</span>&#160;        SwiftParamCount == 1 &amp;&amp; BaseName == <span class="stringliteral">&quot;init&quot;</span> &amp;&amp; CurrentParam != <span class="stringliteral">&quot;_&quot;</span>;</div>
<div class="line"><a name="l08861"></a><span class="lineno"> 8861</span>&#160; </div>
<div class="line"><a name="l08862"></a><span class="lineno"> 8862</span>&#160;  <span class="comment">// Check the number of parameters for a getter/setter.</span></div>
<div class="line"><a name="l08863"></a><span class="lineno"> 8863</span>&#160;  <span class="keywordflow">if</span> (IsGetter || IsSetter) {</div>
<div class="line"><a name="l08864"></a><span class="lineno"> 8864</span>&#160;    <span class="comment">// Setters have one parameter for the new value.</span></div>
<div class="line"><a name="l08865"></a><span class="lineno"> 8865</span>&#160;    <span class="keywordtype">unsigned</span> NumExpectedParams = IsGetter ? 0 : 1;</div>
<div class="line"><a name="l08866"></a><span class="lineno"> 8866</span>&#160;    <span class="keywordtype">unsigned</span> ParamDiag =</div>
<div class="line"><a name="l08867"></a><span class="lineno"> 8867</span>&#160;        IsGetter ? diag::warn_attr_swift_name_getter_parameters</div>
<div class="line"><a name="l08868"></a><span class="lineno"> 8868</span>&#160;                 : diag::warn_attr_swift_name_setter_parameters;</div>
<div class="line"><a name="l08869"></a><span class="lineno"> 8869</span>&#160; </div>
<div class="line"><a name="l08870"></a><span class="lineno"> 8870</span>&#160;    <span class="comment">// Instance methods have one parameter for &quot;self&quot;.</span></div>
<div class="line"><a name="l08871"></a><span class="lineno"> 8871</span>&#160;    <span class="keywordflow">if</span> (SelfLocation)</div>
<div class="line"><a name="l08872"></a><span class="lineno"> 8872</span>&#160;      ++NumExpectedParams;</div>
<div class="line"><a name="l08873"></a><span class="lineno"> 8873</span>&#160; </div>
<div class="line"><a name="l08874"></a><span class="lineno"> 8874</span>&#160;    <span class="comment">// Subscripts may have additional parameters beyond the expected params for</span></div>
<div class="line"><a name="l08875"></a><span class="lineno"> 8875</span>&#160;    <span class="comment">// the index.</span></div>
<div class="line"><a name="l08876"></a><span class="lineno"> 8876</span>&#160;    <span class="keywordflow">if</span> (IsSubscript) {</div>
<div class="line"><a name="l08877"></a><span class="lineno"> 8877</span>&#160;      <span class="keywordflow">if</span> (SwiftParamCount &lt; NumExpectedParams) {</div>
<div class="line"><a name="l08878"></a><span class="lineno"> 8878</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, ParamDiag) &lt;&lt; AL;</div>
<div class="line"><a name="l08879"></a><span class="lineno"> 8879</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08880"></a><span class="lineno"> 8880</span>&#160;      }</div>
<div class="line"><a name="l08881"></a><span class="lineno"> 8881</span>&#160; </div>
<div class="line"><a name="l08882"></a><span class="lineno"> 8882</span>&#160;      <span class="comment">// A subscript setter must explicitly label its newValue parameter to</span></div>
<div class="line"><a name="l08883"></a><span class="lineno"> 8883</span>&#160;      <span class="comment">// distinguish it from index parameters.</span></div>
<div class="line"><a name="l08884"></a><span class="lineno"> 8884</span>&#160;      <span class="keywordflow">if</span> (IsSetter) {</div>
<div class="line"><a name="l08885"></a><span class="lineno"> 8885</span>&#160;        <span class="keywordflow">if</span> (!NewValueLocation) {</div>
<div class="line"><a name="l08886"></a><span class="lineno"> 8886</span>&#160;          S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_subscript_setter_no_newValue)</div>
<div class="line"><a name="l08887"></a><span class="lineno"> 8887</span>&#160;              &lt;&lt; AL;</div>
<div class="line"><a name="l08888"></a><span class="lineno"> 8888</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08889"></a><span class="lineno"> 8889</span>&#160;        }</div>
<div class="line"><a name="l08890"></a><span class="lineno"> 8890</span>&#160;        <span class="keywordflow">if</span> (NewValueCount &gt; 1) {</div>
<div class="line"><a name="l08891"></a><span class="lineno"> 8891</span>&#160;          S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_subscript_setter_multiple_newValues)</div>
<div class="line"><a name="l08892"></a><span class="lineno"> 8892</span>&#160;              &lt;&lt; AL;</div>
<div class="line"><a name="l08893"></a><span class="lineno"> 8893</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08894"></a><span class="lineno"> 8894</span>&#160;        }</div>
<div class="line"><a name="l08895"></a><span class="lineno"> 8895</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08896"></a><span class="lineno"> 8896</span>&#160;        <span class="comment">// Subscript getters should have no &#39;newValue:&#39; parameter.</span></div>
<div class="line"><a name="l08897"></a><span class="lineno"> 8897</span>&#160;        <span class="keywordflow">if</span> (NewValueLocation) {</div>
<div class="line"><a name="l08898"></a><span class="lineno"> 8898</span>&#160;          S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, diag::warn_attr_swift_name_subscript_getter_newValue)</div>
<div class="line"><a name="l08899"></a><span class="lineno"> 8899</span>&#160;              &lt;&lt; AL;</div>
<div class="line"><a name="l08900"></a><span class="lineno"> 8900</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08901"></a><span class="lineno"> 8901</span>&#160;        }</div>
<div class="line"><a name="l08902"></a><span class="lineno"> 8902</span>&#160;      }</div>
<div class="line"><a name="l08903"></a><span class="lineno"> 8903</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08904"></a><span class="lineno"> 8904</span>&#160;      <span class="comment">// Property accessors must have exactly the number of expected params.</span></div>
<div class="line"><a name="l08905"></a><span class="lineno"> 8905</span>&#160;      <span class="keywordflow">if</span> (SwiftParamCount != NumExpectedParams) {</div>
<div class="line"><a name="l08906"></a><span class="lineno"> 8906</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(Loc, ParamDiag) &lt;&lt; AL;</div>
<div class="line"><a name="l08907"></a><span class="lineno"> 8907</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08908"></a><span class="lineno"> 8908</span>&#160;      }</div>
<div class="line"><a name="l08909"></a><span class="lineno"> 8909</span>&#160;    }</div>
<div class="line"><a name="l08910"></a><span class="lineno"> 8910</span>&#160;  }</div>
<div class="line"><a name="l08911"></a><span class="lineno"> 8911</span>&#160; </div>
<div class="line"><a name="l08912"></a><span class="lineno"> 8912</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08913"></a><span class="lineno"> 8913</span>&#160;}</div>
<div class="line"><a name="l08914"></a><span class="lineno"> 8914</span>&#160; </div>
<div class="line"><a name="l08915"></a><span class="lineno"> 8915</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a99ee92ee180fe80ddaebb942c667c01b">Sema::DiagnoseSwiftName</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, StringRef Name, <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc,</div>
<div class="line"><a name="l08916"></a><span class="lineno"> 8916</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL, <span class="keywordtype">bool</span> IsAsync) {</div>
<div class="line"><a name="l08917"></a><span class="lineno"> 8917</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ObjCMethodDecl&gt;(D) || isa&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l08918"></a><span class="lineno"> 8918</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;ParmVarDecl*&gt;</a> Params;</div>
<div class="line"><a name="l08919"></a><span class="lineno"> 8919</span>&#160;    <span class="keywordtype">unsigned</span> ParamCount;</div>
<div class="line"><a name="l08920"></a><span class="lineno"> 8920</span>&#160; </div>
<div class="line"><a name="l08921"></a><span class="lineno"> 8921</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *Method = dyn_cast&lt;ObjCMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l08922"></a><span class="lineno"> 8922</span>&#160;      ParamCount = Method-&gt;getSelector().getNumArgs();</div>
<div class="line"><a name="l08923"></a><span class="lineno"> 8923</span>&#160;      Params = Method-&gt;parameters().slice(0, ParamCount);</div>
<div class="line"><a name="l08924"></a><span class="lineno"> 8924</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08925"></a><span class="lineno"> 8925</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *F = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l08926"></a><span class="lineno"> 8926</span>&#160; </div>
<div class="line"><a name="l08927"></a><span class="lineno"> 8927</span>&#160;      ParamCount = F-&gt;getNumParams();</div>
<div class="line"><a name="l08928"></a><span class="lineno"> 8928</span>&#160;      Params = F-&gt;parameters();</div>
<div class="line"><a name="l08929"></a><span class="lineno"> 8929</span>&#160; </div>
<div class="line"><a name="l08930"></a><span class="lineno"> 8930</span>&#160;      <span class="keywordflow">if</span> (!F-&gt;hasWrittenPrototype()) {</div>
<div class="line"><a name="l08931"></a><span class="lineno"> 8931</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::warn_attribute_wrong_decl_type) &lt;&lt; AL</div>
<div class="line"><a name="l08932"></a><span class="lineno"> 8932</span>&#160;            &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a2bc86255142d5d88a43caef2415a31c7">ExpectedFunctionWithProtoType</a>;</div>
<div class="line"><a name="l08933"></a><span class="lineno"> 8933</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08934"></a><span class="lineno"> 8934</span>&#160;      }</div>
<div class="line"><a name="l08935"></a><span class="lineno"> 8935</span>&#160;    }</div>
<div class="line"><a name="l08936"></a><span class="lineno"> 8936</span>&#160; </div>
<div class="line"><a name="l08937"></a><span class="lineno"> 8937</span>&#160;    <span class="comment">// The async name drops the last callback parameter.</span></div>
<div class="line"><a name="l08938"></a><span class="lineno"> 8938</span>&#160;    <span class="keywordflow">if</span> (IsAsync) {</div>
<div class="line"><a name="l08939"></a><span class="lineno"> 8939</span>&#160;      <span class="keywordflow">if</span> (ParamCount == 0) {</div>
<div class="line"><a name="l08940"></a><span class="lineno"> 8940</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::warn_attr_swift_name_decl_missing_params)</div>
<div class="line"><a name="l08941"></a><span class="lineno"> 8941</span>&#160;            &lt;&lt; AL &lt;&lt; isa&lt;ObjCMethodDecl&gt;(D);</div>
<div class="line"><a name="l08942"></a><span class="lineno"> 8942</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08943"></a><span class="lineno"> 8943</span>&#160;      }</div>
<div class="line"><a name="l08944"></a><span class="lineno"> 8944</span>&#160;      ParamCount -= 1;</div>
<div class="line"><a name="l08945"></a><span class="lineno"> 8945</span>&#160;    }</div>
<div class="line"><a name="l08946"></a><span class="lineno"> 8946</span>&#160; </div>
<div class="line"><a name="l08947"></a><span class="lineno"> 8947</span>&#160;    <span class="keywordtype">unsigned</span> SwiftParamCount;</div>
<div class="line"><a name="l08948"></a><span class="lineno"> 8948</span>&#160;    <span class="keywordtype">bool</span> IsSingleParamInit;</div>
<div class="line"><a name="l08949"></a><span class="lineno"> 8949</span>&#160;    <span class="keywordflow">if</span> (!validateSwiftFunctionName(*<span class="keyword">this</span>, AL, Loc, Name,</div>
<div class="line"><a name="l08950"></a><span class="lineno"> 8950</span>&#160;                                   SwiftParamCount, IsSingleParamInit))</div>
<div class="line"><a name="l08951"></a><span class="lineno"> 8951</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08952"></a><span class="lineno"> 8952</span>&#160; </div>
<div class="line"><a name="l08953"></a><span class="lineno"> 8953</span>&#160;    <span class="keywordtype">bool</span> ParamCountValid;</div>
<div class="line"><a name="l08954"></a><span class="lineno"> 8954</span>&#160;    <span class="keywordflow">if</span> (SwiftParamCount == ParamCount) {</div>
<div class="line"><a name="l08955"></a><span class="lineno"> 8955</span>&#160;      ParamCountValid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08956"></a><span class="lineno"> 8956</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SwiftParamCount &gt; ParamCount) {</div>
<div class="line"><a name="l08957"></a><span class="lineno"> 8957</span>&#160;      ParamCountValid = IsSingleParamInit &amp;&amp; ParamCount == 0;</div>
<div class="line"><a name="l08958"></a><span class="lineno"> 8958</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08959"></a><span class="lineno"> 8959</span>&#160;      <span class="comment">// We have fewer Swift parameters than Objective-C parameters, but that</span></div>
<div class="line"><a name="l08960"></a><span class="lineno"> 8960</span>&#160;      <span class="comment">// might be because we&#39;ve transformed some of them. Check for potential</span></div>
<div class="line"><a name="l08961"></a><span class="lineno"> 8961</span>&#160;      <span class="comment">// &quot;out&quot; parameters and err on the side of not warning.</span></div>
<div class="line"><a name="l08962"></a><span class="lineno"> 8962</span>&#160;      <span class="keywordtype">unsigned</span> MaybeOutParamCount =</div>
<div class="line"><a name="l08963"></a><span class="lineno"> 8963</span>&#160;          llvm::count_if(Params, [](<span class="keyword">const</span> <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *Param) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l08964"></a><span class="lineno"> 8964</span>&#160;            <a class="code" href="classclang_1_1QualType.html">QualType</a> ParamTy = Param-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l08965"></a><span class="lineno"> 8965</span>&#160;            <span class="keywordflow">if</span> (ParamTy-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>() || ParamTy-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>())</div>
<div class="line"><a name="l08966"></a><span class="lineno"> 8966</span>&#160;              <span class="keywordflow">return</span> !ParamTy-&gt;<a class="code" href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">getPointeeType</a>().<a class="code" href="classclang_1_1QualType.html#aca156152b1a49b67df130233ccb77a29">isConstQualified</a>();</div>
<div class="line"><a name="l08967"></a><span class="lineno"> 8967</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08968"></a><span class="lineno"> 8968</span>&#160;          });</div>
<div class="line"><a name="l08969"></a><span class="lineno"> 8969</span>&#160; </div>
<div class="line"><a name="l08970"></a><span class="lineno"> 8970</span>&#160;      ParamCountValid = SwiftParamCount + MaybeOutParamCount &gt;= ParamCount;</div>
<div class="line"><a name="l08971"></a><span class="lineno"> 8971</span>&#160;    }</div>
<div class="line"><a name="l08972"></a><span class="lineno"> 8972</span>&#160; </div>
<div class="line"><a name="l08973"></a><span class="lineno"> 8973</span>&#160;    <span class="keywordflow">if</span> (!ParamCountValid) {</div>
<div class="line"><a name="l08974"></a><span class="lineno"> 8974</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::warn_attr_swift_name_num_params)</div>
<div class="line"><a name="l08975"></a><span class="lineno"> 8975</span>&#160;          &lt;&lt; (SwiftParamCount &gt; ParamCount) &lt;&lt; AL &lt;&lt; ParamCount</div>
<div class="line"><a name="l08976"></a><span class="lineno"> 8976</span>&#160;          &lt;&lt; SwiftParamCount;</div>
<div class="line"><a name="l08977"></a><span class="lineno"> 8977</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08978"></a><span class="lineno"> 8978</span>&#160;    }</div>
<div class="line"><a name="l08979"></a><span class="lineno"> 8979</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((isa&lt;EnumConstantDecl&gt;(D) || isa&lt;ObjCProtocolDecl&gt;(D) ||</div>
<div class="line"><a name="l08980"></a><span class="lineno"> 8980</span>&#160;              isa&lt;ObjCInterfaceDecl&gt;(D) || isa&lt;ObjCPropertyDecl&gt;(D) ||</div>
<div class="line"><a name="l08981"></a><span class="lineno"> 8981</span>&#160;              isa&lt;VarDecl&gt;(D) || isa&lt;TypedefNameDecl&gt;(D) || isa&lt;TagDecl&gt;(D) ||</div>
<div class="line"><a name="l08982"></a><span class="lineno"> 8982</span>&#160;              isa&lt;IndirectFieldDecl&gt;(D) || isa&lt;FieldDecl&gt;(D)) &amp;&amp;</div>
<div class="line"><a name="l08983"></a><span class="lineno"> 8983</span>&#160;             !IsAsync) {</div>
<div class="line"><a name="l08984"></a><span class="lineno"> 8984</span>&#160;    StringRef ContextName, BaseName;</div>
<div class="line"><a name="l08985"></a><span class="lineno"> 8985</span>&#160; </div>
<div class="line"><a name="l08986"></a><span class="lineno"> 8986</span>&#160;    std::tie(ContextName, BaseName) = Name.split(<span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l08987"></a><span class="lineno"> 8987</span>&#160;    <span class="keywordflow">if</span> (BaseName.empty()) {</div>
<div class="line"><a name="l08988"></a><span class="lineno"> 8988</span>&#160;      BaseName = ContextName;</div>
<div class="line"><a name="l08989"></a><span class="lineno"> 8989</span>&#160;      ContextName = StringRef();</div>
<div class="line"><a name="l08990"></a><span class="lineno"> 8990</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang.html#a4ed394d9a335c1d6c7fc168a88ffcec5">isValidAsciiIdentifier</a>(ContextName)) {</div>
<div class="line"><a name="l08991"></a><span class="lineno"> 8991</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::warn_attr_swift_name_invalid_identifier) &lt;&lt; AL</div>
<div class="line"><a name="l08992"></a><span class="lineno"> 8992</span>&#160;          &lt;&lt; <span class="comment">/*context*/</span>1;</div>
<div class="line"><a name="l08993"></a><span class="lineno"> 8993</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08994"></a><span class="lineno"> 8994</span>&#160;    }</div>
<div class="line"><a name="l08995"></a><span class="lineno"> 8995</span>&#160; </div>
<div class="line"><a name="l08996"></a><span class="lineno"> 8996</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang.html#a4ed394d9a335c1d6c7fc168a88ffcec5">isValidAsciiIdentifier</a>(BaseName)) {</div>
<div class="line"><a name="l08997"></a><span class="lineno"> 8997</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::warn_attr_swift_name_invalid_identifier) &lt;&lt; AL</div>
<div class="line"><a name="l08998"></a><span class="lineno"> 8998</span>&#160;          &lt;&lt; <span class="comment">/*basename*/</span>0;</div>
<div class="line"><a name="l08999"></a><span class="lineno"> 8999</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09000"></a><span class="lineno"> 9000</span>&#160;    }</div>
<div class="line"><a name="l09001"></a><span class="lineno"> 9001</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09002"></a><span class="lineno"> 9002</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Loc, diag::warn_attr_swift_name_decl_kind) &lt;&lt; AL;</div>
<div class="line"><a name="l09003"></a><span class="lineno"> 9003</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09004"></a><span class="lineno"> 9004</span>&#160;  }</div>
<div class="line"><a name="l09005"></a><span class="lineno"> 9005</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09006"></a><span class="lineno"> 9006</span>&#160;}</div>
<div class="line"><a name="l09007"></a><span class="lineno"> 9007</span>&#160; </div>
<div class="line"><a name="l09008"></a><span class="lineno"> 9008</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftName(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09009"></a><span class="lineno"> 9009</span>&#160;  StringRef Name;</div>
<div class="line"><a name="l09010"></a><span class="lineno"> 9010</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc;</div>
<div class="line"><a name="l09011"></a><span class="lineno"> 9011</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Name, &amp;Loc))</div>
<div class="line"><a name="l09012"></a><span class="lineno"> 9012</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09013"></a><span class="lineno"> 9013</span>&#160; </div>
<div class="line"><a name="l09014"></a><span class="lineno"> 9014</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a99ee92ee180fe80ddaebb942c667c01b">DiagnoseSwiftName</a>(D, Name, Loc, AL, <span class="comment">/*IsAsync=*/</span><span class="keyword">false</span>))</div>
<div class="line"><a name="l09015"></a><span class="lineno"> 9015</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09016"></a><span class="lineno"> 9016</span>&#160; </div>
<div class="line"><a name="l09017"></a><span class="lineno"> 9017</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftNameAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Name));</div>
<div class="line"><a name="l09018"></a><span class="lineno"> 9018</span>&#160;}</div>
<div class="line"><a name="l09019"></a><span class="lineno"> 9019</span>&#160; </div>
<div class="line"><a name="l09020"></a><span class="lineno"> 9020</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftAsyncName(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09021"></a><span class="lineno"> 9021</span>&#160;  StringRef Name;</div>
<div class="line"><a name="l09022"></a><span class="lineno"> 9022</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc;</div>
<div class="line"><a name="l09023"></a><span class="lineno"> 9023</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Name, &amp;Loc))</div>
<div class="line"><a name="l09024"></a><span class="lineno"> 9024</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09025"></a><span class="lineno"> 9025</span>&#160; </div>
<div class="line"><a name="l09026"></a><span class="lineno"> 9026</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a99ee92ee180fe80ddaebb942c667c01b">DiagnoseSwiftName</a>(D, Name, Loc, AL, <span class="comment">/*IsAsync=*/</span><span class="keyword">true</span>))</div>
<div class="line"><a name="l09027"></a><span class="lineno"> 9027</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09028"></a><span class="lineno"> 9028</span>&#160; </div>
<div class="line"><a name="l09029"></a><span class="lineno"> 9029</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftAsyncNameAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Name));</div>
<div class="line"><a name="l09030"></a><span class="lineno"> 9030</span>&#160;}</div>
<div class="line"><a name="l09031"></a><span class="lineno"> 9031</span>&#160; </div>
<div class="line"><a name="l09032"></a><span class="lineno"> 9032</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftNewType(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09033"></a><span class="lineno"> 9033</span>&#160;  <span class="comment">// Make sure that there is an identifier as the annotation&#39;s single argument.</span></div>
<div class="line"><a name="l09034"></a><span class="lineno"> 9034</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l09035"></a><span class="lineno"> 9035</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09036"></a><span class="lineno"> 9036</span>&#160; </div>
<div class="line"><a name="l09037"></a><span class="lineno"> 9037</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l09038"></a><span class="lineno"> 9038</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l09039"></a><span class="lineno"> 9039</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l09040"></a><span class="lineno"> 9040</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09041"></a><span class="lineno"> 9041</span>&#160;  }</div>
<div class="line"><a name="l09042"></a><span class="lineno"> 9042</span>&#160; </div>
<div class="line"><a name="l09043"></a><span class="lineno"> 9043</span>&#160;  SwiftNewTypeAttr::NewtypeKind <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>;</div>
<div class="line"><a name="l09044"></a><span class="lineno"> 9044</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l09045"></a><span class="lineno"> 9045</span>&#160;  <span class="keywordflow">if</span> (!SwiftNewTypeAttr::ConvertStrToNewtypeKind(II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(), <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)) {</div>
<div class="line"><a name="l09046"></a><span class="lineno"> 9046</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; II;</div>
<div class="line"><a name="l09047"></a><span class="lineno"> 9047</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09048"></a><span class="lineno"> 9048</span>&#160;  }</div>
<div class="line"><a name="l09049"></a><span class="lineno"> 9049</span>&#160; </div>
<div class="line"><a name="l09050"></a><span class="lineno"> 9050</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;TypedefNameDecl&gt;(D)) {</div>
<div class="line"><a name="l09051"></a><span class="lineno"> 9051</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type_str)</div>
<div class="line"><a name="l09052"></a><span class="lineno"> 9052</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="stringliteral">&quot;typedefs&quot;</span>;</div>
<div class="line"><a name="l09053"></a><span class="lineno"> 9053</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09054"></a><span class="lineno"> 9054</span>&#160;  }</div>
<div class="line"><a name="l09055"></a><span class="lineno"> 9055</span>&#160; </div>
<div class="line"><a name="l09056"></a><span class="lineno"> 9056</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftNewTypeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>));</div>
<div class="line"><a name="l09057"></a><span class="lineno"> 9057</span>&#160;}</div>
<div class="line"><a name="l09058"></a><span class="lineno"> 9058</span>&#160; </div>
<div class="line"><a name="l09059"></a><span class="lineno"> 9059</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSwiftAsyncAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09060"></a><span class="lineno"> 9060</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l09061"></a><span class="lineno"> 9061</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_n_type)</div>
<div class="line"><a name="l09062"></a><span class="lineno"> 9062</span>&#160;        &lt;&lt; AL &lt;&lt; 1 &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l09063"></a><span class="lineno"> 9063</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09064"></a><span class="lineno"> 9064</span>&#160;  }</div>
<div class="line"><a name="l09065"></a><span class="lineno"> 9065</span>&#160; </div>
<div class="line"><a name="l09066"></a><span class="lineno"> 9066</span>&#160;  <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">SwiftAsyncAttr::Kind</a> <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>;</div>
<div class="line"><a name="l09067"></a><span class="lineno"> 9067</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l09068"></a><span class="lineno"> 9068</span>&#160;  <span class="keywordflow">if</span> (!SwiftAsyncAttr::ConvertStrToKind(II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(), <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)) {</div>
<div class="line"><a name="l09069"></a><span class="lineno"> 9069</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_swift_async_no_access) &lt;&lt; AL &lt;&lt; II;</div>
<div class="line"><a name="l09070"></a><span class="lineno"> 9070</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09071"></a><span class="lineno"> 9071</span>&#160;  }</div>
<div class="line"><a name="l09072"></a><span class="lineno"> 9072</span>&#160; </div>
<div class="line"><a name="l09073"></a><span class="lineno"> 9073</span>&#160;  <a class="code" href="classclang_1_1ParamIdx.html">ParamIdx</a> Idx;</div>
<div class="line"><a name="l09074"></a><span class="lineno"> 9074</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a> == <a class="code" href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">SwiftAsyncAttr::None</a>) {</div>
<div class="line"><a name="l09075"></a><span class="lineno"> 9075</span>&#160;    <span class="comment">// If this is &#39;none&#39;, then there shouldn&#39;t be any additional arguments.</span></div>
<div class="line"><a name="l09076"></a><span class="lineno"> 9076</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l09077"></a><span class="lineno"> 9077</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09078"></a><span class="lineno"> 9078</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09079"></a><span class="lineno"> 9079</span>&#160;    <span class="comment">// Non-none swift_async requires a completion handler index argument.</span></div>
<div class="line"><a name="l09080"></a><span class="lineno"> 9080</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 2))</div>
<div class="line"><a name="l09081"></a><span class="lineno"> 9081</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09082"></a><span class="lineno"> 9082</span>&#160; </div>
<div class="line"><a name="l09083"></a><span class="lineno"> 9083</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *HandlerIdx = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1);</div>
<div class="line"><a name="l09084"></a><span class="lineno"> 9084</span>&#160;    <span class="keywordflow">if</span> (!checkFunctionOrMethodParameterIndex(S, D, AL, 2, HandlerIdx, Idx))</div>
<div class="line"><a name="l09085"></a><span class="lineno"> 9085</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09086"></a><span class="lineno"> 9086</span>&#160; </div>
<div class="line"><a name="l09087"></a><span class="lineno"> 9087</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *CompletionBlock =</div>
<div class="line"><a name="l09088"></a><span class="lineno"> 9088</span>&#160;        <a class="code" href="SemaDeclAttr_8cpp.html#a129f9063859b12a10010182119f9f4ee">getFunctionOrMethodParam</a>(D, Idx.<a class="code" href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">getASTIndex</a>());</div>
<div class="line"><a name="l09089"></a><span class="lineno"> 9089</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> CompletionBlockType = CompletionBlock-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l09090"></a><span class="lineno"> 9090</span>&#160;    <span class="keywordflow">if</span> (!CompletionBlockType-&gt;<a class="code" href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">isBlockPointerType</a>()) {</div>
<div class="line"><a name="l09091"></a><span class="lineno"> 9091</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(CompletionBlock-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l09092"></a><span class="lineno"> 9092</span>&#160;             diag::err_swift_async_bad_block_type)</div>
<div class="line"><a name="l09093"></a><span class="lineno"> 9093</span>&#160;          &lt;&lt; CompletionBlock-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l09094"></a><span class="lineno"> 9094</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09095"></a><span class="lineno"> 9095</span>&#160;    }</div>
<div class="line"><a name="l09096"></a><span class="lineno"> 9096</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> BlockTy =</div>
<div class="line"><a name="l09097"></a><span class="lineno"> 9097</span>&#160;        CompletionBlockType-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1BlockPointerType.html">BlockPointerType</a>&gt;()-&gt;getPointeeType();</div>
<div class="line"><a name="l09098"></a><span class="lineno"> 9098</span>&#160;    <span class="keywordflow">if</span> (!BlockTy-&gt;<a class="code" href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">castAs</a>&lt;<a class="code" href="classclang_1_1FunctionType.html">FunctionType</a>&gt;()-&gt;<a class="code" href="classclang_1_1FunctionType.html#a72d2fe185651231ebe4856ad548b99b7">getReturnType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>()) {</div>
<div class="line"><a name="l09099"></a><span class="lineno"> 9099</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(CompletionBlock-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l09100"></a><span class="lineno"> 9100</span>&#160;             diag::err_swift_async_bad_block_type)</div>
<div class="line"><a name="l09101"></a><span class="lineno"> 9101</span>&#160;          &lt;&lt; CompletionBlock-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l09102"></a><span class="lineno"> 9102</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09103"></a><span class="lineno"> 9103</span>&#160;    }</div>
<div class="line"><a name="l09104"></a><span class="lineno"> 9104</span>&#160;  }</div>
<div class="line"><a name="l09105"></a><span class="lineno"> 9105</span>&#160; </div>
<div class="line"><a name="l09106"></a><span class="lineno"> 9106</span>&#160;  <span class="keyword">auto</span> *AsyncAttr =</div>
<div class="line"><a name="l09107"></a><span class="lineno"> 9107</span>&#160;      ::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) SwiftAsyncAttr(S.Context, AL, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>, Idx);</div>
<div class="line"><a name="l09108"></a><span class="lineno"> 9108</span>&#160;  D-&gt;addAttr(AsyncAttr);</div>
<div class="line"><a name="l09109"></a><span class="lineno"> 9109</span>&#160; </div>
<div class="line"><a name="l09110"></a><span class="lineno"> 9110</span>&#160;  <a class="code" href="namespaceclang.html#ae555fc7019e94c75897766189ed3c050">if</a> (auto *ErrorAttr = D-&gt;getAttr&lt;SwiftAsyncErrorAttr&gt;())</div>
<div class="line"><a name="l09111"></a><span class="lineno"> 9111</span>&#160;    checkSwiftAsyncErrorBlock(S, D, ErrorAttr, AsyncAttr);</div>
<div class="line"><a name="l09112"></a><span class="lineno"> 9112</span>&#160;}</div>
<div class="line"><a name="l09113"></a><span class="lineno"> 9113</span>&#160; </div>
<div class="line"><a name="l09114"></a><span class="lineno"> 9114</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l09115"></a><span class="lineno"> 9115</span>&#160;<span class="comment">// Microsoft specific attribute handlers.</span></div>
<div class="line"><a name="l09116"></a><span class="lineno"> 9116</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l09117"></a><span class="lineno"> 9117</span>&#160; </div>
<div class="line"><a name="l09118"></a><span class="lineno"> 9118</span>&#160;UuidAttr *<a class="code" href="classclang_1_1Sema.html">Sema</a>::mergeUuidAttr(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, const <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l09119"></a><span class="lineno"> 9119</span>&#160;                              StringRef UuidAsWritten, <a class="code" href="classclang_1_1MSGuidDecl.html">MSGuidDecl</a> *GuidDecl) {</div>
<div class="line"><a name="l09120"></a><span class="lineno"> 9120</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *UA = D-&gt;getAttr&lt;UuidAttr&gt;()) {</div>
<div class="line"><a name="l09121"></a><span class="lineno"> 9121</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceclang.html#ad9d926b16adbdbc93705737b69d47cae">declaresSameEntity</a>(UA-&gt;getGuidDecl(), GuidDecl))</div>
<div class="line"><a name="l09122"></a><span class="lineno"> 9122</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09123"></a><span class="lineno"> 9123</span>&#160;    <span class="keywordflow">if</span> (!UA-&gt;getGuid().empty()) {</div>
<div class="line"><a name="l09124"></a><span class="lineno"> 9124</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(UA-&gt;getLocation(), diag::err_mismatched_uuid);</div>
<div class="line"><a name="l09125"></a><span class="lineno"> 9125</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.getLoc(), diag::note_previous_uuid);</div>
<div class="line"><a name="l09126"></a><span class="lineno"> 9126</span>&#160;      D-&gt;dropAttr&lt;UuidAttr&gt;();</div>
<div class="line"><a name="l09127"></a><span class="lineno"> 9127</span>&#160;    }</div>
<div class="line"><a name="l09128"></a><span class="lineno"> 9128</span>&#160;  }</div>
<div class="line"><a name="l09129"></a><span class="lineno"> 9129</span>&#160; </div>
<div class="line"><a name="l09130"></a><span class="lineno"> 9130</span>&#160;  return ::new (Context) UuidAttr(Context, CI, UuidAsWritten, GuidDecl);</div>
<div class="line"><a name="l09131"></a><span class="lineno"> 9131</span>&#160;}</div>
<div class="line"><a name="l09132"></a><span class="lineno"> 9132</span>&#160; </div>
<div class="line"><a name="l09133"></a><span class="lineno"> 9133</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleUuidAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09134"></a><span class="lineno"> 9134</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.CPlusPlus) {</div>
<div class="line"><a name="l09135"></a><span class="lineno"> 9135</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_not_supported_in_lang)</div>
<div class="line"><a name="l09136"></a><span class="lineno"> 9136</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">AttributeLangSupport::C</a>;</div>
<div class="line"><a name="l09137"></a><span class="lineno"> 9137</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09138"></a><span class="lineno"> 9138</span>&#160;  }</div>
<div class="line"><a name="l09139"></a><span class="lineno"> 9139</span>&#160; </div>
<div class="line"><a name="l09140"></a><span class="lineno"> 9140</span>&#160;  StringRef OrigStrRef;</div>
<div class="line"><a name="l09141"></a><span class="lineno"> 9141</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l09142"></a><span class="lineno"> 9142</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, OrigStrRef, &amp;LiteralLoc))</div>
<div class="line"><a name="l09143"></a><span class="lineno"> 9143</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09144"></a><span class="lineno"> 9144</span>&#160; </div>
<div class="line"><a name="l09145"></a><span class="lineno"> 9145</span>&#160;  <span class="comment">// GUID format is &quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot; or</span></div>
<div class="line"><a name="l09146"></a><span class="lineno"> 9146</span>&#160;  <span class="comment">// &quot;{XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX}&quot;, normalize to the former.</span></div>
<div class="line"><a name="l09147"></a><span class="lineno"> 9147</span>&#160;  StringRef StrRef = OrigStrRef;</div>
<div class="line"><a name="l09148"></a><span class="lineno"> 9148</span>&#160;  <span class="keywordflow">if</span> (StrRef.size() == 38 &amp;&amp; StrRef.front() == <span class="charliteral">&#39;{&#39;</span> &amp;&amp; StrRef.back() == <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><a name="l09149"></a><span class="lineno"> 9149</span>&#160;    StrRef = StrRef.drop_front().drop_back();</div>
<div class="line"><a name="l09150"></a><span class="lineno"> 9150</span>&#160; </div>
<div class="line"><a name="l09151"></a><span class="lineno"> 9151</span>&#160;  <span class="comment">// Validate GUID length.</span></div>
<div class="line"><a name="l09152"></a><span class="lineno"> 9152</span>&#160;  <span class="keywordflow">if</span> (StrRef.size() != 36) {</div>
<div class="line"><a name="l09153"></a><span class="lineno"> 9153</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::err_attribute_uuid_malformed_guid);</div>
<div class="line"><a name="l09154"></a><span class="lineno"> 9154</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09155"></a><span class="lineno"> 9155</span>&#160;  }</div>
<div class="line"><a name="l09156"></a><span class="lineno"> 9156</span>&#160; </div>
<div class="line"><a name="l09157"></a><span class="lineno"> 9157</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 36; ++i) {</div>
<div class="line"><a name="l09158"></a><span class="lineno"> 9158</span>&#160;    <span class="keywordflow">if</span> (i == 8 || i == 13 || i == 18 || i == 23) {</div>
<div class="line"><a name="l09159"></a><span class="lineno"> 9159</span>&#160;      <span class="keywordflow">if</span> (StrRef[i] != <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l09160"></a><span class="lineno"> 9160</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::err_attribute_uuid_malformed_guid);</div>
<div class="line"><a name="l09161"></a><span class="lineno"> 9161</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09162"></a><span class="lineno"> 9162</span>&#160;      }</div>
<div class="line"><a name="l09163"></a><span class="lineno"> 9163</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang.html#aa60adc99d2d93078eb3aa83d71f6f564">isHexDigit</a>(StrRef[i])) {</div>
<div class="line"><a name="l09164"></a><span class="lineno"> 9164</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::err_attribute_uuid_malformed_guid);</div>
<div class="line"><a name="l09165"></a><span class="lineno"> 9165</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09166"></a><span class="lineno"> 9166</span>&#160;    }</div>
<div class="line"><a name="l09167"></a><span class="lineno"> 9167</span>&#160;  }</div>
<div class="line"><a name="l09168"></a><span class="lineno"> 9168</span>&#160; </div>
<div class="line"><a name="l09169"></a><span class="lineno"> 9169</span>&#160;  <span class="comment">// Convert to our parsed format and canonicalize.</span></div>
<div class="line"><a name="l09170"></a><span class="lineno"> 9170</span>&#160;  <a class="code" href="structclang_1_1MSGuidDeclParts.html">MSGuidDecl::Parts</a> Parsed;</div>
<div class="line"><a name="l09171"></a><span class="lineno"> 9171</span>&#160;  StrRef.substr(0, 8).getAsInteger(16, Parsed.<a class="code" href="structclang_1_1MSGuidDeclParts.html#a7362f8775f12d394516c87b68f5157e9">Part1</a>);</div>
<div class="line"><a name="l09172"></a><span class="lineno"> 9172</span>&#160;  StrRef.substr(9, 4).getAsInteger(16, Parsed.<a class="code" href="structclang_1_1MSGuidDeclParts.html#a215565eda81740326631c42ce2649a42">Part2</a>);</div>
<div class="line"><a name="l09173"></a><span class="lineno"> 9173</span>&#160;  StrRef.substr(14, 4).getAsInteger(16, Parsed.<a class="code" href="structclang_1_1MSGuidDeclParts.html#a76af38b644e3d8390a9df333328a6b3a">Part3</a>);</div>
<div class="line"><a name="l09174"></a><span class="lineno"> 9174</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i != 8; ++i)</div>
<div class="line"><a name="l09175"></a><span class="lineno"> 9175</span>&#160;    StrRef.substr(19 + 2 * i + (i &gt;= 2 ? 1 : 0), 2)</div>
<div class="line"><a name="l09176"></a><span class="lineno"> 9176</span>&#160;        .getAsInteger(16, Parsed.<a class="code" href="structclang_1_1MSGuidDeclParts.html#a8c72ba958d0a04b582599dc719beb7f9">Part4And5</a>[i]);</div>
<div class="line"><a name="l09177"></a><span class="lineno"> 9177</span>&#160;  <a class="code" href="classclang_1_1MSGuidDecl.html">MSGuidDecl</a> *Guid = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a00ec7fab6f88207f4914e265a1a142d6">getMSGuidDecl</a>(Parsed);</div>
<div class="line"><a name="l09178"></a><span class="lineno"> 9178</span>&#160; </div>
<div class="line"><a name="l09179"></a><span class="lineno"> 9179</span>&#160;  <span class="comment">// FIXME: It&#39;d be nice to also emit a fixit removing uuid(...) (and, if it&#39;s</span></div>
<div class="line"><a name="l09180"></a><span class="lineno"> 9180</span>&#160;  <span class="comment">// the only thing in the [] list, the [] too), and add an insertion of</span></div>
<div class="line"><a name="l09181"></a><span class="lineno"> 9181</span>&#160;  <span class="comment">// __declspec(uuid(...)).  But sadly, neither the SourceLocs of the commas</span></div>
<div class="line"><a name="l09182"></a><span class="lineno"> 9182</span>&#160;  <span class="comment">// separating attributes nor of the [ and the ] are in the AST.</span></div>
<div class="line"><a name="l09183"></a><span class="lineno"> 9183</span>&#160;  <span class="comment">// Cf &quot;SourceLocations of attribute list delimiters - [[ ... , ... ]] etc&quot;</span></div>
<div class="line"><a name="l09184"></a><span class="lineno"> 9184</span>&#160;  <span class="comment">// on cfe-dev.</span></div>
<div class="line"><a name="l09185"></a><span class="lineno"> 9185</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a0f96152b9cae84ed0427b9299e59afff">isMicrosoftAttribute</a>()) <span class="comment">// Check for [uuid(...)] spelling.</span></div>
<div class="line"><a name="l09186"></a><span class="lineno"> 9186</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_atl_uuid_deprecated);</div>
<div class="line"><a name="l09187"></a><span class="lineno"> 9187</span>&#160; </div>
<div class="line"><a name="l09188"></a><span class="lineno"> 9188</span>&#160;  UuidAttr *UA = S.<a class="code" href="classclang_1_1Sema.html#a82e18d5a17f9a92a6d914a863e35206d">mergeUuidAttr</a>(D, AL, OrigStrRef, Guid);</div>
<div class="line"><a name="l09189"></a><span class="lineno"> 9189</span>&#160;  <span class="keywordflow">if</span> (UA)</div>
<div class="line"><a name="l09190"></a><span class="lineno"> 9190</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(UA);</div>
<div class="line"><a name="l09191"></a><span class="lineno"> 9191</span>&#160;}</div>
<div class="line"><a name="l09192"></a><span class="lineno"> 9192</span>&#160; </div>
<div class="line"><a name="l09193"></a><span class="lineno"> 9193</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleMSInheritanceAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09194"></a><span class="lineno"> 9194</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.CPlusPlus) {</div>
<div class="line"><a name="l09195"></a><span class="lineno"> 9195</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_not_supported_in_lang)</div>
<div class="line"><a name="l09196"></a><span class="lineno"> 9196</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">AttributeLangSupport::C</a>;</div>
<div class="line"><a name="l09197"></a><span class="lineno"> 9197</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09198"></a><span class="lineno"> 9198</span>&#160;  }</div>
<div class="line"><a name="l09199"></a><span class="lineno"> 9199</span>&#160;  MSInheritanceAttr *IA = S.<a class="code" href="classclang_1_1Sema.html#a37a7ca4a0843130152942ffd58597012">mergeMSInheritanceAttr</a>(</div>
<div class="line"><a name="l09200"></a><span class="lineno"> 9200</span>&#160;      D, AL, <span class="comment">/*BestCase=*/</span><span class="keyword">true</span>, (<a class="code" href="namespaceclang.html#ad3b44399e5a02cb6427596a4489bb3ae">MSInheritanceModel</a>)AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1c23175b6d2cfc723d6e18390c5cd25a">getSemanticSpelling</a>());</div>
<div class="line"><a name="l09201"></a><span class="lineno"> 9201</span>&#160;  <span class="keywordflow">if</span> (IA) {</div>
<div class="line"><a name="l09202"></a><span class="lineno"> 9202</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(IA);</div>
<div class="line"><a name="l09203"></a><span class="lineno"> 9203</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#abb0166241058a45af82cc0ee40a8005a">Consumer</a>.<a class="code" href="classclang_1_1ASTConsumer.html#abb9a2e25f40387eea6c9bbf534031bb3">AssignInheritanceModel</a>(cast&lt;CXXRecordDecl&gt;(D));</div>
<div class="line"><a name="l09204"></a><span class="lineno"> 9204</span>&#160;  }</div>
<div class="line"><a name="l09205"></a><span class="lineno"> 9205</span>&#160;}</div>
<div class="line"><a name="l09206"></a><span class="lineno"> 9206</span>&#160; </div>
<div class="line"><a name="l09207"></a><span class="lineno"> 9207</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDeclspecThreadAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09208"></a><span class="lineno"> 9208</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *VD = cast&lt;VarDecl&gt;(D);</div>
<div class="line"><a name="l09209"></a><span class="lineno"> 9209</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#a91c66f861a69f88019a52dcf7043b3e7">isTLSSupported</a>()) {</div>
<div class="line"><a name="l09210"></a><span class="lineno"> 9210</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_thread_unsupported);</div>
<div class="line"><a name="l09211"></a><span class="lineno"> 9211</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09212"></a><span class="lineno"> 9212</span>&#160;  }</div>
<div class="line"><a name="l09213"></a><span class="lineno"> 9213</span>&#160;  <span class="keywordflow">if</span> (VD-&gt;getTSCSpec() != <a class="code" href="namespaceclang.html#a583fcd7bd4c641e26e303d7db6efa11ea3b0fbbe7fa53bea291ac093fd1ac7421">TSCS_unspecified</a>) {</div>
<div class="line"><a name="l09214"></a><span class="lineno"> 9214</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_declspec_thread_on_thread_variable);</div>
<div class="line"><a name="l09215"></a><span class="lineno"> 9215</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09216"></a><span class="lineno"> 9216</span>&#160;  }</div>
<div class="line"><a name="l09217"></a><span class="lineno"> 9217</span>&#160;  <span class="keywordflow">if</span> (VD-&gt;hasLocalStorage()) {</div>
<div class="line"><a name="l09218"></a><span class="lineno"> 9218</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_thread_non_global) &lt;&lt; <span class="stringliteral">&quot;__declspec(thread)&quot;</span>;</div>
<div class="line"><a name="l09219"></a><span class="lineno"> 9219</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09220"></a><span class="lineno"> 9220</span>&#160;  }</div>
<div class="line"><a name="l09221"></a><span class="lineno"> 9221</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ThreadAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l09222"></a><span class="lineno"> 9222</span>&#160;}</div>
<div class="line"><a name="l09223"></a><span class="lineno"> 9223</span>&#160; </div>
<div class="line"><a name="l09224"></a><span class="lineno"> 9224</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAbiTagAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09225"></a><span class="lineno"> 9225</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 4&gt;</a> Tags;</div>
<div class="line"><a name="l09226"></a><span class="lineno"> 9226</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I != E; ++I) {</div>
<div class="line"><a name="l09227"></a><span class="lineno"> 9227</span>&#160;    StringRef Tag;</div>
<div class="line"><a name="l09228"></a><span class="lineno"> 9228</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, I, Tag))</div>
<div class="line"><a name="l09229"></a><span class="lineno"> 9229</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09230"></a><span class="lineno"> 9230</span>&#160;    Tags.push_back(Tag);</div>
<div class="line"><a name="l09231"></a><span class="lineno"> 9231</span>&#160;  }</div>
<div class="line"><a name="l09232"></a><span class="lineno"> 9232</span>&#160; </div>
<div class="line"><a name="l09233"></a><span class="lineno"> 9233</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *NS = dyn_cast&lt;NamespaceDecl&gt;(D)) {</div>
<div class="line"><a name="l09234"></a><span class="lineno"> 9234</span>&#160;    <span class="keywordflow">if</span> (!NS-&gt;isInline()) {</div>
<div class="line"><a name="l09235"></a><span class="lineno"> 9235</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attr_abi_tag_namespace) &lt;&lt; 0;</div>
<div class="line"><a name="l09236"></a><span class="lineno"> 9236</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09237"></a><span class="lineno"> 9237</span>&#160;    }</div>
<div class="line"><a name="l09238"></a><span class="lineno"> 9238</span>&#160;    <span class="keywordflow">if</span> (NS-&gt;isAnonymousNamespace()) {</div>
<div class="line"><a name="l09239"></a><span class="lineno"> 9239</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attr_abi_tag_namespace) &lt;&lt; 1;</div>
<div class="line"><a name="l09240"></a><span class="lineno"> 9240</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09241"></a><span class="lineno"> 9241</span>&#160;    }</div>
<div class="line"><a name="l09242"></a><span class="lineno"> 9242</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0)</div>
<div class="line"><a name="l09243"></a><span class="lineno"> 9243</span>&#160;      Tags.push_back(NS-&gt;getName());</div>
<div class="line"><a name="l09244"></a><span class="lineno"> 9244</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l09245"></a><span class="lineno"> 9245</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09246"></a><span class="lineno"> 9246</span>&#160; </div>
<div class="line"><a name="l09247"></a><span class="lineno"> 9247</span>&#160;  <span class="comment">// Store tags sorted and without duplicates.</span></div>
<div class="line"><a name="l09248"></a><span class="lineno"> 9248</span>&#160;  llvm::sort(Tags);</div>
<div class="line"><a name="l09249"></a><span class="lineno"> 9249</span>&#160;  Tags.erase(std::unique(Tags.begin(), Tags.end()), Tags.end());</div>
<div class="line"><a name="l09250"></a><span class="lineno"> 9250</span>&#160; </div>
<div class="line"><a name="l09251"></a><span class="lineno"> 9251</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l09252"></a><span class="lineno"> 9252</span>&#160;                 AbiTagAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Tags.data(), Tags.size()));</div>
<div class="line"><a name="l09253"></a><span class="lineno"> 9253</span>&#160;}</div>
<div class="line"><a name="l09254"></a><span class="lineno"> 9254</span>&#160; </div>
<div class="line"><a name="l09255"></a><span class="lineno"> 9255</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleARMInterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09256"></a><span class="lineno"> 9256</span>&#160;  <span class="comment">// Check the attribute arguments.</span></div>
<div class="line"><a name="l09257"></a><span class="lineno"> 9257</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1) {</div>
<div class="line"><a name="l09258"></a><span class="lineno"> 9258</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_too_many_arguments) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l09259"></a><span class="lineno"> 9259</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09260"></a><span class="lineno"> 9260</span>&#160;  }</div>
<div class="line"><a name="l09261"></a><span class="lineno"> 9261</span>&#160; </div>
<div class="line"><a name="l09262"></a><span class="lineno"> 9262</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l09263"></a><span class="lineno"> 9263</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> ArgLoc;</div>
<div class="line"><a name="l09264"></a><span class="lineno"> 9264</span>&#160; </div>
<div class="line"><a name="l09265"></a><span class="lineno"> 9265</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0)</div>
<div class="line"><a name="l09266"></a><span class="lineno"> 9266</span>&#160;    Str = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l09267"></a><span class="lineno"> 9267</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;ArgLoc))</div>
<div class="line"><a name="l09268"></a><span class="lineno"> 9268</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09269"></a><span class="lineno"> 9269</span>&#160; </div>
<div class="line"><a name="l09270"></a><span class="lineno"> 9270</span>&#160;  ARMInterruptAttr::InterruptType <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>;</div>
<div class="line"><a name="l09271"></a><span class="lineno"> 9271</span>&#160;  <span class="keywordflow">if</span> (!ARMInterruptAttr::ConvertStrToInterruptType(Str, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)) {</div>
<div class="line"><a name="l09272"></a><span class="lineno"> 9272</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; Str</div>
<div class="line"><a name="l09273"></a><span class="lineno"> 9273</span>&#160;                                                                 &lt;&lt; ArgLoc;</div>
<div class="line"><a name="l09274"></a><span class="lineno"> 9274</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09275"></a><span class="lineno"> 9275</span>&#160;  }</div>
<div class="line"><a name="l09276"></a><span class="lineno"> 9276</span>&#160; </div>
<div class="line"><a name="l09277"></a><span class="lineno"> 9277</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ARMInterruptAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>));</div>
<div class="line"><a name="l09278"></a><span class="lineno"> 9278</span>&#160;}</div>
<div class="line"><a name="l09279"></a><span class="lineno"> 9279</span>&#160; </div>
<div class="line"><a name="l09280"></a><span class="lineno"> 9280</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleMSP430InterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09281"></a><span class="lineno"> 9281</span>&#160;  <span class="comment">// MSP430 &#39;interrupt&#39; attribute is applied to</span></div>
<div class="line"><a name="l09282"></a><span class="lineno"> 9282</span>&#160;  <span class="comment">// a function with no parameters and void return type.</span></div>
<div class="line"><a name="l09283"></a><span class="lineno"> 9283</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D)) {</div>
<div class="line"><a name="l09284"></a><span class="lineno"> 9284</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09285"></a><span class="lineno"> 9285</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;&#39;interrupt&#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d">ExpectedFunctionOrMethod</a>;</div>
<div class="line"><a name="l09286"></a><span class="lineno"> 9286</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09287"></a><span class="lineno"> 9287</span>&#160;  }</div>
<div class="line"><a name="l09288"></a><span class="lineno"> 9288</span>&#160; </div>
<div class="line"><a name="l09289"></a><span class="lineno"> 9289</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(D) &amp;&amp; <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) != 0) {</div>
<div class="line"><a name="l09290"></a><span class="lineno"> 9290</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_interrupt_attribute_invalid)</div>
<div class="line"><a name="l09291"></a><span class="lineno"> 9291</span>&#160;        &lt;&lt; <span class="comment">/*MSP430*/</span> 1 &lt;&lt; 0;</div>
<div class="line"><a name="l09292"></a><span class="lineno"> 9292</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09293"></a><span class="lineno"> 9293</span>&#160;  }</div>
<div class="line"><a name="l09294"></a><span class="lineno"> 9294</span>&#160; </div>
<div class="line"><a name="l09295"></a><span class="lineno"> 9295</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D)-&gt;isVoidType()) {</div>
<div class="line"><a name="l09296"></a><span class="lineno"> 9296</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_interrupt_attribute_invalid)</div>
<div class="line"><a name="l09297"></a><span class="lineno"> 9297</span>&#160;        &lt;&lt; <span class="comment">/*MSP430*/</span> 1 &lt;&lt; 1;</div>
<div class="line"><a name="l09298"></a><span class="lineno"> 9298</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09299"></a><span class="lineno"> 9299</span>&#160;  }</div>
<div class="line"><a name="l09300"></a><span class="lineno"> 9300</span>&#160; </div>
<div class="line"><a name="l09301"></a><span class="lineno"> 9301</span>&#160;  <span class="comment">// The attribute takes one integer argument.</span></div>
<div class="line"><a name="l09302"></a><span class="lineno"> 9302</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l09303"></a><span class="lineno"> 9303</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09304"></a><span class="lineno"> 9304</span>&#160; </div>
<div class="line"><a name="l09305"></a><span class="lineno"> 9305</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(0)) {</div>
<div class="line"><a name="l09306"></a><span class="lineno"> 9306</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l09307"></a><span class="lineno"> 9307</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a>;</div>
<div class="line"><a name="l09308"></a><span class="lineno"> 9308</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09309"></a><span class="lineno"> 9309</span>&#160;  }</div>
<div class="line"><a name="l09310"></a><span class="lineno"> 9310</span>&#160; </div>
<div class="line"><a name="l09311"></a><span class="lineno"> 9311</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *NumParamsExpr = <span class="keyword">static_cast&lt;</span><a class="code" href="classclang_1_1Expr.html">Expr</a> *<span class="keyword">&gt;</span>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l09312"></a><span class="lineno"> 9312</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;llvm::APSInt&gt;</a> NumParams = <a class="code" href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">llvm::APSInt</a>(32);</div>
<div class="line"><a name="l09313"></a><span class="lineno"> 9313</span>&#160;  <span class="keywordflow">if</span> (!(NumParams = NumParamsExpr-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>))) {</div>
<div class="line"><a name="l09314"></a><span class="lineno"> 9314</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l09315"></a><span class="lineno"> 9315</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a></div>
<div class="line"><a name="l09316"></a><span class="lineno"> 9316</span>&#160;        &lt;&lt; NumParamsExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l09317"></a><span class="lineno"> 9317</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09318"></a><span class="lineno"> 9318</span>&#160;  }</div>
<div class="line"><a name="l09319"></a><span class="lineno"> 9319</span>&#160;  <span class="comment">// The argument should be in range 0..63.</span></div>
<div class="line"><a name="l09320"></a><span class="lineno"> 9320</span>&#160;  <span class="keywordtype">unsigned</span> Num = NumParams-&gt;getLimitedValue(255);</div>
<div class="line"><a name="l09321"></a><span class="lineno"> 9321</span>&#160;  <span class="keywordflow">if</span> (Num &gt; 63) {</div>
<div class="line"><a name="l09322"></a><span class="lineno"> 9322</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l09323"></a><span class="lineno"> 9323</span>&#160;        &lt;&lt; AL &lt;&lt; (<a class="code" href="____clang__hip__libdevice__declares_8h.html#aa7b8984e16daeff79f73e22b4e040334">int</a>)NumParams-&gt;getSExtValue()</div>
<div class="line"><a name="l09324"></a><span class="lineno"> 9324</span>&#160;        &lt;&lt; NumParamsExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l09325"></a><span class="lineno"> 9325</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09326"></a><span class="lineno"> 9326</span>&#160;  }</div>
<div class="line"><a name="l09327"></a><span class="lineno"> 9327</span>&#160; </div>
<div class="line"><a name="l09328"></a><span class="lineno"> 9328</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) MSP430InterruptAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Num));</div>
<div class="line"><a name="l09329"></a><span class="lineno"> 9329</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(UsedAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l09330"></a><span class="lineno"> 9330</span>&#160;}</div>
<div class="line"><a name="l09331"></a><span class="lineno"> 9331</span>&#160; </div>
<div class="line"><a name="l09332"></a><span class="lineno"> 9332</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleMipsInterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09333"></a><span class="lineno"> 9333</span>&#160;  <span class="comment">// Only one optional argument permitted.</span></div>
<div class="line"><a name="l09334"></a><span class="lineno"> 9334</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1) {</div>
<div class="line"><a name="l09335"></a><span class="lineno"> 9335</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_too_many_arguments) &lt;&lt; AL &lt;&lt; 1;</div>
<div class="line"><a name="l09336"></a><span class="lineno"> 9336</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09337"></a><span class="lineno"> 9337</span>&#160;  }</div>
<div class="line"><a name="l09338"></a><span class="lineno"> 9338</span>&#160; </div>
<div class="line"><a name="l09339"></a><span class="lineno"> 9339</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l09340"></a><span class="lineno"> 9340</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> ArgLoc;</div>
<div class="line"><a name="l09341"></a><span class="lineno"> 9341</span>&#160; </div>
<div class="line"><a name="l09342"></a><span class="lineno"> 9342</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0)</div>
<div class="line"><a name="l09343"></a><span class="lineno"> 9343</span>&#160;    Str = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l09344"></a><span class="lineno"> 9344</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;ArgLoc))</div>
<div class="line"><a name="l09345"></a><span class="lineno"> 9345</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09346"></a><span class="lineno"> 9346</span>&#160; </div>
<div class="line"><a name="l09347"></a><span class="lineno"> 9347</span>&#160;  <span class="comment">// Semantic checks for a function with the &#39;interrupt&#39; attribute for MIPS:</span></div>
<div class="line"><a name="l09348"></a><span class="lineno"> 9348</span>&#160;  <span class="comment">// a) Must be a function.</span></div>
<div class="line"><a name="l09349"></a><span class="lineno"> 9349</span>&#160;  <span class="comment">// b) Must have no parameters.</span></div>
<div class="line"><a name="l09350"></a><span class="lineno"> 9350</span>&#160;  <span class="comment">// c) Must have the &#39;void&#39; return type.</span></div>
<div class="line"><a name="l09351"></a><span class="lineno"> 9351</span>&#160;  <span class="comment">// d) Cannot have the &#39;mips16&#39; attribute, as that instruction set</span></div>
<div class="line"><a name="l09352"></a><span class="lineno"> 9352</span>&#160;  <span class="comment">//    lacks the &#39;eret&#39; instruction.</span></div>
<div class="line"><a name="l09353"></a><span class="lineno"> 9353</span>&#160;  <span class="comment">// e) The attribute itself must either have no argument or one of the</span></div>
<div class="line"><a name="l09354"></a><span class="lineno"> 9354</span>&#160;  <span class="comment">//    valid interrupt types, see [MipsInterruptDocs].</span></div>
<div class="line"><a name="l09355"></a><span class="lineno"> 9355</span>&#160; </div>
<div class="line"><a name="l09356"></a><span class="lineno"> 9356</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D)) {</div>
<div class="line"><a name="l09357"></a><span class="lineno"> 9357</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09358"></a><span class="lineno"> 9358</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;&#39;interrupt&#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d">ExpectedFunctionOrMethod</a>;</div>
<div class="line"><a name="l09359"></a><span class="lineno"> 9359</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09360"></a><span class="lineno"> 9360</span>&#160;  }</div>
<div class="line"><a name="l09361"></a><span class="lineno"> 9361</span>&#160; </div>
<div class="line"><a name="l09362"></a><span class="lineno"> 9362</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(D) &amp;&amp; <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) != 0) {</div>
<div class="line"><a name="l09363"></a><span class="lineno"> 9363</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_interrupt_attribute_invalid)</div>
<div class="line"><a name="l09364"></a><span class="lineno"> 9364</span>&#160;        &lt;&lt; <span class="comment">/*MIPS*/</span> 0 &lt;&lt; 0;</div>
<div class="line"><a name="l09365"></a><span class="lineno"> 9365</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09366"></a><span class="lineno"> 9366</span>&#160;  }</div>
<div class="line"><a name="l09367"></a><span class="lineno"> 9367</span>&#160; </div>
<div class="line"><a name="l09368"></a><span class="lineno"> 9368</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D)-&gt;isVoidType()) {</div>
<div class="line"><a name="l09369"></a><span class="lineno"> 9369</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_interrupt_attribute_invalid)</div>
<div class="line"><a name="l09370"></a><span class="lineno"> 9370</span>&#160;        &lt;&lt; <span class="comment">/*MIPS*/</span> 0 &lt;&lt; 1;</div>
<div class="line"><a name="l09371"></a><span class="lineno"> 9371</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09372"></a><span class="lineno"> 9372</span>&#160;  }</div>
<div class="line"><a name="l09373"></a><span class="lineno"> 9373</span>&#160; </div>
<div class="line"><a name="l09374"></a><span class="lineno"> 9374</span>&#160;  <span class="comment">// We still have to do this manually because the Interrupt attributes are</span></div>
<div class="line"><a name="l09375"></a><span class="lineno"> 9375</span>&#160;  <span class="comment">// a bit special due to sharing their spellings across targets.</span></div>
<div class="line"><a name="l09376"></a><span class="lineno"> 9376</span>&#160;  <span class="keywordflow">if</span> (checkAttrMutualExclusion&lt;Mips16Attr&gt;(S, D, AL))</div>
<div class="line"><a name="l09377"></a><span class="lineno"> 9377</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09378"></a><span class="lineno"> 9378</span>&#160; </div>
<div class="line"><a name="l09379"></a><span class="lineno"> 9379</span>&#160;  MipsInterruptAttr::InterruptType <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>;</div>
<div class="line"><a name="l09380"></a><span class="lineno"> 9380</span>&#160;  <span class="keywordflow">if</span> (!MipsInterruptAttr::ConvertStrToInterruptType(Str, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)) {</div>
<div class="line"><a name="l09381"></a><span class="lineno"> 9381</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported)</div>
<div class="line"><a name="l09382"></a><span class="lineno"> 9382</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> + <a class="code" href="lib_2Tooling_2CMakeLists_8txt.html#af86de1f06488914e30d948a42f397df5">std::string</a>(Str) + <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l09383"></a><span class="lineno"> 9383</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09384"></a><span class="lineno"> 9384</span>&#160;  }</div>
<div class="line"><a name="l09385"></a><span class="lineno"> 9385</span>&#160; </div>
<div class="line"><a name="l09386"></a><span class="lineno"> 9386</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) MipsInterruptAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>));</div>
<div class="line"><a name="l09387"></a><span class="lineno"> 9387</span>&#160;}</div>
<div class="line"><a name="l09388"></a><span class="lineno"> 9388</span>&#160; </div>
<div class="line"><a name="l09389"></a><span class="lineno"> 9389</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleM68kInterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09390"></a><span class="lineno"> 9390</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 1))</div>
<div class="line"><a name="l09391"></a><span class="lineno"> 9391</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09392"></a><span class="lineno"> 9392</span>&#160; </div>
<div class="line"><a name="l09393"></a><span class="lineno"> 9393</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">isArgExpr</a>(0)) {</div>
<div class="line"><a name="l09394"></a><span class="lineno"> 9394</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l09395"></a><span class="lineno"> 9395</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a>;</div>
<div class="line"><a name="l09396"></a><span class="lineno"> 9396</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09397"></a><span class="lineno"> 9397</span>&#160;  }</div>
<div class="line"><a name="l09398"></a><span class="lineno"> 9398</span>&#160; </div>
<div class="line"><a name="l09399"></a><span class="lineno"> 9399</span>&#160;  <span class="comment">// FIXME: Check for decl - it should be void ()(void).</span></div>
<div class="line"><a name="l09400"></a><span class="lineno"> 9400</span>&#160; </div>
<div class="line"><a name="l09401"></a><span class="lineno"> 9401</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *NumParamsExpr = <span class="keyword">static_cast&lt;</span><a class="code" href="classclang_1_1Expr.html">Expr</a> *<span class="keyword">&gt;</span>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l09402"></a><span class="lineno"> 9402</span>&#160;  <span class="keyword">auto</span> MaybeNumParams = NumParamsExpr-&gt;<a class="code" href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">getIntegerConstantExpr</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>);</div>
<div class="line"><a name="l09403"></a><span class="lineno"> 9403</span>&#160;  <span class="keywordflow">if</span> (!MaybeNumParams) {</div>
<div class="line"><a name="l09404"></a><span class="lineno"> 9404</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l09405"></a><span class="lineno"> 9405</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">AANT_ArgumentIntegerConstant</a></div>
<div class="line"><a name="l09406"></a><span class="lineno"> 9406</span>&#160;        &lt;&lt; NumParamsExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l09407"></a><span class="lineno"> 9407</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09408"></a><span class="lineno"> 9408</span>&#160;  }</div>
<div class="line"><a name="l09409"></a><span class="lineno"> 9409</span>&#160; </div>
<div class="line"><a name="l09410"></a><span class="lineno"> 9410</span>&#160;  <span class="keywordtype">unsigned</span> Num = MaybeNumParams-&gt;getLimitedValue(255);</div>
<div class="line"><a name="l09411"></a><span class="lineno"> 9411</span>&#160;  <span class="keywordflow">if</span> ((Num &amp; 1) || Num &gt; 30) {</div>
<div class="line"><a name="l09412"></a><span class="lineno"> 9412</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l09413"></a><span class="lineno"> 9413</span>&#160;        &lt;&lt; AL &lt;&lt; (<span class="keywordtype">int</span>)MaybeNumParams-&gt;getSExtValue()</div>
<div class="line"><a name="l09414"></a><span class="lineno"> 9414</span>&#160;        &lt;&lt; NumParamsExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l09415"></a><span class="lineno"> 9415</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09416"></a><span class="lineno"> 9416</span>&#160;  }</div>
<div class="line"><a name="l09417"></a><span class="lineno"> 9417</span>&#160; </div>
<div class="line"><a name="l09418"></a><span class="lineno"> 9418</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) M68kInterruptAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Num));</div>
<div class="line"><a name="l09419"></a><span class="lineno"> 9419</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(UsedAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l09420"></a><span class="lineno"> 9420</span>&#160;}</div>
<div class="line"><a name="l09421"></a><span class="lineno"> 9421</span>&#160; </div>
<div class="line"><a name="l09422"></a><span class="lineno"> 9422</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAnyX86InterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09423"></a><span class="lineno"> 9423</span>&#160;  <span class="comment">// Semantic checks for a function with the &#39;interrupt&#39; attribute.</span></div>
<div class="line"><a name="l09424"></a><span class="lineno"> 9424</span>&#160;  <span class="comment">// a) Must be a function.</span></div>
<div class="line"><a name="l09425"></a><span class="lineno"> 9425</span>&#160;  <span class="comment">// b) Must have the &#39;void&#39; return type.</span></div>
<div class="line"><a name="l09426"></a><span class="lineno"> 9426</span>&#160;  <span class="comment">// c) Must take 1 or 2 arguments.</span></div>
<div class="line"><a name="l09427"></a><span class="lineno"> 9427</span>&#160;  <span class="comment">// d) The 1st argument must be a pointer.</span></div>
<div class="line"><a name="l09428"></a><span class="lineno"> 9428</span>&#160;  <span class="comment">// e) The 2nd argument (if any) must be an unsigned integer.</span></div>
<div class="line"><a name="l09429"></a><span class="lineno"> 9429</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D) || !<a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(D) || <a class="code" href="SemaDeclAttr_8cpp.html#ad35282e02924165aae3b360b22ab028e">isInstanceMethod</a>(D) ||</div>
<div class="line"><a name="l09430"></a><span class="lineno"> 9430</span>&#160;      <a class="code" href="classclang_1_1CXXMethodDecl.html#abe3e84f0c980e5a5d1ea2277d3e85704">CXXMethodDecl::isStaticOverloadedOperator</a>(</div>
<div class="line"><a name="l09431"></a><span class="lineno"> 9431</span>&#160;          cast&lt;NamedDecl&gt;(D)-&gt;getDeclName().getCXXOverloadedOperator())) {</div>
<div class="line"><a name="l09432"></a><span class="lineno"> 9432</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09433"></a><span class="lineno"> 9433</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a2bc86255142d5d88a43caef2415a31c7">ExpectedFunctionWithProtoType</a>;</div>
<div class="line"><a name="l09434"></a><span class="lineno"> 9434</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09435"></a><span class="lineno"> 9435</span>&#160;  }</div>
<div class="line"><a name="l09436"></a><span class="lineno"> 9436</span>&#160;  <span class="comment">// Interrupt handler must have void return type.</span></div>
<div class="line"><a name="l09437"></a><span class="lineno"> 9437</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D)-&gt;isVoidType()) {</div>
<div class="line"><a name="l09438"></a><span class="lineno"> 9438</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">getFunctionOrMethodResultSourceRange</a>(D).getBegin(),</div>
<div class="line"><a name="l09439"></a><span class="lineno"> 9439</span>&#160;           diag::err_anyx86_interrupt_attribute)</div>
<div class="line"><a name="l09440"></a><span class="lineno"> 9440</span>&#160;        &lt;&lt; (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().getArch() == llvm::Triple::x86</div>
<div class="line"><a name="l09441"></a><span class="lineno"> 9441</span>&#160;                ? 0</div>
<div class="line"><a name="l09442"></a><span class="lineno"> 9442</span>&#160;                : 1)</div>
<div class="line"><a name="l09443"></a><span class="lineno"> 9443</span>&#160;        &lt;&lt; 0;</div>
<div class="line"><a name="l09444"></a><span class="lineno"> 9444</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09445"></a><span class="lineno"> 9445</span>&#160;  }</div>
<div class="line"><a name="l09446"></a><span class="lineno"> 9446</span>&#160;  <span class="comment">// Interrupt handler must have 1 or 2 parameters.</span></div>
<div class="line"><a name="l09447"></a><span class="lineno"> 9447</span>&#160;  <span class="keywordtype">unsigned</span> NumParams = <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D);</div>
<div class="line"><a name="l09448"></a><span class="lineno"> 9448</span>&#160;  <span class="keywordflow">if</span> (NumParams &lt; 1 || NumParams &gt; 2) {</div>
<div class="line"><a name="l09449"></a><span class="lineno"> 9449</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::err_anyx86_interrupt_attribute)</div>
<div class="line"><a name="l09450"></a><span class="lineno"> 9450</span>&#160;        &lt;&lt; (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().getArch() == llvm::Triple::x86</div>
<div class="line"><a name="l09451"></a><span class="lineno"> 9451</span>&#160;                ? 0</div>
<div class="line"><a name="l09452"></a><span class="lineno"> 9452</span>&#160;                : 1)</div>
<div class="line"><a name="l09453"></a><span class="lineno"> 9453</span>&#160;        &lt;&lt; 1;</div>
<div class="line"><a name="l09454"></a><span class="lineno"> 9454</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09455"></a><span class="lineno"> 9455</span>&#160;  }</div>
<div class="line"><a name="l09456"></a><span class="lineno"> 9456</span>&#160;  <span class="comment">// The first argument must be a pointer.</span></div>
<div class="line"><a name="l09457"></a><span class="lineno"> 9457</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, 0)-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>()) {</div>
<div class="line"><a name="l09458"></a><span class="lineno"> 9458</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, 0).<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(),</div>
<div class="line"><a name="l09459"></a><span class="lineno"> 9459</span>&#160;           diag::err_anyx86_interrupt_attribute)</div>
<div class="line"><a name="l09460"></a><span class="lineno"> 9460</span>&#160;        &lt;&lt; (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().getArch() == llvm::Triple::x86</div>
<div class="line"><a name="l09461"></a><span class="lineno"> 9461</span>&#160;                ? 0</div>
<div class="line"><a name="l09462"></a><span class="lineno"> 9462</span>&#160;                : 1)</div>
<div class="line"><a name="l09463"></a><span class="lineno"> 9463</span>&#160;        &lt;&lt; 2;</div>
<div class="line"><a name="l09464"></a><span class="lineno"> 9464</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09465"></a><span class="lineno"> 9465</span>&#160;  }</div>
<div class="line"><a name="l09466"></a><span class="lineno"> 9466</span>&#160;  <span class="comment">// The second argument, if present, must be an unsigned integer.</span></div>
<div class="line"><a name="l09467"></a><span class="lineno"> 9467</span>&#160;  <span class="keywordtype">unsigned</span> TypeSize =</div>
<div class="line"><a name="l09468"></a><span class="lineno"> 9468</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().getArch() == llvm::Triple::x86_64</div>
<div class="line"><a name="l09469"></a><span class="lineno"> 9469</span>&#160;          ? 64</div>
<div class="line"><a name="l09470"></a><span class="lineno"> 9470</span>&#160;          : 32;</div>
<div class="line"><a name="l09471"></a><span class="lineno"> 9471</span>&#160;  <span class="keywordflow">if</span> (NumParams == 2 &amp;&amp;</div>
<div class="line"><a name="l09472"></a><span class="lineno"> 9472</span>&#160;      (!<a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, 1)-&gt;isUnsignedIntegerType() ||</div>
<div class="line"><a name="l09473"></a><span class="lineno"> 9473</span>&#160;       S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">getTypeSize</a>(<a class="code" href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a>(D, 1)) != TypeSize)) {</div>
<div class="line"><a name="l09474"></a><span class="lineno"> 9474</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a>(D, 1).<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(),</div>
<div class="line"><a name="l09475"></a><span class="lineno"> 9475</span>&#160;           diag::err_anyx86_interrupt_attribute)</div>
<div class="line"><a name="l09476"></a><span class="lineno"> 9476</span>&#160;        &lt;&lt; (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().getArch() == llvm::Triple::x86</div>
<div class="line"><a name="l09477"></a><span class="lineno"> 9477</span>&#160;                ? 0</div>
<div class="line"><a name="l09478"></a><span class="lineno"> 9478</span>&#160;                : 1)</div>
<div class="line"><a name="l09479"></a><span class="lineno"> 9479</span>&#160;        &lt;&lt; 3 &lt;&lt; S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a6b50b44b241ecee20c8b4fb9d3747ef2">getIntTypeForBitwidth</a>(TypeSize, <span class="comment">/*Signed=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l09480"></a><span class="lineno"> 9480</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09481"></a><span class="lineno"> 9481</span>&#160;  }</div>
<div class="line"><a name="l09482"></a><span class="lineno"> 9482</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AnyX86InterruptAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l09483"></a><span class="lineno"> 9483</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(UsedAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l09484"></a><span class="lineno"> 9484</span>&#160;}</div>
<div class="line"><a name="l09485"></a><span class="lineno"> 9485</span>&#160; </div>
<div class="line"><a name="l09486"></a><span class="lineno"> 9486</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAVRInterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09487"></a><span class="lineno"> 9487</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D)) {</div>
<div class="line"><a name="l09488"></a><span class="lineno"> 9488</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09489"></a><span class="lineno"> 9489</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;&#39;interrupt&#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2">ExpectedFunction</a>;</div>
<div class="line"><a name="l09490"></a><span class="lineno"> 9490</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09491"></a><span class="lineno"> 9491</span>&#160;  }</div>
<div class="line"><a name="l09492"></a><span class="lineno"> 9492</span>&#160; </div>
<div class="line"><a name="l09493"></a><span class="lineno"> 9493</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 0))</div>
<div class="line"><a name="l09494"></a><span class="lineno"> 9494</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09495"></a><span class="lineno"> 9495</span>&#160; </div>
<div class="line"><a name="l09496"></a><span class="lineno"> 9496</span>&#160;  handleSimpleAttribute&lt;AVRInterruptAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l09497"></a><span class="lineno"> 9497</span>&#160;}</div>
<div class="line"><a name="l09498"></a><span class="lineno"> 9498</span>&#160; </div>
<div class="line"><a name="l09499"></a><span class="lineno"> 9499</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAVRSignalAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09500"></a><span class="lineno"> 9500</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D)) {</div>
<div class="line"><a name="l09501"></a><span class="lineno"> 9501</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09502"></a><span class="lineno"> 9502</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;&#39;signal&#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2">ExpectedFunction</a>;</div>
<div class="line"><a name="l09503"></a><span class="lineno"> 9503</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09504"></a><span class="lineno"> 9504</span>&#160;  }</div>
<div class="line"><a name="l09505"></a><span class="lineno"> 9505</span>&#160; </div>
<div class="line"><a name="l09506"></a><span class="lineno"> 9506</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">checkExactlyNumArgs</a>(S, 0))</div>
<div class="line"><a name="l09507"></a><span class="lineno"> 9507</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09508"></a><span class="lineno"> 9508</span>&#160; </div>
<div class="line"><a name="l09509"></a><span class="lineno"> 9509</span>&#160;  handleSimpleAttribute&lt;AVRSignalAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l09510"></a><span class="lineno"> 9510</span>&#160;}</div>
<div class="line"><a name="l09511"></a><span class="lineno"> 9511</span>&#160; </div>
<div class="line"><a name="l09512"></a><span class="lineno"> 9512</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleBPFPreserveAIRecord(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1RecordDecl.html">RecordDecl</a> *RD) {</div>
<div class="line"><a name="l09513"></a><span class="lineno"> 9513</span>&#160;  <span class="comment">// Add preserve_access_index attribute to all fields and inner records.</span></div>
<div class="line"><a name="l09514"></a><span class="lineno"> 9514</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> D : RD-&gt;<a class="code" href="classclang_1_1DeclContext.html#ac87b24f7db0903bf1bbf419165c4deeb">decls</a>()) {</div>
<div class="line"><a name="l09515"></a><span class="lineno"> 9515</span>&#160;    <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;BPFPreserveAccessIndexAttr&gt;())</div>
<div class="line"><a name="l09516"></a><span class="lineno"> 9516</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09517"></a><span class="lineno"> 9517</span>&#160; </div>
<div class="line"><a name="l09518"></a><span class="lineno"> 9518</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(BPFPreserveAccessIndexAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l09519"></a><span class="lineno"> 9519</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Rec = dyn_cast&lt;RecordDecl&gt;(D))</div>
<div class="line"><a name="l09520"></a><span class="lineno"> 9520</span>&#160;      handleBPFPreserveAIRecord(S, Rec);</div>
<div class="line"><a name="l09521"></a><span class="lineno"> 9521</span>&#160;  }</div>
<div class="line"><a name="l09522"></a><span class="lineno"> 9522</span>&#160;}</div>
<div class="line"><a name="l09523"></a><span class="lineno"> 9523</span>&#160; </div>
<div class="line"><a name="l09524"></a><span class="lineno"> 9524</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleBPFPreserveAccessIndexAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l09525"></a><span class="lineno"> 9525</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09526"></a><span class="lineno"> 9526</span>&#160;  <span class="keyword">auto</span> *Rec = cast&lt;RecordDecl&gt;(D);</div>
<div class="line"><a name="l09527"></a><span class="lineno"> 9527</span>&#160;  handleBPFPreserveAIRecord(S, Rec);</div>
<div class="line"><a name="l09528"></a><span class="lineno"> 9528</span>&#160;  Rec-&gt;addAttr(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) BPFPreserveAccessIndexAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l09529"></a><span class="lineno"> 9529</span>&#160;}</div>
<div class="line"><a name="l09530"></a><span class="lineno"> 9530</span>&#160; </div>
<div class="line"><a name="l09531"></a><span class="lineno"> 9531</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> hasBTFDeclTagAttr(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, StringRef Tag) {</div>
<div class="line"><a name="l09532"></a><span class="lineno"> 9532</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *I : D-&gt;<a class="code" href="classclang_1_1Decl.html#a9c0ac8ddf9155de0b95eeeb18034e50f">specific_attrs</a>&lt;BTFDeclTagAttr&gt;()) {</div>
<div class="line"><a name="l09533"></a><span class="lineno"> 9533</span>&#160;    <span class="keywordflow">if</span> (I-&gt;getBTFDeclTag() == Tag)</div>
<div class="line"><a name="l09534"></a><span class="lineno"> 9534</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09535"></a><span class="lineno"> 9535</span>&#160;  }</div>
<div class="line"><a name="l09536"></a><span class="lineno"> 9536</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09537"></a><span class="lineno"> 9537</span>&#160;}</div>
<div class="line"><a name="l09538"></a><span class="lineno"> 9538</span>&#160; </div>
<div class="line"><a name="l09539"></a><span class="lineno"> 9539</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleBTFDeclTagAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09540"></a><span class="lineno"> 9540</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l09541"></a><span class="lineno"> 9541</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l09542"></a><span class="lineno"> 9542</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09543"></a><span class="lineno"> 9543</span>&#160;  <span class="keywordflow">if</span> (hasBTFDeclTagAttr(D, Str))</div>
<div class="line"><a name="l09544"></a><span class="lineno"> 9544</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09545"></a><span class="lineno"> 9545</span>&#160; </div>
<div class="line"><a name="l09546"></a><span class="lineno"> 9546</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) BTFDeclTagAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l09547"></a><span class="lineno"> 9547</span>&#160;}</div>
<div class="line"><a name="l09548"></a><span class="lineno"> 9548</span>&#160; </div>
<div class="line"><a name="l09549"></a><span class="lineno"> 9549</span>&#160;BTFDeclTagAttr *<a class="code" href="classclang_1_1Sema.html#aec0fc8f2a9641771e6a446be3db9df05">Sema::mergeBTFDeclTagAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> BTFDeclTagAttr &amp;AL) {</div>
<div class="line"><a name="l09550"></a><span class="lineno"> 9550</span>&#160;  <span class="keywordflow">if</span> (hasBTFDeclTagAttr(D, AL.getBTFDeclTag()))</div>
<div class="line"><a name="l09551"></a><span class="lineno"> 9551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09552"></a><span class="lineno"> 9552</span>&#160;  return ::new (Context) BTFDeclTagAttr(Context, AL, AL.getBTFDeclTag());</div>
<div class="line"><a name="l09553"></a><span class="lineno"> 9553</span>&#160;}</div>
<div class="line"><a name="l09554"></a><span class="lineno"> 9554</span>&#160; </div>
<div class="line"><a name="l09555"></a><span class="lineno"> 9555</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleWebAssemblyExportNameAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09556"></a><span class="lineno"> 9556</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a>(D)) {</div>
<div class="line"><a name="l09557"></a><span class="lineno"> 9557</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09558"></a><span class="lineno"> 9558</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;&#39;export_name&#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2">ExpectedFunction</a>;</div>
<div class="line"><a name="l09559"></a><span class="lineno"> 9559</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09560"></a><span class="lineno"> 9560</span>&#160;  }</div>
<div class="line"><a name="l09561"></a><span class="lineno"> 9561</span>&#160; </div>
<div class="line"><a name="l09562"></a><span class="lineno"> 9562</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l09563"></a><span class="lineno"> 9563</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a12fbc6a677ba028f3c1b9343e7819b29">isThisDeclarationADefinition</a>()) {</div>
<div class="line"><a name="l09564"></a><span class="lineno"> 9564</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_alias_is_definition) &lt;&lt; FD &lt;&lt; 0;</div>
<div class="line"><a name="l09565"></a><span class="lineno"> 9565</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09566"></a><span class="lineno"> 9566</span>&#160;  }</div>
<div class="line"><a name="l09567"></a><span class="lineno"> 9567</span>&#160; </div>
<div class="line"><a name="l09568"></a><span class="lineno"> 9568</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l09569"></a><span class="lineno"> 9569</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> ArgLoc;</div>
<div class="line"><a name="l09570"></a><span class="lineno"> 9570</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;ArgLoc))</div>
<div class="line"><a name="l09571"></a><span class="lineno"> 9571</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09572"></a><span class="lineno"> 9572</span>&#160; </div>
<div class="line"><a name="l09573"></a><span class="lineno"> 9573</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) WebAssemblyExportNameAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l09574"></a><span class="lineno"> 9574</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(UsedAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>));</div>
<div class="line"><a name="l09575"></a><span class="lineno"> 9575</span>&#160;}</div>
<div class="line"><a name="l09576"></a><span class="lineno"> 9576</span>&#160; </div>
<div class="line"><a name="l09577"></a><span class="lineno"> 9577</span>&#160;WebAssemblyImportModuleAttr *</div>
<div class="line"><a name="l09578"></a><span class="lineno"> 9578</span>&#160;<a class="code" href="classclang_1_1Sema.html#a2ec18eb04c0441468ab57e4fe3e922c5">Sema::mergeImportModuleAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> WebAssemblyImportModuleAttr &amp;AL) {</div>
<div class="line"><a name="l09579"></a><span class="lineno"> 9579</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l09580"></a><span class="lineno"> 9580</span>&#160; </div>
<div class="line"><a name="l09581"></a><span class="lineno"> 9581</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = FD-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;WebAssemblyImportModuleAttr&gt;()) {</div>
<div class="line"><a name="l09582"></a><span class="lineno"> 9582</span>&#160;    <span class="keywordflow">if</span> (ExistingAttr-&gt;getImportModule() == AL.getImportModule())</div>
<div class="line"><a name="l09583"></a><span class="lineno"> 9583</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09584"></a><span class="lineno"> 9584</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLocation(), diag::warn_mismatched_import) &lt;&lt; 0</div>
<div class="line"><a name="l09585"></a><span class="lineno"> 9585</span>&#160;      &lt;&lt; ExistingAttr-&gt;getImportModule() &lt;&lt; AL.getImportModule();</div>
<div class="line"><a name="l09586"></a><span class="lineno"> 9586</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l09587"></a><span class="lineno"> 9587</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09588"></a><span class="lineno"> 9588</span>&#160;  }</div>
<div class="line"><a name="l09589"></a><span class="lineno"> 9589</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae945682c5190f733b118993e5b1b9c1d">hasBody</a>()) {</div>
<div class="line"><a name="l09590"></a><span class="lineno"> 9590</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.getLoc(), diag::warn_import_on_definition) &lt;&lt; 0;</div>
<div class="line"><a name="l09591"></a><span class="lineno"> 9591</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09592"></a><span class="lineno"> 9592</span>&#160;  }</div>
<div class="line"><a name="l09593"></a><span class="lineno"> 9593</span>&#160;  return ::new (Context) WebAssemblyImportModuleAttr(Context, AL,</div>
<div class="line"><a name="l09594"></a><span class="lineno"> 9594</span>&#160;                                                     AL.getImportModule());</div>
<div class="line"><a name="l09595"></a><span class="lineno"> 9595</span>&#160;}</div>
<div class="line"><a name="l09596"></a><span class="lineno"> 9596</span>&#160; </div>
<div class="line"><a name="l09597"></a><span class="lineno"> 9597</span>&#160;WebAssemblyImportNameAttr *</div>
<div class="line"><a name="l09598"></a><span class="lineno"> 9598</span>&#160;<a class="code" href="classclang_1_1Sema.html#ae783b0c325d8d74aa51c89c593f45036">Sema::mergeImportNameAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> WebAssemblyImportNameAttr &amp;AL) {</div>
<div class="line"><a name="l09599"></a><span class="lineno"> 9599</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l09600"></a><span class="lineno"> 9600</span>&#160; </div>
<div class="line"><a name="l09601"></a><span class="lineno"> 9601</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = FD-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;WebAssemblyImportNameAttr&gt;()) {</div>
<div class="line"><a name="l09602"></a><span class="lineno"> 9602</span>&#160;    <span class="keywordflow">if</span> (ExistingAttr-&gt;getImportName() == AL.getImportName())</div>
<div class="line"><a name="l09603"></a><span class="lineno"> 9603</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09604"></a><span class="lineno"> 9604</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLocation(), diag::warn_mismatched_import) &lt;&lt; 1</div>
<div class="line"><a name="l09605"></a><span class="lineno"> 9605</span>&#160;      &lt;&lt; ExistingAttr-&gt;getImportName() &lt;&lt; AL.getImportName();</div>
<div class="line"><a name="l09606"></a><span class="lineno"> 9606</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l09607"></a><span class="lineno"> 9607</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09608"></a><span class="lineno"> 9608</span>&#160;  }</div>
<div class="line"><a name="l09609"></a><span class="lineno"> 9609</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae945682c5190f733b118993e5b1b9c1d">hasBody</a>()) {</div>
<div class="line"><a name="l09610"></a><span class="lineno"> 9610</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.getLoc(), diag::warn_import_on_definition) &lt;&lt; 1;</div>
<div class="line"><a name="l09611"></a><span class="lineno"> 9611</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09612"></a><span class="lineno"> 9612</span>&#160;  }</div>
<div class="line"><a name="l09613"></a><span class="lineno"> 9613</span>&#160;  return ::new (Context) WebAssemblyImportNameAttr(Context, AL,</div>
<div class="line"><a name="l09614"></a><span class="lineno"> 9614</span>&#160;                                                   AL.getImportName());</div>
<div class="line"><a name="l09615"></a><span class="lineno"> 9615</span>&#160;}</div>
<div class="line"><a name="l09616"></a><span class="lineno"> 9616</span>&#160; </div>
<div class="line"><a name="l09617"></a><span class="lineno"> 9617</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09618"></a><span class="lineno"> 9618</span>&#160;handleWebAssemblyImportModuleAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09619"></a><span class="lineno"> 9619</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l09620"></a><span class="lineno"> 9620</span>&#160; </div>
<div class="line"><a name="l09621"></a><span class="lineno"> 9621</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l09622"></a><span class="lineno"> 9622</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> ArgLoc;</div>
<div class="line"><a name="l09623"></a><span class="lineno"> 9623</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;ArgLoc))</div>
<div class="line"><a name="l09624"></a><span class="lineno"> 9624</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09625"></a><span class="lineno"> 9625</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae945682c5190f733b118993e5b1b9c1d">hasBody</a>()) {</div>
<div class="line"><a name="l09626"></a><span class="lineno"> 9626</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_import_on_definition) &lt;&lt; 0;</div>
<div class="line"><a name="l09627"></a><span class="lineno"> 9627</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09628"></a><span class="lineno"> 9628</span>&#160;  }</div>
<div class="line"><a name="l09629"></a><span class="lineno"> 9629</span>&#160; </div>
<div class="line"><a name="l09630"></a><span class="lineno"> 9630</span>&#160;  FD-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l09631"></a><span class="lineno"> 9631</span>&#160;                  WebAssemblyImportModuleAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l09632"></a><span class="lineno"> 9632</span>&#160;}</div>
<div class="line"><a name="l09633"></a><span class="lineno"> 9633</span>&#160; </div>
<div class="line"><a name="l09634"></a><span class="lineno"> 9634</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09635"></a><span class="lineno"> 9635</span>&#160;handleWebAssemblyImportNameAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09636"></a><span class="lineno"> 9636</span>&#160;  <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l09637"></a><span class="lineno"> 9637</span>&#160; </div>
<div class="line"><a name="l09638"></a><span class="lineno"> 9638</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l09639"></a><span class="lineno"> 9639</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> ArgLoc;</div>
<div class="line"><a name="l09640"></a><span class="lineno"> 9640</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;ArgLoc))</div>
<div class="line"><a name="l09641"></a><span class="lineno"> 9641</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09642"></a><span class="lineno"> 9642</span>&#160;  <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ae945682c5190f733b118993e5b1b9c1d">hasBody</a>()) {</div>
<div class="line"><a name="l09643"></a><span class="lineno"> 9643</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_import_on_definition) &lt;&lt; 1;</div>
<div class="line"><a name="l09644"></a><span class="lineno"> 9644</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09645"></a><span class="lineno"> 9645</span>&#160;  }</div>
<div class="line"><a name="l09646"></a><span class="lineno"> 9646</span>&#160; </div>
<div class="line"><a name="l09647"></a><span class="lineno"> 9647</span>&#160;  FD-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) WebAssemblyImportNameAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str));</div>
<div class="line"><a name="l09648"></a><span class="lineno"> 9648</span>&#160;}</div>
<div class="line"><a name="l09649"></a><span class="lineno"> 9649</span>&#160; </div>
<div class="line"><a name="l09650"></a><span class="lineno"> 9650</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleRISCVInterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l09651"></a><span class="lineno"> 9651</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09652"></a><span class="lineno"> 9652</span>&#160;  <span class="comment">// Warn about repeated attributes.</span></div>
<div class="line"><a name="l09653"></a><span class="lineno"> 9653</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;RISCVInterruptAttr&gt;()) {</div>
<div class="line"><a name="l09654"></a><span class="lineno"> 9654</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(),</div>
<div class="line"><a name="l09655"></a><span class="lineno"> 9655</span>&#160;      diag::warn_riscv_repeated_interrupt_attribute);</div>
<div class="line"><a name="l09656"></a><span class="lineno"> 9656</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A-&gt;getLocation(), diag::note_riscv_repeated_interrupt_attribute);</div>
<div class="line"><a name="l09657"></a><span class="lineno"> 9657</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09658"></a><span class="lineno"> 9658</span>&#160;  }</div>
<div class="line"><a name="l09659"></a><span class="lineno"> 9659</span>&#160; </div>
<div class="line"><a name="l09660"></a><span class="lineno"> 9660</span>&#160;  <span class="comment">// Check the attribute argument. Argument is optional.</span></div>
<div class="line"><a name="l09661"></a><span class="lineno"> 9661</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#af567be8de0ee90a38d42b3bbc2bee3dd">checkAtMostNumArgs</a>(S, 1))</div>
<div class="line"><a name="l09662"></a><span class="lineno"> 9662</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09663"></a><span class="lineno"> 9663</span>&#160; </div>
<div class="line"><a name="l09664"></a><span class="lineno"> 9664</span>&#160;  StringRef Str;</div>
<div class="line"><a name="l09665"></a><span class="lineno"> 9665</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> ArgLoc;</div>
<div class="line"><a name="l09666"></a><span class="lineno"> 9666</span>&#160; </div>
<div class="line"><a name="l09667"></a><span class="lineno"> 9667</span>&#160;  <span class="comment">// &#39;machine&#39;is the default interrupt mode.</span></div>
<div class="line"><a name="l09668"></a><span class="lineno"> 9668</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() == 0)</div>
<div class="line"><a name="l09669"></a><span class="lineno"> 9669</span>&#160;    Str = <span class="stringliteral">&quot;machine&quot;</span>;</div>
<div class="line"><a name="l09670"></a><span class="lineno"> 9670</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str, &amp;ArgLoc))</div>
<div class="line"><a name="l09671"></a><span class="lineno"> 9671</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09672"></a><span class="lineno"> 9672</span>&#160; </div>
<div class="line"><a name="l09673"></a><span class="lineno"> 9673</span>&#160;  <span class="comment">// Semantic checks for a function with the &#39;interrupt&#39; attribute:</span></div>
<div class="line"><a name="l09674"></a><span class="lineno"> 9674</span>&#160;  <span class="comment">// - Must be a function.</span></div>
<div class="line"><a name="l09675"></a><span class="lineno"> 9675</span>&#160;  <span class="comment">// - Must have no parameters.</span></div>
<div class="line"><a name="l09676"></a><span class="lineno"> 9676</span>&#160;  <span class="comment">// - Must have the &#39;void&#39; return type.</span></div>
<div class="line"><a name="l09677"></a><span class="lineno"> 9677</span>&#160;  <span class="comment">// - The attribute itself must either have no argument or one of the</span></div>
<div class="line"><a name="l09678"></a><span class="lineno"> 9678</span>&#160;  <span class="comment">//   valid interrupt types, see [RISCVInterruptDocs].</span></div>
<div class="line"><a name="l09679"></a><span class="lineno"> 9679</span>&#160; </div>
<div class="line"><a name="l09680"></a><span class="lineno"> 9680</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">getFunctionType</a>() == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l09681"></a><span class="lineno"> 9681</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09682"></a><span class="lineno"> 9682</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;&#39;interrupt&#39;&quot;</span> &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2">ExpectedFunction</a>;</div>
<div class="line"><a name="l09683"></a><span class="lineno"> 9683</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09684"></a><span class="lineno"> 9684</span>&#160;  }</div>
<div class="line"><a name="l09685"></a><span class="lineno"> 9685</span>&#160; </div>
<div class="line"><a name="l09686"></a><span class="lineno"> 9686</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(D) &amp;&amp; <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) != 0) {</div>
<div class="line"><a name="l09687"></a><span class="lineno"> 9687</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_interrupt_attribute_invalid)</div>
<div class="line"><a name="l09688"></a><span class="lineno"> 9688</span>&#160;      &lt;&lt; <span class="comment">/*RISC-V*/</span> 2 &lt;&lt; 0;</div>
<div class="line"><a name="l09689"></a><span class="lineno"> 9689</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09690"></a><span class="lineno"> 9690</span>&#160;  }</div>
<div class="line"><a name="l09691"></a><span class="lineno"> 9691</span>&#160; </div>
<div class="line"><a name="l09692"></a><span class="lineno"> 9692</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D)-&gt;isVoidType()) {</div>
<div class="line"><a name="l09693"></a><span class="lineno"> 9693</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_interrupt_attribute_invalid)</div>
<div class="line"><a name="l09694"></a><span class="lineno"> 9694</span>&#160;      &lt;&lt; <span class="comment">/*RISC-V*/</span> 2 &lt;&lt; 1;</div>
<div class="line"><a name="l09695"></a><span class="lineno"> 9695</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09696"></a><span class="lineno"> 9696</span>&#160;  }</div>
<div class="line"><a name="l09697"></a><span class="lineno"> 9697</span>&#160; </div>
<div class="line"><a name="l09698"></a><span class="lineno"> 9698</span>&#160;  RISCVInterruptAttr::InterruptType <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>;</div>
<div class="line"><a name="l09699"></a><span class="lineno"> 9699</span>&#160;  <span class="keywordflow">if</span> (!RISCVInterruptAttr::ConvertStrToInterruptType(Str, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)) {</div>
<div class="line"><a name="l09700"></a><span class="lineno"> 9700</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; Str</div>
<div class="line"><a name="l09701"></a><span class="lineno"> 9701</span>&#160;                                                                 &lt;&lt; ArgLoc;</div>
<div class="line"><a name="l09702"></a><span class="lineno"> 9702</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09703"></a><span class="lineno"> 9703</span>&#160;  }</div>
<div class="line"><a name="l09704"></a><span class="lineno"> 9704</span>&#160; </div>
<div class="line"><a name="l09705"></a><span class="lineno"> 9705</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) RISCVInterruptAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>));</div>
<div class="line"><a name="l09706"></a><span class="lineno"> 9706</span>&#160;}</div>
<div class="line"><a name="l09707"></a><span class="lineno"> 9707</span>&#160; </div>
<div class="line"><a name="l09708"></a><span class="lineno"> 9708</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleInterruptAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09709"></a><span class="lineno"> 9709</span>&#160;  <span class="comment">// Dispatch the interrupt attribute based on the current target.</span></div>
<div class="line"><a name="l09710"></a><span class="lineno"> 9710</span>&#160;  <span class="keywordflow">switch</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">getTriple</a>().getArch()) {</div>
<div class="line"><a name="l09711"></a><span class="lineno"> 9711</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::msp430:</div>
<div class="line"><a name="l09712"></a><span class="lineno"> 9712</span>&#160;    handleMSP430InterruptAttr(S, D, AL);</div>
<div class="line"><a name="l09713"></a><span class="lineno"> 9713</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09714"></a><span class="lineno"> 9714</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::mipsel:</div>
<div class="line"><a name="l09715"></a><span class="lineno"> 9715</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::mips:</div>
<div class="line"><a name="l09716"></a><span class="lineno"> 9716</span>&#160;    handleMipsInterruptAttr(S, D, AL);</div>
<div class="line"><a name="l09717"></a><span class="lineno"> 9717</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09718"></a><span class="lineno"> 9718</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::m68k:</div>
<div class="line"><a name="l09719"></a><span class="lineno"> 9719</span>&#160;    handleM68kInterruptAttr(S, D, AL);</div>
<div class="line"><a name="l09720"></a><span class="lineno"> 9720</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09721"></a><span class="lineno"> 9721</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::x86:</div>
<div class="line"><a name="l09722"></a><span class="lineno"> 9722</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::x86_64:</div>
<div class="line"><a name="l09723"></a><span class="lineno"> 9723</span>&#160;    handleAnyX86InterruptAttr(S, D, AL);</div>
<div class="line"><a name="l09724"></a><span class="lineno"> 9724</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09725"></a><span class="lineno"> 9725</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::avr:</div>
<div class="line"><a name="l09726"></a><span class="lineno"> 9726</span>&#160;    handleAVRInterruptAttr(S, D, AL);</div>
<div class="line"><a name="l09727"></a><span class="lineno"> 9727</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09728"></a><span class="lineno"> 9728</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::riscv32:</div>
<div class="line"><a name="l09729"></a><span class="lineno"> 9729</span>&#160;  <span class="keywordflow">case</span> llvm::Triple::riscv64:</div>
<div class="line"><a name="l09730"></a><span class="lineno"> 9730</span>&#160;    handleRISCVInterruptAttr(S, D, AL);</div>
<div class="line"><a name="l09731"></a><span class="lineno"> 9731</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09732"></a><span class="lineno"> 9732</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l09733"></a><span class="lineno"> 9733</span>&#160;    handleARMInterruptAttr(S, D, AL);</div>
<div class="line"><a name="l09734"></a><span class="lineno"> 9734</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09735"></a><span class="lineno"> 9735</span>&#160;  }</div>
<div class="line"><a name="l09736"></a><span class="lineno"> 9736</span>&#160;}</div>
<div class="line"><a name="l09737"></a><span class="lineno"> 9737</span>&#160; </div>
<div class="line"><a name="l09738"></a><span class="lineno"> 9738</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l09739"></a><span class="lineno"> 9739</span>&#160;checkAMDGPUFlatWorkGroupSizeArguments(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Expr.html">Expr</a> *MinExpr, <a class="code" href="classclang_1_1Expr.html">Expr</a> *MaxExpr,</div>
<div class="line"><a name="l09740"></a><span class="lineno"> 9740</span>&#160;                                      <span class="keyword">const</span> AMDGPUFlatWorkGroupSizeAttr &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a>) {</div>
<div class="line"><a name="l09741"></a><span class="lineno"> 9741</span>&#160;  <span class="comment">// Accept template arguments for now as they depend on something else.</span></div>
<div class="line"><a name="l09742"></a><span class="lineno"> 9742</span>&#160;  <span class="comment">// We&#39;ll get to check them when they eventually get instantiated.</span></div>
<div class="line"><a name="l09743"></a><span class="lineno"> 9743</span>&#160;  <span class="keywordflow">if</span> (MinExpr-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() || MaxExpr-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>())</div>
<div class="line"><a name="l09744"></a><span class="lineno"> 9744</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09745"></a><span class="lineno"> 9745</span>&#160; </div>
<div class="line"><a name="l09746"></a><span class="lineno"> 9746</span>&#160;  uint32_t Min = 0;</div>
<div class="line"><a name="l09747"></a><span class="lineno"> 9747</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, <a class="code" href="classclang_1_1Attr.html">Attr</a>, MinExpr, Min, 0))</div>
<div class="line"><a name="l09748"></a><span class="lineno"> 9748</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09749"></a><span class="lineno"> 9749</span>&#160; </div>
<div class="line"><a name="l09750"></a><span class="lineno"> 9750</span>&#160;  uint32_t Max = 0;</div>
<div class="line"><a name="l09751"></a><span class="lineno"> 9751</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, <a class="code" href="classclang_1_1Attr.html">Attr</a>, MaxExpr, Max, 1))</div>
<div class="line"><a name="l09752"></a><span class="lineno"> 9752</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09753"></a><span class="lineno"> 9753</span>&#160; </div>
<div class="line"><a name="l09754"></a><span class="lineno"> 9754</span>&#160;  <span class="keywordflow">if</span> (Min == 0 &amp;&amp; Max != 0) {</div>
<div class="line"><a name="l09755"></a><span class="lineno"> 9755</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>.<a class="code" href="classclang_1_1Attr.html#adb1b8122069df702fb5077c95e436d7b">getLocation</a>(), diag::err_attribute_argument_invalid)</div>
<div class="line"><a name="l09756"></a><span class="lineno"> 9756</span>&#160;        &lt;&lt; &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a> &lt;&lt; 0;</div>
<div class="line"><a name="l09757"></a><span class="lineno"> 9757</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09758"></a><span class="lineno"> 9758</span>&#160;  }</div>
<div class="line"><a name="l09759"></a><span class="lineno"> 9759</span>&#160;  <span class="keywordflow">if</span> (Min &gt; Max) {</div>
<div class="line"><a name="l09760"></a><span class="lineno"> 9760</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>.<a class="code" href="classclang_1_1Attr.html#adb1b8122069df702fb5077c95e436d7b">getLocation</a>(), diag::err_attribute_argument_invalid)</div>
<div class="line"><a name="l09761"></a><span class="lineno"> 9761</span>&#160;        &lt;&lt; &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a> &lt;&lt; 1;</div>
<div class="line"><a name="l09762"></a><span class="lineno"> 9762</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09763"></a><span class="lineno"> 9763</span>&#160;  }</div>
<div class="line"><a name="l09764"></a><span class="lineno"> 9764</span>&#160; </div>
<div class="line"><a name="l09765"></a><span class="lineno"> 9765</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09766"></a><span class="lineno"> 9766</span>&#160;}</div>
<div class="line"><a name="l09767"></a><span class="lineno"> 9767</span>&#160; </div>
<div class="line"><a name="l09768"></a><span class="lineno"> 9768</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#abd6277ab35f295a66e19e60c66dbee48">Sema::addAMDGPUFlatWorkGroupSizeAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l09769"></a><span class="lineno"> 9769</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l09770"></a><span class="lineno"> 9770</span>&#160;                                          <a class="code" href="classclang_1_1Expr.html">Expr</a> *MinExpr, <a class="code" href="classclang_1_1Expr.html">Expr</a> *MaxExpr) {</div>
<div class="line"><a name="l09771"></a><span class="lineno"> 9771</span>&#160;  AMDGPUFlatWorkGroupSizeAttr TmpAttr(Context, CI, MinExpr, MaxExpr);</div>
<div class="line"><a name="l09772"></a><span class="lineno"> 9772</span>&#160; </div>
<div class="line"><a name="l09773"></a><span class="lineno"> 9773</span>&#160;  <span class="keywordflow">if</span> (checkAMDGPUFlatWorkGroupSizeArguments(*<span class="keyword">this</span>, MinExpr, MaxExpr, TmpAttr))</div>
<div class="line"><a name="l09774"></a><span class="lineno"> 9774</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09775"></a><span class="lineno"> 9775</span>&#160; </div>
<div class="line"><a name="l09776"></a><span class="lineno"> 9776</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l09777"></a><span class="lineno"> 9777</span>&#160;                 AMDGPUFlatWorkGroupSizeAttr(Context, CI, MinExpr, MaxExpr));</div>
<div class="line"><a name="l09778"></a><span class="lineno"> 9778</span>&#160;}</div>
<div class="line"><a name="l09779"></a><span class="lineno"> 9779</span>&#160; </div>
<div class="line"><a name="l09780"></a><span class="lineno"> 9780</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAMDGPUFlatWorkGroupSizeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l09781"></a><span class="lineno"> 9781</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09782"></a><span class="lineno"> 9782</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *MinExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l09783"></a><span class="lineno"> 9783</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *MaxExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1);</div>
<div class="line"><a name="l09784"></a><span class="lineno"> 9784</span>&#160; </div>
<div class="line"><a name="l09785"></a><span class="lineno"> 9785</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#abd6277ab35f295a66e19e60c66dbee48">addAMDGPUFlatWorkGroupSizeAttr</a>(D, AL, MinExpr, MaxExpr);</div>
<div class="line"><a name="l09786"></a><span class="lineno"> 9786</span>&#160;}</div>
<div class="line"><a name="l09787"></a><span class="lineno"> 9787</span>&#160; </div>
<div class="line"><a name="l09788"></a><span class="lineno"> 9788</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> checkAMDGPUWavesPerEUArguments(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Expr.html">Expr</a> *MinExpr,</div>
<div class="line"><a name="l09789"></a><span class="lineno"> 9789</span>&#160;                                           <a class="code" href="classclang_1_1Expr.html">Expr</a> *MaxExpr,</div>
<div class="line"><a name="l09790"></a><span class="lineno"> 9790</span>&#160;                                           <span class="keyword">const</span> AMDGPUWavesPerEUAttr &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a>) {</div>
<div class="line"><a name="l09791"></a><span class="lineno"> 9791</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a69f55a1c542e724b49a035ceeca1b6ee">DiagnoseUnexpandedParameterPack</a>(MinExpr) ||</div>
<div class="line"><a name="l09792"></a><span class="lineno"> 9792</span>&#160;      (MaxExpr &amp;&amp; S.<a class="code" href="classclang_1_1Sema.html#a69f55a1c542e724b49a035ceeca1b6ee">DiagnoseUnexpandedParameterPack</a>(MaxExpr)))</div>
<div class="line"><a name="l09793"></a><span class="lineno"> 9793</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09794"></a><span class="lineno"> 9794</span>&#160; </div>
<div class="line"><a name="l09795"></a><span class="lineno"> 9795</span>&#160;  <span class="comment">// Accept template arguments for now as they depend on something else.</span></div>
<div class="line"><a name="l09796"></a><span class="lineno"> 9796</span>&#160;  <span class="comment">// We&#39;ll get to check them when they eventually get instantiated.</span></div>
<div class="line"><a name="l09797"></a><span class="lineno"> 9797</span>&#160;  <span class="keywordflow">if</span> (MinExpr-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() || (MaxExpr &amp;&amp; MaxExpr-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>()))</div>
<div class="line"><a name="l09798"></a><span class="lineno"> 9798</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09799"></a><span class="lineno"> 9799</span>&#160; </div>
<div class="line"><a name="l09800"></a><span class="lineno"> 9800</span>&#160;  uint32_t Min = 0;</div>
<div class="line"><a name="l09801"></a><span class="lineno"> 9801</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, <a class="code" href="classclang_1_1Attr.html">Attr</a>, MinExpr, Min, 0))</div>
<div class="line"><a name="l09802"></a><span class="lineno"> 9802</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09803"></a><span class="lineno"> 9803</span>&#160; </div>
<div class="line"><a name="l09804"></a><span class="lineno"> 9804</span>&#160;  uint32_t Max = 0;</div>
<div class="line"><a name="l09805"></a><span class="lineno"> 9805</span>&#160;  <span class="keywordflow">if</span> (MaxExpr &amp;&amp; !<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, <a class="code" href="classclang_1_1Attr.html">Attr</a>, MaxExpr, Max, 1))</div>
<div class="line"><a name="l09806"></a><span class="lineno"> 9806</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09807"></a><span class="lineno"> 9807</span>&#160; </div>
<div class="line"><a name="l09808"></a><span class="lineno"> 9808</span>&#160;  <span class="keywordflow">if</span> (Min == 0 &amp;&amp; Max != 0) {</div>
<div class="line"><a name="l09809"></a><span class="lineno"> 9809</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>.<a class="code" href="classclang_1_1Attr.html#adb1b8122069df702fb5077c95e436d7b">getLocation</a>(), diag::err_attribute_argument_invalid)</div>
<div class="line"><a name="l09810"></a><span class="lineno"> 9810</span>&#160;        &lt;&lt; &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a> &lt;&lt; 0;</div>
<div class="line"><a name="l09811"></a><span class="lineno"> 9811</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09812"></a><span class="lineno"> 9812</span>&#160;  }</div>
<div class="line"><a name="l09813"></a><span class="lineno"> 9813</span>&#160;  <span class="keywordflow">if</span> (Max != 0 &amp;&amp; Min &gt; Max) {</div>
<div class="line"><a name="l09814"></a><span class="lineno"> 9814</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(<a class="code" href="classclang_1_1Attr.html">Attr</a>.<a class="code" href="classclang_1_1Attr.html#adb1b8122069df702fb5077c95e436d7b">getLocation</a>(), diag::err_attribute_argument_invalid)</div>
<div class="line"><a name="l09815"></a><span class="lineno"> 9815</span>&#160;        &lt;&lt; &amp;<a class="code" href="classclang_1_1Attr.html">Attr</a> &lt;&lt; 1;</div>
<div class="line"><a name="l09816"></a><span class="lineno"> 9816</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l09817"></a><span class="lineno"> 9817</span>&#160;  }</div>
<div class="line"><a name="l09818"></a><span class="lineno"> 9818</span>&#160; </div>
<div class="line"><a name="l09819"></a><span class="lineno"> 9819</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l09820"></a><span class="lineno"> 9820</span>&#160;}</div>
<div class="line"><a name="l09821"></a><span class="lineno"> 9821</span>&#160; </div>
<div class="line"><a name="l09822"></a><span class="lineno"> 9822</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a4567efa666ca700c6d7ff3c6245d00ef">Sema::addAMDGPUWavesPerEUAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l09823"></a><span class="lineno"> 9823</span>&#160;                                   <a class="code" href="classclang_1_1Expr.html">Expr</a> *MinExpr, <a class="code" href="classclang_1_1Expr.html">Expr</a> *MaxExpr) {</div>
<div class="line"><a name="l09824"></a><span class="lineno"> 9824</span>&#160;  AMDGPUWavesPerEUAttr TmpAttr(Context, CI, MinExpr, MaxExpr);</div>
<div class="line"><a name="l09825"></a><span class="lineno"> 9825</span>&#160; </div>
<div class="line"><a name="l09826"></a><span class="lineno"> 9826</span>&#160;  <span class="keywordflow">if</span> (checkAMDGPUWavesPerEUArguments(*<span class="keyword">this</span>, MinExpr, MaxExpr, TmpAttr))</div>
<div class="line"><a name="l09827"></a><span class="lineno"> 9827</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09828"></a><span class="lineno"> 9828</span>&#160; </div>
<div class="line"><a name="l09829"></a><span class="lineno"> 9829</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context)</div>
<div class="line"><a name="l09830"></a><span class="lineno"> 9830</span>&#160;                 AMDGPUWavesPerEUAttr(Context, CI, MinExpr, MaxExpr));</div>
<div class="line"><a name="l09831"></a><span class="lineno"> 9831</span>&#160;}</div>
<div class="line"><a name="l09832"></a><span class="lineno"> 9832</span>&#160; </div>
<div class="line"><a name="l09833"></a><span class="lineno"> 9833</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAMDGPUWavesPerEUAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09834"></a><span class="lineno"> 9834</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1) || !AL.<a class="code" href="classclang_1_1ParsedAttr.html#af567be8de0ee90a38d42b3bbc2bee3dd">checkAtMostNumArgs</a>(S, 2))</div>
<div class="line"><a name="l09835"></a><span class="lineno"> 9835</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09836"></a><span class="lineno"> 9836</span>&#160; </div>
<div class="line"><a name="l09837"></a><span class="lineno"> 9837</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *MinExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l09838"></a><span class="lineno"> 9838</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *MaxExpr = (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>() &gt; 1) ? AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(1) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09839"></a><span class="lineno"> 9839</span>&#160; </div>
<div class="line"><a name="l09840"></a><span class="lineno"> 9840</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a4567efa666ca700c6d7ff3c6245d00ef">addAMDGPUWavesPerEUAttr</a>(D, AL, MinExpr, MaxExpr);</div>
<div class="line"><a name="l09841"></a><span class="lineno"> 9841</span>&#160;}</div>
<div class="line"><a name="l09842"></a><span class="lineno"> 9842</span>&#160; </div>
<div class="line"><a name="l09843"></a><span class="lineno"> 9843</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAMDGPUNumSGPRAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09844"></a><span class="lineno"> 9844</span>&#160;  uint32_t NumSGPR = 0;</div>
<div class="line"><a name="l09845"></a><span class="lineno"> 9845</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *NumSGPRExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l09846"></a><span class="lineno"> 9846</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, NumSGPRExpr, NumSGPR))</div>
<div class="line"><a name="l09847"></a><span class="lineno"> 9847</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09848"></a><span class="lineno"> 9848</span>&#160; </div>
<div class="line"><a name="l09849"></a><span class="lineno"> 9849</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AMDGPUNumSGPRAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, NumSGPR));</div>
<div class="line"><a name="l09850"></a><span class="lineno"> 9850</span>&#160;}</div>
<div class="line"><a name="l09851"></a><span class="lineno"> 9851</span>&#160; </div>
<div class="line"><a name="l09852"></a><span class="lineno"> 9852</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAMDGPUNumVGPRAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09853"></a><span class="lineno"> 9853</span>&#160;  uint32_t NumVGPR = 0;</div>
<div class="line"><a name="l09854"></a><span class="lineno"> 9854</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *NumVGPRExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0);</div>
<div class="line"><a name="l09855"></a><span class="lineno"> 9855</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, NumVGPRExpr, NumVGPR))</div>
<div class="line"><a name="l09856"></a><span class="lineno"> 9856</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09857"></a><span class="lineno"> 9857</span>&#160; </div>
<div class="line"><a name="l09858"></a><span class="lineno"> 9858</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AMDGPUNumVGPRAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, NumVGPR));</div>
<div class="line"><a name="l09859"></a><span class="lineno"> 9859</span>&#160;}</div>
<div class="line"><a name="l09860"></a><span class="lineno"> 9860</span>&#160; </div>
<div class="line"><a name="l09861"></a><span class="lineno"> 9861</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleX86ForceAlignArgPointerAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l09862"></a><span class="lineno"> 9862</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09863"></a><span class="lineno"> 9863</span>&#160;  <span class="comment">// If we try to apply it to a function pointer, don&#39;t warn, but don&#39;t</span></div>
<div class="line"><a name="l09864"></a><span class="lineno"> 9864</span>&#160;  <span class="comment">// do anything, either. It doesn&#39;t matter anyway, because there&#39;s nothing</span></div>
<div class="line"><a name="l09865"></a><span class="lineno"> 9865</span>&#160;  <span class="comment">// special about calling a force_align_arg_pointer function.</span></div>
<div class="line"><a name="l09866"></a><span class="lineno"> 9866</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *VD = dyn_cast&lt;ValueDecl&gt;(D);</div>
<div class="line"><a name="l09867"></a><span class="lineno"> 9867</span>&#160;  <span class="keywordflow">if</span> (VD &amp;&amp; VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>()-&gt;<a class="code" href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">isFunctionPointerType</a>())</div>
<div class="line"><a name="l09868"></a><span class="lineno"> 9868</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09869"></a><span class="lineno"> 9869</span>&#160;  <span class="comment">// Also don&#39;t warn on function pointer typedefs.</span></div>
<div class="line"><a name="l09870"></a><span class="lineno"> 9870</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *TD = dyn_cast&lt;TypedefNameDecl&gt;(D);</div>
<div class="line"><a name="l09871"></a><span class="lineno"> 9871</span>&#160;  <span class="keywordflow">if</span> (TD &amp;&amp; (TD-&gt;getUnderlyingType()-&gt;isFunctionPointerType() ||</div>
<div class="line"><a name="l09872"></a><span class="lineno"> 9872</span>&#160;    TD-&gt;getUnderlyingType()-&gt;isFunctionType()))</div>
<div class="line"><a name="l09873"></a><span class="lineno"> 9873</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09874"></a><span class="lineno"> 9874</span>&#160;  <span class="comment">// Attribute can only be applied to function types.</span></div>
<div class="line"><a name="l09875"></a><span class="lineno"> 9875</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l09876"></a><span class="lineno"> 9876</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_wrong_decl_type)</div>
<div class="line"><a name="l09877"></a><span class="lineno"> 9877</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2">ExpectedFunction</a>;</div>
<div class="line"><a name="l09878"></a><span class="lineno"> 9878</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09879"></a><span class="lineno"> 9879</span>&#160;  }</div>
<div class="line"><a name="l09880"></a><span class="lineno"> 9880</span>&#160; </div>
<div class="line"><a name="l09881"></a><span class="lineno"> 9881</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) X86ForceAlignArgPointerAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l09882"></a><span class="lineno"> 9882</span>&#160;}</div>
<div class="line"><a name="l09883"></a><span class="lineno"> 9883</span>&#160; </div>
<div class="line"><a name="l09884"></a><span class="lineno"> 9884</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleLayoutVersion(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09885"></a><span class="lineno"> 9885</span>&#160;  uint32_t Version;</div>
<div class="line"><a name="l09886"></a><span class="lineno"> 9886</span>&#160;  <a class="code" href="classclang_1_1Expr.html">Expr</a> *VersionExpr = <span class="keyword">static_cast&lt;</span><a class="code" href="classclang_1_1Expr.html">Expr</a> *<span class="keyword">&gt;</span>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0));</div>
<div class="line"><a name="l09887"></a><span class="lineno"> 9887</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a>(S, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0), Version))</div>
<div class="line"><a name="l09888"></a><span class="lineno"> 9888</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09889"></a><span class="lineno"> 9889</span>&#160; </div>
<div class="line"><a name="l09890"></a><span class="lineno"> 9890</span>&#160;  <span class="comment">// TODO: Investigate what happens with the next major version of MSVC.</span></div>
<div class="line"><a name="l09891"></a><span class="lineno"> 9891</span>&#160;  <span class="keywordflow">if</span> (Version != <a class="code" href="classclang_1_1LangOptions.html#a7983f34b7e049bbeb320161fb6e1bfc4a25686ec00ddc4346ce82cf17d5d1cf79">LangOptions::MSVC2015</a> / 100) {</div>
<div class="line"><a name="l09892"></a><span class="lineno"> 9892</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_out_of_bounds)</div>
<div class="line"><a name="l09893"></a><span class="lineno"> 9893</span>&#160;        &lt;&lt; AL &lt;&lt; Version &lt;&lt; VersionExpr-&gt;<a class="code" href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">getSourceRange</a>();</div>
<div class="line"><a name="l09894"></a><span class="lineno"> 9894</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09895"></a><span class="lineno"> 9895</span>&#160;  }</div>
<div class="line"><a name="l09896"></a><span class="lineno"> 9896</span>&#160; </div>
<div class="line"><a name="l09897"></a><span class="lineno"> 9897</span>&#160;  <span class="comment">// The attribute expects a &quot;major&quot; version number like 19, but new versions of</span></div>
<div class="line"><a name="l09898"></a><span class="lineno"> 9898</span>&#160;  <span class="comment">// MSVC have moved to updating the &quot;minor&quot;, or less significant numbers, so we</span></div>
<div class="line"><a name="l09899"></a><span class="lineno"> 9899</span>&#160;  <span class="comment">// have to multiply by 100 now.</span></div>
<div class="line"><a name="l09900"></a><span class="lineno"> 9900</span>&#160;  Version *= 100;</div>
<div class="line"><a name="l09901"></a><span class="lineno"> 9901</span>&#160; </div>
<div class="line"><a name="l09902"></a><span class="lineno"> 9902</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) LayoutVersionAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Version));</div>
<div class="line"><a name="l09903"></a><span class="lineno"> 9903</span>&#160;}</div>
<div class="line"><a name="l09904"></a><span class="lineno"> 9904</span>&#160; </div>
<div class="line"><a name="l09905"></a><span class="lineno"> 9905</span>&#160;DLLImportAttr *<a class="code" href="classclang_1_1Sema.html#afa927d3bf67f069d5ac700dd19197a75">Sema::mergeDLLImportAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l09906"></a><span class="lineno"> 9906</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l09907"></a><span class="lineno"> 9907</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;DLLExportAttr&gt;()) {</div>
<div class="line"><a name="l09908"></a><span class="lineno"> 9908</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_ignored) &lt;&lt; <span class="stringliteral">&quot;&#39;dllimport&#39;&quot;</span>;</div>
<div class="line"><a name="l09909"></a><span class="lineno"> 9909</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09910"></a><span class="lineno"> 9910</span>&#160;  }</div>
<div class="line"><a name="l09911"></a><span class="lineno"> 9911</span>&#160; </div>
<div class="line"><a name="l09912"></a><span class="lineno"> 9912</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;DLLImportAttr&gt;())</div>
<div class="line"><a name="l09913"></a><span class="lineno"> 9913</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09914"></a><span class="lineno"> 9914</span>&#160; </div>
<div class="line"><a name="l09915"></a><span class="lineno"> 9915</span>&#160;  return ::new (Context) DLLImportAttr(Context, CI);</div>
<div class="line"><a name="l09916"></a><span class="lineno"> 9916</span>&#160;}</div>
<div class="line"><a name="l09917"></a><span class="lineno"> 9917</span>&#160; </div>
<div class="line"><a name="l09918"></a><span class="lineno"> 9918</span>&#160;DLLExportAttr *<a class="code" href="classclang_1_1Sema.html#a572663d09c8b83ab95521e7371fe33cd">Sema::mergeDLLExportAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l09919"></a><span class="lineno"> 9919</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI) {</div>
<div class="line"><a name="l09920"></a><span class="lineno"> 9920</span>&#160;  <span class="keywordflow">if</span> (DLLImportAttr *Import = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;DLLImportAttr&gt;()) {</div>
<div class="line"><a name="l09921"></a><span class="lineno"> 9921</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(Import-&gt;getLocation(), diag::warn_attribute_ignored) &lt;&lt; Import;</div>
<div class="line"><a name="l09922"></a><span class="lineno"> 9922</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;DLLImportAttr&gt;();</div>
<div class="line"><a name="l09923"></a><span class="lineno"> 9923</span>&#160;  }</div>
<div class="line"><a name="l09924"></a><span class="lineno"> 9924</span>&#160; </div>
<div class="line"><a name="l09925"></a><span class="lineno"> 9925</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;DLLExportAttr&gt;())</div>
<div class="line"><a name="l09926"></a><span class="lineno"> 9926</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09927"></a><span class="lineno"> 9927</span>&#160; </div>
<div class="line"><a name="l09928"></a><span class="lineno"> 9928</span>&#160;  return ::new (Context) DLLExportAttr(Context, CI);</div>
<div class="line"><a name="l09929"></a><span class="lineno"> 9929</span>&#160;}</div>
<div class="line"><a name="l09930"></a><span class="lineno"> 9930</span>&#160; </div>
<div class="line"><a name="l09931"></a><span class="lineno"> 9931</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDLLAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l09932"></a><span class="lineno"> 9932</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ClassTemplatePartialSpecializationDecl&gt;(D) &amp;&amp;</div>
<div class="line"><a name="l09933"></a><span class="lineno"> 9933</span>&#160;      (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#adf3b36e6619eb137a0f511bc54237ee0">shouldDLLImportComdatSymbols</a>())) {</div>
<div class="line"><a name="l09934"></a><span class="lineno"> 9934</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(), diag::warn_attribute_ignored) &lt;&lt; A;</div>
<div class="line"><a name="l09935"></a><span class="lineno"> 9935</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09936"></a><span class="lineno"> 9936</span>&#160;  }</div>
<div class="line"><a name="l09937"></a><span class="lineno"> 9937</span>&#160; </div>
<div class="line"><a name="l09938"></a><span class="lineno"> 9938</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l09939"></a><span class="lineno"> 9939</span>&#160;    <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a246ca9296386dfded3561bc9d3f42c57">isInlined</a>() &amp;&amp; A.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_DLLImport &amp;&amp;</div>
<div class="line"><a name="l09940"></a><span class="lineno"> 9940</span>&#160;        !(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#adf3b36e6619eb137a0f511bc54237ee0">shouldDLLImportComdatSymbols</a>())) {</div>
<div class="line"><a name="l09941"></a><span class="lineno"> 9941</span>&#160;      <span class="comment">// MinGW doesn&#39;t allow dllimport on inline functions.</span></div>
<div class="line"><a name="l09942"></a><span class="lineno"> 9942</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(), diag::warn_attribute_ignored_on_inline)</div>
<div class="line"><a name="l09943"></a><span class="lineno"> 9943</span>&#160;          &lt;&lt; A;</div>
<div class="line"><a name="l09944"></a><span class="lineno"> 9944</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09945"></a><span class="lineno"> 9945</span>&#160;    }</div>
<div class="line"><a name="l09946"></a><span class="lineno"> 9946</span>&#160;  }</div>
<div class="line"><a name="l09947"></a><span class="lineno"> 9947</span>&#160; </div>
<div class="line"><a name="l09948"></a><span class="lineno"> 9948</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(D)) {</div>
<div class="line"><a name="l09949"></a><span class="lineno"> 9949</span>&#160;    <span class="keywordflow">if</span> ((S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>().<a class="code" href="classclang_1_1TargetInfo.html#adf3b36e6619eb137a0f511bc54237ee0">shouldDLLImportComdatSymbols</a>()) &amp;&amp;</div>
<div class="line"><a name="l09950"></a><span class="lineno"> 9950</span>&#160;        MD-&gt;<a class="code" href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">getParent</a>()-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#a47bd4d56ae0e4ddd26ac0bec6e977160">isLambda</a>()) {</div>
<div class="line"><a name="l09951"></a><span class="lineno"> 9951</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(A.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>().<a class="code" href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">getBegin</a>(), diag::err_attribute_dll_lambda) &lt;&lt; A;</div>
<div class="line"><a name="l09952"></a><span class="lineno"> 9952</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09953"></a><span class="lineno"> 9953</span>&#160;    }</div>
<div class="line"><a name="l09954"></a><span class="lineno"> 9954</span>&#160;  }</div>
<div class="line"><a name="l09955"></a><span class="lineno"> 9955</span>&#160; </div>
<div class="line"><a name="l09956"></a><span class="lineno"> 9956</span>&#160;  <a class="code" href="classclang_1_1Attr.html">Attr</a> *NewAttr = A.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_DLLExport</div>
<div class="line"><a name="l09957"></a><span class="lineno"> 9957</span>&#160;                      ? (<a class="code" href="classclang_1_1Attr.html">Attr</a> *)S.<a class="code" href="classclang_1_1Sema.html#a572663d09c8b83ab95521e7371fe33cd">mergeDLLExportAttr</a>(D, A)</div>
<div class="line"><a name="l09958"></a><span class="lineno"> 9958</span>&#160;                      : (<a class="code" href="classclang_1_1Attr.html">Attr</a> *)S.<a class="code" href="classclang_1_1Sema.html#afa927d3bf67f069d5ac700dd19197a75">mergeDLLImportAttr</a>(D, A);</div>
<div class="line"><a name="l09959"></a><span class="lineno"> 9959</span>&#160;  <span class="keywordflow">if</span> (NewAttr)</div>
<div class="line"><a name="l09960"></a><span class="lineno"> 9960</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(NewAttr);</div>
<div class="line"><a name="l09961"></a><span class="lineno"> 9961</span>&#160;}</div>
<div class="line"><a name="l09962"></a><span class="lineno"> 9962</span>&#160; </div>
<div class="line"><a name="l09963"></a><span class="lineno"> 9963</span>&#160;MSInheritanceAttr *</div>
<div class="line"><a name="l09964"></a><span class="lineno"> 9964</span>&#160;<a class="code" href="classclang_1_1Sema.html#a37a7ca4a0843130152942ffd58597012">Sema::mergeMSInheritanceAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l09965"></a><span class="lineno"> 9965</span>&#160;                             <span class="keywordtype">bool</span> BestCase,</div>
<div class="line"><a name="l09966"></a><span class="lineno"> 9966</span>&#160;                             <a class="code" href="namespaceclang.html#ad3b44399e5a02cb6427596a4489bb3ae">MSInheritanceModel</a> Model) {</div>
<div class="line"><a name="l09967"></a><span class="lineno"> 9967</span>&#160;  <span class="keywordflow">if</span> (MSInheritanceAttr *IA = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;MSInheritanceAttr&gt;()) {</div>
<div class="line"><a name="l09968"></a><span class="lineno"> 9968</span>&#160;    <span class="keywordflow">if</span> (IA-&gt;getInheritanceModel() == Model)</div>
<div class="line"><a name="l09969"></a><span class="lineno"> 9969</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09970"></a><span class="lineno"> 9970</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(IA-&gt;getLocation(), diag::err_mismatched_ms_inheritance)</div>
<div class="line"><a name="l09971"></a><span class="lineno"> 9971</span>&#160;        &lt;&lt; 1 <span class="comment">/*previous declaration*/</span>;</div>
<div class="line"><a name="l09972"></a><span class="lineno"> 9972</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::note_previous_ms_inheritance);</div>
<div class="line"><a name="l09973"></a><span class="lineno"> 9973</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;MSInheritanceAttr&gt;();</div>
<div class="line"><a name="l09974"></a><span class="lineno"> 9974</span>&#160;  }</div>
<div class="line"><a name="l09975"></a><span class="lineno"> 9975</span>&#160; </div>
<div class="line"><a name="l09976"></a><span class="lineno"> 9976</span>&#160;  <span class="keyword">auto</span> *RD = cast&lt;CXXRecordDecl&gt;(D);</div>
<div class="line"><a name="l09977"></a><span class="lineno"> 9977</span>&#160;  <span class="keywordflow">if</span> (RD-&gt;hasDefinition()) {</div>
<div class="line"><a name="l09978"></a><span class="lineno"> 9978</span>&#160;    <span class="keywordflow">if</span> (checkMSInheritanceAttrOnDefinition(RD, CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>(), BestCase,</div>
<div class="line"><a name="l09979"></a><span class="lineno"> 9979</span>&#160;                                           Model)) {</div>
<div class="line"><a name="l09980"></a><span class="lineno"> 9980</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09981"></a><span class="lineno"> 9981</span>&#160;    }</div>
<div class="line"><a name="l09982"></a><span class="lineno"> 9982</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09983"></a><span class="lineno"> 9983</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ClassTemplatePartialSpecializationDecl&gt;(RD)) {</div>
<div class="line"><a name="l09984"></a><span class="lineno"> 9984</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_ignored_ms_inheritance)</div>
<div class="line"><a name="l09985"></a><span class="lineno"> 9985</span>&#160;          &lt;&lt; 1 <span class="comment">/*partial specialization*/</span>;</div>
<div class="line"><a name="l09986"></a><span class="lineno"> 9986</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09987"></a><span class="lineno"> 9987</span>&#160;    }</div>
<div class="line"><a name="l09988"></a><span class="lineno"> 9988</span>&#160;    <span class="keywordflow">if</span> (RD-&gt;getDescribedClassTemplate()) {</div>
<div class="line"><a name="l09989"></a><span class="lineno"> 9989</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_ignored_ms_inheritance)</div>
<div class="line"><a name="l09990"></a><span class="lineno"> 9990</span>&#160;          &lt;&lt; 0 <span class="comment">/*primary template*/</span>;</div>
<div class="line"><a name="l09991"></a><span class="lineno"> 9991</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l09992"></a><span class="lineno"> 9992</span>&#160;    }</div>
<div class="line"><a name="l09993"></a><span class="lineno"> 9993</span>&#160;  }</div>
<div class="line"><a name="l09994"></a><span class="lineno"> 9994</span>&#160; </div>
<div class="line"><a name="l09995"></a><span class="lineno"> 9995</span>&#160;  return ::new (Context) MSInheritanceAttr(Context, CI, BestCase);</div>
<div class="line"><a name="l09996"></a><span class="lineno"> 9996</span>&#160;}</div>
<div class="line"><a name="l09997"></a><span class="lineno"> 9997</span>&#160; </div>
<div class="line"><a name="l09998"></a><span class="lineno"> 9998</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCapabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l09999"></a><span class="lineno"> 9999</span>&#160;  <span class="comment">// The capability attributes take a single string parameter for the name of</span></div>
<div class="line"><a name="l10000"></a><span class="lineno">10000</span>&#160;  <span class="comment">// the capability they represent. The lockable attribute does not take any</span></div>
<div class="line"><a name="l10001"></a><span class="lineno">10001</span>&#160;  <span class="comment">// parameters. However, semantically, both attributes represent the same</span></div>
<div class="line"><a name="l10002"></a><span class="lineno">10002</span>&#160;  <span class="comment">// concept, and so they use the same semantic attribute. Eventually, the</span></div>
<div class="line"><a name="l10003"></a><span class="lineno">10003</span>&#160;  <span class="comment">// lockable attribute will be removed.</span></div>
<div class="line"><a name="l10004"></a><span class="lineno">10004</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l10005"></a><span class="lineno">10005</span>&#160;  <span class="comment">// For backward compatibility, any capability which has no specified string</span></div>
<div class="line"><a name="l10006"></a><span class="lineno">10006</span>&#160;  <span class="comment">// literal will be considered a &quot;mutex.&quot;</span></div>
<div class="line"><a name="l10007"></a><span class="lineno">10007</span>&#160;  StringRef N(<span class="stringliteral">&quot;mutex&quot;</span>);</div>
<div class="line"><a name="l10008"></a><span class="lineno">10008</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l10009"></a><span class="lineno">10009</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_Capability &amp;&amp;</div>
<div class="line"><a name="l10010"></a><span class="lineno">10010</span>&#160;      !S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, N, &amp;LiteralLoc))</div>
<div class="line"><a name="l10011"></a><span class="lineno">10011</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10012"></a><span class="lineno">10012</span>&#160; </div>
<div class="line"><a name="l10013"></a><span class="lineno">10013</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CapabilityAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, N));</div>
<div class="line"><a name="l10014"></a><span class="lineno">10014</span>&#160;}</div>
<div class="line"><a name="l10015"></a><span class="lineno">10015</span>&#160; </div>
<div class="line"><a name="l10016"></a><span class="lineno">10016</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAssertCapabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10017"></a><span class="lineno">10017</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 1&gt;</a> Args;</div>
<div class="line"><a name="l10018"></a><span class="lineno">10018</span>&#160;  <span class="keywordflow">if</span> (!checkLockFunAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l10019"></a><span class="lineno">10019</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10020"></a><span class="lineno">10020</span>&#160; </div>
<div class="line"><a name="l10021"></a><span class="lineno">10021</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l10022"></a><span class="lineno">10022</span>&#160;                 AssertCapabilityAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Args.data(), Args.size()));</div>
<div class="line"><a name="l10023"></a><span class="lineno">10023</span>&#160;}</div>
<div class="line"><a name="l10024"></a><span class="lineno">10024</span>&#160; </div>
<div class="line"><a name="l10025"></a><span class="lineno">10025</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAcquireCapabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10026"></a><span class="lineno">10026</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10027"></a><span class="lineno">10027</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 1&gt;</a> Args;</div>
<div class="line"><a name="l10028"></a><span class="lineno">10028</span>&#160;  <span class="keywordflow">if</span> (!checkLockFunAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l10029"></a><span class="lineno">10029</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10030"></a><span class="lineno">10030</span>&#160; </div>
<div class="line"><a name="l10031"></a><span class="lineno">10031</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) AcquireCapabilityAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Args.data(),</div>
<div class="line"><a name="l10032"></a><span class="lineno">10032</span>&#160;                                                     Args.size()));</div>
<div class="line"><a name="l10033"></a><span class="lineno">10033</span>&#160;}</div>
<div class="line"><a name="l10034"></a><span class="lineno">10034</span>&#160; </div>
<div class="line"><a name="l10035"></a><span class="lineno">10035</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleTryAcquireCapabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10036"></a><span class="lineno">10036</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10037"></a><span class="lineno">10037</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 2&gt;</a> Args;</div>
<div class="line"><a name="l10038"></a><span class="lineno">10038</span>&#160;  <span class="keywordflow">if</span> (!checkTryLockFunAttrCommon(S, D, AL, Args))</div>
<div class="line"><a name="l10039"></a><span class="lineno">10039</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10040"></a><span class="lineno">10040</span>&#160; </div>
<div class="line"><a name="l10041"></a><span class="lineno">10041</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) TryAcquireCapabilityAttr(</div>
<div class="line"><a name="l10042"></a><span class="lineno">10042</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(0), Args.data(), Args.size()));</div>
<div class="line"><a name="l10043"></a><span class="lineno">10043</span>&#160;}</div>
<div class="line"><a name="l10044"></a><span class="lineno">10044</span>&#160; </div>
<div class="line"><a name="l10045"></a><span class="lineno">10045</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleReleaseCapabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10046"></a><span class="lineno">10046</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10047"></a><span class="lineno">10047</span>&#160;  <span class="comment">// Check that all arguments are lockable objects.</span></div>
<div class="line"><a name="l10048"></a><span class="lineno">10048</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 1&gt;</a> Args;</div>
<div class="line"><a name="l10049"></a><span class="lineno">10049</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l10050"></a><span class="lineno">10050</span>&#160; </div>
<div class="line"><a name="l10051"></a><span class="lineno">10051</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) ReleaseCapabilityAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Args.data(),</div>
<div class="line"><a name="l10052"></a><span class="lineno">10052</span>&#160;                                                     Args.size()));</div>
<div class="line"><a name="l10053"></a><span class="lineno">10053</span>&#160;}</div>
<div class="line"><a name="l10054"></a><span class="lineno">10054</span>&#160; </div>
<div class="line"><a name="l10055"></a><span class="lineno">10055</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleRequiresCapabilityAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10056"></a><span class="lineno">10056</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10057"></a><span class="lineno">10057</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l10058"></a><span class="lineno">10058</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10059"></a><span class="lineno">10059</span>&#160; </div>
<div class="line"><a name="l10060"></a><span class="lineno">10060</span>&#160;  <span class="comment">// check that all arguments are lockable objects</span></div>
<div class="line"><a name="l10061"></a><span class="lineno">10061</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr*, 1&gt;</a> Args;</div>
<div class="line"><a name="l10062"></a><span class="lineno">10062</span>&#160;  checkAttrArgsAreCapabilityObjs(S, D, AL, Args);</div>
<div class="line"><a name="l10063"></a><span class="lineno">10063</span>&#160;  <span class="keywordflow">if</span> (Args.empty())</div>
<div class="line"><a name="l10064"></a><span class="lineno">10064</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10065"></a><span class="lineno">10065</span>&#160; </div>
<div class="line"><a name="l10066"></a><span class="lineno">10066</span>&#160;  RequiresCapabilityAttr *RCA = ::new (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l10067"></a><span class="lineno">10067</span>&#160;      RequiresCapabilityAttr(S.Context, AL, Args.data(), Args.size());</div>
<div class="line"><a name="l10068"></a><span class="lineno">10068</span>&#160; </div>
<div class="line"><a name="l10069"></a><span class="lineno">10069</span>&#160;  D-&gt;addAttr(RCA);</div>
<div class="line"><a name="l10070"></a><span class="lineno">10070</span>&#160;}</div>
<div class="line"><a name="l10071"></a><span class="lineno">10071</span>&#160; </div>
<div class="line"><a name="l10072"></a><span class="lineno">10072</span>&#160;static <span class="keywordtype">void</span> handleDeprecatedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, const <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10073"></a><span class="lineno">10073</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *NSD = dyn_cast&lt;NamespaceDecl&gt;(D)) {</div>
<div class="line"><a name="l10074"></a><span class="lineno">10074</span>&#160;    <span class="keywordflow">if</span> (NSD-&gt;isAnonymousNamespace()) {</div>
<div class="line"><a name="l10075"></a><span class="lineno">10075</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.getLoc(), diag::warn_deprecated_anonymous_namespace);</div>
<div class="line"><a name="l10076"></a><span class="lineno">10076</span>&#160;      <span class="comment">// Do not want to attach the attribute to the namespace because that will</span></div>
<div class="line"><a name="l10077"></a><span class="lineno">10077</span>&#160;      <span class="comment">// cause confusing diagnostic reports for uses of declarations within the</span></div>
<div class="line"><a name="l10078"></a><span class="lineno">10078</span>&#160;      <span class="comment">// namespace.</span></div>
<div class="line"><a name="l10079"></a><span class="lineno">10079</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10080"></a><span class="lineno">10080</span>&#160;    }</div>
<div class="line"><a name="l10081"></a><span class="lineno">10081</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceclang.html#a09cf2fc3951483df7a3cafac379a4f03">isa</a>&lt;<a class="code" href="classclang_1_1UsingDecl.html">UsingDecl</a>, <a class="code" href="classclang_1_1UnresolvedUsingTypenameDecl.html">UnresolvedUsingTypenameDecl</a>,</div>
<div class="line"><a name="l10082"></a><span class="lineno">10082</span>&#160;                 <a class="code" href="classclang_1_1UnresolvedUsingValueDecl.html">UnresolvedUsingValueDecl</a>&gt;(D)) {</div>
<div class="line"><a name="l10083"></a><span class="lineno">10083</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.getRange().getBegin(), diag::warn_deprecated_ignored_on_using)</div>
<div class="line"><a name="l10084"></a><span class="lineno">10084</span>&#160;        &lt;&lt; AL;</div>
<div class="line"><a name="l10085"></a><span class="lineno">10085</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10086"></a><span class="lineno">10086</span>&#160;  }</div>
<div class="line"><a name="l10087"></a><span class="lineno">10087</span>&#160; </div>
<div class="line"><a name="l10088"></a><span class="lineno">10088</span>&#160;  <span class="comment">// Handle the cases where the attribute has a text message.</span></div>
<div class="line"><a name="l10089"></a><span class="lineno">10089</span>&#160;  StringRef Str, Replacement;</div>
<div class="line"><a name="l10090"></a><span class="lineno">10090</span>&#160;  <span class="keywordflow">if</span> (AL.isArgExpr(0) &amp;&amp; AL.getArgAsExpr(0) &amp;&amp;</div>
<div class="line"><a name="l10091"></a><span class="lineno">10091</span>&#160;      !S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Str))</div>
<div class="line"><a name="l10092"></a><span class="lineno">10092</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10093"></a><span class="lineno">10093</span>&#160; </div>
<div class="line"><a name="l10094"></a><span class="lineno">10094</span>&#160;  <span class="comment">// Support a single optional message only for Declspec and [[]] spellings.</span></div>
<div class="line"><a name="l10095"></a><span class="lineno">10095</span>&#160;  <span class="keywordflow">if</span> (AL.isDeclspecAttribute() || AL.isStandardAttributeSyntax())</div>
<div class="line"><a name="l10096"></a><span class="lineno">10096</span>&#160;    AL.checkAtMostNumArgs(S, 1);</div>
<div class="line"><a name="l10097"></a><span class="lineno">10097</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AL.isArgExpr(1) &amp;&amp; AL.getArgAsExpr(1) &amp;&amp;</div>
<div class="line"><a name="l10098"></a><span class="lineno">10098</span>&#160;           !S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 1, Replacement))</div>
<div class="line"><a name="l10099"></a><span class="lineno">10099</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10100"></a><span class="lineno">10100</span>&#160; </div>
<div class="line"><a name="l10101"></a><span class="lineno">10101</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().CPlusPlus14 &amp;&amp; AL.isCXX11Attribute() &amp;&amp; !AL.isGNUScope())</div>
<div class="line"><a name="l10102"></a><span class="lineno">10102</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.getLoc(), diag::ext_cxx14_attr) &lt;&lt; AL;</div>
<div class="line"><a name="l10103"></a><span class="lineno">10103</span>&#160; </div>
<div class="line"><a name="l10104"></a><span class="lineno">10104</span>&#160;  D-&gt;addAttr(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) DeprecatedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Str, Replacement));</div>
<div class="line"><a name="l10105"></a><span class="lineno">10105</span>&#160;}</div>
<div class="line"><a name="l10106"></a><span class="lineno">10106</span>&#160; </div>
<div class="line"><a name="l10107"></a><span class="lineno">10107</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceclang_1_1arcmt_1_1trans.html#aceb677e7190e935d847801f8d65cc965">isGlobalVar</a>(<span class="keyword">const</span> <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l10108"></a><span class="lineno">10108</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *S = dyn_cast&lt;VarDecl&gt;(D))</div>
<div class="line"><a name="l10109"></a><span class="lineno">10109</span>&#160;    <span class="keywordflow">return</span> S-&gt;hasGlobalStorage();</div>
<div class="line"><a name="l10110"></a><span class="lineno">10110</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10111"></a><span class="lineno">10111</span>&#160;}</div>
<div class="line"><a name="l10112"></a><span class="lineno">10112</span>&#160; </div>
<div class="line"><a name="l10113"></a><span class="lineno">10113</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNoSanitizeAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10114"></a><span class="lineno">10114</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">checkAtLeastNumArgs</a>(S, 1))</div>
<div class="line"><a name="l10115"></a><span class="lineno">10115</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10116"></a><span class="lineno">10116</span>&#160; </div>
<div class="line"><a name="l10117"></a><span class="lineno">10117</span>&#160;  std::vector&lt;StringRef&gt; Sanitizers;</div>
<div class="line"><a name="l10118"></a><span class="lineno">10118</span>&#160; </div>
<div class="line"><a name="l10119"></a><span class="lineno">10119</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); I != E; ++I) {</div>
<div class="line"><a name="l10120"></a><span class="lineno">10120</span>&#160;    StringRef SanitizerName;</div>
<div class="line"><a name="l10121"></a><span class="lineno">10121</span>&#160;    <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l10122"></a><span class="lineno">10122</span>&#160; </div>
<div class="line"><a name="l10123"></a><span class="lineno">10123</span>&#160;    <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, I, SanitizerName, &amp;LiteralLoc))</div>
<div class="line"><a name="l10124"></a><span class="lineno">10124</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10125"></a><span class="lineno">10125</span>&#160; </div>
<div class="line"><a name="l10126"></a><span class="lineno">10126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceclang.html#aaf6f0b7818fd6a7fc4e0e05f0d1d17a4">parseSanitizerValue</a>(SanitizerName, <span class="comment">/*AllowGroups=*/</span><span class="keyword">true</span>) ==</div>
<div class="line"><a name="l10127"></a><span class="lineno">10127</span>&#160;            <a class="code" href="classclang_1_1SanitizerMask.html">SanitizerMask</a>() &amp;&amp;</div>
<div class="line"><a name="l10128"></a><span class="lineno">10128</span>&#160;        SanitizerName != <span class="stringliteral">&quot;coverage&quot;</span>)</div>
<div class="line"><a name="l10129"></a><span class="lineno">10129</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::warn_unknown_sanitizer_ignored) &lt;&lt; SanitizerName;</div>
<div class="line"><a name="l10130"></a><span class="lineno">10130</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1arcmt_1_1trans.html#aceb677e7190e935d847801f8d65cc965">isGlobalVar</a>(D) &amp;&amp; SanitizerName != <span class="stringliteral">&quot;address&quot;</span>)</div>
<div class="line"><a name="l10131"></a><span class="lineno">10131</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l10132"></a><span class="lineno">10132</span>&#160;          &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d">ExpectedFunctionOrMethod</a>;</div>
<div class="line"><a name="l10133"></a><span class="lineno">10133</span>&#160;    Sanitizers.push_back(SanitizerName);</div>
<div class="line"><a name="l10134"></a><span class="lineno">10134</span>&#160;  }</div>
<div class="line"><a name="l10135"></a><span class="lineno">10135</span>&#160; </div>
<div class="line"><a name="l10136"></a><span class="lineno">10136</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) NoSanitizeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Sanitizers.data(),</div>
<div class="line"><a name="l10137"></a><span class="lineno">10137</span>&#160;                                              Sanitizers.size()));</div>
<div class="line"><a name="l10138"></a><span class="lineno">10138</span>&#160;}</div>
<div class="line"><a name="l10139"></a><span class="lineno">10139</span>&#160; </div>
<div class="line"><a name="l10140"></a><span class="lineno">10140</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleNoSanitizeSpecificAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10141"></a><span class="lineno">10141</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10142"></a><span class="lineno">10142</span>&#160;  StringRef AttrName = AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>();</div>
<div class="line"><a name="l10143"></a><span class="lineno">10143</span>&#160;  <a class="code" href="Attributes_8cpp.html#a2443733863a1efcf2245fa252ffb4c62">normalizeName</a>(AttrName);</div>
<div class="line"><a name="l10144"></a><span class="lineno">10144</span>&#160;  StringRef SanitizerName = llvm::StringSwitch&lt;StringRef&gt;(AttrName)</div>
<div class="line"><a name="l10145"></a><span class="lineno">10145</span>&#160;                                .Case(<span class="stringliteral">&quot;no_address_safety_analysis&quot;</span>, <span class="stringliteral">&quot;address&quot;</span>)</div>
<div class="line"><a name="l10146"></a><span class="lineno">10146</span>&#160;                                .Case(<span class="stringliteral">&quot;no_sanitize_address&quot;</span>, <span class="stringliteral">&quot;address&quot;</span>)</div>
<div class="line"><a name="l10147"></a><span class="lineno">10147</span>&#160;                                .Case(<span class="stringliteral">&quot;no_sanitize_thread&quot;</span>, <span class="stringliteral">&quot;thread&quot;</span>)</div>
<div class="line"><a name="l10148"></a><span class="lineno">10148</span>&#160;                                .Case(<span class="stringliteral">&quot;no_sanitize_memory&quot;</span>, <span class="stringliteral">&quot;memory&quot;</span>);</div>
<div class="line"><a name="l10149"></a><span class="lineno">10149</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceclang_1_1arcmt_1_1trans.html#aceb677e7190e935d847801f8d65cc965">isGlobalVar</a>(D) &amp;&amp; SanitizerName != <span class="stringliteral">&quot;address&quot;</span>)</div>
<div class="line"><a name="l10150"></a><span class="lineno">10150</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l10151"></a><span class="lineno">10151</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2">ExpectedFunction</a>;</div>
<div class="line"><a name="l10152"></a><span class="lineno">10152</span>&#160; </div>
<div class="line"><a name="l10153"></a><span class="lineno">10153</span>&#160;  <span class="comment">// FIXME: Rather than create a NoSanitizeSpecificAttr, this creates a</span></div>
<div class="line"><a name="l10154"></a><span class="lineno">10154</span>&#160;  <span class="comment">// NoSanitizeAttr object; but we need to calculate the correct spelling list</span></div>
<div class="line"><a name="l10155"></a><span class="lineno">10155</span>&#160;  <span class="comment">// index rather than incorrectly assume the index for NoSanitizeSpecificAttr</span></div>
<div class="line"><a name="l10156"></a><span class="lineno">10156</span>&#160;  <span class="comment">// has the same spellings as the index for NoSanitizeAttr. We don&#39;t have a</span></div>
<div class="line"><a name="l10157"></a><span class="lineno">10157</span>&#160;  <span class="comment">// general way to &quot;translate&quot; between the two, so this hack attempts to work</span></div>
<div class="line"><a name="l10158"></a><span class="lineno">10158</span>&#160;  <span class="comment">// around the issue with hard-coded indices. This is critical for calling</span></div>
<div class="line"><a name="l10159"></a><span class="lineno">10159</span>&#160;  <span class="comment">// getSpelling() or prettyPrint() on the resulting semantic attribute object</span></div>
<div class="line"><a name="l10160"></a><span class="lineno">10160</span>&#160;  <span class="comment">// without failing assertions.</span></div>
<div class="line"><a name="l10161"></a><span class="lineno">10161</span>&#160;  <span class="keywordtype">unsigned</span> TranslatedSpellingIndex = 0;</div>
<div class="line"><a name="l10162"></a><span class="lineno">10162</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#af4bc4e9853a101b16769c91f3cd19aa8">isStandardAttributeSyntax</a>())</div>
<div class="line"><a name="l10163"></a><span class="lineno">10163</span>&#160;    TranslatedSpellingIndex = 1;</div>
<div class="line"><a name="l10164"></a><span class="lineno">10164</span>&#160; </div>
<div class="line"><a name="l10165"></a><span class="lineno">10165</span>&#160;  <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> Info = AL;</div>
<div class="line"><a name="l10166"></a><span class="lineno">10166</span>&#160;  Info.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a1871252d058185ae1bda13d08805da11">setAttributeSpellingListIndex</a>(TranslatedSpellingIndex);</div>
<div class="line"><a name="l10167"></a><span class="lineno">10167</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>)</div>
<div class="line"><a name="l10168"></a><span class="lineno">10168</span>&#160;                 NoSanitizeAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Info, &amp;SanitizerName, 1));</div>
<div class="line"><a name="l10169"></a><span class="lineno">10169</span>&#160;}</div>
<div class="line"><a name="l10170"></a><span class="lineno">10170</span>&#160; </div>
<div class="line"><a name="l10171"></a><span class="lineno">10171</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleInternalLinkageAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10172"></a><span class="lineno">10172</span>&#160;  <span class="keywordflow">if</span> (InternalLinkageAttr *Internal = S.<a class="code" href="classclang_1_1Sema.html#a058fa1c71b80e23992dd14c8e19b0b97">mergeInternalLinkageAttr</a>(D, AL))</div>
<div class="line"><a name="l10173"></a><span class="lineno">10173</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(Internal);</div>
<div class="line"><a name="l10174"></a><span class="lineno">10174</span>&#160;}</div>
<div class="line"><a name="l10175"></a><span class="lineno">10175</span>&#160; </div>
<div class="line"><a name="l10176"></a><span class="lineno">10176</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleOpenCLNoSVMAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10177"></a><span class="lineno">10177</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.<a class="code" href="classclang_1_1LangOptions.html#ae22503755b4482366317d6eac7f598ec">getOpenCLCompatibleVersion</a>() &lt; 200)</div>
<div class="line"><a name="l10178"></a><span class="lineno">10178</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_requires_opencl_version)</div>
<div class="line"><a name="l10179"></a><span class="lineno">10179</span>&#160;        &lt;&lt; AL &lt;&lt; <span class="stringliteral">&quot;2.0&quot;</span> &lt;&lt; 1;</div>
<div class="line"><a name="l10180"></a><span class="lineno">10180</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l10181"></a><span class="lineno">10181</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_opencl_attr_deprecated_ignored)</div>
<div class="line"><a name="l10182"></a><span class="lineno">10182</span>&#160;        &lt;&lt; AL &lt;&lt; S.<a class="code" href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">LangOpts</a>.<a class="code" href="classclang_1_1LangOptions.html#a36c2921589f9511c30ba427915674344">getOpenCLVersionString</a>();</div>
<div class="line"><a name="l10183"></a><span class="lineno">10183</span>&#160;}</div>
<div class="line"><a name="l10184"></a><span class="lineno">10184</span>&#160; </div>
<div class="line"><a name="l10185"></a><span class="lineno">10185</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleOpenCLAccessAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10186"></a><span class="lineno">10186</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#a8cdf2955f2dc6bf8e832defc751a6b17">isInvalidDecl</a>())</div>
<div class="line"><a name="l10187"></a><span class="lineno">10187</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10188"></a><span class="lineno">10188</span>&#160; </div>
<div class="line"><a name="l10189"></a><span class="lineno">10189</span>&#160;  <span class="comment">// Check if there is only one access qualifier.</span></div>
<div class="line"><a name="l10190"></a><span class="lineno">10190</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;OpenCLAccessAttr&gt;()) {</div>
<div class="line"><a name="l10191"></a><span class="lineno">10191</span>&#160;    <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;OpenCLAccessAttr&gt;()-&gt;getSemanticSpelling() ==</div>
<div class="line"><a name="l10192"></a><span class="lineno">10192</span>&#160;        AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1c23175b6d2cfc723d6e18390c5cd25a">getSemanticSpelling</a>()) {</div>
<div class="line"><a name="l10193"></a><span class="lineno">10193</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_declspec)</div>
<div class="line"><a name="l10194"></a><span class="lineno">10194</span>&#160;          &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l10195"></a><span class="lineno">10195</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10196"></a><span class="lineno">10196</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_opencl_multiple_access_qualifiers)</div>
<div class="line"><a name="l10197"></a><span class="lineno">10197</span>&#160;          &lt;&lt; D-&gt;<a class="code" href="classclang_1_1Decl.html#af32959df6a722f5089bbdd3dd88ea9bd">getSourceRange</a>();</div>
<div class="line"><a name="l10198"></a><span class="lineno">10198</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l10199"></a><span class="lineno">10199</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10200"></a><span class="lineno">10200</span>&#160;    }</div>
<div class="line"><a name="l10201"></a><span class="lineno">10201</span>&#160;  }</div>
<div class="line"><a name="l10202"></a><span class="lineno">10202</span>&#160; </div>
<div class="line"><a name="l10203"></a><span class="lineno">10203</span>&#160;  <span class="comment">// OpenCL v2.0 s6.6 - read_write can be used for image types to specify that</span></div>
<div class="line"><a name="l10204"></a><span class="lineno">10204</span>&#160;  <span class="comment">// an image object can be read and written. OpenCL v2.0 s6.13.6 - A kernel</span></div>
<div class="line"><a name="l10205"></a><span class="lineno">10205</span>&#160;  <span class="comment">// cannot read from and write to the same pipe object. Using the read_write</span></div>
<div class="line"><a name="l10206"></a><span class="lineno">10206</span>&#160;  <span class="comment">// (or __read_write) qualifier with the pipe qualifier is a compilation error.</span></div>
<div class="line"><a name="l10207"></a><span class="lineno">10207</span>&#160;  <span class="comment">// OpenCL v3.0 s6.8 - For OpenCL C 2.0, or with the</span></div>
<div class="line"><a name="l10208"></a><span class="lineno">10208</span>&#160;  <span class="comment">// __opencl_c_read_write_images feature, image objects specified as arguments</span></div>
<div class="line"><a name="l10209"></a><span class="lineno">10209</span>&#160;  <span class="comment">// to a kernel can additionally be declared to be read-write.</span></div>
<div class="line"><a name="l10210"></a><span class="lineno">10210</span>&#160;  <span class="comment">// C++ for OpenCL 1.0 inherits rule from OpenCL C v2.0.</span></div>
<div class="line"><a name="l10211"></a><span class="lineno">10211</span>&#160;  <span class="comment">// C++ for OpenCL 2021 inherits rule from OpenCL C v3.0.</span></div>
<div class="line"><a name="l10212"></a><span class="lineno">10212</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PDecl = dyn_cast&lt;ParmVarDecl&gt;(D)) {</div>
<div class="line"><a name="l10213"></a><span class="lineno">10213</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1Type.html">Type</a> *<a class="code" href="namespaceclang_1_1interp.html#a59dd81ef98bc25cff31fd627896f1f45">DeclTy</a> = PDecl-&gt;getType().getCanonicalType().getTypePtr();</div>
<div class="line"><a name="l10214"></a><span class="lineno">10214</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>().contains(<span class="stringliteral">&quot;read_write&quot;</span>)) {</div>
<div class="line"><a name="l10215"></a><span class="lineno">10215</span>&#160;      <span class="keywordtype">bool</span> ReadWriteImagesUnsupported =</div>
<div class="line"><a name="l10216"></a><span class="lineno">10216</span>&#160;          (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().<a class="code" href="classclang_1_1LangOptions.html#ae22503755b4482366317d6eac7f598ec">getOpenCLCompatibleVersion</a>() &lt; 200) ||</div>
<div class="line"><a name="l10217"></a><span class="lineno">10217</span>&#160;          (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().<a class="code" href="classclang_1_1LangOptions.html#ae22503755b4482366317d6eac7f598ec">getOpenCLCompatibleVersion</a>() == 300 &amp;&amp;</div>
<div class="line"><a name="l10218"></a><span class="lineno">10218</span>&#160;           !S.<a class="code" href="classclang_1_1Sema.html#a07135143f9767cce4da3fdb098955b39">getOpenCLOptions</a>().<a class="code" href="classclang_1_1OpenCLOptions.html#aa9a98e2b7bd3337a9929b992c6ff96f0">isSupported</a>(<span class="stringliteral">&quot;__opencl_c_read_write_images&quot;</span>,</div>
<div class="line"><a name="l10219"></a><span class="lineno">10219</span>&#160;                                             S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>()));</div>
<div class="line"><a name="l10220"></a><span class="lineno">10220</span>&#160;      <span class="keywordflow">if</span> (ReadWriteImagesUnsupported || <a class="code" href="namespaceclang_1_1interp.html#a59dd81ef98bc25cff31fd627896f1f45">DeclTy</a>-&gt;isPipeType()) {</div>
<div class="line"><a name="l10221"></a><span class="lineno">10221</span>&#160;        S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_opencl_invalid_read_write)</div>
<div class="line"><a name="l10222"></a><span class="lineno">10222</span>&#160;            &lt;&lt; AL &lt;&lt; PDecl-&gt;getType() &lt;&lt; <a class="code" href="namespaceclang_1_1interp.html#a59dd81ef98bc25cff31fd627896f1f45">DeclTy</a>-&gt;isImageType();</div>
<div class="line"><a name="l10223"></a><span class="lineno">10223</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l10224"></a><span class="lineno">10224</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10225"></a><span class="lineno">10225</span>&#160;      }</div>
<div class="line"><a name="l10226"></a><span class="lineno">10226</span>&#160;    }</div>
<div class="line"><a name="l10227"></a><span class="lineno">10227</span>&#160;  }</div>
<div class="line"><a name="l10228"></a><span class="lineno">10228</span>&#160; </div>
<div class="line"><a name="l10229"></a><span class="lineno">10229</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) OpenCLAccessAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l10230"></a><span class="lineno">10230</span>&#160;}</div>
<div class="line"><a name="l10231"></a><span class="lineno">10231</span>&#160; </div>
<div class="line"><a name="l10232"></a><span class="lineno">10232</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleZeroCallUsedRegsAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10233"></a><span class="lineno">10233</span>&#160;  <span class="comment">// Check that the argument is a string literal.</span></div>
<div class="line"><a name="l10234"></a><span class="lineno">10234</span>&#160;  StringRef KindStr;</div>
<div class="line"><a name="l10235"></a><span class="lineno">10235</span>&#160;  <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> LiteralLoc;</div>
<div class="line"><a name="l10236"></a><span class="lineno">10236</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, KindStr, &amp;LiteralLoc))</div>
<div class="line"><a name="l10237"></a><span class="lineno">10237</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10238"></a><span class="lineno">10238</span>&#160; </div>
<div class="line"><a name="l10239"></a><span class="lineno">10239</span>&#160;  ZeroCallUsedRegsAttr::ZeroCallUsedRegsKind <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>;</div>
<div class="line"><a name="l10240"></a><span class="lineno">10240</span>&#160;  <span class="keywordflow">if</span> (!ZeroCallUsedRegsAttr::ConvertStrToZeroCallUsedRegsKind(KindStr, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>)) {</div>
<div class="line"><a name="l10241"></a><span class="lineno">10241</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(LiteralLoc, diag::warn_attribute_type_not_supported)</div>
<div class="line"><a name="l10242"></a><span class="lineno">10242</span>&#160;        &lt;&lt; AL &lt;&lt; KindStr;</div>
<div class="line"><a name="l10243"></a><span class="lineno">10243</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10244"></a><span class="lineno">10244</span>&#160;  }</div>
<div class="line"><a name="l10245"></a><span class="lineno">10245</span>&#160; </div>
<div class="line"><a name="l10246"></a><span class="lineno">10246</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;ZeroCallUsedRegsAttr&gt;();</div>
<div class="line"><a name="l10247"></a><span class="lineno">10247</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(ZeroCallUsedRegsAttr::Create(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <a class="code" href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">Kind</a>, AL));</div>
<div class="line"><a name="l10248"></a><span class="lineno">10248</span>&#160;}</div>
<div class="line"><a name="l10249"></a><span class="lineno">10249</span>&#160; </div>
<div class="line"><a name="l10250"></a><span class="lineno">10250</span>&#160;<span class="keyword">static</span> constexpr std::pair&lt;Decl::Kind, StringRef&gt;</div>
<div class="line"><a name="l10251"></a><span class="lineno">10251</span>&#160;MakeDeclContextDesc(<a class="code" href="classclang_1_1Decl.html#a4c591bf2c0aa4f4d5f343ec665cbf196">Decl::Kind</a> K, StringRef SR) {</div>
<div class="line"><a name="l10252"></a><span class="lineno">10252</span>&#160;  <span class="keywordflow">return</span> std::pair&lt;Decl::Kind, StringRef&gt;{K, SR};</div>
<div class="line"><a name="l10253"></a><span class="lineno">10253</span>&#160;}</div>
<div class="line"><a name="l10254"></a><span class="lineno">10254</span>&#160; </div>
<div class="line"><a name="l10255"></a><span class="lineno">10255</span>&#160;<span class="comment">// FIXME: Refactor Util class in SemaSYCL.cpp to avoid following</span></div>
<div class="line"><a name="l10256"></a><span class="lineno">10256</span>&#160;<span class="comment">// code duplication.</span></div>
<div class="line"><a name="l10257"></a><span class="lineno">10257</span>&#160;<span class="keywordtype">bool</span> isDeviceAspectType(<span class="keyword">const</span> <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty) {</div>
<div class="line"><a name="l10258"></a><span class="lineno">10258</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1EnumType.html">EnumType</a> *ET = Ty-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1EnumType.html">EnumType</a>&gt;();</div>
<div class="line"><a name="l10259"></a><span class="lineno">10259</span>&#160;  <span class="keywordflow">if</span> (!ET)</div>
<div class="line"><a name="l10260"></a><span class="lineno">10260</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10261"></a><span class="lineno">10261</span>&#160; </div>
<div class="line"><a name="l10262"></a><span class="lineno">10262</span>&#160;  std::array&lt;std::pair&lt;Decl::Kind, StringRef&gt;, 3&gt; Scopes = {</div>
<div class="line"><a name="l10263"></a><span class="lineno">10263</span>&#160;      MakeDeclContextDesc(Decl::Kind::Namespace, <span class="stringliteral">&quot;cl&quot;</span>),</div>
<div class="line"><a name="l10264"></a><span class="lineno">10264</span>&#160;      MakeDeclContextDesc(Decl::Kind::Namespace, <span class="stringliteral">&quot;sycl&quot;</span>),</div>
<div class="line"><a name="l10265"></a><span class="lineno">10265</span>&#160;      MakeDeclContextDesc(Decl::Kind::Enum, <span class="stringliteral">&quot;aspect&quot;</span>)};</div>
<div class="line"><a name="l10266"></a><span class="lineno">10266</span>&#160; </div>
<div class="line"><a name="l10267"></a><span class="lineno">10267</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Ctx = cast&lt;DeclContext&gt;(ET-&gt;<a class="code" href="classclang_1_1EnumType.html#af32a806a5e9cfb8e3131eadb2279cb40">getDecl</a>());</div>
<div class="line"><a name="l10268"></a><span class="lineno">10268</span>&#160;  StringRef Name = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l10269"></a><span class="lineno">10269</span>&#160; </div>
<div class="line"><a name="l10270"></a><span class="lineno">10270</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classclang_1_1Scope.html">Scope</a> : llvm::reverse(Scopes)) {</div>
<div class="line"><a name="l10271"></a><span class="lineno">10271</span>&#160;    <a class="code" href="classclang_1_1Decl.html#a4c591bf2c0aa4f4d5f343ec665cbf196">Decl::Kind</a> DK = Ctx-&gt;<a class="code" href="classclang_1_1DeclContext.html#aee85c06098fa320e9a215214c2b94e65">getDeclKind</a>();</div>
<div class="line"><a name="l10272"></a><span class="lineno">10272</span>&#160;    <span class="keywordflow">if</span> (DK != <a class="code" href="classclang_1_1Scope.html">Scope</a>.first)</div>
<div class="line"><a name="l10273"></a><span class="lineno">10273</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10274"></a><span class="lineno">10274</span>&#160; </div>
<div class="line"><a name="l10275"></a><span class="lineno">10275</span>&#160;    <span class="keywordflow">switch</span> (DK) {</div>
<div class="line"><a name="l10276"></a><span class="lineno">10276</span>&#160;    <span class="keywordflow">case</span> Decl::Kind::Enum:</div>
<div class="line"><a name="l10277"></a><span class="lineno">10277</span>&#160;      Name = cast&lt;EnumDecl&gt;(Ctx)-&gt;getName();</div>
<div class="line"><a name="l10278"></a><span class="lineno">10278</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10279"></a><span class="lineno">10279</span>&#160;    <span class="keywordflow">case</span> Decl::Kind::Namespace:</div>
<div class="line"><a name="l10280"></a><span class="lineno">10280</span>&#160;      Name = cast&lt;NamespaceDecl&gt;(Ctx)-&gt;getName();</div>
<div class="line"><a name="l10281"></a><span class="lineno">10281</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10282"></a><span class="lineno">10282</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l10283"></a><span class="lineno">10283</span>&#160;      llvm_unreachable(<span class="stringliteral">&quot;isDeviceAspectType: decl kind not supported&quot;</span>);</div>
<div class="line"><a name="l10284"></a><span class="lineno">10284</span>&#160;    }</div>
<div class="line"><a name="l10285"></a><span class="lineno">10285</span>&#160;    <span class="keywordflow">if</span> (Name != <a class="code" href="classclang_1_1Scope.html">Scope</a>.second)</div>
<div class="line"><a name="l10286"></a><span class="lineno">10286</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10287"></a><span class="lineno">10287</span>&#160;    Ctx = Ctx-&gt;<a class="code" href="classclang_1_1DeclContext.html#a31c99b38017e8d702fda9c0f1d021186">getParent</a>();</div>
<div class="line"><a name="l10288"></a><span class="lineno">10288</span>&#160;  }</div>
<div class="line"><a name="l10289"></a><span class="lineno">10289</span>&#160;  <span class="keywordflow">return</span> Ctx-&gt;<a class="code" href="classclang_1_1DeclContext.html#a59082c38a902401609bf08db31286e75">isTranslationUnit</a>();</div>
<div class="line"><a name="l10290"></a><span class="lineno">10290</span>&#160;}</div>
<div class="line"><a name="l10291"></a><span class="lineno">10291</span>&#160; </div>
<div class="line"><a name="l10292"></a><span class="lineno">10292</span>&#160;SYCLDeviceHasAttr *<a class="code" href="classclang_1_1Sema.html#a4ec5ceb3962651215141272e49b4afa3">Sema::MergeSYCLDeviceHasAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10293"></a><span class="lineno">10293</span>&#160;                                                <span class="keyword">const</span> SYCLDeviceHasAttr &amp;A) {</div>
<div class="line"><a name="l10294"></a><span class="lineno">10294</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLDeviceHasAttr&gt;()) {</div>
<div class="line"><a name="l10295"></a><span class="lineno">10295</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLoc(), diag::warn_duplicate_attribute_exact) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l10296"></a><span class="lineno">10296</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l10297"></a><span class="lineno">10297</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l10298"></a><span class="lineno">10298</span>&#160;  }</div>
<div class="line"><a name="l10299"></a><span class="lineno">10299</span>&#160; </div>
<div class="line"><a name="l10300"></a><span class="lineno">10300</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 5&gt;</a> Args;</div>
<div class="line"><a name="l10301"></a><span class="lineno">10301</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *E : A.aspects())</div>
<div class="line"><a name="l10302"></a><span class="lineno">10302</span>&#160;    Args.push_back(E);</div>
<div class="line"><a name="l10303"></a><span class="lineno">10303</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l10304"></a><span class="lineno">10304</span>&#160;      SYCLDeviceHasAttr(Context, A, Args.data(), Args.size());</div>
<div class="line"><a name="l10305"></a><span class="lineno">10305</span>&#160;}</div>
<div class="line"><a name="l10306"></a><span class="lineno">10306</span>&#160; </div>
<div class="line"><a name="l10307"></a><span class="lineno">10307</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a4a2227dc7cbd030a12ec6c4d776270f8">Sema::AddSYCLDeviceHasAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l10308"></a><span class="lineno">10308</span>&#160;                                <a class="code" href="classclang_1_1Expr.html">Expr</a> **Exprs, <span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l10309"></a><span class="lineno">10309</span>&#160; </div>
<div class="line"><a name="l10310"></a><span class="lineno">10310</span>&#160;  SYCLDeviceHasAttr TmpAttr(Context, CI, Exprs, Size);</div>
<div class="line"><a name="l10311"></a><span class="lineno">10311</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 5&gt;</a> Aspects;</div>
<div class="line"><a name="l10312"></a><span class="lineno">10312</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *E : TmpAttr.aspects())</div>
<div class="line"><a name="l10313"></a><span class="lineno">10313</span>&#160;    <span class="keywordflow">if</span> (!isDeviceAspectType(E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()))</div>
<div class="line"><a name="l10314"></a><span class="lineno">10314</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_sycl_invalid_aspect_argument) &lt;&lt; CI;</div>
<div class="line"><a name="l10315"></a><span class="lineno">10315</span>&#160; </div>
<div class="line"><a name="l10316"></a><span class="lineno">10316</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLDeviceHasAttr&gt;()) {</div>
<div class="line"><a name="l10317"></a><span class="lineno">10317</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute_exact) &lt;&lt; CI;</div>
<div class="line"><a name="l10318"></a><span class="lineno">10318</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l10319"></a><span class="lineno">10319</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10320"></a><span class="lineno">10320</span>&#160;  }</div>
<div class="line"><a name="l10321"></a><span class="lineno">10321</span>&#160; </div>
<div class="line"><a name="l10322"></a><span class="lineno">10322</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLDeviceHasAttr(Context, CI, Exprs, Size));</div>
<div class="line"><a name="l10323"></a><span class="lineno">10323</span>&#160;}</div>
<div class="line"><a name="l10324"></a><span class="lineno">10324</span>&#160; </div>
<div class="line"><a name="l10325"></a><span class="lineno">10325</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLDeviceHasAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l10326"></a><span class="lineno">10326</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 5&gt;</a> Args;</div>
<div class="line"><a name="l10327"></a><span class="lineno">10327</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++I)</div>
<div class="line"><a name="l10328"></a><span class="lineno">10328</span>&#160;    Args.push_back(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l10329"></a><span class="lineno">10329</span>&#160; </div>
<div class="line"><a name="l10330"></a><span class="lineno">10330</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a4a2227dc7cbd030a12ec6c4d776270f8">AddSYCLDeviceHasAttr</a>(D, A, Args.data(), Args.size());</div>
<div class="line"><a name="l10331"></a><span class="lineno">10331</span>&#160;}</div>
<div class="line"><a name="l10332"></a><span class="lineno">10332</span>&#160; </div>
<div class="line"><a name="l10333"></a><span class="lineno">10333</span>&#160;SYCLUsesAspectsAttr *</div>
<div class="line"><a name="l10334"></a><span class="lineno">10334</span>&#160;<a class="code" href="classclang_1_1Sema.html#ad804e1759ffeb82b327639afc2fb3a88">Sema::MergeSYCLUsesAspectsAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> SYCLUsesAspectsAttr &amp;A) {</div>
<div class="line"><a name="l10335"></a><span class="lineno">10335</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLUsesAspectsAttr&gt;()) {</div>
<div class="line"><a name="l10336"></a><span class="lineno">10336</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLoc(), diag::warn_duplicate_attribute_exact) &lt;&lt; &amp;A;</div>
<div class="line"><a name="l10337"></a><span class="lineno">10337</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(A.getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l10338"></a><span class="lineno">10338</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l10339"></a><span class="lineno">10339</span>&#160;  }</div>
<div class="line"><a name="l10340"></a><span class="lineno">10340</span>&#160; </div>
<div class="line"><a name="l10341"></a><span class="lineno">10341</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 5&gt;</a> Args;</div>
<div class="line"><a name="l10342"></a><span class="lineno">10342</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *E : A.aspects())</div>
<div class="line"><a name="l10343"></a><span class="lineno">10343</span>&#160;    Args.push_back(E);</div>
<div class="line"><a name="l10344"></a><span class="lineno">10344</span>&#160;  return ::new (Context)</div>
<div class="line"><a name="l10345"></a><span class="lineno">10345</span>&#160;      SYCLUsesAspectsAttr(Context, A, Args.data(), Args.size());</div>
<div class="line"><a name="l10346"></a><span class="lineno">10346</span>&#160;}</div>
<div class="line"><a name="l10347"></a><span class="lineno">10347</span>&#160; </div>
<div class="line"><a name="l10348"></a><span class="lineno">10348</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a2b3e517390147ef7d156b99df51ce511">Sema::AddSYCLUsesAspectsAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1AttributeCommonInfo.html">AttributeCommonInfo</a> &amp;CI,</div>
<div class="line"><a name="l10349"></a><span class="lineno">10349</span>&#160;                                  <a class="code" href="classclang_1_1Expr.html">Expr</a> **Exprs, <span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l10350"></a><span class="lineno">10350</span>&#160; </div>
<div class="line"><a name="l10351"></a><span class="lineno">10351</span>&#160;  SYCLUsesAspectsAttr TmpAttr(Context, CI, Exprs, Size);</div>
<div class="line"><a name="l10352"></a><span class="lineno">10352</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 5&gt;</a> Aspects;</div>
<div class="line"><a name="l10353"></a><span class="lineno">10353</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *E : TmpAttr.aspects())</div>
<div class="line"><a name="l10354"></a><span class="lineno">10354</span>&#160;    <span class="keywordflow">if</span> (!isDeviceAspectType(E-&gt;<a class="code" href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">getType</a>()))</div>
<div class="line"><a name="l10355"></a><span class="lineno">10355</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(E-&gt;<a class="code" href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">getExprLoc</a>(), diag::err_sycl_invalid_aspect_argument) &lt;&lt; CI;</div>
<div class="line"><a name="l10356"></a><span class="lineno">10356</span>&#160; </div>
<div class="line"><a name="l10357"></a><span class="lineno">10357</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *ExistingAttr = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLUsesAspectsAttr&gt;()) {</div>
<div class="line"><a name="l10358"></a><span class="lineno">10358</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(CI.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_duplicate_attribute_exact) &lt;&lt; CI;</div>
<div class="line"><a name="l10359"></a><span class="lineno">10359</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(ExistingAttr-&gt;getLoc(), diag::note_previous_attribute);</div>
<div class="line"><a name="l10360"></a><span class="lineno">10360</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10361"></a><span class="lineno">10361</span>&#160;  }</div>
<div class="line"><a name="l10362"></a><span class="lineno">10362</span>&#160; </div>
<div class="line"><a name="l10363"></a><span class="lineno">10363</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (Context) SYCLUsesAspectsAttr(Context, CI, Exprs, Size));</div>
<div class="line"><a name="l10364"></a><span class="lineno">10364</span>&#160;}</div>
<div class="line"><a name="l10365"></a><span class="lineno">10365</span>&#160; </div>
<div class="line"><a name="l10366"></a><span class="lineno">10366</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLUsesAspectsAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l10367"></a><span class="lineno">10367</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Expr *, 5&gt;</a> Args;</div>
<div class="line"><a name="l10368"></a><span class="lineno">10368</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; A.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(); ++I)</div>
<div class="line"><a name="l10369"></a><span class="lineno">10369</span>&#160;    Args.push_back(A.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I));</div>
<div class="line"><a name="l10370"></a><span class="lineno">10370</span>&#160; </div>
<div class="line"><a name="l10371"></a><span class="lineno">10371</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a2b3e517390147ef7d156b99df51ce511">AddSYCLUsesAspectsAttr</a>(D, A, Args.data(), Args.size());</div>
<div class="line"><a name="l10372"></a><span class="lineno">10372</span>&#160;}</div>
<div class="line"><a name="l10373"></a><span class="lineno">10373</span>&#160; </div>
<div class="line"><a name="l10374"></a><span class="lineno">10374</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleSYCLKernelAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10375"></a><span class="lineno">10375</span>&#160;  <span class="comment">// The &#39;sycl_kernel&#39; attribute applies only to function templates.</span></div>
<div class="line"><a name="l10376"></a><span class="lineno">10376</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *FD = cast&lt;FunctionDecl&gt;(D);</div>
<div class="line"><a name="l10377"></a><span class="lineno">10377</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1FunctionTemplateDecl.html">FunctionTemplateDecl</a> *FT = FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a0fe9b0623549d55629263242cbf3927e">getDescribedFunctionTemplate</a>();</div>
<div class="line"><a name="l10378"></a><span class="lineno">10378</span>&#160;  assert(FT &amp;&amp; <span class="stringliteral">&quot;Function template is expected&quot;</span>);</div>
<div class="line"><a name="l10379"></a><span class="lineno">10379</span>&#160; </div>
<div class="line"><a name="l10380"></a><span class="lineno">10380</span>&#160;  <span class="comment">// Function template must have at least two template parameters so it</span></div>
<div class="line"><a name="l10381"></a><span class="lineno">10381</span>&#160;  <span class="comment">// can be used in OpenCL kernel generation.</span></div>
<div class="line"><a name="l10382"></a><span class="lineno">10382</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1TemplateParameterList.html">TemplateParameterList</a> *TL = FT-&gt;<a class="code" href="classclang_1_1TemplateDecl.html#a7f8b28a5d4a680cea9dc71c5c886a7f3">getTemplateParameters</a>();</div>
<div class="line"><a name="l10383"></a><span class="lineno">10383</span>&#160;  <span class="keywordflow">if</span> (TL-&gt;<a class="code" href="classclang_1_1TemplateParameterList.html#a45186b53bc1a721cc1f9395003bc2f40">size</a>() &lt; 2) {</div>
<div class="line"><a name="l10384"></a><span class="lineno">10384</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FT-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_sycl_kernel_num_of_template_params);</div>
<div class="line"><a name="l10385"></a><span class="lineno">10385</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10386"></a><span class="lineno">10386</span>&#160;  }</div>
<div class="line"><a name="l10387"></a><span class="lineno">10387</span>&#160; </div>
<div class="line"><a name="l10388"></a><span class="lineno">10388</span>&#160;  <span class="comment">// The first two template parameters must be typenames.</span></div>
<div class="line"><a name="l10389"></a><span class="lineno">10389</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I &lt; 2 &amp;&amp; I &lt; TL-&gt;<a class="code" href="classclang_1_1TemplateParameterList.html#a45186b53bc1a721cc1f9395003bc2f40">size</a>(); ++I) {</div>
<div class="line"><a name="l10390"></a><span class="lineno">10390</span>&#160;    <span class="keyword">const</span> <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *TParam = TL-&gt;<a class="code" href="classclang_1_1TemplateParameterList.html#ac087742e8b1da896b9e7f4d80b749ec4">getParam</a>(I);</div>
<div class="line"><a name="l10391"></a><span class="lineno">10391</span>&#160;    <span class="keywordflow">if</span> (isa&lt;NonTypeTemplateParmDecl&gt;(TParam)) {</div>
<div class="line"><a name="l10392"></a><span class="lineno">10392</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FT-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(),</div>
<div class="line"><a name="l10393"></a><span class="lineno">10393</span>&#160;             diag::warn_sycl_kernel_invalid_template_param_type);</div>
<div class="line"><a name="l10394"></a><span class="lineno">10394</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10395"></a><span class="lineno">10395</span>&#160;    }</div>
<div class="line"><a name="l10396"></a><span class="lineno">10396</span>&#160;  }</div>
<div class="line"><a name="l10397"></a><span class="lineno">10397</span>&#160; </div>
<div class="line"><a name="l10398"></a><span class="lineno">10398</span>&#160;  <span class="comment">// Function must have at least one parameter.</span></div>
<div class="line"><a name="l10399"></a><span class="lineno">10399</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) &lt; 1) {</div>
<div class="line"><a name="l10400"></a><span class="lineno">10400</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FT-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_sycl_kernel_num_of_function_params);</div>
<div class="line"><a name="l10401"></a><span class="lineno">10401</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10402"></a><span class="lineno">10402</span>&#160;  }</div>
<div class="line"><a name="l10403"></a><span class="lineno">10403</span>&#160; </div>
<div class="line"><a name="l10404"></a><span class="lineno">10404</span>&#160;  <span class="comment">// Function must return void.</span></div>
<div class="line"><a name="l10405"></a><span class="lineno">10405</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> RetTy = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l10406"></a><span class="lineno">10406</span>&#160;  <span class="keywordflow">if</span> (!RetTy-&gt;<a class="code" href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">isVoidType</a>()) {</div>
<div class="line"><a name="l10407"></a><span class="lineno">10407</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(FT-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::warn_sycl_kernel_return_type);</div>
<div class="line"><a name="l10408"></a><span class="lineno">10408</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10409"></a><span class="lineno">10409</span>&#160;  }</div>
<div class="line"><a name="l10410"></a><span class="lineno">10410</span>&#160; </div>
<div class="line"><a name="l10411"></a><span class="lineno">10411</span>&#160;  handleSimpleAttribute&lt;SYCLKernelAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10412"></a><span class="lineno">10412</span>&#160;}</div>
<div class="line"><a name="l10413"></a><span class="lineno">10413</span>&#160; </div>
<div class="line"><a name="l10414"></a><span class="lineno">10414</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleDestroyAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;A) {</div>
<div class="line"><a name="l10415"></a><span class="lineno">10415</span>&#160;  <span class="keywordflow">if</span> (!cast&lt;VarDecl&gt;(D)-&gt;hasGlobalStorage()) {</div>
<div class="line"><a name="l10416"></a><span class="lineno">10416</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_destroy_attr_on_non_static_var)</div>
<div class="line"><a name="l10417"></a><span class="lineno">10417</span>&#160;        &lt;&lt; (A.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_AlwaysDestroy);</div>
<div class="line"><a name="l10418"></a><span class="lineno">10418</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10419"></a><span class="lineno">10419</span>&#160;  }</div>
<div class="line"><a name="l10420"></a><span class="lineno">10420</span>&#160; </div>
<div class="line"><a name="l10421"></a><span class="lineno">10421</span>&#160;  <span class="keywordflow">if</span> (A.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_AlwaysDestroy)</div>
<div class="line"><a name="l10422"></a><span class="lineno">10422</span>&#160;    handleSimpleAttribute&lt;AlwaysDestroyAttr&gt;(S, D, A);</div>
<div class="line"><a name="l10423"></a><span class="lineno">10423</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l10424"></a><span class="lineno">10424</span>&#160;    handleSimpleAttribute&lt;NoDestroyAttr&gt;(S, D, A);</div>
<div class="line"><a name="l10425"></a><span class="lineno">10425</span>&#160;}</div>
<div class="line"><a name="l10426"></a><span class="lineno">10426</span>&#160; </div>
<div class="line"><a name="l10427"></a><span class="lineno">10427</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleUninitializedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10428"></a><span class="lineno">10428</span>&#160;  assert(cast&lt;VarDecl&gt;(D)-&gt;getStorageDuration() == <a class="code" href="namespaceclang.html#a73616c07a633e772603049315dc55554acf9a137faaa271043c56f0008325ecbf">SD_Automatic</a> &amp;&amp;</div>
<div class="line"><a name="l10429"></a><span class="lineno">10429</span>&#160;         <span class="stringliteral">&quot;uninitialized is only valid on automatic duration variables&quot;</span>);</div>
<div class="line"><a name="l10430"></a><span class="lineno">10430</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) UninitializedAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL));</div>
<div class="line"><a name="l10431"></a><span class="lineno">10431</span>&#160;}</div>
<div class="line"><a name="l10432"></a><span class="lineno">10432</span>&#160; </div>
<div class="line"><a name="l10433"></a><span class="lineno">10433</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> tryMakeVariablePseudoStrong(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1VarDecl.html">VarDecl</a> *VD,</div>
<div class="line"><a name="l10434"></a><span class="lineno">10434</span>&#160;                                        <span class="keywordtype">bool</span> DiagnoseFailure) {</div>
<div class="line"><a name="l10435"></a><span class="lineno">10435</span>&#160;  <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l10436"></a><span class="lineno">10436</span>&#160;  <span class="keywordflow">if</span> (!Ty-&gt;<a class="code" href="classclang_1_1Type.html#ae110ade2f54505d561de5a2f048254fc">isObjCRetainableType</a>()) {</div>
<div class="line"><a name="l10437"></a><span class="lineno">10437</span>&#160;    <span class="keywordflow">if</span> (DiagnoseFailure) {</div>
<div class="line"><a name="l10438"></a><span class="lineno">10438</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(VD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a73cead379a984c4b4ddb6e0d308725f6">getBeginLoc</a>(), diag::warn_ignored_objc_externally_retained)</div>
<div class="line"><a name="l10439"></a><span class="lineno">10439</span>&#160;          &lt;&lt; 0;</div>
<div class="line"><a name="l10440"></a><span class="lineno">10440</span>&#160;    }</div>
<div class="line"><a name="l10441"></a><span class="lineno">10441</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10442"></a><span class="lineno">10442</span>&#160;  }</div>
<div class="line"><a name="l10443"></a><span class="lineno">10443</span>&#160; </div>
<div class="line"><a name="l10444"></a><span class="lineno">10444</span>&#160;  <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300">Qualifiers::ObjCLifetime</a> LifetimeQual = Ty.<a class="code" href="classclang_1_1QualType.html#a79656767a29a455153af86c4afac9fbe">getQualifiers</a>().<a class="code" href="classclang_1_1Qualifiers.html#aa6f052c23afa79b0aa0b7f415ed9f826">getObjCLifetime</a>();</div>
<div class="line"><a name="l10445"></a><span class="lineno">10445</span>&#160; </div>
<div class="line"><a name="l10446"></a><span class="lineno">10446</span>&#160;  <span class="comment">// Sema::inferObjCARCLifetime must run after processing decl attributes</span></div>
<div class="line"><a name="l10447"></a><span class="lineno">10447</span>&#160;  <span class="comment">// (because __block lowers to an attribute), so if the lifetime hasn&#39;t been</span></div>
<div class="line"><a name="l10448"></a><span class="lineno">10448</span>&#160;  <span class="comment">// explicitly specified, infer it locally now.</span></div>
<div class="line"><a name="l10449"></a><span class="lineno">10449</span>&#160;  <span class="keywordflow">if</span> (LifetimeQual == <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a29b319bca942e44bf183ca2749b072b3">Qualifiers::OCL_None</a>)</div>
<div class="line"><a name="l10450"></a><span class="lineno">10450</span>&#160;    LifetimeQual = Ty-&gt;<a class="code" href="classclang_1_1Type.html#aac0f6e44dc104b9ee57284650d014a01">getObjCARCImplicitLifetime</a>();</div>
<div class="line"><a name="l10451"></a><span class="lineno">10451</span>&#160; </div>
<div class="line"><a name="l10452"></a><span class="lineno">10452</span>&#160;  <span class="comment">// The attributes only really makes sense for __strong variables; ignore any</span></div>
<div class="line"><a name="l10453"></a><span class="lineno">10453</span>&#160;  <span class="comment">// attempts to annotate a parameter with any other lifetime qualifier.</span></div>
<div class="line"><a name="l10454"></a><span class="lineno">10454</span>&#160;  <span class="keywordflow">if</span> (LifetimeQual != <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a056719970802d94ba3740489f709a96e">Qualifiers::OCL_Strong</a>) {</div>
<div class="line"><a name="l10455"></a><span class="lineno">10455</span>&#160;    <span class="keywordflow">if</span> (DiagnoseFailure) {</div>
<div class="line"><a name="l10456"></a><span class="lineno">10456</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(VD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a73cead379a984c4b4ddb6e0d308725f6">getBeginLoc</a>(), diag::warn_ignored_objc_externally_retained)</div>
<div class="line"><a name="l10457"></a><span class="lineno">10457</span>&#160;          &lt;&lt; 1;</div>
<div class="line"><a name="l10458"></a><span class="lineno">10458</span>&#160;    }</div>
<div class="line"><a name="l10459"></a><span class="lineno">10459</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10460"></a><span class="lineno">10460</span>&#160;  }</div>
<div class="line"><a name="l10461"></a><span class="lineno">10461</span>&#160; </div>
<div class="line"><a name="l10462"></a><span class="lineno">10462</span>&#160;  <span class="comment">// Tampering with the type of a VarDecl here is a bit of a hack, but we need</span></div>
<div class="line"><a name="l10463"></a><span class="lineno">10463</span>&#160;  <span class="comment">// to ensure that the variable is &#39;const&#39; so that we can error on</span></div>
<div class="line"><a name="l10464"></a><span class="lineno">10464</span>&#160;  <span class="comment">// modification, which can otherwise over-release.</span></div>
<div class="line"><a name="l10465"></a><span class="lineno">10465</span>&#160;  VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a3a82ca5762f3fb1c2d25d9cf63728cd2">setType</a>(Ty.<a class="code" href="classclang_1_1QualType.html#a40e68cec9809258ad0c2fc477b81dd97">withConst</a>());</div>
<div class="line"><a name="l10466"></a><span class="lineno">10466</span>&#160;  VD-&gt;<a class="code" href="classclang_1_1VarDecl.html#a24b818ce77cbe070cae0427e1e74648b">setARCPseudoStrong</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l10467"></a><span class="lineno">10467</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10468"></a><span class="lineno">10468</span>&#160;}</div>
<div class="line"><a name="l10469"></a><span class="lineno">10469</span>&#160; </div>
<div class="line"><a name="l10470"></a><span class="lineno">10470</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleObjCExternallyRetainedAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10471"></a><span class="lineno">10471</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10472"></a><span class="lineno">10472</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D)) {</div>
<div class="line"><a name="l10473"></a><span class="lineno">10473</span>&#160;    assert(!isa&lt;ParmVarDecl&gt;(VD) &amp;&amp; <span class="stringliteral">&quot;should be diagnosed automatically&quot;</span>);</div>
<div class="line"><a name="l10474"></a><span class="lineno">10474</span>&#160;    <span class="keywordflow">if</span> (!VD-&gt;<a class="code" href="classclang_1_1VarDecl.html#ab7c54da372d71f7a83cc5a8834cb70f7">hasLocalStorage</a>()) {</div>
<div class="line"><a name="l10475"></a><span class="lineno">10475</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(), diag::warn_ignored_objc_externally_retained)</div>
<div class="line"><a name="l10476"></a><span class="lineno">10476</span>&#160;          &lt;&lt; 0;</div>
<div class="line"><a name="l10477"></a><span class="lineno">10477</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10478"></a><span class="lineno">10478</span>&#160;    }</div>
<div class="line"><a name="l10479"></a><span class="lineno">10479</span>&#160; </div>
<div class="line"><a name="l10480"></a><span class="lineno">10480</span>&#160;    <span class="keywordflow">if</span> (!tryMakeVariablePseudoStrong(S, VD, <span class="comment">/*DiagnoseFailure=*/</span><span class="keyword">true</span>))</div>
<div class="line"><a name="l10481"></a><span class="lineno">10481</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10482"></a><span class="lineno">10482</span>&#160; </div>
<div class="line"><a name="l10483"></a><span class="lineno">10483</span>&#160;    handleSimpleAttribute&lt;ObjCExternallyRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10484"></a><span class="lineno">10484</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10485"></a><span class="lineno">10485</span>&#160;  }</div>
<div class="line"><a name="l10486"></a><span class="lineno">10486</span>&#160; </div>
<div class="line"><a name="l10487"></a><span class="lineno">10487</span>&#160;  <span class="comment">// If D is a function-like declaration (method, block, or function), then we</span></div>
<div class="line"><a name="l10488"></a><span class="lineno">10488</span>&#160;  <span class="comment">// make every parameter psuedo-strong.</span></div>
<div class="line"><a name="l10489"></a><span class="lineno">10489</span>&#160;  <span class="keywordtype">unsigned</span> NumParams =</div>
<div class="line"><a name="l10490"></a><span class="lineno">10490</span>&#160;      <a class="code" href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a>(D) ? <a class="code" href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a>(D) : 0;</div>
<div class="line"><a name="l10491"></a><span class="lineno">10491</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0; I != NumParams; ++I) {</div>
<div class="line"><a name="l10492"></a><span class="lineno">10492</span>&#160;    <span class="keyword">auto</span> *PVD = <span class="keyword">const_cast&lt;</span><a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *<span class="keyword">&gt;</span>(<a class="code" href="SemaDeclAttr_8cpp.html#a129f9063859b12a10010182119f9f4ee">getFunctionOrMethodParam</a>(D, I));</div>
<div class="line"><a name="l10493"></a><span class="lineno">10493</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> Ty = PVD-&gt;getType();</div>
<div class="line"><a name="l10494"></a><span class="lineno">10494</span>&#160; </div>
<div class="line"><a name="l10495"></a><span class="lineno">10495</span>&#160;    <span class="comment">// If a user wrote a parameter with __strong explicitly, then assume they</span></div>
<div class="line"><a name="l10496"></a><span class="lineno">10496</span>&#160;    <span class="comment">// want &quot;real&quot; strong semantics for that parameter. This works because if</span></div>
<div class="line"><a name="l10497"></a><span class="lineno">10497</span>&#160;    <span class="comment">// the parameter was written with __strong, then the strong qualifier will</span></div>
<div class="line"><a name="l10498"></a><span class="lineno">10498</span>&#160;    <span class="comment">// be non-local.</span></div>
<div class="line"><a name="l10499"></a><span class="lineno">10499</span>&#160;    <span class="keywordflow">if</span> (Ty.<a class="code" href="classclang_1_1QualType.html#a420328fbe9c6b66703346448e2b26dc1">getLocalUnqualifiedType</a>().<a class="code" href="classclang_1_1QualType.html#a79656767a29a455153af86c4afac9fbe">getQualifiers</a>().<a class="code" href="classclang_1_1Qualifiers.html#aa6f052c23afa79b0aa0b7f415ed9f826">getObjCLifetime</a>() ==</div>
<div class="line"><a name="l10500"></a><span class="lineno">10500</span>&#160;        <a class="code" href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a056719970802d94ba3740489f709a96e">Qualifiers::OCL_Strong</a>)</div>
<div class="line"><a name="l10501"></a><span class="lineno">10501</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l10502"></a><span class="lineno">10502</span>&#160; </div>
<div class="line"><a name="l10503"></a><span class="lineno">10503</span>&#160;    tryMakeVariablePseudoStrong(S, PVD, <span class="comment">/*DiagnoseFailure=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l10504"></a><span class="lineno">10504</span>&#160;  }</div>
<div class="line"><a name="l10505"></a><span class="lineno">10505</span>&#160;  handleSimpleAttribute&lt;ObjCExternallyRetainedAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10506"></a><span class="lineno">10506</span>&#160;}</div>
<div class="line"><a name="l10507"></a><span class="lineno">10507</span>&#160; </div>
<div class="line"><a name="l10508"></a><span class="lineno">10508</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleMIGServerRoutineAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10509"></a><span class="lineno">10509</span>&#160;  <span class="comment">// Check that the return type is a `typedef int kern_return_t` or a typedef</span></div>
<div class="line"><a name="l10510"></a><span class="lineno">10510</span>&#160;  <span class="comment">// around it, because otherwise MIG convention checks make no sense.</span></div>
<div class="line"><a name="l10511"></a><span class="lineno">10511</span>&#160;  <span class="comment">// BlockDecl doesn&#39;t store a return type, so it&#39;s annoying to check,</span></div>
<div class="line"><a name="l10512"></a><span class="lineno">10512</span>&#160;  <span class="comment">// so let&#39;s skip it for now.</span></div>
<div class="line"><a name="l10513"></a><span class="lineno">10513</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;BlockDecl&gt;(D)) {</div>
<div class="line"><a name="l10514"></a><span class="lineno">10514</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> T = <a class="code" href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a>(D);</div>
<div class="line"><a name="l10515"></a><span class="lineno">10515</span>&#160;    <span class="keywordtype">bool</span> IsKernReturnT = <span class="keyword">false</span>;</div>
<div class="line"><a name="l10516"></a><span class="lineno">10516</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *TT = T-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1TypedefType.html">TypedefType</a>&gt;()) {</div>
<div class="line"><a name="l10517"></a><span class="lineno">10517</span>&#160;      IsKernReturnT = (TT-&gt;getDecl()-&gt;getName() == <span class="stringliteral">&quot;kern_return_t&quot;</span>);</div>
<div class="line"><a name="l10518"></a><span class="lineno">10518</span>&#160;      T = TT-&gt;desugar();</div>
<div class="line"><a name="l10519"></a><span class="lineno">10519</span>&#160;    }</div>
<div class="line"><a name="l10520"></a><span class="lineno">10520</span>&#160;    <span class="keywordflow">if</span> (!IsKernReturnT || T.<a class="code" href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">getCanonicalType</a>() != S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>().<a class="code" href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">IntTy</a>) {</div>
<div class="line"><a name="l10521"></a><span class="lineno">10521</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">getBeginLoc</a>(),</div>
<div class="line"><a name="l10522"></a><span class="lineno">10522</span>&#160;             diag::warn_mig_server_routine_does_not_return_kern_return_t);</div>
<div class="line"><a name="l10523"></a><span class="lineno">10523</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10524"></a><span class="lineno">10524</span>&#160;    }</div>
<div class="line"><a name="l10525"></a><span class="lineno">10525</span>&#160;  }</div>
<div class="line"><a name="l10526"></a><span class="lineno">10526</span>&#160; </div>
<div class="line"><a name="l10527"></a><span class="lineno">10527</span>&#160;  handleSimpleAttribute&lt;MIGServerRoutineAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10528"></a><span class="lineno">10528</span>&#160;}</div>
<div class="line"><a name="l10529"></a><span class="lineno">10529</span>&#160; </div>
<div class="line"><a name="l10530"></a><span class="lineno">10530</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleMSAllocatorAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10531"></a><span class="lineno">10531</span>&#160;  <span class="comment">// Warn if the return type is not a pointer or reference type.</span></div>
<div class="line"><a name="l10532"></a><span class="lineno">10532</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l10533"></a><span class="lineno">10533</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> RetTy = FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">getReturnType</a>();</div>
<div class="line"><a name="l10534"></a><span class="lineno">10534</span>&#160;    <span class="keywordflow">if</span> (!RetTy-&gt;<a class="code" href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">isPointerType</a>() &amp;&amp; !RetTy-&gt;<a class="code" href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">isReferenceType</a>()) {</div>
<div class="line"><a name="l10535"></a><span class="lineno">10535</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_declspec_allocator_nonpointer)</div>
<div class="line"><a name="l10536"></a><span class="lineno">10536</span>&#160;          &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>() &lt;&lt; RetTy;</div>
<div class="line"><a name="l10537"></a><span class="lineno">10537</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10538"></a><span class="lineno">10538</span>&#160;    }</div>
<div class="line"><a name="l10539"></a><span class="lineno">10539</span>&#160;  }</div>
<div class="line"><a name="l10540"></a><span class="lineno">10540</span>&#160; </div>
<div class="line"><a name="l10541"></a><span class="lineno">10541</span>&#160;  handleSimpleAttribute&lt;MSAllocatorAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10542"></a><span class="lineno">10542</span>&#160;}</div>
<div class="line"><a name="l10543"></a><span class="lineno">10543</span>&#160; </div>
<div class="line"><a name="l10544"></a><span class="lineno">10544</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleAcquireHandleAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10545"></a><span class="lineno">10545</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a91ee3922aeeb1291e94716a1e5c7dc54">isUsedAsTypeAttr</a>())</div>
<div class="line"><a name="l10546"></a><span class="lineno">10546</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10547"></a><span class="lineno">10547</span>&#160;  <span class="comment">// Warn if the parameter is definitely not an output parameter.</span></div>
<div class="line"><a name="l10548"></a><span class="lineno">10548</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PVD = dyn_cast&lt;ParmVarDecl&gt;(D)) {</div>
<div class="line"><a name="l10549"></a><span class="lineno">10549</span>&#160;    <span class="keywordflow">if</span> (PVD-&gt;getType()-&gt;isIntegerType()) {</div>
<div class="line"><a name="l10550"></a><span class="lineno">10550</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_output_parameter)</div>
<div class="line"><a name="l10551"></a><span class="lineno">10551</span>&#160;          &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l10552"></a><span class="lineno">10552</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10553"></a><span class="lineno">10553</span>&#160;    }</div>
<div class="line"><a name="l10554"></a><span class="lineno">10554</span>&#160;  }</div>
<div class="line"><a name="l10555"></a><span class="lineno">10555</span>&#160;  StringRef Argument;</div>
<div class="line"><a name="l10556"></a><span class="lineno">10556</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Argument))</div>
<div class="line"><a name="l10557"></a><span class="lineno">10557</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10558"></a><span class="lineno">10558</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(AcquireHandleAttr::Create(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Argument, AL));</div>
<div class="line"><a name="l10559"></a><span class="lineno">10559</span>&#160;}</div>
<div class="line"><a name="l10560"></a><span class="lineno">10560</span>&#160; </div>
<div class="line"><a name="l10561"></a><span class="lineno">10561</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> Attr&gt;</div>
<div class="line"><a name="l10562"></a><span class="lineno">10562</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleHandleAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10563"></a><span class="lineno">10563</span>&#160;  StringRef Argument;</div>
<div class="line"><a name="l10564"></a><span class="lineno">10564</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Argument))</div>
<div class="line"><a name="l10565"></a><span class="lineno">10565</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10566"></a><span class="lineno">10566</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(Attr::Create(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Argument, AL));</div>
<div class="line"><a name="l10567"></a><span class="lineno">10567</span>&#160;}</div>
<div class="line"><a name="l10568"></a><span class="lineno">10568</span>&#160; </div>
<div class="line"><a name="l10569"></a><span class="lineno">10569</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleCFGuardAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10570"></a><span class="lineno">10570</span>&#160;  <span class="comment">// The guard attribute takes a single identifier argument.</span></div>
<div class="line"><a name="l10571"></a><span class="lineno">10571</span>&#160; </div>
<div class="line"><a name="l10572"></a><span class="lineno">10572</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">isArgIdent</a>(0)) {</div>
<div class="line"><a name="l10573"></a><span class="lineno">10573</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_attribute_argument_type)</div>
<div class="line"><a name="l10574"></a><span class="lineno">10574</span>&#160;        &lt;&lt; AL &lt;&lt; <a class="code" href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">AANT_ArgumentIdentifier</a>;</div>
<div class="line"><a name="l10575"></a><span class="lineno">10575</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10576"></a><span class="lineno">10576</span>&#160;  }</div>
<div class="line"><a name="l10577"></a><span class="lineno">10577</span>&#160; </div>
<div class="line"><a name="l10578"></a><span class="lineno">10578</span>&#160;  CFGuardAttr::GuardArg Arg;</div>
<div class="line"><a name="l10579"></a><span class="lineno">10579</span>&#160;  <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">getArgAsIdent</a>(0)-&gt;<a class="code" href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">Ident</a>;</div>
<div class="line"><a name="l10580"></a><span class="lineno">10580</span>&#160;  <span class="keywordflow">if</span> (!CFGuardAttr::ConvertStrToGuardArg(II-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(), Arg)) {</div>
<div class="line"><a name="l10581"></a><span class="lineno">10581</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_type_not_supported) &lt;&lt; AL &lt;&lt; II;</div>
<div class="line"><a name="l10582"></a><span class="lineno">10582</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10583"></a><span class="lineno">10583</span>&#160;  }</div>
<div class="line"><a name="l10584"></a><span class="lineno">10584</span>&#160; </div>
<div class="line"><a name="l10585"></a><span class="lineno">10585</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(::<span class="keyword">new</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>) CFGuardAttr(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, AL, Arg));</div>
<div class="line"><a name="l10586"></a><span class="lineno">10586</span>&#160;}</div>
<div class="line"><a name="l10587"></a><span class="lineno">10587</span>&#160; </div>
<div class="line"><a name="l10588"></a><span class="lineno">10588</span>&#160; </div>
<div class="line"><a name="l10589"></a><span class="lineno">10589</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrTy&gt;</div>
<div class="line"><a name="l10590"></a><span class="lineno">10590</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> AttrTy *findEnforceTCBAttrByName(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, StringRef Name) {</div>
<div class="line"><a name="l10591"></a><span class="lineno">10591</span>&#160;  <span class="keyword">auto</span> Attrs = D-&gt;<a class="code" href="classclang_1_1Decl.html#a9c0ac8ddf9155de0b95eeeb18034e50f">specific_attrs</a>&lt;AttrTy&gt;();</div>
<div class="line"><a name="l10592"></a><span class="lineno">10592</span>&#160;  <span class="keyword">auto</span> I = llvm::find_if(Attrs,</div>
<div class="line"><a name="l10593"></a><span class="lineno">10593</span>&#160;                         [Name](<span class="keyword">const</span> AttrTy *A) {</div>
<div class="line"><a name="l10594"></a><span class="lineno">10594</span>&#160;                           <span class="keywordflow">return</span> A-&gt;getTCBName() == Name;</div>
<div class="line"><a name="l10595"></a><span class="lineno">10595</span>&#160;                         });</div>
<div class="line"><a name="l10596"></a><span class="lineno">10596</span>&#160;  <span class="keywordflow">return</span> I == Attrs.end() ? nullptr : *I;</div>
<div class="line"><a name="l10597"></a><span class="lineno">10597</span>&#160;}</div>
<div class="line"><a name="l10598"></a><span class="lineno">10598</span>&#160; </div>
<div class="line"><a name="l10599"></a><span class="lineno">10599</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrTy, <span class="keyword">typename</span> ConflictingAttrTy&gt;</div>
<div class="line"><a name="l10600"></a><span class="lineno">10600</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> handleEnforceTCBAttr(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10601"></a><span class="lineno">10601</span>&#160;  StringRef Argument;</div>
<div class="line"><a name="l10602"></a><span class="lineno">10602</span>&#160;  <span class="keywordflow">if</span> (!S.<a class="code" href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">checkStringLiteralArgumentAttr</a>(AL, 0, Argument))</div>
<div class="line"><a name="l10603"></a><span class="lineno">10603</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10604"></a><span class="lineno">10604</span>&#160; </div>
<div class="line"><a name="l10605"></a><span class="lineno">10605</span>&#160;  <span class="comment">// A function cannot be have both regular and leaf membership in the same TCB.</span></div>
<div class="line"><a name="l10606"></a><span class="lineno">10606</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> ConflictingAttrTy *ConflictingAttr =</div>
<div class="line"><a name="l10607"></a><span class="lineno">10607</span>&#160;      findEnforceTCBAttrByName&lt;ConflictingAttrTy&gt;(D, Argument)) {</div>
<div class="line"><a name="l10608"></a><span class="lineno">10608</span>&#160;    <span class="comment">// We could attach a note to the other attribute but in this case</span></div>
<div class="line"><a name="l10609"></a><span class="lineno">10609</span>&#160;    <span class="comment">// there&#39;s no need given how the two are very close to each other.</span></div>
<div class="line"><a name="l10610"></a><span class="lineno">10610</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_tcb_conflicting_attributes)</div>
<div class="line"><a name="l10611"></a><span class="lineno">10611</span>&#160;      &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">getAttrName</a>()-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>() &lt;&lt; ConflictingAttr-&gt;getAttrName()-&gt;getName()</div>
<div class="line"><a name="l10612"></a><span class="lineno">10612</span>&#160;      &lt;&lt; Argument;</div>
<div class="line"><a name="l10613"></a><span class="lineno">10613</span>&#160; </div>
<div class="line"><a name="l10614"></a><span class="lineno">10614</span>&#160;    <span class="comment">// Error recovery: drop the non-leaf attribute so that to suppress</span></div>
<div class="line"><a name="l10615"></a><span class="lineno">10615</span>&#160;    <span class="comment">// all future warnings caused by erroneous attributes. The leaf attribute</span></div>
<div class="line"><a name="l10616"></a><span class="lineno">10616</span>&#160;    <span class="comment">// needs to be kept because it can only suppresses warnings, not cause them.</span></div>
<div class="line"><a name="l10617"></a><span class="lineno">10617</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;EnforceTCBAttr&gt;();</div>
<div class="line"><a name="l10618"></a><span class="lineno">10618</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10619"></a><span class="lineno">10619</span>&#160;  }</div>
<div class="line"><a name="l10620"></a><span class="lineno">10620</span>&#160; </div>
<div class="line"><a name="l10621"></a><span class="lineno">10621</span>&#160;  D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(AttrTy::Create(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, Argument, AL));</div>
<div class="line"><a name="l10622"></a><span class="lineno">10622</span>&#160;}</div>
<div class="line"><a name="l10623"></a><span class="lineno">10623</span>&#160; </div>
<div class="line"><a name="l10624"></a><span class="lineno">10624</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AttrTy, <span class="keyword">typename</span> ConflictingAttrTy&gt;</div>
<div class="line"><a name="l10625"></a><span class="lineno">10625</span>&#160;<span class="keyword">static</span> AttrTy *mergeEnforceTCBAttrImpl(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> AttrTy &amp;AL) {</div>
<div class="line"><a name="l10626"></a><span class="lineno">10626</span>&#160;  <span class="comment">// Check if the new redeclaration has different leaf-ness in the same TCB.</span></div>
<div class="line"><a name="l10627"></a><span class="lineno">10627</span>&#160;  StringRef TCBName = AL.getTCBName();</div>
<div class="line"><a name="l10628"></a><span class="lineno">10628</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> ConflictingAttrTy *ConflictingAttr =</div>
<div class="line"><a name="l10629"></a><span class="lineno">10629</span>&#160;      findEnforceTCBAttrByName&lt;ConflictingAttrTy&gt;(D, TCBName)) {</div>
<div class="line"><a name="l10630"></a><span class="lineno">10630</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(ConflictingAttr-&gt;getLoc(), diag::err_tcb_conflicting_attributes)</div>
<div class="line"><a name="l10631"></a><span class="lineno">10631</span>&#160;      &lt;&lt; ConflictingAttr-&gt;getAttrName()-&gt;getName()</div>
<div class="line"><a name="l10632"></a><span class="lineno">10632</span>&#160;      &lt;&lt; AL.getAttrName()-&gt;getName() &lt;&lt; TCBName;</div>
<div class="line"><a name="l10633"></a><span class="lineno">10633</span>&#160; </div>
<div class="line"><a name="l10634"></a><span class="lineno">10634</span>&#160;    <span class="comment">// Add a note so that the user could easily find the conflicting attribute.</span></div>
<div class="line"><a name="l10635"></a><span class="lineno">10635</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.getLoc(), diag::note_conflicting_attribute);</div>
<div class="line"><a name="l10636"></a><span class="lineno">10636</span>&#160; </div>
<div class="line"><a name="l10637"></a><span class="lineno">10637</span>&#160;    <span class="comment">// More error recovery.</span></div>
<div class="line"><a name="l10638"></a><span class="lineno">10638</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;EnforceTCBAttr&gt;();</div>
<div class="line"><a name="l10639"></a><span class="lineno">10639</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l10640"></a><span class="lineno">10640</span>&#160;  }</div>
<div class="line"><a name="l10641"></a><span class="lineno">10641</span>&#160; </div>
<div class="line"><a name="l10642"></a><span class="lineno">10642</span>&#160;  <a class="code" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Context = S.<a class="code" href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">getASTContext</a>();</div>
<div class="line"><a name="l10643"></a><span class="lineno">10643</span>&#160;  return ::new(Context) AttrTy(Context, AL, AL.getTCBName());</div>
<div class="line"><a name="l10644"></a><span class="lineno">10644</span>&#160;}</div>
<div class="line"><a name="l10645"></a><span class="lineno">10645</span>&#160; </div>
<div class="line"><a name="l10646"></a><span class="lineno">10646</span>&#160;EnforceTCBAttr *<a class="code" href="classclang_1_1Sema.html#a7647a339a261be1a890fe741f29d23d9">Sema::mergeEnforceTCBAttr</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> EnforceTCBAttr &amp;AL) {</div>
<div class="line"><a name="l10647"></a><span class="lineno">10647</span>&#160;  <span class="keywordflow">return</span> mergeEnforceTCBAttrImpl&lt;EnforceTCBAttr, EnforceTCBLeafAttr&gt;(</div>
<div class="line"><a name="l10648"></a><span class="lineno">10648</span>&#160;      *<span class="keyword">this</span>, D, AL);</div>
<div class="line"><a name="l10649"></a><span class="lineno">10649</span>&#160;}</div>
<div class="line"><a name="l10650"></a><span class="lineno">10650</span>&#160; </div>
<div class="line"><a name="l10651"></a><span class="lineno">10651</span>&#160;EnforceTCBLeafAttr *<a class="code" href="classclang_1_1Sema.html#a7bc40d0c154939394989bbe53eeb27a0">Sema::mergeEnforceTCBLeafAttr</a>(</div>
<div class="line"><a name="l10652"></a><span class="lineno">10652</span>&#160;    <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> EnforceTCBLeafAttr &amp;AL) {</div>
<div class="line"><a name="l10653"></a><span class="lineno">10653</span>&#160;  <span class="keywordflow">return</span> mergeEnforceTCBAttrImpl&lt;EnforceTCBLeafAttr, EnforceTCBAttr&gt;(</div>
<div class="line"><a name="l10654"></a><span class="lineno">10654</span>&#160;      *<span class="keyword">this</span>, D, AL);</div>
<div class="line"><a name="l10655"></a><span class="lineno">10655</span>&#160;}</div>
<div class="line"><a name="l10656"></a><span class="lineno">10656</span>&#160; </div>
<div class="line"><a name="l10657"></a><span class="lineno">10657</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l10658"></a><span class="lineno">10658</span>&#160;<span class="comment">// Top Level Sema Entry Points</span></div>
<div class="line"><a name="l10659"></a><span class="lineno">10659</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l10660"></a><span class="lineno">10660</span>&#160; </div>
<div class="line"><a name="l10661"></a><span class="lineno">10661</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> IsDeclLambdaCallOperator(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l10662"></a><span class="lineno">10662</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *MD = dyn_cast&lt;CXXMethodDecl&gt;(D))</div>
<div class="line"><a name="l10663"></a><span class="lineno">10663</span>&#160;    <span class="keywordflow">return</span> MD-&gt;<a class="code" href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">getParent</a>()-&gt;<a class="code" href="classclang_1_1CXXRecordDecl.html#a47bd4d56ae0e4ddd26ac0bec6e977160">isLambda</a>() &amp;&amp;</div>
<div class="line"><a name="l10664"></a><span class="lineno">10664</span>&#160;           MD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#ac0027637798e850bd7f6c5f823ca6362">getOverloadedOperator</a>() == OverloadedOperatorKind::OO_Call;</div>
<div class="line"><a name="l10665"></a><span class="lineno">10665</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10666"></a><span class="lineno">10666</span>&#160;}</div>
<div class="line"><a name="l10667"></a><span class="lineno">10667</span>&#160; </div>
<div class="line"><a name="l10668"></a><span class="lineno">10668</span>&#160;<span class="comment">// Returns true if the attribute must delay setting its arguments until after</span></div>
<div class="line"><a name="l10669"></a><span class="lineno">10669</span>&#160;<span class="comment">// template instantiation, and false otherwise.</span></div>
<div class="line"><a name="l10670"></a><span class="lineno">10670</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> MustDelayAttributeArguments(<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL) {</div>
<div class="line"><a name="l10671"></a><span class="lineno">10671</span>&#160;  <span class="comment">// Only attributes that accept expression parameter packs can delay arguments.</span></div>
<div class="line"><a name="l10672"></a><span class="lineno">10672</span>&#160;  <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a6a69076dd0b301790ab5b7f416f2b8b4">acceptsExprPack</a>())</div>
<div class="line"><a name="l10673"></a><span class="lineno">10673</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10674"></a><span class="lineno">10674</span>&#160; </div>
<div class="line"><a name="l10675"></a><span class="lineno">10675</span>&#160;  <span class="keywordtype">bool</span> AttrHasVariadicArg = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a39131ec9bc79c05187f92381f54aff8d">hasVariadicArg</a>();</div>
<div class="line"><a name="l10676"></a><span class="lineno">10676</span>&#160;  <span class="keywordtype">unsigned</span> AttrNumArgs = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a9228a5ca2ef63a84c06fe4f71754daa7">getNumArgMembers</a>();</div>
<div class="line"><a name="l10677"></a><span class="lineno">10677</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> I = 0; I &lt; <a class="code" href="____clang__cuda__math_8h.html#a56979bdbfd9314c50e30a5c645f2bc4d">std::min</a>(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">getNumArgs</a>(), AttrNumArgs); ++I) {</div>
<div class="line"><a name="l10678"></a><span class="lineno">10678</span>&#160;    <span class="keywordtype">bool</span> IsLastAttrArg = I == (AttrNumArgs - 1);</div>
<div class="line"><a name="l10679"></a><span class="lineno">10679</span>&#160;    <span class="comment">// If the argument is the last argument and it is variadic it can contain</span></div>
<div class="line"><a name="l10680"></a><span class="lineno">10680</span>&#160;    <span class="comment">// any expression.</span></div>
<div class="line"><a name="l10681"></a><span class="lineno">10681</span>&#160;    <span class="keywordflow">if</span> (IsLastAttrArg &amp;&amp; AttrHasVariadicArg)</div>
<div class="line"><a name="l10682"></a><span class="lineno">10682</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10683"></a><span class="lineno">10683</span>&#160;    <a class="code" href="classclang_1_1Expr.html">Expr</a> *E = AL.<a class="code" href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">getArgAsExpr</a>(I);</div>
<div class="line"><a name="l10684"></a><span class="lineno">10684</span>&#160;    <span class="keywordtype">bool</span> ArgMemberCanHoldExpr = AL.<a class="code" href="classclang_1_1ParsedAttr.html#ac66d35a5a57c1b17590a2dbd4cd36249">isParamExpr</a>(I);</div>
<div class="line"><a name="l10685"></a><span class="lineno">10685</span>&#160;    <span class="comment">// If the expression is a pack expansion then arguments must be delayed</span></div>
<div class="line"><a name="l10686"></a><span class="lineno">10686</span>&#160;    <span class="comment">// unless the argument is an expression and it is the last argument of the</span></div>
<div class="line"><a name="l10687"></a><span class="lineno">10687</span>&#160;    <span class="comment">// attribute.</span></div>
<div class="line"><a name="l10688"></a><span class="lineno">10688</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PackExpansionExpr&gt;(E))</div>
<div class="line"><a name="l10689"></a><span class="lineno">10689</span>&#160;      <span class="keywordflow">return</span> !(IsLastAttrArg &amp;&amp; ArgMemberCanHoldExpr);</div>
<div class="line"><a name="l10690"></a><span class="lineno">10690</span>&#160;    <span class="comment">// Last case is if the expression is value dependent then it must delay</span></div>
<div class="line"><a name="l10691"></a><span class="lineno">10691</span>&#160;    <span class="comment">// arguments unless the corresponding argument is able to hold the</span></div>
<div class="line"><a name="l10692"></a><span class="lineno">10692</span>&#160;    <span class="comment">// expression.</span></div>
<div class="line"><a name="l10693"></a><span class="lineno">10693</span>&#160;    <span class="keywordflow">if</span> (E-&gt;<a class="code" href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">isValueDependent</a>() &amp;&amp; !ArgMemberCanHoldExpr)</div>
<div class="line"><a name="l10694"></a><span class="lineno">10694</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l10695"></a><span class="lineno">10695</span>&#160;  }</div>
<div class="line"><a name="l10696"></a><span class="lineno">10696</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l10697"></a><span class="lineno">10697</span>&#160;}</div>
<div class="line"><a name="l10698"></a><span class="lineno">10698</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l10699"></a><span class="lineno">10699</span>&#160;<span class="comment">/// ProcessDeclAttribute - Apply the specific attribute to the specified decl if</span></div>
<div class="line"><a name="l10700"></a><span class="lineno">10700</span>&#160;<span class="comment">/// the attribute applies to decls.  If the attribute is a type attribute, just</span></div>
<div class="line"><a name="l10701"></a><span class="lineno">10701</span>&#160;<span class="comment">/// silently ignore it if a GNU attribute.</span></div>
<div class="line"><a name="l10702"></a><span class="lineno">10702</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> ProcessDeclAttribute(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Scope.html">Scope</a> *scope, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l10703"></a><span class="lineno">10703</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL,</div>
<div class="line"><a name="l10704"></a><span class="lineno">10704</span>&#160;                                 <span class="keywordtype">bool</span> IncludeCXX11Attributes) {</div>
<div class="line"><a name="l10705"></a><span class="lineno">10705</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#af1d98aaa8c74192f9375e3f3a4843bcc">isInvalid</a>() || AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == <a class="code" href="classclang_1_1AttributeCommonInfo.html#a9752df3b5bc2715e4540c700f7721860a793e65c8b112029a87c5d70b10735c20">ParsedAttr::IgnoredAttribute</a>)</div>
<div class="line"><a name="l10706"></a><span class="lineno">10706</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10707"></a><span class="lineno">10707</span>&#160; </div>
<div class="line"><a name="l10708"></a><span class="lineno">10708</span>&#160;  <span class="comment">// Ignore C++11 attributes on declarator chunks: they appertain to the type</span></div>
<div class="line"><a name="l10709"></a><span class="lineno">10709</span>&#160;  <span class="comment">// instead.</span></div>
<div class="line"><a name="l10710"></a><span class="lineno">10710</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a3aaefe89fd12252284cee68b661d1eaa">isCXX11Attribute</a>() &amp;&amp; !IncludeCXX11Attributes &amp;&amp;</div>
<div class="line"><a name="l10711"></a><span class="lineno">10711</span>&#160;      (!IsDeclLambdaCallOperator(D) || !AL.<a class="code" href="classclang_1_1ParsedAttr.html#a28872df2407f7a0964e27bd8b2c717a6">supportsNonconformingLambdaSyntax</a>()))</div>
<div class="line"><a name="l10712"></a><span class="lineno">10712</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10713"></a><span class="lineno">10713</span>&#160; </div>
<div class="line"><a name="l10714"></a><span class="lineno">10714</span>&#160;  <span class="comment">// Unknown attributes are automatically warned on. Target-specific attributes</span></div>
<div class="line"><a name="l10715"></a><span class="lineno">10715</span>&#160;  <span class="comment">// which do not apply to the current target architecture are treated as</span></div>
<div class="line"><a name="l10716"></a><span class="lineno">10716</span>&#160;  <span class="comment">// though they were unknown attributes.</span></div>
<div class="line"><a name="l10717"></a><span class="lineno">10717</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1TargetInfo.html">TargetInfo</a> *Aux = S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#adaa68e898feba5f67c091eb936e53744">getAuxTargetInfo</a>();</div>
<div class="line"><a name="l10718"></a><span class="lineno">10718</span>&#160;  <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == <a class="code" href="classclang_1_1AttributeCommonInfo.html#a9752df3b5bc2715e4540c700f7721860a06dc56f1cb392281d335fb36f6165be1">ParsedAttr::UnknownAttribute</a> ||</div>
<div class="line"><a name="l10719"></a><span class="lineno">10719</span>&#160;      !(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2aeab101dc398b79dda9649356b6a2d2">existsInTarget</a>(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">getTargetInfo</a>()) ||</div>
<div class="line"><a name="l10720"></a><span class="lineno">10720</span>&#160;        (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a5d08520048c29a58b06a07f1bfb69b77">getLangOpts</a>().SYCLIsDevice &amp;&amp;</div>
<div class="line"><a name="l10721"></a><span class="lineno">10721</span>&#160;         Aux &amp;&amp; AL.<a class="code" href="classclang_1_1ParsedAttr.html#a2aeab101dc398b79dda9649356b6a2d2">existsInTarget</a>(*Aux)))) {</div>
<div class="line"><a name="l10722"></a><span class="lineno">10722</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(),</div>
<div class="line"><a name="l10723"></a><span class="lineno">10723</span>&#160;           AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a4443a6593412d7b2eab3a28a0bc4a248">isDeclspecAttribute</a>()</div>
<div class="line"><a name="l10724"></a><span class="lineno">10724</span>&#160;               ? (<span class="keywordtype">unsigned</span>)diag::warn_unhandled_ms_attribute_ignored</div>
<div class="line"><a name="l10725"></a><span class="lineno">10725</span>&#160;               : (<span class="keywordtype">unsigned</span>)diag::warn_unknown_attribute_ignored)</div>
<div class="line"><a name="l10726"></a><span class="lineno">10726</span>&#160;        &lt;&lt; AL &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l10727"></a><span class="lineno">10727</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10728"></a><span class="lineno">10728</span>&#160;  }</div>
<div class="line"><a name="l10729"></a><span class="lineno">10729</span>&#160; </div>
<div class="line"><a name="l10730"></a><span class="lineno">10730</span>&#160;  <span class="comment">// Check if argument population must delayed to after template instantiation.</span></div>
<div class="line"><a name="l10731"></a><span class="lineno">10731</span>&#160;  <span class="keywordtype">bool</span> MustDelayArgs = MustDelayAttributeArguments(AL);</div>
<div class="line"><a name="l10732"></a><span class="lineno">10732</span>&#160; </div>
<div class="line"><a name="l10733"></a><span class="lineno">10733</span>&#160;  <span class="comment">// Argument number check must be skipped if arguments are delayed.</span></div>
<div class="line"><a name="l10734"></a><span class="lineno">10734</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a21b78ed406b5cbe39da7b58af4f0e8b8">checkCommonAttributeFeatures</a>(D, AL, MustDelayArgs))</div>
<div class="line"><a name="l10735"></a><span class="lineno">10735</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10736"></a><span class="lineno">10736</span>&#160; </div>
<div class="line"><a name="l10737"></a><span class="lineno">10737</span>&#160;  <span class="keywordflow">if</span> (MustDelayArgs) {</div>
<div class="line"><a name="l10738"></a><span class="lineno">10738</span>&#160;    AL.<a class="code" href="classclang_1_1ParsedAttr.html#a496f50545cf1933f899411d717519a8b">handleAttrWithDelayedArgs</a>(S, D);</div>
<div class="line"><a name="l10739"></a><span class="lineno">10739</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l10740"></a><span class="lineno">10740</span>&#160;  }</div>
<div class="line"><a name="l10741"></a><span class="lineno">10741</span>&#160; </div>
<div class="line"><a name="l10742"></a><span class="lineno">10742</span>&#160;  <span class="keywordflow">switch</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>()) {</div>
<div class="line"><a name="l10743"></a><span class="lineno">10743</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l10744"></a><span class="lineno">10744</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a4e98722ddd2ada0092f35503d40b9363">getInfo</a>().<a class="code" href="structclang_1_1ParsedAttrInfo.html#aa7dae8b44aa7722c4b85277e114efb65">handleDeclAttribute</a>(S, D, AL) != <a class="code" href="structclang_1_1ParsedAttrInfo.html#a07627921573ae362d9ff0ca2204f532baa9f6cb84385e75cd060e1fe4b541177b">ParsedAttrInfo::NotHandled</a>)</div>
<div class="line"><a name="l10745"></a><span class="lineno">10745</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10746"></a><span class="lineno">10746</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a9709edaa3b4a796fe6ddb4584204c953">isStmtAttr</a>()) {</div>
<div class="line"><a name="l10747"></a><span class="lineno">10747</span>&#160;      <span class="comment">// Type attributes are handled elsewhere; silently move on.</span></div>
<div class="line"><a name="l10748"></a><span class="lineno">10748</span>&#160;      assert(AL.<a class="code" href="classclang_1_1ParsedAttr.html#a79fff26bde63d435aa3334c0a752b16f">isTypeAttr</a>() &amp;&amp; <span class="stringliteral">&quot;Non-type attribute not handled&quot;</span>);</div>
<div class="line"><a name="l10749"></a><span class="lineno">10749</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10750"></a><span class="lineno">10750</span>&#160;    }</div>
<div class="line"><a name="l10751"></a><span class="lineno">10751</span>&#160;    <span class="comment">// N.B., ClangAttrEmitter.cpp emits a diagnostic helper that ensures a</span></div>
<div class="line"><a name="l10752"></a><span class="lineno">10752</span>&#160;    <span class="comment">// statement attribute is not written on a declaration, but this code is</span></div>
<div class="line"><a name="l10753"></a><span class="lineno">10753</span>&#160;    <span class="comment">// needed for attributes in Attr.td that do not list any subjects.</span></div>
<div class="line"><a name="l10754"></a><span class="lineno">10754</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_stmt_attribute_invalid_on_decl)</div>
<div class="line"><a name="l10755"></a><span class="lineno">10755</span>&#160;        &lt;&lt; AL &lt;&lt; D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>();</div>
<div class="line"><a name="l10756"></a><span class="lineno">10756</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10757"></a><span class="lineno">10757</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Interrupt:</div>
<div class="line"><a name="l10758"></a><span class="lineno">10758</span>&#160;    handleInterruptAttr(S, D, AL);</div>
<div class="line"><a name="l10759"></a><span class="lineno">10759</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10760"></a><span class="lineno">10760</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_X86ForceAlignArgPointer:</div>
<div class="line"><a name="l10761"></a><span class="lineno">10761</span>&#160;    handleX86ForceAlignArgPointerAttr(S, D, AL);</div>
<div class="line"><a name="l10762"></a><span class="lineno">10762</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10763"></a><span class="lineno">10763</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_DLLExport:</div>
<div class="line"><a name="l10764"></a><span class="lineno">10764</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_DLLImport:</div>
<div class="line"><a name="l10765"></a><span class="lineno">10765</span>&#160;    handleDLLAttr(S, D, AL);</div>
<div class="line"><a name="l10766"></a><span class="lineno">10766</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10767"></a><span class="lineno">10767</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AMDGPUFlatWorkGroupSize:</div>
<div class="line"><a name="l10768"></a><span class="lineno">10768</span>&#160;    handleAMDGPUFlatWorkGroupSizeAttr(S, D, AL);</div>
<div class="line"><a name="l10769"></a><span class="lineno">10769</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10770"></a><span class="lineno">10770</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AMDGPUWavesPerEU:</div>
<div class="line"><a name="l10771"></a><span class="lineno">10771</span>&#160;    handleAMDGPUWavesPerEUAttr(S, D, AL);</div>
<div class="line"><a name="l10772"></a><span class="lineno">10772</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10773"></a><span class="lineno">10773</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AMDGPUNumSGPR:</div>
<div class="line"><a name="l10774"></a><span class="lineno">10774</span>&#160;    handleAMDGPUNumSGPRAttr(S, D, AL);</div>
<div class="line"><a name="l10775"></a><span class="lineno">10775</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10776"></a><span class="lineno">10776</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AMDGPUNumVGPR:</div>
<div class="line"><a name="l10777"></a><span class="lineno">10777</span>&#160;    handleAMDGPUNumVGPRAttr(S, D, AL);</div>
<div class="line"><a name="l10778"></a><span class="lineno">10778</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10779"></a><span class="lineno">10779</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AVRSignal:</div>
<div class="line"><a name="l10780"></a><span class="lineno">10780</span>&#160;    handleAVRSignalAttr(S, D, AL);</div>
<div class="line"><a name="l10781"></a><span class="lineno">10781</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10782"></a><span class="lineno">10782</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_BPFPreserveAccessIndex:</div>
<div class="line"><a name="l10783"></a><span class="lineno">10783</span>&#160;    handleBPFPreserveAccessIndexAttr(S, D, AL);</div>
<div class="line"><a name="l10784"></a><span class="lineno">10784</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10785"></a><span class="lineno">10785</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_BTFDeclTag:</div>
<div class="line"><a name="l10786"></a><span class="lineno">10786</span>&#160;    handleBTFDeclTagAttr(S, D, AL);</div>
<div class="line"><a name="l10787"></a><span class="lineno">10787</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10788"></a><span class="lineno">10788</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_WebAssemblyExportName:</div>
<div class="line"><a name="l10789"></a><span class="lineno">10789</span>&#160;    handleWebAssemblyExportNameAttr(S, D, AL);</div>
<div class="line"><a name="l10790"></a><span class="lineno">10790</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10791"></a><span class="lineno">10791</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_WebAssemblyImportModule:</div>
<div class="line"><a name="l10792"></a><span class="lineno">10792</span>&#160;    handleWebAssemblyImportModuleAttr(S, D, AL);</div>
<div class="line"><a name="l10793"></a><span class="lineno">10793</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10794"></a><span class="lineno">10794</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_WebAssemblyImportName:</div>
<div class="line"><a name="l10795"></a><span class="lineno">10795</span>&#160;    handleWebAssemblyImportNameAttr(S, D, AL);</div>
<div class="line"><a name="l10796"></a><span class="lineno">10796</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10797"></a><span class="lineno">10797</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IBOutlet:</div>
<div class="line"><a name="l10798"></a><span class="lineno">10798</span>&#160;    handleIBOutlet(S, D, AL);</div>
<div class="line"><a name="l10799"></a><span class="lineno">10799</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10800"></a><span class="lineno">10800</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IBOutletCollection:</div>
<div class="line"><a name="l10801"></a><span class="lineno">10801</span>&#160;    handleIBOutletCollection(S, D, AL);</div>
<div class="line"><a name="l10802"></a><span class="lineno">10802</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10803"></a><span class="lineno">10803</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IFunc:</div>
<div class="line"><a name="l10804"></a><span class="lineno">10804</span>&#160;    handleIFuncAttr(S, D, AL);</div>
<div class="line"><a name="l10805"></a><span class="lineno">10805</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10806"></a><span class="lineno">10806</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Alias:</div>
<div class="line"><a name="l10807"></a><span class="lineno">10807</span>&#160;    handleAliasAttr(S, D, AL);</div>
<div class="line"><a name="l10808"></a><span class="lineno">10808</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10809"></a><span class="lineno">10809</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Aligned:</div>
<div class="line"><a name="l10810"></a><span class="lineno">10810</span>&#160;    handleAlignedAttr(S, D, AL);</div>
<div class="line"><a name="l10811"></a><span class="lineno">10811</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10812"></a><span class="lineno">10812</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AlignValue:</div>
<div class="line"><a name="l10813"></a><span class="lineno">10813</span>&#160;    handleAlignValueAttr(S, D, AL);</div>
<div class="line"><a name="l10814"></a><span class="lineno">10814</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10815"></a><span class="lineno">10815</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AllocSize:</div>
<div class="line"><a name="l10816"></a><span class="lineno">10816</span>&#160;    handleAllocSizeAttr(S, D, AL);</div>
<div class="line"><a name="l10817"></a><span class="lineno">10817</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10818"></a><span class="lineno">10818</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AlwaysInline:</div>
<div class="line"><a name="l10819"></a><span class="lineno">10819</span>&#160;    <a class="code" href="SemaStmtAttr_8cpp.html#a677c8a76b71993d24c638d7dc970593e">handleAlwaysInlineAttr</a>(S, D, AL);</div>
<div class="line"><a name="l10820"></a><span class="lineno">10820</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10821"></a><span class="lineno">10821</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AnalyzerNoReturn:</div>
<div class="line"><a name="l10822"></a><span class="lineno">10822</span>&#160;    handleAnalyzerNoReturnAttr(S, D, AL);</div>
<div class="line"><a name="l10823"></a><span class="lineno">10823</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10824"></a><span class="lineno">10824</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_TLSModel:</div>
<div class="line"><a name="l10825"></a><span class="lineno">10825</span>&#160;    handleTLSModelAttr(S, D, AL);</div>
<div class="line"><a name="l10826"></a><span class="lineno">10826</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10827"></a><span class="lineno">10827</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Annotate:</div>
<div class="line"><a name="l10828"></a><span class="lineno">10828</span>&#160;    handleAnnotateAttr(S, D, AL);</div>
<div class="line"><a name="l10829"></a><span class="lineno">10829</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10830"></a><span class="lineno">10830</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Availability:</div>
<div class="line"><a name="l10831"></a><span class="lineno">10831</span>&#160;    handleAvailabilityAttr(S, D, AL);</div>
<div class="line"><a name="l10832"></a><span class="lineno">10832</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10833"></a><span class="lineno">10833</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CarriesDependency:</div>
<div class="line"><a name="l10834"></a><span class="lineno">10834</span>&#160;    handleDependencyAttr(S, scope, D, AL);</div>
<div class="line"><a name="l10835"></a><span class="lineno">10835</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10836"></a><span class="lineno">10836</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CPUDispatch:</div>
<div class="line"><a name="l10837"></a><span class="lineno">10837</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CPUSpecific:</div>
<div class="line"><a name="l10838"></a><span class="lineno">10838</span>&#160;    handleCPUSpecificAttr(S, D, AL);</div>
<div class="line"><a name="l10839"></a><span class="lineno">10839</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10840"></a><span class="lineno">10840</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Common:</div>
<div class="line"><a name="l10841"></a><span class="lineno">10841</span>&#160;    handleCommonAttr(S, D, AL);</div>
<div class="line"><a name="l10842"></a><span class="lineno">10842</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10843"></a><span class="lineno">10843</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CUDAConstant:</div>
<div class="line"><a name="l10844"></a><span class="lineno">10844</span>&#160;    handleConstantAttr(S, D, AL);</div>
<div class="line"><a name="l10845"></a><span class="lineno">10845</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10846"></a><span class="lineno">10846</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PassObjectSize:</div>
<div class="line"><a name="l10847"></a><span class="lineno">10847</span>&#160;    handlePassObjectSizeAttr(S, D, AL);</div>
<div class="line"><a name="l10848"></a><span class="lineno">10848</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10849"></a><span class="lineno">10849</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Constructor:</div>
<div class="line"><a name="l10850"></a><span class="lineno">10850</span>&#160;      handleConstructorAttr(S, D, AL);</div>
<div class="line"><a name="l10851"></a><span class="lineno">10851</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10852"></a><span class="lineno">10852</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Deprecated:</div>
<div class="line"><a name="l10853"></a><span class="lineno">10853</span>&#160;    handleDeprecatedAttr(S, D, AL);</div>
<div class="line"><a name="l10854"></a><span class="lineno">10854</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10855"></a><span class="lineno">10855</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Destructor:</div>
<div class="line"><a name="l10856"></a><span class="lineno">10856</span>&#160;      handleDestructorAttr(S, D, AL);</div>
<div class="line"><a name="l10857"></a><span class="lineno">10857</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10858"></a><span class="lineno">10858</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_EnableIf:</div>
<div class="line"><a name="l10859"></a><span class="lineno">10859</span>&#160;    handleEnableIfAttr(S, D, AL);</div>
<div class="line"><a name="l10860"></a><span class="lineno">10860</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10861"></a><span class="lineno">10861</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Error:</div>
<div class="line"><a name="l10862"></a><span class="lineno">10862</span>&#160;    handleErrorAttr(S, D, AL);</div>
<div class="line"><a name="l10863"></a><span class="lineno">10863</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10864"></a><span class="lineno">10864</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_DiagnoseIf:</div>
<div class="line"><a name="l10865"></a><span class="lineno">10865</span>&#160;    handleDiagnoseIfAttr(S, D, AL);</div>
<div class="line"><a name="l10866"></a><span class="lineno">10866</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10867"></a><span class="lineno">10867</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_DiagnoseAsBuiltin:</div>
<div class="line"><a name="l10868"></a><span class="lineno">10868</span>&#160;    handleDiagnoseAsBuiltinAttr(S, D, AL);</div>
<div class="line"><a name="l10869"></a><span class="lineno">10869</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10870"></a><span class="lineno">10870</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoBuiltin:</div>
<div class="line"><a name="l10871"></a><span class="lineno">10871</span>&#160;    handleNoBuiltinAttr(S, D, AL);</div>
<div class="line"><a name="l10872"></a><span class="lineno">10872</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10873"></a><span class="lineno">10873</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ExtVectorType:</div>
<div class="line"><a name="l10874"></a><span class="lineno">10874</span>&#160;    handleExtVectorTypeAttr(S, D, AL);</div>
<div class="line"><a name="l10875"></a><span class="lineno">10875</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10876"></a><span class="lineno">10876</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ExternalSourceSymbol:</div>
<div class="line"><a name="l10877"></a><span class="lineno">10877</span>&#160;    handleExternalSourceSymbolAttr(S, D, AL);</div>
<div class="line"><a name="l10878"></a><span class="lineno">10878</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10879"></a><span class="lineno">10879</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MinSize:</div>
<div class="line"><a name="l10880"></a><span class="lineno">10880</span>&#160;    handleMinSizeAttr(S, D, AL);</div>
<div class="line"><a name="l10881"></a><span class="lineno">10881</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10882"></a><span class="lineno">10882</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OptimizeNone:</div>
<div class="line"><a name="l10883"></a><span class="lineno">10883</span>&#160;    handleOptimizeNoneAttr(S, D, AL);</div>
<div class="line"><a name="l10884"></a><span class="lineno">10884</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10885"></a><span class="lineno">10885</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_EnumExtensibility:</div>
<div class="line"><a name="l10886"></a><span class="lineno">10886</span>&#160;    handleEnumExtensibilityAttr(S, D, AL);</div>
<div class="line"><a name="l10887"></a><span class="lineno">10887</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10888"></a><span class="lineno">10888</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLKernel:</div>
<div class="line"><a name="l10889"></a><span class="lineno">10889</span>&#160;    handleSYCLKernelAttr(S, D, AL);</div>
<div class="line"><a name="l10890"></a><span class="lineno">10890</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10891"></a><span class="lineno">10891</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLSimd:</div>
<div class="line"><a name="l10892"></a><span class="lineno">10892</span>&#160;    handleSimpleAttribute&lt;SYCLSimdAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10893"></a><span class="lineno">10893</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10894"></a><span class="lineno">10894</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLSpecialClass:</div>
<div class="line"><a name="l10895"></a><span class="lineno">10895</span>&#160;    handleSimpleAttribute&lt;SYCLSpecialClassAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10896"></a><span class="lineno">10896</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10897"></a><span class="lineno">10897</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLDevice:</div>
<div class="line"><a name="l10898"></a><span class="lineno">10898</span>&#160;    handleSYCLDeviceAttr(S, D, AL);</div>
<div class="line"><a name="l10899"></a><span class="lineno">10899</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10900"></a><span class="lineno">10900</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLDeviceIndirectlyCallable:</div>
<div class="line"><a name="l10901"></a><span class="lineno">10901</span>&#160;    handleSYCLDeviceIndirectlyCallableAttr(S, D, AL);</div>
<div class="line"><a name="l10902"></a><span class="lineno">10902</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10903"></a><span class="lineno">10903</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLGlobalVar:</div>
<div class="line"><a name="l10904"></a><span class="lineno">10904</span>&#160;    handleSYCLGlobalVarAttr(S, D, AL);</div>
<div class="line"><a name="l10905"></a><span class="lineno">10905</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10906"></a><span class="lineno">10906</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLRegisterNum:</div>
<div class="line"><a name="l10907"></a><span class="lineno">10907</span>&#160;    handleSYCLRegisterNumAttr(S, D, AL);</div>
<div class="line"><a name="l10908"></a><span class="lineno">10908</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10909"></a><span class="lineno">10909</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelESimdVectorize:</div>
<div class="line"><a name="l10910"></a><span class="lineno">10910</span>&#160;    handleSYCLIntelESimdVectorizeAttr(S, D, AL);</div>
<div class="line"><a name="l10911"></a><span class="lineno">10911</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10912"></a><span class="lineno">10912</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLDeviceHas:</div>
<div class="line"><a name="l10913"></a><span class="lineno">10913</span>&#160;    handleSYCLDeviceHasAttr(S, D, AL);</div>
<div class="line"><a name="l10914"></a><span class="lineno">10914</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10915"></a><span class="lineno">10915</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLUsesAspects:</div>
<div class="line"><a name="l10916"></a><span class="lineno">10916</span>&#160;    handleSYCLUsesAspectsAttr(S, D, AL);</div>
<div class="line"><a name="l10917"></a><span class="lineno">10917</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10918"></a><span class="lineno">10918</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Format:</div>
<div class="line"><a name="l10919"></a><span class="lineno">10919</span>&#160;    handleFormatAttr(S, D, AL);</div>
<div class="line"><a name="l10920"></a><span class="lineno">10920</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10921"></a><span class="lineno">10921</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_FormatArg:</div>
<div class="line"><a name="l10922"></a><span class="lineno">10922</span>&#160;    handleFormatArgAttr(S, D, AL);</div>
<div class="line"><a name="l10923"></a><span class="lineno">10923</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10924"></a><span class="lineno">10924</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Callback:</div>
<div class="line"><a name="l10925"></a><span class="lineno">10925</span>&#160;    handleCallbackAttr(S, D, AL);</div>
<div class="line"><a name="l10926"></a><span class="lineno">10926</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10927"></a><span class="lineno">10927</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CalledOnce:</div>
<div class="line"><a name="l10928"></a><span class="lineno">10928</span>&#160;    handleCalledOnceAttr(S, D, AL);</div>
<div class="line"><a name="l10929"></a><span class="lineno">10929</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10930"></a><span class="lineno">10930</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CUDAGlobal:</div>
<div class="line"><a name="l10931"></a><span class="lineno">10931</span>&#160;    handleGlobalAttr(S, D, AL);</div>
<div class="line"><a name="l10932"></a><span class="lineno">10932</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10933"></a><span class="lineno">10933</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CUDADevice:</div>
<div class="line"><a name="l10934"></a><span class="lineno">10934</span>&#160;    handleDeviceAttr(S, D, AL);</div>
<div class="line"><a name="l10935"></a><span class="lineno">10935</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10936"></a><span class="lineno">10936</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_HIPManaged:</div>
<div class="line"><a name="l10937"></a><span class="lineno">10937</span>&#160;    handleManagedAttr(S, D, AL);</div>
<div class="line"><a name="l10938"></a><span class="lineno">10938</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10939"></a><span class="lineno">10939</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_GNUInline:</div>
<div class="line"><a name="l10940"></a><span class="lineno">10940</span>&#160;    handleGNUInlineAttr(S, D, AL);</div>
<div class="line"><a name="l10941"></a><span class="lineno">10941</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10942"></a><span class="lineno">10942</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CUDALaunchBounds:</div>
<div class="line"><a name="l10943"></a><span class="lineno">10943</span>&#160;    handleLaunchBoundsAttr(S, D, AL);</div>
<div class="line"><a name="l10944"></a><span class="lineno">10944</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10945"></a><span class="lineno">10945</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Restrict:</div>
<div class="line"><a name="l10946"></a><span class="lineno">10946</span>&#160;    handleRestrictAttr(S, D, AL);</div>
<div class="line"><a name="l10947"></a><span class="lineno">10947</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10948"></a><span class="lineno">10948</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Mode:</div>
<div class="line"><a name="l10949"></a><span class="lineno">10949</span>&#160;    handleModeAttr(S, D, AL);</div>
<div class="line"><a name="l10950"></a><span class="lineno">10950</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10951"></a><span class="lineno">10951</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NonNull:</div>
<div class="line"><a name="l10952"></a><span class="lineno">10952</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PVD = dyn_cast&lt;ParmVarDecl&gt;(D))</div>
<div class="line"><a name="l10953"></a><span class="lineno">10953</span>&#160;      handleNonNullAttrParameter(S, PVD, AL);</div>
<div class="line"><a name="l10954"></a><span class="lineno">10954</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l10955"></a><span class="lineno">10955</span>&#160;      handleNonNullAttr(S, D, AL);</div>
<div class="line"><a name="l10956"></a><span class="lineno">10956</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10957"></a><span class="lineno">10957</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ReturnsNonNull:</div>
<div class="line"><a name="l10958"></a><span class="lineno">10958</span>&#160;    handleReturnsNonNullAttr(S, D, AL);</div>
<div class="line"><a name="l10959"></a><span class="lineno">10959</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10960"></a><span class="lineno">10960</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoEscape:</div>
<div class="line"><a name="l10961"></a><span class="lineno">10961</span>&#160;    handleNoEscapeAttr(S, D, AL);</div>
<div class="line"><a name="l10962"></a><span class="lineno">10962</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10963"></a><span class="lineno">10963</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AssumeAligned:</div>
<div class="line"><a name="l10964"></a><span class="lineno">10964</span>&#160;    handleAssumeAlignedAttr(S, D, AL);</div>
<div class="line"><a name="l10965"></a><span class="lineno">10965</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10966"></a><span class="lineno">10966</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AllocAlign:</div>
<div class="line"><a name="l10967"></a><span class="lineno">10967</span>&#160;    handleAllocAlignAttr(S, D, AL);</div>
<div class="line"><a name="l10968"></a><span class="lineno">10968</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10969"></a><span class="lineno">10969</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Ownership:</div>
<div class="line"><a name="l10970"></a><span class="lineno">10970</span>&#160;    handleOwnershipAttr(S, D, AL);</div>
<div class="line"><a name="l10971"></a><span class="lineno">10971</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10972"></a><span class="lineno">10972</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Naked:</div>
<div class="line"><a name="l10973"></a><span class="lineno">10973</span>&#160;    handleNakedAttr(S, D, AL);</div>
<div class="line"><a name="l10974"></a><span class="lineno">10974</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10975"></a><span class="lineno">10975</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoReturn:</div>
<div class="line"><a name="l10976"></a><span class="lineno">10976</span>&#160;    handleNoReturnAttr(S, D, AL);</div>
<div class="line"><a name="l10977"></a><span class="lineno">10977</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10978"></a><span class="lineno">10978</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CXX11NoReturn:</div>
<div class="line"><a name="l10979"></a><span class="lineno">10979</span>&#160;    handleStandardNoReturnAttr(S, D, AL);</div>
<div class="line"><a name="l10980"></a><span class="lineno">10980</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10981"></a><span class="lineno">10981</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AnyX86NoCfCheck:</div>
<div class="line"><a name="l10982"></a><span class="lineno">10982</span>&#160;    handleNoCfCheckAttr(S, D, AL);</div>
<div class="line"><a name="l10983"></a><span class="lineno">10983</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10984"></a><span class="lineno">10984</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoThrow:</div>
<div class="line"><a name="l10985"></a><span class="lineno">10985</span>&#160;    <span class="keywordflow">if</span> (!AL.<a class="code" href="classclang_1_1ParsedAttr.html#a91ee3922aeeb1291e94716a1e5c7dc54">isUsedAsTypeAttr</a>())</div>
<div class="line"><a name="l10986"></a><span class="lineno">10986</span>&#160;      handleSimpleAttribute&lt;NoThrowAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l10987"></a><span class="lineno">10987</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10988"></a><span class="lineno">10988</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CUDAShared:</div>
<div class="line"><a name="l10989"></a><span class="lineno">10989</span>&#160;    handleSharedAttr(S, D, AL);</div>
<div class="line"><a name="l10990"></a><span class="lineno">10990</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10991"></a><span class="lineno">10991</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_VecReturn:</div>
<div class="line"><a name="l10992"></a><span class="lineno">10992</span>&#160;    handleVecReturnAttr(S, D, AL);</div>
<div class="line"><a name="l10993"></a><span class="lineno">10993</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10994"></a><span class="lineno">10994</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCOwnership:</div>
<div class="line"><a name="l10995"></a><span class="lineno">10995</span>&#160;    handleObjCOwnershipAttr(S, D, AL);</div>
<div class="line"><a name="l10996"></a><span class="lineno">10996</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10997"></a><span class="lineno">10997</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCPreciseLifetime:</div>
<div class="line"><a name="l10998"></a><span class="lineno">10998</span>&#160;    handleObjCPreciseLifetimeAttr(S, D, AL);</div>
<div class="line"><a name="l10999"></a><span class="lineno">10999</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11000"></a><span class="lineno">11000</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCReturnsInnerPointer:</div>
<div class="line"><a name="l11001"></a><span class="lineno">11001</span>&#160;    handleObjCReturnsInnerPointerAttr(S, D, AL);</div>
<div class="line"><a name="l11002"></a><span class="lineno">11002</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11003"></a><span class="lineno">11003</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCRequiresSuper:</div>
<div class="line"><a name="l11004"></a><span class="lineno">11004</span>&#160;    handleObjCRequiresSuperAttr(S, D, AL);</div>
<div class="line"><a name="l11005"></a><span class="lineno">11005</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11006"></a><span class="lineno">11006</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCBridge:</div>
<div class="line"><a name="l11007"></a><span class="lineno">11007</span>&#160;    handleObjCBridgeAttr(S, D, AL);</div>
<div class="line"><a name="l11008"></a><span class="lineno">11008</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11009"></a><span class="lineno">11009</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCBridgeMutable:</div>
<div class="line"><a name="l11010"></a><span class="lineno">11010</span>&#160;    handleObjCBridgeMutableAttr(S, D, AL);</div>
<div class="line"><a name="l11011"></a><span class="lineno">11011</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11012"></a><span class="lineno">11012</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCBridgeRelated:</div>
<div class="line"><a name="l11013"></a><span class="lineno">11013</span>&#160;    handleObjCBridgeRelatedAttr(S, D, AL);</div>
<div class="line"><a name="l11014"></a><span class="lineno">11014</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11015"></a><span class="lineno">11015</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCDesignatedInitializer:</div>
<div class="line"><a name="l11016"></a><span class="lineno">11016</span>&#160;    handleObjCDesignatedInitializer(S, D, AL);</div>
<div class="line"><a name="l11017"></a><span class="lineno">11017</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11018"></a><span class="lineno">11018</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCRuntimeName:</div>
<div class="line"><a name="l11019"></a><span class="lineno">11019</span>&#160;    handleObjCRuntimeName(S, D, AL);</div>
<div class="line"><a name="l11020"></a><span class="lineno">11020</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11021"></a><span class="lineno">11021</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCBoxable:</div>
<div class="line"><a name="l11022"></a><span class="lineno">11022</span>&#160;    handleObjCBoxable(S, D, AL);</div>
<div class="line"><a name="l11023"></a><span class="lineno">11023</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11024"></a><span class="lineno">11024</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSErrorDomain:</div>
<div class="line"><a name="l11025"></a><span class="lineno">11025</span>&#160;    handleNSErrorDomain(S, D, AL);</div>
<div class="line"><a name="l11026"></a><span class="lineno">11026</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11027"></a><span class="lineno">11027</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFConsumed:</div>
<div class="line"><a name="l11028"></a><span class="lineno">11028</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSConsumed:</div>
<div class="line"><a name="l11029"></a><span class="lineno">11029</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSConsumed:</div>
<div class="line"><a name="l11030"></a><span class="lineno">11030</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a00275bb81215fa4ffb2a9b3915011225">AddXConsumedAttr</a>(D, AL, parsedAttrToRetainOwnershipKind(AL),</div>
<div class="line"><a name="l11031"></a><span class="lineno">11031</span>&#160;                       <span class="comment">/*IsTemplateInstantiation=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l11032"></a><span class="lineno">11032</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11033"></a><span class="lineno">11033</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetainedOnZero:</div>
<div class="line"><a name="l11034"></a><span class="lineno">11034</span>&#160;    handleSimpleAttributeOrDiagnose&lt;OSReturnsRetainedOnZeroAttr&gt;(</div>
<div class="line"><a name="l11035"></a><span class="lineno">11035</span>&#160;        S, D, AL, isValidOSObjectOutParameter(D),</div>
<div class="line"><a name="l11036"></a><span class="lineno">11036</span>&#160;        diag::warn_ns_attribute_wrong_parameter_type,</div>
<div class="line"><a name="l11037"></a><span class="lineno">11037</span>&#160;        <span class="comment">/*Extra Args=*/</span>AL, <span class="comment">/*pointer-to-OSObject-pointer*/</span> 3, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>());</div>
<div class="line"><a name="l11038"></a><span class="lineno">11038</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11039"></a><span class="lineno">11039</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetainedOnNonZero:</div>
<div class="line"><a name="l11040"></a><span class="lineno">11040</span>&#160;    handleSimpleAttributeOrDiagnose&lt;OSReturnsRetainedOnNonZeroAttr&gt;(</div>
<div class="line"><a name="l11041"></a><span class="lineno">11041</span>&#160;        S, D, AL, isValidOSObjectOutParameter(D),</div>
<div class="line"><a name="l11042"></a><span class="lineno">11042</span>&#160;        diag::warn_ns_attribute_wrong_parameter_type,</div>
<div class="line"><a name="l11043"></a><span class="lineno">11043</span>&#160;        <span class="comment">/*Extra Args=*/</span>AL, <span class="comment">/*pointer-to-OSObject-poointer*/</span> 3, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>());</div>
<div class="line"><a name="l11044"></a><span class="lineno">11044</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11045"></a><span class="lineno">11045</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsAutoreleased:</div>
<div class="line"><a name="l11046"></a><span class="lineno">11046</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsNotRetained:</div>
<div class="line"><a name="l11047"></a><span class="lineno">11047</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NSReturnsRetained:</div>
<div class="line"><a name="l11048"></a><span class="lineno">11048</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsNotRetained:</div>
<div class="line"><a name="l11049"></a><span class="lineno">11049</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFReturnsRetained:</div>
<div class="line"><a name="l11050"></a><span class="lineno">11050</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsNotRetained:</div>
<div class="line"><a name="l11051"></a><span class="lineno">11051</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OSReturnsRetained:</div>
<div class="line"><a name="l11052"></a><span class="lineno">11052</span>&#160;    handleXReturnsXRetainedAttr(S, D, AL);</div>
<div class="line"><a name="l11053"></a><span class="lineno">11053</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11054"></a><span class="lineno">11054</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_WorkGroupSizeHint:</div>
<div class="line"><a name="l11055"></a><span class="lineno">11055</span>&#160;    handleWorkGroupSizeHint(S, D, AL);</div>
<div class="line"><a name="l11056"></a><span class="lineno">11056</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11057"></a><span class="lineno">11057</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ReqdWorkGroupSize:</div>
<div class="line"><a name="l11058"></a><span class="lineno">11058</span>&#160;    handleReqdWorkGroupSize(S, D, AL);</div>
<div class="line"><a name="l11059"></a><span class="lineno">11059</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11060"></a><span class="lineno">11060</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelMaxWorkGroupSize:</div>
<div class="line"><a name="l11061"></a><span class="lineno">11061</span>&#160;    handleSYCLIntelMaxWorkGroupSize(S, D, AL);</div>
<div class="line"><a name="l11062"></a><span class="lineno">11062</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11063"></a><span class="lineno">11063</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelReqdSubGroupSize:</div>
<div class="line"><a name="l11064"></a><span class="lineno">11064</span>&#160;    handleIntelReqdSubGroupSize(S, D, AL);</div>
<div class="line"><a name="l11065"></a><span class="lineno">11065</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11066"></a><span class="lineno">11066</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelNamedSubGroupSize:</div>
<div class="line"><a name="l11067"></a><span class="lineno">11067</span>&#160;    handleIntelNamedSubGroupSize(S, D, AL);</div>
<div class="line"><a name="l11068"></a><span class="lineno">11068</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11069"></a><span class="lineno">11069</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelNumSimdWorkItems:</div>
<div class="line"><a name="l11070"></a><span class="lineno">11070</span>&#160;    handleSYCLIntelNumSimdWorkItemsAttr(S, D, AL);</div>
<div class="line"><a name="l11071"></a><span class="lineno">11071</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11072"></a><span class="lineno">11072</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelSchedulerTargetFmaxMhz:</div>
<div class="line"><a name="l11073"></a><span class="lineno">11073</span>&#160;    handleSYCLIntelSchedulerTargetFmaxMhzAttr(S, D, AL);</div>
<div class="line"><a name="l11074"></a><span class="lineno">11074</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11075"></a><span class="lineno">11075</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelMaxGlobalWorkDim:</div>
<div class="line"><a name="l11076"></a><span class="lineno">11076</span>&#160;    handleSYCLIntelMaxGlobalWorkDimAttr(S, D, AL);</div>
<div class="line"><a name="l11077"></a><span class="lineno">11077</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11078"></a><span class="lineno">11078</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelNoGlobalWorkOffset:</div>
<div class="line"><a name="l11079"></a><span class="lineno">11079</span>&#160;    handleSYCLIntelNoGlobalWorkOffsetAttr(S, D, AL);</div>
<div class="line"><a name="l11080"></a><span class="lineno">11080</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11081"></a><span class="lineno">11081</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelUseStallEnableClusters:</div>
<div class="line"><a name="l11082"></a><span class="lineno">11082</span>&#160;    handleSYCLIntelUseStallEnableClustersAttr(S, D, AL);</div>
<div class="line"><a name="l11083"></a><span class="lineno">11083</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11084"></a><span class="lineno">11084</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelLoopFuse:</div>
<div class="line"><a name="l11085"></a><span class="lineno">11085</span>&#160;    handleSYCLIntelLoopFuseAttr(S, D, AL);</div>
<div class="line"><a name="l11086"></a><span class="lineno">11086</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11087"></a><span class="lineno">11087</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelFPGAInitiationInterval:</div>
<div class="line"><a name="l11088"></a><span class="lineno">11088</span>&#160;    <a class="code" href="SemaStmtAttr_8cpp.html#a120c76f8d213e602c147d9e4c372b613">handleSYCLIntelFPGAInitiationIntervalAttr</a>(S, D, AL);</div>
<div class="line"><a name="l11089"></a><span class="lineno">11089</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11090"></a><span class="lineno">11090</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_VecTypeHint:</div>
<div class="line"><a name="l11091"></a><span class="lineno">11091</span>&#160;    handleVecTypeHint(S, D, AL);</div>
<div class="line"><a name="l11092"></a><span class="lineno">11092</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11093"></a><span class="lineno">11093</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_InitPriority:</div>
<div class="line"><a name="l11094"></a><span class="lineno">11094</span>&#160;      handleInitPriorityAttr(S, D, AL);</div>
<div class="line"><a name="l11095"></a><span class="lineno">11095</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11096"></a><span class="lineno">11096</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Packed:</div>
<div class="line"><a name="l11097"></a><span class="lineno">11097</span>&#160;    handlePackedAttr(S, D, AL);</div>
<div class="line"><a name="l11098"></a><span class="lineno">11098</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11099"></a><span class="lineno">11099</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PreferredName:</div>
<div class="line"><a name="l11100"></a><span class="lineno">11100</span>&#160;    handlePreferredName(S, D, AL);</div>
<div class="line"><a name="l11101"></a><span class="lineno">11101</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11102"></a><span class="lineno">11102</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Section:</div>
<div class="line"><a name="l11103"></a><span class="lineno">11103</span>&#160;    handleSectionAttr(S, D, AL);</div>
<div class="line"><a name="l11104"></a><span class="lineno">11104</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11105"></a><span class="lineno">11105</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CodeSeg:</div>
<div class="line"><a name="l11106"></a><span class="lineno">11106</span>&#160;    handleCodeSegAttr(S, D, AL);</div>
<div class="line"><a name="l11107"></a><span class="lineno">11107</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11108"></a><span class="lineno">11108</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Target:</div>
<div class="line"><a name="l11109"></a><span class="lineno">11109</span>&#160;    handleTargetAttr(S, D, AL);</div>
<div class="line"><a name="l11110"></a><span class="lineno">11110</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11111"></a><span class="lineno">11111</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_TargetClones:</div>
<div class="line"><a name="l11112"></a><span class="lineno">11112</span>&#160;    handleTargetClonesAttr(S, D, AL);</div>
<div class="line"><a name="l11113"></a><span class="lineno">11113</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11114"></a><span class="lineno">11114</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MinVectorWidth:</div>
<div class="line"><a name="l11115"></a><span class="lineno">11115</span>&#160;    handleMinVectorWidthAttr(S, D, AL);</div>
<div class="line"><a name="l11116"></a><span class="lineno">11116</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11117"></a><span class="lineno">11117</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Unavailable:</div>
<div class="line"><a name="l11118"></a><span class="lineno">11118</span>&#160;    handleAttrWithMessage&lt;UnavailableAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l11119"></a><span class="lineno">11119</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11120"></a><span class="lineno">11120</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Assumption:</div>
<div class="line"><a name="l11121"></a><span class="lineno">11121</span>&#160;    handleAssumumptionAttr(S, D, AL);</div>
<div class="line"><a name="l11122"></a><span class="lineno">11122</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11123"></a><span class="lineno">11123</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCDirect:</div>
<div class="line"><a name="l11124"></a><span class="lineno">11124</span>&#160;    handleObjCDirectAttr(S, D, AL);</div>
<div class="line"><a name="l11125"></a><span class="lineno">11125</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11126"></a><span class="lineno">11126</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCDirectMembers:</div>
<div class="line"><a name="l11127"></a><span class="lineno">11127</span>&#160;    handleObjCDirectMembersAttr(S, D, AL);</div>
<div class="line"><a name="l11128"></a><span class="lineno">11128</span>&#160;    handleSimpleAttribute&lt;ObjCDirectMembersAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l11129"></a><span class="lineno">11129</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11130"></a><span class="lineno">11130</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCExplicitProtocolImpl:</div>
<div class="line"><a name="l11131"></a><span class="lineno">11131</span>&#160;    handleObjCSuppresProtocolAttr(S, D, AL);</div>
<div class="line"><a name="l11132"></a><span class="lineno">11132</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11133"></a><span class="lineno">11133</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Unused:</div>
<div class="line"><a name="l11134"></a><span class="lineno">11134</span>&#160;    handleUnusedAttr(S, D, AL);</div>
<div class="line"><a name="l11135"></a><span class="lineno">11135</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11136"></a><span class="lineno">11136</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Visibility:</div>
<div class="line"><a name="l11137"></a><span class="lineno">11137</span>&#160;    handleVisibilityAttr(S, D, AL, <span class="keyword">false</span>);</div>
<div class="line"><a name="l11138"></a><span class="lineno">11138</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11139"></a><span class="lineno">11139</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_TypeVisibility:</div>
<div class="line"><a name="l11140"></a><span class="lineno">11140</span>&#160;    handleVisibilityAttr(S, D, AL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l11141"></a><span class="lineno">11141</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11142"></a><span class="lineno">11142</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_WarnUnusedResult:</div>
<div class="line"><a name="l11143"></a><span class="lineno">11143</span>&#160;    handleWarnUnusedResult(S, D, AL);</div>
<div class="line"><a name="l11144"></a><span class="lineno">11144</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11145"></a><span class="lineno">11145</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_WeakRef:</div>
<div class="line"><a name="l11146"></a><span class="lineno">11146</span>&#160;    handleWeakRefAttr(S, D, AL);</div>
<div class="line"><a name="l11147"></a><span class="lineno">11147</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11148"></a><span class="lineno">11148</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_WeakImport:</div>
<div class="line"><a name="l11149"></a><span class="lineno">11149</span>&#160;    handleWeakImportAttr(S, D, AL);</div>
<div class="line"><a name="l11150"></a><span class="lineno">11150</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11151"></a><span class="lineno">11151</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_TransparentUnion:</div>
<div class="line"><a name="l11152"></a><span class="lineno">11152</span>&#160;    handleTransparentUnionAttr(S, D, AL);</div>
<div class="line"><a name="l11153"></a><span class="lineno">11153</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11154"></a><span class="lineno">11154</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCMethodFamily:</div>
<div class="line"><a name="l11155"></a><span class="lineno">11155</span>&#160;    handleObjCMethodFamilyAttr(S, D, AL);</div>
<div class="line"><a name="l11156"></a><span class="lineno">11156</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11157"></a><span class="lineno">11157</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCNSObject:</div>
<div class="line"><a name="l11158"></a><span class="lineno">11158</span>&#160;    handleObjCNSObject(S, D, AL);</div>
<div class="line"><a name="l11159"></a><span class="lineno">11159</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11160"></a><span class="lineno">11160</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCIndependentClass:</div>
<div class="line"><a name="l11161"></a><span class="lineno">11161</span>&#160;    handleObjCIndependentClass(S, D, AL);</div>
<div class="line"><a name="l11162"></a><span class="lineno">11162</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11163"></a><span class="lineno">11163</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Blocks:</div>
<div class="line"><a name="l11164"></a><span class="lineno">11164</span>&#160;    handleBlocksAttr(S, D, AL);</div>
<div class="line"><a name="l11165"></a><span class="lineno">11165</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11166"></a><span class="lineno">11166</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Sentinel:</div>
<div class="line"><a name="l11167"></a><span class="lineno">11167</span>&#160;    handleSentinelAttr(S, D, AL);</div>
<div class="line"><a name="l11168"></a><span class="lineno">11168</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11169"></a><span class="lineno">11169</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Cleanup:</div>
<div class="line"><a name="l11170"></a><span class="lineno">11170</span>&#160;    handleCleanupAttr(S, D, AL);</div>
<div class="line"><a name="l11171"></a><span class="lineno">11171</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11172"></a><span class="lineno">11172</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoDebug:</div>
<div class="line"><a name="l11173"></a><span class="lineno">11173</span>&#160;    handleNoDebugAttr(S, D, AL);</div>
<div class="line"><a name="l11174"></a><span class="lineno">11174</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11175"></a><span class="lineno">11175</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CmseNSEntry:</div>
<div class="line"><a name="l11176"></a><span class="lineno">11176</span>&#160;    handleCmseNSEntryAttr(S, D, AL);</div>
<div class="line"><a name="l11177"></a><span class="lineno">11177</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11178"></a><span class="lineno">11178</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_StdCall:</div>
<div class="line"><a name="l11179"></a><span class="lineno">11179</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CDecl:</div>
<div class="line"><a name="l11180"></a><span class="lineno">11180</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_FastCall:</div>
<div class="line"><a name="l11181"></a><span class="lineno">11181</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ThisCall:</div>
<div class="line"><a name="l11182"></a><span class="lineno">11182</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Pascal:</div>
<div class="line"><a name="l11183"></a><span class="lineno">11183</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_RegCall:</div>
<div class="line"><a name="l11184"></a><span class="lineno">11184</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftCall:</div>
<div class="line"><a name="l11185"></a><span class="lineno">11185</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAsyncCall:</div>
<div class="line"><a name="l11186"></a><span class="lineno">11186</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_VectorCall:</div>
<div class="line"><a name="l11187"></a><span class="lineno">11187</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MSABI:</div>
<div class="line"><a name="l11188"></a><span class="lineno">11188</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SysVABI:</div>
<div class="line"><a name="l11189"></a><span class="lineno">11189</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Pcs:</div>
<div class="line"><a name="l11190"></a><span class="lineno">11190</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelOclBicc:</div>
<div class="line"><a name="l11191"></a><span class="lineno">11191</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PreserveMost:</div>
<div class="line"><a name="l11192"></a><span class="lineno">11192</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PreserveAll:</div>
<div class="line"><a name="l11193"></a><span class="lineno">11193</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AArch64VectorPcs:</div>
<div class="line"><a name="l11194"></a><span class="lineno">11194</span>&#160;    handleCallConvAttr(S, D, AL);</div>
<div class="line"><a name="l11195"></a><span class="lineno">11195</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11196"></a><span class="lineno">11196</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Suppress:</div>
<div class="line"><a name="l11197"></a><span class="lineno">11197</span>&#160;    <a class="code" href="SemaStmtAttr_8cpp.html#a0476e39e8c617612ae5a10fa2409daff">handleSuppressAttr</a>(S, D, AL);</div>
<div class="line"><a name="l11198"></a><span class="lineno">11198</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11199"></a><span class="lineno">11199</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Owner:</div>
<div class="line"><a name="l11200"></a><span class="lineno">11200</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Pointer:</div>
<div class="line"><a name="l11201"></a><span class="lineno">11201</span>&#160;    handleLifetimeCategoryAttr(S, D, AL);</div>
<div class="line"><a name="l11202"></a><span class="lineno">11202</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11203"></a><span class="lineno">11203</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OpenCLAccess:</div>
<div class="line"><a name="l11204"></a><span class="lineno">11204</span>&#160;    handleOpenCLAccessAttr(S, D, AL);</div>
<div class="line"><a name="l11205"></a><span class="lineno">11205</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11206"></a><span class="lineno">11206</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_OpenCLNoSVM:</div>
<div class="line"><a name="l11207"></a><span class="lineno">11207</span>&#160;    handleOpenCLNoSVMAttr(S, D, AL);</div>
<div class="line"><a name="l11208"></a><span class="lineno">11208</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11209"></a><span class="lineno">11209</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftContext:</div>
<div class="line"><a name="l11210"></a><span class="lineno">11210</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a5928345bfac5758ac40b1e30645bc98a">AddParameterABIAttr</a>(D, AL, <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56af9bba77d3c723c0692ff7678151d5bc5">ParameterABI::SwiftContext</a>);</div>
<div class="line"><a name="l11211"></a><span class="lineno">11211</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11212"></a><span class="lineno">11212</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAsyncContext:</div>
<div class="line"><a name="l11213"></a><span class="lineno">11213</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a5928345bfac5758ac40b1e30645bc98a">AddParameterABIAttr</a>(D, AL, <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a20f1613a091be0d3eb93f8bfed02fca9">ParameterABI::SwiftAsyncContext</a>);</div>
<div class="line"><a name="l11214"></a><span class="lineno">11214</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11215"></a><span class="lineno">11215</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftErrorResult:</div>
<div class="line"><a name="l11216"></a><span class="lineno">11216</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a5928345bfac5758ac40b1e30645bc98a">AddParameterABIAttr</a>(D, AL, <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a2892fdd5fbfb0f8c4317836c4199d191">ParameterABI::SwiftErrorResult</a>);</div>
<div class="line"><a name="l11217"></a><span class="lineno">11217</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11218"></a><span class="lineno">11218</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftIndirectResult:</div>
<div class="line"><a name="l11219"></a><span class="lineno">11219</span>&#160;    S.<a class="code" href="classclang_1_1Sema.html#a5928345bfac5758ac40b1e30645bc98a">AddParameterABIAttr</a>(D, AL, <a class="code" href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56aaf1dd368d799611c46f3e22d59352935">ParameterABI::SwiftIndirectResult</a>);</div>
<div class="line"><a name="l11220"></a><span class="lineno">11220</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11221"></a><span class="lineno">11221</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_InternalLinkage:</div>
<div class="line"><a name="l11222"></a><span class="lineno">11222</span>&#160;    handleInternalLinkageAttr(S, D, AL);</div>
<div class="line"><a name="l11223"></a><span class="lineno">11223</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11224"></a><span class="lineno">11224</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ZeroCallUsedRegs:</div>
<div class="line"><a name="l11225"></a><span class="lineno">11225</span>&#160;    handleZeroCallUsedRegsAttr(S, D, AL);</div>
<div class="line"><a name="l11226"></a><span class="lineno">11226</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11227"></a><span class="lineno">11227</span>&#160; </div>
<div class="line"><a name="l11228"></a><span class="lineno">11228</span>&#160;  <span class="comment">// Microsoft attributes:</span></div>
<div class="line"><a name="l11229"></a><span class="lineno">11229</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_LayoutVersion:</div>
<div class="line"><a name="l11230"></a><span class="lineno">11230</span>&#160;    handleLayoutVersion(S, D, AL);</div>
<div class="line"><a name="l11231"></a><span class="lineno">11231</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11232"></a><span class="lineno">11232</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Uuid:</div>
<div class="line"><a name="l11233"></a><span class="lineno">11233</span>&#160;    handleUuidAttr(S, D, AL);</div>
<div class="line"><a name="l11234"></a><span class="lineno">11234</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11235"></a><span class="lineno">11235</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MSInheritance:</div>
<div class="line"><a name="l11236"></a><span class="lineno">11236</span>&#160;    handleMSInheritanceAttr(S, D, AL);</div>
<div class="line"><a name="l11237"></a><span class="lineno">11237</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11238"></a><span class="lineno">11238</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Thread:</div>
<div class="line"><a name="l11239"></a><span class="lineno">11239</span>&#160;    handleDeclspecThreadAttr(S, D, AL);</div>
<div class="line"><a name="l11240"></a><span class="lineno">11240</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11241"></a><span class="lineno">11241</span>&#160; </div>
<div class="line"><a name="l11242"></a><span class="lineno">11242</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AbiTag:</div>
<div class="line"><a name="l11243"></a><span class="lineno">11243</span>&#160;    handleAbiTagAttr(S, D, AL);</div>
<div class="line"><a name="l11244"></a><span class="lineno">11244</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11245"></a><span class="lineno">11245</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CFGuard:</div>
<div class="line"><a name="l11246"></a><span class="lineno">11246</span>&#160;    handleCFGuardAttr(S, D, AL);</div>
<div class="line"><a name="l11247"></a><span class="lineno">11247</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11248"></a><span class="lineno">11248</span>&#160; </div>
<div class="line"><a name="l11249"></a><span class="lineno">11249</span>&#160;  <span class="comment">// Thread safety attributes:</span></div>
<div class="line"><a name="l11250"></a><span class="lineno">11250</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AssertExclusiveLock:</div>
<div class="line"><a name="l11251"></a><span class="lineno">11251</span>&#160;    handleAssertExclusiveLockAttr(S, D, AL);</div>
<div class="line"><a name="l11252"></a><span class="lineno">11252</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11253"></a><span class="lineno">11253</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AssertSharedLock:</div>
<div class="line"><a name="l11254"></a><span class="lineno">11254</span>&#160;    handleAssertSharedLockAttr(S, D, AL);</div>
<div class="line"><a name="l11255"></a><span class="lineno">11255</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11256"></a><span class="lineno">11256</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PtGuardedVar:</div>
<div class="line"><a name="l11257"></a><span class="lineno">11257</span>&#160;    handlePtGuardedVarAttr(S, D, AL);</div>
<div class="line"><a name="l11258"></a><span class="lineno">11258</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11259"></a><span class="lineno">11259</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoSanitize:</div>
<div class="line"><a name="l11260"></a><span class="lineno">11260</span>&#160;    handleNoSanitizeAttr(S, D, AL);</div>
<div class="line"><a name="l11261"></a><span class="lineno">11261</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11262"></a><span class="lineno">11262</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoSanitizeSpecific:</div>
<div class="line"><a name="l11263"></a><span class="lineno">11263</span>&#160;    handleNoSanitizeSpecificAttr(S, D, AL);</div>
<div class="line"><a name="l11264"></a><span class="lineno">11264</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11265"></a><span class="lineno">11265</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_GuardedBy:</div>
<div class="line"><a name="l11266"></a><span class="lineno">11266</span>&#160;    handleGuardedByAttr(S, D, AL);</div>
<div class="line"><a name="l11267"></a><span class="lineno">11267</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11268"></a><span class="lineno">11268</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PtGuardedBy:</div>
<div class="line"><a name="l11269"></a><span class="lineno">11269</span>&#160;    handlePtGuardedByAttr(S, D, AL);</div>
<div class="line"><a name="l11270"></a><span class="lineno">11270</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11271"></a><span class="lineno">11271</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ExclusiveTrylockFunction:</div>
<div class="line"><a name="l11272"></a><span class="lineno">11272</span>&#160;    handleExclusiveTrylockFunctionAttr(S, D, AL);</div>
<div class="line"><a name="l11273"></a><span class="lineno">11273</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11274"></a><span class="lineno">11274</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_LockReturned:</div>
<div class="line"><a name="l11275"></a><span class="lineno">11275</span>&#160;    handleLockReturnedAttr(S, D, AL);</div>
<div class="line"><a name="l11276"></a><span class="lineno">11276</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11277"></a><span class="lineno">11277</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_LocksExcluded:</div>
<div class="line"><a name="l11278"></a><span class="lineno">11278</span>&#160;    handleLocksExcludedAttr(S, D, AL);</div>
<div class="line"><a name="l11279"></a><span class="lineno">11279</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11280"></a><span class="lineno">11280</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SharedTrylockFunction:</div>
<div class="line"><a name="l11281"></a><span class="lineno">11281</span>&#160;    handleSharedTrylockFunctionAttr(S, D, AL);</div>
<div class="line"><a name="l11282"></a><span class="lineno">11282</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11283"></a><span class="lineno">11283</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AcquiredBefore:</div>
<div class="line"><a name="l11284"></a><span class="lineno">11284</span>&#160;    handleAcquiredBeforeAttr(S, D, AL);</div>
<div class="line"><a name="l11285"></a><span class="lineno">11285</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11286"></a><span class="lineno">11286</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AcquiredAfter:</div>
<div class="line"><a name="l11287"></a><span class="lineno">11287</span>&#160;    handleAcquiredAfterAttr(S, D, AL);</div>
<div class="line"><a name="l11288"></a><span class="lineno">11288</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11289"></a><span class="lineno">11289</span>&#160; </div>
<div class="line"><a name="l11290"></a><span class="lineno">11290</span>&#160;  <span class="comment">// Capability analysis attributes.</span></div>
<div class="line"><a name="l11291"></a><span class="lineno">11291</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Capability:</div>
<div class="line"><a name="l11292"></a><span class="lineno">11292</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Lockable:</div>
<div class="line"><a name="l11293"></a><span class="lineno">11293</span>&#160;    handleCapabilityAttr(S, D, AL);</div>
<div class="line"><a name="l11294"></a><span class="lineno">11294</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11295"></a><span class="lineno">11295</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_RequiresCapability:</div>
<div class="line"><a name="l11296"></a><span class="lineno">11296</span>&#160;    handleRequiresCapabilityAttr(S, D, AL);</div>
<div class="line"><a name="l11297"></a><span class="lineno">11297</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11298"></a><span class="lineno">11298</span>&#160; </div>
<div class="line"><a name="l11299"></a><span class="lineno">11299</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AssertCapability:</div>
<div class="line"><a name="l11300"></a><span class="lineno">11300</span>&#160;    handleAssertCapabilityAttr(S, D, AL);</div>
<div class="line"><a name="l11301"></a><span class="lineno">11301</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11302"></a><span class="lineno">11302</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AcquireCapability:</div>
<div class="line"><a name="l11303"></a><span class="lineno">11303</span>&#160;    handleAcquireCapabilityAttr(S, D, AL);</div>
<div class="line"><a name="l11304"></a><span class="lineno">11304</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11305"></a><span class="lineno">11305</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ReleaseCapability:</div>
<div class="line"><a name="l11306"></a><span class="lineno">11306</span>&#160;    handleReleaseCapabilityAttr(S, D, AL);</div>
<div class="line"><a name="l11307"></a><span class="lineno">11307</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11308"></a><span class="lineno">11308</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_TryAcquireCapability:</div>
<div class="line"><a name="l11309"></a><span class="lineno">11309</span>&#160;    handleTryAcquireCapabilityAttr(S, D, AL);</div>
<div class="line"><a name="l11310"></a><span class="lineno">11310</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11311"></a><span class="lineno">11311</span>&#160; </div>
<div class="line"><a name="l11312"></a><span class="lineno">11312</span>&#160;  <span class="comment">// Consumed analysis attributes.</span></div>
<div class="line"><a name="l11313"></a><span class="lineno">11313</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Consumable:</div>
<div class="line"><a name="l11314"></a><span class="lineno">11314</span>&#160;    handleConsumableAttr(S, D, AL);</div>
<div class="line"><a name="l11315"></a><span class="lineno">11315</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11316"></a><span class="lineno">11316</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_CallableWhen:</div>
<div class="line"><a name="l11317"></a><span class="lineno">11317</span>&#160;    handleCallableWhenAttr(S, D, AL);</div>
<div class="line"><a name="l11318"></a><span class="lineno">11318</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11319"></a><span class="lineno">11319</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ParamTypestate:</div>
<div class="line"><a name="l11320"></a><span class="lineno">11320</span>&#160;    handleParamTypestateAttr(S, D, AL);</div>
<div class="line"><a name="l11321"></a><span class="lineno">11321</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11322"></a><span class="lineno">11322</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ReturnTypestate:</div>
<div class="line"><a name="l11323"></a><span class="lineno">11323</span>&#160;    handleReturnTypestateAttr(S, D, AL);</div>
<div class="line"><a name="l11324"></a><span class="lineno">11324</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11325"></a><span class="lineno">11325</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SetTypestate:</div>
<div class="line"><a name="l11326"></a><span class="lineno">11326</span>&#160;    handleSetTypestateAttr(S, D, AL);</div>
<div class="line"><a name="l11327"></a><span class="lineno">11327</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11328"></a><span class="lineno">11328</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_TestTypestate:</div>
<div class="line"><a name="l11329"></a><span class="lineno">11329</span>&#160;    handleTestTypestateAttr(S, D, AL);</div>
<div class="line"><a name="l11330"></a><span class="lineno">11330</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11331"></a><span class="lineno">11331</span>&#160; </div>
<div class="line"><a name="l11332"></a><span class="lineno">11332</span>&#160;  <span class="comment">// Type safety attributes.</span></div>
<div class="line"><a name="l11333"></a><span class="lineno">11333</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ArgumentWithTypeTag:</div>
<div class="line"><a name="l11334"></a><span class="lineno">11334</span>&#160;    handleArgumentWithTypeTagAttr(S, D, AL);</div>
<div class="line"><a name="l11335"></a><span class="lineno">11335</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11336"></a><span class="lineno">11336</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_TypeTagForDatatype:</div>
<div class="line"><a name="l11337"></a><span class="lineno">11337</span>&#160;    handleTypeTagForDatatypeAttr(S, D, AL);</div>
<div class="line"><a name="l11338"></a><span class="lineno">11338</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11339"></a><span class="lineno">11339</span>&#160; </div>
<div class="line"><a name="l11340"></a><span class="lineno">11340</span>&#160;  <span class="comment">// Intel FPGA specific attributes</span></div>
<div class="line"><a name="l11341"></a><span class="lineno">11341</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGADoublePump:</div>
<div class="line"><a name="l11342"></a><span class="lineno">11342</span>&#160;    handleSYCLIntelFPGADoublePumpAttr(S, D, AL);</div>
<div class="line"><a name="l11343"></a><span class="lineno">11343</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11344"></a><span class="lineno">11344</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGASinglePump:</div>
<div class="line"><a name="l11345"></a><span class="lineno">11345</span>&#160;    handleSYCLIntelFPGASinglePumpAttr(S, D, AL);</div>
<div class="line"><a name="l11346"></a><span class="lineno">11346</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11347"></a><span class="lineno">11347</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGAMemory:</div>
<div class="line"><a name="l11348"></a><span class="lineno">11348</span>&#160;    handleIntelFPGAMemoryAttr(S, D, AL);</div>
<div class="line"><a name="l11349"></a><span class="lineno">11349</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11350"></a><span class="lineno">11350</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGARegister:</div>
<div class="line"><a name="l11351"></a><span class="lineno">11351</span>&#160;    handleIntelFPGARegisterAttr(S, D, AL);</div>
<div class="line"><a name="l11352"></a><span class="lineno">11352</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11353"></a><span class="lineno">11353</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGABankWidth:</div>
<div class="line"><a name="l11354"></a><span class="lineno">11354</span>&#160;    handleIntelFPGABankWidthAttr(S, D, AL);</div>
<div class="line"><a name="l11355"></a><span class="lineno">11355</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11356"></a><span class="lineno">11356</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGANumBanks:</div>
<div class="line"><a name="l11357"></a><span class="lineno">11357</span>&#160;    handleIntelFPGANumBanksAttr(S, D, AL);</div>
<div class="line"><a name="l11358"></a><span class="lineno">11358</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11359"></a><span class="lineno">11359</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGAPrivateCopies:</div>
<div class="line"><a name="l11360"></a><span class="lineno">11360</span>&#160;    handleIntelFPGAPrivateCopiesAttr(S, D, AL);</div>
<div class="line"><a name="l11361"></a><span class="lineno">11361</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11362"></a><span class="lineno">11362</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGAMaxReplicates:</div>
<div class="line"><a name="l11363"></a><span class="lineno">11363</span>&#160;    handleIntelFPGAMaxReplicatesAttr(S, D, AL);</div>
<div class="line"><a name="l11364"></a><span class="lineno">11364</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11365"></a><span class="lineno">11365</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGASimpleDualPort:</div>
<div class="line"><a name="l11366"></a><span class="lineno">11366</span>&#160;    handleIntelFPGASimpleDualPortAttr(S, D, AL);</div>
<div class="line"><a name="l11367"></a><span class="lineno">11367</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11368"></a><span class="lineno">11368</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGAMerge:</div>
<div class="line"><a name="l11369"></a><span class="lineno">11369</span>&#160;    handleIntelFPGAMergeAttr(S, D, AL);</div>
<div class="line"><a name="l11370"></a><span class="lineno">11370</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11371"></a><span class="lineno">11371</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGABankBits:</div>
<div class="line"><a name="l11372"></a><span class="lineno">11372</span>&#160;    handleIntelFPGABankBitsAttr(S, D, AL);</div>
<div class="line"><a name="l11373"></a><span class="lineno">11373</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11374"></a><span class="lineno">11374</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_IntelFPGAForcePow2Depth:</div>
<div class="line"><a name="l11375"></a><span class="lineno">11375</span>&#160;    handleIntelFPGAForcePow2DepthAttr(S, D, AL);</div>
<div class="line"><a name="l11376"></a><span class="lineno">11376</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11377"></a><span class="lineno">11377</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelPipeIO:</div>
<div class="line"><a name="l11378"></a><span class="lineno">11378</span>&#160;    handleSYCLIntelPipeIOAttr(S, D, AL);</div>
<div class="line"><a name="l11379"></a><span class="lineno">11379</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11380"></a><span class="lineno">11380</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLIntelFPGAMaxConcurrency:</div>
<div class="line"><a name="l11381"></a><span class="lineno">11381</span>&#160;    <a class="code" href="SemaStmtAttr_8cpp.html#a4db93cf4fd15e8cfd0702ee32c3dc1bf">handleSYCLIntelFPGAMaxConcurrencyAttr</a>(S, D, AL);</div>
<div class="line"><a name="l11382"></a><span class="lineno">11382</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11383"></a><span class="lineno">11383</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLAddIRAttributesFunction:</div>
<div class="line"><a name="l11384"></a><span class="lineno">11384</span>&#160;    handleSYCLAddIRAttributesFunctionAttr(S, D, AL);</div>
<div class="line"><a name="l11385"></a><span class="lineno">11385</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11386"></a><span class="lineno">11386</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLAddIRAttributesKernelParameter:</div>
<div class="line"><a name="l11387"></a><span class="lineno">11387</span>&#160;    handleSYCLAddIRAttributesKernelParameterAttr(S, D, AL);</div>
<div class="line"><a name="l11388"></a><span class="lineno">11388</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11389"></a><span class="lineno">11389</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SYCLAddIRAttributesGlobalVariable:</div>
<div class="line"><a name="l11390"></a><span class="lineno">11390</span>&#160;    handleSYCLAddIRAttributesGlobalVariableAttr(S, D, AL);</div>
<div class="line"><a name="l11391"></a><span class="lineno">11391</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11392"></a><span class="lineno">11392</span>&#160; </div>
<div class="line"><a name="l11393"></a><span class="lineno">11393</span>&#160;  <span class="comment">// Swift attributes.</span></div>
<div class="line"><a name="l11394"></a><span class="lineno">11394</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAsyncName:</div>
<div class="line"><a name="l11395"></a><span class="lineno">11395</span>&#160;    handleSwiftAsyncName(S, D, AL);</div>
<div class="line"><a name="l11396"></a><span class="lineno">11396</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11397"></a><span class="lineno">11397</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAttr:</div>
<div class="line"><a name="l11398"></a><span class="lineno">11398</span>&#160;    handleSwiftAttrAttr(S, D, AL);</div>
<div class="line"><a name="l11399"></a><span class="lineno">11399</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11400"></a><span class="lineno">11400</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftBridge:</div>
<div class="line"><a name="l11401"></a><span class="lineno">11401</span>&#160;    handleSwiftBridge(S, D, AL);</div>
<div class="line"><a name="l11402"></a><span class="lineno">11402</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11403"></a><span class="lineno">11403</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftError:</div>
<div class="line"><a name="l11404"></a><span class="lineno">11404</span>&#160;    handleSwiftError(S, D, AL);</div>
<div class="line"><a name="l11405"></a><span class="lineno">11405</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11406"></a><span class="lineno">11406</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftName:</div>
<div class="line"><a name="l11407"></a><span class="lineno">11407</span>&#160;    handleSwiftName(S, D, AL);</div>
<div class="line"><a name="l11408"></a><span class="lineno">11408</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11409"></a><span class="lineno">11409</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftNewType:</div>
<div class="line"><a name="l11410"></a><span class="lineno">11410</span>&#160;    handleSwiftNewType(S, D, AL);</div>
<div class="line"><a name="l11411"></a><span class="lineno">11411</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11412"></a><span class="lineno">11412</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAsync:</div>
<div class="line"><a name="l11413"></a><span class="lineno">11413</span>&#160;    handleSwiftAsyncAttr(S, D, AL);</div>
<div class="line"><a name="l11414"></a><span class="lineno">11414</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11415"></a><span class="lineno">11415</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_SwiftAsyncError:</div>
<div class="line"><a name="l11416"></a><span class="lineno">11416</span>&#160;    handleSwiftAsyncError(S, D, AL);</div>
<div class="line"><a name="l11417"></a><span class="lineno">11417</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11418"></a><span class="lineno">11418</span>&#160; </div>
<div class="line"><a name="l11419"></a><span class="lineno">11419</span>&#160;  <span class="comment">// XRay attributes.</span></div>
<div class="line"><a name="l11420"></a><span class="lineno">11420</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_XRayLogArgs:</div>
<div class="line"><a name="l11421"></a><span class="lineno">11421</span>&#160;    handleXRayLogArgsAttr(S, D, AL);</div>
<div class="line"><a name="l11422"></a><span class="lineno">11422</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11423"></a><span class="lineno">11423</span>&#160; </div>
<div class="line"><a name="l11424"></a><span class="lineno">11424</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_PatchableFunctionEntry:</div>
<div class="line"><a name="l11425"></a><span class="lineno">11425</span>&#160;    handlePatchableFunctionEntryAttr(S, D, AL);</div>
<div class="line"><a name="l11426"></a><span class="lineno">11426</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11427"></a><span class="lineno">11427</span>&#160; </div>
<div class="line"><a name="l11428"></a><span class="lineno">11428</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AlwaysDestroy:</div>
<div class="line"><a name="l11429"></a><span class="lineno">11429</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_NoDestroy:</div>
<div class="line"><a name="l11430"></a><span class="lineno">11430</span>&#160;    handleDestroyAttr(S, D, AL);</div>
<div class="line"><a name="l11431"></a><span class="lineno">11431</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11432"></a><span class="lineno">11432</span>&#160; </div>
<div class="line"><a name="l11433"></a><span class="lineno">11433</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_Uninitialized:</div>
<div class="line"><a name="l11434"></a><span class="lineno">11434</span>&#160;    handleUninitializedAttr(S, D, AL);</div>
<div class="line"><a name="l11435"></a><span class="lineno">11435</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11436"></a><span class="lineno">11436</span>&#160; </div>
<div class="line"><a name="l11437"></a><span class="lineno">11437</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ObjCExternallyRetained:</div>
<div class="line"><a name="l11438"></a><span class="lineno">11438</span>&#160;    handleObjCExternallyRetainedAttr(S, D, AL);</div>
<div class="line"><a name="l11439"></a><span class="lineno">11439</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11440"></a><span class="lineno">11440</span>&#160; </div>
<div class="line"><a name="l11441"></a><span class="lineno">11441</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MIGServerRoutine:</div>
<div class="line"><a name="l11442"></a><span class="lineno">11442</span>&#160;    handleMIGServerRoutineAttr(S, D, AL);</div>
<div class="line"><a name="l11443"></a><span class="lineno">11443</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11444"></a><span class="lineno">11444</span>&#160; </div>
<div class="line"><a name="l11445"></a><span class="lineno">11445</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_MSAllocator:</div>
<div class="line"><a name="l11446"></a><span class="lineno">11446</span>&#160;    handleMSAllocatorAttr(S, D, AL);</div>
<div class="line"><a name="l11447"></a><span class="lineno">11447</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11448"></a><span class="lineno">11448</span>&#160; </div>
<div class="line"><a name="l11449"></a><span class="lineno">11449</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ArmBuiltinAlias:</div>
<div class="line"><a name="l11450"></a><span class="lineno">11450</span>&#160;    handleArmBuiltinAliasAttr(S, D, AL);</div>
<div class="line"><a name="l11451"></a><span class="lineno">11451</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11452"></a><span class="lineno">11452</span>&#160; </div>
<div class="line"><a name="l11453"></a><span class="lineno">11453</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_AcquireHandle:</div>
<div class="line"><a name="l11454"></a><span class="lineno">11454</span>&#160;    handleAcquireHandleAttr(S, D, AL);</div>
<div class="line"><a name="l11455"></a><span class="lineno">11455</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11456"></a><span class="lineno">11456</span>&#160; </div>
<div class="line"><a name="l11457"></a><span class="lineno">11457</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_ReleaseHandle:</div>
<div class="line"><a name="l11458"></a><span class="lineno">11458</span>&#160;    handleHandleAttr&lt;ReleaseHandleAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l11459"></a><span class="lineno">11459</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11460"></a><span class="lineno">11460</span>&#160; </div>
<div class="line"><a name="l11461"></a><span class="lineno">11461</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_UseHandle:</div>
<div class="line"><a name="l11462"></a><span class="lineno">11462</span>&#160;    handleHandleAttr&lt;UseHandleAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l11463"></a><span class="lineno">11463</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11464"></a><span class="lineno">11464</span>&#160; </div>
<div class="line"><a name="l11465"></a><span class="lineno">11465</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_EnforceTCB:</div>
<div class="line"><a name="l11466"></a><span class="lineno">11466</span>&#160;    handleEnforceTCBAttr&lt;EnforceTCBAttr, EnforceTCBLeafAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l11467"></a><span class="lineno">11467</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11468"></a><span class="lineno">11468</span>&#160; </div>
<div class="line"><a name="l11469"></a><span class="lineno">11469</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_EnforceTCBLeaf:</div>
<div class="line"><a name="l11470"></a><span class="lineno">11470</span>&#160;    handleEnforceTCBAttr&lt;EnforceTCBLeafAttr, EnforceTCBAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l11471"></a><span class="lineno">11471</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11472"></a><span class="lineno">11472</span>&#160; </div>
<div class="line"><a name="l11473"></a><span class="lineno">11473</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_BuiltinAlias:</div>
<div class="line"><a name="l11474"></a><span class="lineno">11474</span>&#160;    handleBuiltinAliasAttr(S, D, AL);</div>
<div class="line"><a name="l11475"></a><span class="lineno">11475</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11476"></a><span class="lineno">11476</span>&#160; </div>
<div class="line"><a name="l11477"></a><span class="lineno">11477</span>&#160;  <span class="keywordflow">case</span> ParsedAttr::AT_UsingIfExists:</div>
<div class="line"><a name="l11478"></a><span class="lineno">11478</span>&#160;    handleSimpleAttribute&lt;UsingIfExistsAttr&gt;(S, D, AL);</div>
<div class="line"><a name="l11479"></a><span class="lineno">11479</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11480"></a><span class="lineno">11480</span>&#160;  }</div>
<div class="line"><a name="l11481"></a><span class="lineno">11481</span>&#160;}</div>
<div class="line"><a name="l11482"></a><span class="lineno">11482</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11483"></a><span class="lineno">11483</span>&#160;<span class="comment">/// ProcessDeclAttributeList - Apply all the decl attributes in the specified</span></div>
<div class="line"><a name="l11484"></a><span class="lineno">11484</span>&#160;<span class="comment">/// attribute list to the specified decl, ignoring any type attributes.</span></div>
<div class="line"><a name="l11485"></a><span class="lineno">11485</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#acdb962829d692aab45f326e0d220ccd8">Sema::ProcessDeclAttributeList</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l11486"></a><span class="lineno">11486</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttributesView.html">ParsedAttributesView</a> &amp;AttrList,</div>
<div class="line"><a name="l11487"></a><span class="lineno">11487</span>&#160;                                    <span class="keywordtype">bool</span> IncludeCXX11Attributes) {</div>
<div class="line"><a name="l11488"></a><span class="lineno">11488</span>&#160;  <span class="keywordflow">if</span> (AttrList.<a class="code" href="classclang_1_1ParsedAttributesView.html#a7e714c75df9273a2ac5c218afc780527">empty</a>())</div>
<div class="line"><a name="l11489"></a><span class="lineno">11489</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11490"></a><span class="lineno">11490</span>&#160; </div>
<div class="line"><a name="l11491"></a><span class="lineno">11491</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL : AttrList)</div>
<div class="line"><a name="l11492"></a><span class="lineno">11492</span>&#160;    ProcessDeclAttribute(*<span class="keyword">this</span>, S, D, AL, IncludeCXX11Attributes);</div>
<div class="line"><a name="l11493"></a><span class="lineno">11493</span>&#160; </div>
<div class="line"><a name="l11494"></a><span class="lineno">11494</span>&#160;  <span class="comment">// FIXME: We should be able to handle these cases in TableGen.</span></div>
<div class="line"><a name="l11495"></a><span class="lineno">11495</span>&#160;  <span class="comment">// GCC accepts</span></div>
<div class="line"><a name="l11496"></a><span class="lineno">11496</span>&#160;  <span class="comment">// static int a9 __attribute__((weakref));</span></div>
<div class="line"><a name="l11497"></a><span class="lineno">11497</span>&#160;  <span class="comment">// but that looks really pointless. We reject it.</span></div>
<div class="line"><a name="l11498"></a><span class="lineno">11498</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;WeakRefAttr&gt;() &amp;&amp; !D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;AliasAttr&gt;()) {</div>
<div class="line"><a name="l11499"></a><span class="lineno">11499</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AttrList.begin()-&gt;getLoc(), diag::err_attribute_weakref_without_alias)</div>
<div class="line"><a name="l11500"></a><span class="lineno">11500</span>&#160;        &lt;&lt; cast&lt;NamedDecl&gt;(D);</div>
<div class="line"><a name="l11501"></a><span class="lineno">11501</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;WeakRefAttr&gt;();</div>
<div class="line"><a name="l11502"></a><span class="lineno">11502</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11503"></a><span class="lineno">11503</span>&#160;  }</div>
<div class="line"><a name="l11504"></a><span class="lineno">11504</span>&#160; </div>
<div class="line"><a name="l11505"></a><span class="lineno">11505</span>&#160;  <span class="comment">// FIXME: We should be able to handle this in TableGen as well. It would be</span></div>
<div class="line"><a name="l11506"></a><span class="lineno">11506</span>&#160;  <span class="comment">// good to have a way to specify &quot;these attributes must appear as a group&quot;,</span></div>
<div class="line"><a name="l11507"></a><span class="lineno">11507</span>&#160;  <span class="comment">// for these. Additionally, it would be good to have a way to specify &quot;these</span></div>
<div class="line"><a name="l11508"></a><span class="lineno">11508</span>&#160;  <span class="comment">// attribute must never appear as a group&quot; for attributes like cold and hot.</span></div>
<div class="line"><a name="l11509"></a><span class="lineno">11509</span>&#160;  <span class="keywordflow">if</span> (!(D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;OpenCLKernelAttr&gt;() ||</div>
<div class="line"><a name="l11510"></a><span class="lineno">11510</span>&#160;        LangOpts.SYCLIsDevice || LangOpts.SYCLIsHost)) {</div>
<div class="line"><a name="l11511"></a><span class="lineno">11511</span>&#160;    <span class="comment">// These attributes cannot be applied to a non-kernel function.</span></div>
<div class="line"><a name="l11512"></a><span class="lineno">11512</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;ReqdWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l11513"></a><span class="lineno">11513</span>&#160;      <span class="comment">// FIXME: This emits a different error message than</span></div>
<div class="line"><a name="l11514"></a><span class="lineno">11514</span>&#160;      <span class="comment">// diag::err_attribute_wrong_decl_type + ExpectedKernelFunction.</span></div>
<div class="line"><a name="l11515"></a><span class="lineno">11515</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_opencl_kernel_attr) &lt;&lt; A;</div>
<div class="line"><a name="l11516"></a><span class="lineno">11516</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11517"></a><span class="lineno">11517</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;WorkGroupSizeHintAttr&gt;()) {</div>
<div class="line"><a name="l11518"></a><span class="lineno">11518</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_opencl_kernel_attr) &lt;&lt; A;</div>
<div class="line"><a name="l11519"></a><span class="lineno">11519</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11520"></a><span class="lineno">11520</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelMaxWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l11521"></a><span class="lineno">11521</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_opencl_kernel_attr) &lt;&lt; A;</div>
<div class="line"><a name="l11522"></a><span class="lineno">11522</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11523"></a><span class="lineno">11523</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;SYCLIntelNoGlobalWorkOffsetAttr&gt;()) {</div>
<div class="line"><a name="l11524"></a><span class="lineno">11524</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_opencl_kernel_attr) &lt;&lt; A;</div>
<div class="line"><a name="l11525"></a><span class="lineno">11525</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11526"></a><span class="lineno">11526</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;VecTypeHintAttr&gt;()) {</div>
<div class="line"><a name="l11527"></a><span class="lineno">11527</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_opencl_kernel_attr) &lt;&lt; A;</div>
<div class="line"><a name="l11528"></a><span class="lineno">11528</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11529"></a><span class="lineno">11529</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;IntelReqdSubGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l11530"></a><span class="lineno">11530</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_opencl_kernel_attr) &lt;&lt; A;</div>
<div class="line"><a name="l11531"></a><span class="lineno">11531</span>&#160;      D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11532"></a><span class="lineno">11532</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;CUDAGlobalAttr&gt;()) {</div>
<div class="line"><a name="l11533"></a><span class="lineno">11533</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AMDGPUFlatWorkGroupSizeAttr&gt;()) {</div>
<div class="line"><a name="l11534"></a><span class="lineno">11534</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l11535"></a><span class="lineno">11535</span>&#160;            &lt;&lt; A &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6abf610e87b3d57d11d9c3aa8c27e50491">ExpectedKernelFunction</a>;</div>
<div class="line"><a name="l11536"></a><span class="lineno">11536</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11537"></a><span class="lineno">11537</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AMDGPUWavesPerEUAttr&gt;()) {</div>
<div class="line"><a name="l11538"></a><span class="lineno">11538</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l11539"></a><span class="lineno">11539</span>&#160;            &lt;&lt; A &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6abf610e87b3d57d11d9c3aa8c27e50491">ExpectedKernelFunction</a>;</div>
<div class="line"><a name="l11540"></a><span class="lineno">11540</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11541"></a><span class="lineno">11541</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AMDGPUNumSGPRAttr&gt;()) {</div>
<div class="line"><a name="l11542"></a><span class="lineno">11542</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l11543"></a><span class="lineno">11543</span>&#160;            &lt;&lt; A &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6abf610e87b3d57d11d9c3aa8c27e50491">ExpectedKernelFunction</a>;</div>
<div class="line"><a name="l11544"></a><span class="lineno">11544</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11545"></a><span class="lineno">11545</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *A = D-&gt;<a class="code" href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">getAttr</a>&lt;AMDGPUNumVGPRAttr&gt;()) {</div>
<div class="line"><a name="l11546"></a><span class="lineno">11546</span>&#160;        <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_attribute_wrong_decl_type)</div>
<div class="line"><a name="l11547"></a><span class="lineno">11547</span>&#160;            &lt;&lt; A &lt;&lt; <a class="code" href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6abf610e87b3d57d11d9c3aa8c27e50491">ExpectedKernelFunction</a>;</div>
<div class="line"><a name="l11548"></a><span class="lineno">11548</span>&#160;        D-&gt;<a class="code" href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">setInvalidDecl</a>();</div>
<div class="line"><a name="l11549"></a><span class="lineno">11549</span>&#160;      }</div>
<div class="line"><a name="l11550"></a><span class="lineno">11550</span>&#160;    }</div>
<div class="line"><a name="l11551"></a><span class="lineno">11551</span>&#160;  }</div>
<div class="line"><a name="l11552"></a><span class="lineno">11552</span>&#160; </div>
<div class="line"><a name="l11553"></a><span class="lineno">11553</span>&#160;  <span class="comment">// Do this check after processing D&#39;s attributes because the attribute</span></div>
<div class="line"><a name="l11554"></a><span class="lineno">11554</span>&#160;  <span class="comment">// objc_method_family can change whether the given method is in the init</span></div>
<div class="line"><a name="l11555"></a><span class="lineno">11555</span>&#160;  <span class="comment">// family, and it can be applied after objc_designated_initializer. This is a</span></div>
<div class="line"><a name="l11556"></a><span class="lineno">11556</span>&#160;  <span class="comment">// bit of a hack, but we need it to be compatible with versions of clang that</span></div>
<div class="line"><a name="l11557"></a><span class="lineno">11557</span>&#160;  <span class="comment">// processed the attribute list in the wrong order.</span></div>
<div class="line"><a name="l11558"></a><span class="lineno">11558</span>&#160;  <span class="keywordflow">if</span> (D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;ObjCDesignatedInitializerAttr&gt;() &amp;&amp;</div>
<div class="line"><a name="l11559"></a><span class="lineno">11559</span>&#160;      cast&lt;ObjCMethodDecl&gt;(D)-&gt;getMethodFamily() != <a class="code" href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece">OMF_init</a>) {</div>
<div class="line"><a name="l11560"></a><span class="lineno">11560</span>&#160;    <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), diag::err_designated_init_attr_non_init);</div>
<div class="line"><a name="l11561"></a><span class="lineno">11561</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">dropAttr</a>&lt;ObjCDesignatedInitializerAttr&gt;();</div>
<div class="line"><a name="l11562"></a><span class="lineno">11562</span>&#160;  }</div>
<div class="line"><a name="l11563"></a><span class="lineno">11563</span>&#160;}</div>
<div class="line"><a name="l11564"></a><span class="lineno">11564</span>&#160; </div>
<div class="line"><a name="l11565"></a><span class="lineno">11565</span>&#160;<span class="comment">// Helper for delayed processing TransparentUnion or BPFPreserveAccessIndexAttr</span></div>
<div class="line"><a name="l11566"></a><span class="lineno">11566</span>&#160;<span class="comment">// attribute.</span></div>
<div class="line"><a name="l11567"></a><span class="lineno">11567</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a13b7164c3932d73c6fef92bf5ff8e990">Sema::ProcessDeclAttributeDelayed</a>(<a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l11568"></a><span class="lineno">11568</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttributesView.html">ParsedAttributesView</a> &amp;AttrList) {</div>
<div class="line"><a name="l11569"></a><span class="lineno">11569</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL : AttrList)</div>
<div class="line"><a name="l11570"></a><span class="lineno">11570</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_TransparentUnion) {</div>
<div class="line"><a name="l11571"></a><span class="lineno">11571</span>&#160;      handleTransparentUnionAttr(*<span class="keyword">this</span>, D, AL);</div>
<div class="line"><a name="l11572"></a><span class="lineno">11572</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11573"></a><span class="lineno">11573</span>&#160;    }</div>
<div class="line"><a name="l11574"></a><span class="lineno">11574</span>&#160; </div>
<div class="line"><a name="l11575"></a><span class="lineno">11575</span>&#160;  <span class="comment">// For BPFPreserveAccessIndexAttr, we want to populate the attributes</span></div>
<div class="line"><a name="l11576"></a><span class="lineno">11576</span>&#160;  <span class="comment">// to fields and inner records as well.</span></div>
<div class="line"><a name="l11577"></a><span class="lineno">11577</span>&#160;  <span class="keywordflow">if</span> (D &amp;&amp; D-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;BPFPreserveAccessIndexAttr&gt;())</div>
<div class="line"><a name="l11578"></a><span class="lineno">11578</span>&#160;    handleBPFPreserveAIRecord(*<span class="keyword">this</span>, cast&lt;RecordDecl&gt;(D));</div>
<div class="line"><a name="l11579"></a><span class="lineno">11579</span>&#160;}</div>
<div class="line"><a name="l11580"></a><span class="lineno">11580</span>&#160; </div>
<div class="line"><a name="l11581"></a><span class="lineno">11581</span>&#160;<span class="comment">// Annotation attributes are the only attributes allowed after an access</span></div>
<div class="line"><a name="l11582"></a><span class="lineno">11582</span>&#160;<span class="comment">// specifier.</span></div>
<div class="line"><a name="l11583"></a><span class="lineno">11583</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classclang_1_1Sema.html#a61cf3339820555a98aad5ccca2e9c83d">Sema::ProcessAccessDeclAttributeList</a>(</div>
<div class="line"><a name="l11584"></a><span class="lineno">11584</span>&#160;    <a class="code" href="classclang_1_1AccessSpecDecl.html">AccessSpecDecl</a> *ASDecl, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttributesView.html">ParsedAttributesView</a> &amp;AttrList) {</div>
<div class="line"><a name="l11585"></a><span class="lineno">11585</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL : AttrList) {</div>
<div class="line"><a name="l11586"></a><span class="lineno">11586</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == ParsedAttr::AT_Annotate) {</div>
<div class="line"><a name="l11587"></a><span class="lineno">11587</span>&#160;      ProcessDeclAttribute(*<span class="keyword">this</span>, <span class="keyword">nullptr</span>, ASDecl, AL, AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a3aaefe89fd12252284cee68b661d1eaa">isCXX11Attribute</a>());</div>
<div class="line"><a name="l11588"></a><span class="lineno">11588</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11589"></a><span class="lineno">11589</span>&#160;      <a class="code" href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::err_only_annotate_after_access_spec);</div>
<div class="line"><a name="l11590"></a><span class="lineno">11590</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11591"></a><span class="lineno">11591</span>&#160;    }</div>
<div class="line"><a name="l11592"></a><span class="lineno">11592</span>&#160;  }</div>
<div class="line"><a name="l11593"></a><span class="lineno">11593</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11594"></a><span class="lineno">11594</span>&#160;}</div>
<div class="line"><a name="l11595"></a><span class="lineno">11595</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11596"></a><span class="lineno">11596</span>&#160;<span class="comment">/// checkUnusedDeclAttributes - Check a list of attributes to see if it</span></div>
<div class="line"><a name="l11597"></a><span class="lineno">11597</span>&#160;<span class="comment">/// contains any decl attributes that we should warn about.</span></div>
<div class="line"><a name="l11598"></a><span class="lineno">11598</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> checkUnusedDeclAttributes(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttributesView.html">ParsedAttributesView</a> &amp;A) {</div>
<div class="line"><a name="l11599"></a><span class="lineno">11599</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classclang_1_1ParsedAttr.html">ParsedAttr</a> &amp;AL : A) {</div>
<div class="line"><a name="l11600"></a><span class="lineno">11600</span>&#160;    <span class="comment">// Only warn if the attribute is an unignored, non-type attribute.</span></div>
<div class="line"><a name="l11601"></a><span class="lineno">11601</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#a91ee3922aeeb1291e94716a1e5c7dc54">isUsedAsTypeAttr</a>() || AL.<a class="code" href="classclang_1_1ParsedAttr.html#af1d98aaa8c74192f9375e3f3a4843bcc">isInvalid</a>())</div>
<div class="line"><a name="l11602"></a><span class="lineno">11602</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11603"></a><span class="lineno">11603</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == <a class="code" href="classclang_1_1AttributeCommonInfo.html#a9752df3b5bc2715e4540c700f7721860a793e65c8b112029a87c5d70b10735c20">ParsedAttr::IgnoredAttribute</a>)</div>
<div class="line"><a name="l11604"></a><span class="lineno">11604</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11605"></a><span class="lineno">11605</span>&#160; </div>
<div class="line"><a name="l11606"></a><span class="lineno">11606</span>&#160;    <span class="keywordflow">if</span> (AL.<a class="code" href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">getKind</a>() == <a class="code" href="classclang_1_1AttributeCommonInfo.html#a9752df3b5bc2715e4540c700f7721860a06dc56f1cb392281d335fb36f6165be1">ParsedAttr::UnknownAttribute</a>) {</div>
<div class="line"><a name="l11607"></a><span class="lineno">11607</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_unknown_attribute_ignored)</div>
<div class="line"><a name="l11608"></a><span class="lineno">11608</span>&#160;          &lt;&lt; AL &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l11609"></a><span class="lineno">11609</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11610"></a><span class="lineno">11610</span>&#160;      S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">getLoc</a>(), diag::warn_attribute_not_on_decl) &lt;&lt; AL</div>
<div class="line"><a name="l11611"></a><span class="lineno">11611</span>&#160;                                                            &lt;&lt; AL.<a class="code" href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">getRange</a>();</div>
<div class="line"><a name="l11612"></a><span class="lineno">11612</span>&#160;    }</div>
<div class="line"><a name="l11613"></a><span class="lineno">11613</span>&#160;  }</div>
<div class="line"><a name="l11614"></a><span class="lineno">11614</span>&#160;}</div>
<div class="line"><a name="l11615"></a><span class="lineno">11615</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11616"></a><span class="lineno">11616</span>&#160;<span class="comment">/// checkUnusedDeclAttributes - Given a declarator which is not being</span></div>
<div class="line"><a name="l11617"></a><span class="lineno">11617</span>&#160;<span class="comment">/// used to build a declaration, complain about any decl attributes</span></div>
<div class="line"><a name="l11618"></a><span class="lineno">11618</span>&#160;<span class="comment">/// which might be lying around on it.</span></div>
<div class="line"><a name="l11619"></a><span class="lineno">11619</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a57c02d1059a0d201b312b8e1a5a7ea52">Sema::checkUnusedDeclAttributes</a>(<a class="code" href="classclang_1_1Declarator.html">Declarator</a> &amp;D) {</div>
<div class="line"><a name="l11620"></a><span class="lineno">11620</span>&#160;  ::checkUnusedDeclAttributes(*<span class="keyword">this</span>, D.<a class="code" href="classclang_1_1Declarator.html#a210ac9dbf8138d3c3be39d2d1bad52c6">getDeclSpec</a>().<a class="code" href="classclang_1_1DeclSpec.html#a6943e56367dc870afb5ce6b7de04b972">getAttributes</a>());</div>
<div class="line"><a name="l11621"></a><span class="lineno">11621</span>&#160;  ::checkUnusedDeclAttributes(*<span class="keyword">this</span>, D.<a class="code" href="classclang_1_1Declarator.html#ad207fc91c77fda862755fb315e6c47dc">getAttributes</a>());</div>
<div class="line"><a name="l11622"></a><span class="lineno">11622</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = D.<a class="code" href="classclang_1_1Declarator.html#a67506dfb74dc57c4e9e1821a6627bd68">getNumTypeObjects</a>(); i != e; ++i)</div>
<div class="line"><a name="l11623"></a><span class="lineno">11623</span>&#160;    ::checkUnusedDeclAttributes(*<span class="keyword">this</span>, D.<a class="code" href="classclang_1_1Declarator.html#af0454f357891af55721c09b1a88fa5e2">getTypeObject</a>(i).<a class="code" href="structclang_1_1DeclaratorChunk.html#afe7ff226be14b7b19a2fc9cc733b204d">getAttrs</a>());</div>
<div class="line"><a name="l11624"></a><span class="lineno">11624</span>&#160;}</div>
<div class="line"><a name="l11625"></a><span class="lineno">11625</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11626"></a><span class="lineno">11626</span>&#160;<span class="comment">/// DeclClonePragmaWeak - clone existing decl (maybe definition),</span></div>
<div class="line"><a name="l11627"></a><span class="lineno">11627</span>&#160;<span class="comment">/// \#pragma weak needs a non-definition decl and source may not have one.</span></div>
<div class="line"><a name="l11628"></a><span class="lineno">11628</span>&#160;<span class="comment"></span><a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *<a class="code" href="classclang_1_1Sema.html#aff0f7886c084529fd73f67a52d69a432">Sema::DeclClonePragmaWeak</a>(<a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *ND, <span class="keyword">const</span> <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *II,</div>
<div class="line"><a name="l11629"></a><span class="lineno">11629</span>&#160;                                     <a class="code" href="classclang_1_1SourceLocation.html">SourceLocation</a> Loc) {</div>
<div class="line"><a name="l11630"></a><span class="lineno">11630</span>&#160;  assert(isa&lt;FunctionDecl&gt;(ND) || isa&lt;VarDecl&gt;(ND));</div>
<div class="line"><a name="l11631"></a><span class="lineno">11631</span>&#160;  <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *NewD = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l11632"></a><span class="lineno">11632</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(ND)) {</div>
<div class="line"><a name="l11633"></a><span class="lineno">11633</span>&#160;    <a class="code" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *NewFD;</div>
<div class="line"><a name="l11634"></a><span class="lineno">11634</span>&#160;    <span class="comment">// FIXME: Missing call to CheckFunctionDeclaration().</span></div>
<div class="line"><a name="l11635"></a><span class="lineno">11635</span>&#160;    <span class="comment">// FIXME: Mangling?</span></div>
<div class="line"><a name="l11636"></a><span class="lineno">11636</span>&#160;    <span class="comment">// FIXME: Is the qualifier info correct?</span></div>
<div class="line"><a name="l11637"></a><span class="lineno">11637</span>&#160;    <span class="comment">// FIXME: Is the DeclContext correct?</span></div>
<div class="line"><a name="l11638"></a><span class="lineno">11638</span>&#160;    NewFD = <a class="code" href="classclang_1_1FunctionDecl.html#a8c70d72829247fb8ff3a58b935a380af">FunctionDecl::Create</a>(</div>
<div class="line"><a name="l11639"></a><span class="lineno">11639</span>&#160;        FD-&gt;<a class="code" href="classclang_1_1Decl.html#a213239e747fb0b3a0cacd86267339af2">getASTContext</a>(), FD-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>(), Loc, Loc,</div>
<div class="line"><a name="l11640"></a><span class="lineno">11640</span>&#160;        <a class="code" href="classclang_1_1DeclarationName.html">DeclarationName</a>(II), FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>(), FD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#ab852295980e376690af292afb7ce40d6">getTypeSourceInfo</a>(), <a class="code" href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370aebf74ba707605e744f1303f997b2477f">SC_None</a>,</div>
<div class="line"><a name="l11641"></a><span class="lineno">11641</span>&#160;        getCurFPFeatures().isFPConstrained(), <span class="keyword">false</span> <span class="comment">/*isInlineSpecified*/</span>,</div>
<div class="line"><a name="l11642"></a><span class="lineno">11642</span>&#160;        FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a3c07141b907d12b1c37952600899cbb2">hasPrototype</a>(), <a class="code" href="namespaceclang.html#a3019e867704f9d3b354988f302282bc5a6fcdc090caeade09d0efd6253932b6f5">ConstexprSpecKind::Unspecified</a>,</div>
<div class="line"><a name="l11643"></a><span class="lineno">11643</span>&#160;        FD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a26530f47209fb32279e11e1f7df45000">getTrailingRequiresClause</a>());</div>
<div class="line"><a name="l11644"></a><span class="lineno">11644</span>&#160;    NewD = NewFD;</div>
<div class="line"><a name="l11645"></a><span class="lineno">11645</span>&#160; </div>
<div class="line"><a name="l11646"></a><span class="lineno">11646</span>&#160;    <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a4dee8ca84ff0e7c1dcc74d1f89c59327">getQualifier</a>())</div>
<div class="line"><a name="l11647"></a><span class="lineno">11647</span>&#160;      NewFD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#aa27183a8150702d6a4b94bc73a605047">setQualifierInfo</a>(FD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#abcceffc185d10c5c1cc9f26fb0256ce4">getQualifierLoc</a>());</div>
<div class="line"><a name="l11648"></a><span class="lineno">11648</span>&#160; </div>
<div class="line"><a name="l11649"></a><span class="lineno">11649</span>&#160;    <span class="comment">// Fake up parameter variables; they are declared as if this were</span></div>
<div class="line"><a name="l11650"></a><span class="lineno">11650</span>&#160;    <span class="comment">// a typedef.</span></div>
<div class="line"><a name="l11651"></a><span class="lineno">11651</span>&#160;    <a class="code" href="classclang_1_1QualType.html">QualType</a> FDTy = FD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>();</div>
<div class="line"><a name="l11652"></a><span class="lineno">11652</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FT = FDTy-&gt;<a class="code" href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">getAs</a>&lt;<a class="code" href="classclang_1_1FunctionProtoType.html">FunctionProtoType</a>&gt;()) {</div>
<div class="line"><a name="l11653"></a><span class="lineno">11653</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ParmVarDecl*, 16&gt;</a> Params;</div>
<div class="line"><a name="l11654"></a><span class="lineno">11654</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;AI : FT-&gt;param_types()) {</div>
<div class="line"><a name="l11655"></a><span class="lineno">11655</span>&#160;        <a class="code" href="classclang_1_1ParmVarDecl.html">ParmVarDecl</a> *Param = BuildParmVarDeclForTypedef(NewFD, Loc, AI);</div>
<div class="line"><a name="l11656"></a><span class="lineno">11656</span>&#160;        Param-&gt;<a class="code" href="classclang_1_1ParmVarDecl.html#a4cc8300afc1f80e4a56cae8d5b30eb6c">setScopeInfo</a>(0, Params.size());</div>
<div class="line"><a name="l11657"></a><span class="lineno">11657</span>&#160;        Params.push_back(Param);</div>
<div class="line"><a name="l11658"></a><span class="lineno">11658</span>&#160;      }</div>
<div class="line"><a name="l11659"></a><span class="lineno">11659</span>&#160;      NewFD-&gt;setParams(Params);</div>
<div class="line"><a name="l11660"></a><span class="lineno">11660</span>&#160;    }</div>
<div class="line"><a name="l11661"></a><span class="lineno">11661</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(ND)) {</div>
<div class="line"><a name="l11662"></a><span class="lineno">11662</span>&#160;    NewD = <a class="code" href="classclang_1_1VarDecl.html#a06bcd00c13ed00b56a767f33d1b98ddd">VarDecl::Create</a>(VD-&gt;<a class="code" href="classclang_1_1Decl.html#a213239e747fb0b3a0cacd86267339af2">getASTContext</a>(), VD-&gt;<a class="code" href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">getDeclContext</a>(),</div>
<div class="line"><a name="l11663"></a><span class="lineno">11663</span>&#160;                           VD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a2f4a2d9de6cc3baed3a93caf3e06cabc">getInnerLocStart</a>(), VD-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>(), II,</div>
<div class="line"><a name="l11664"></a><span class="lineno">11664</span>&#160;                           VD-&gt;<a class="code" href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">getType</a>(), VD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#ab852295980e376690af292afb7ce40d6">getTypeSourceInfo</a>(),</div>
<div class="line"><a name="l11665"></a><span class="lineno">11665</span>&#160;                           VD-&gt;<a class="code" href="classclang_1_1VarDecl.html#add8da545ba3e9f44462e85440a478546">getStorageClass</a>());</div>
<div class="line"><a name="l11666"></a><span class="lineno">11666</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#a4dee8ca84ff0e7c1dcc74d1f89c59327">getQualifier</a>())</div>
<div class="line"><a name="l11667"></a><span class="lineno">11667</span>&#160;      cast&lt;VarDecl&gt;(NewD)-&gt;setQualifierInfo(VD-&gt;<a class="code" href="classclang_1_1DeclaratorDecl.html#abcceffc185d10c5c1cc9f26fb0256ce4">getQualifierLoc</a>());</div>
<div class="line"><a name="l11668"></a><span class="lineno">11668</span>&#160;  }</div>
<div class="line"><a name="l11669"></a><span class="lineno">11669</span>&#160;  <span class="keywordflow">return</span> NewD;</div>
<div class="line"><a name="l11670"></a><span class="lineno">11670</span>&#160;}</div>
<div class="line"><a name="l11671"></a><span class="lineno">11671</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11672"></a><span class="lineno">11672</span>&#160;<span class="comment">/// DeclApplyPragmaWeak - A declaration (maybe definition) needs \#pragma weak</span></div>
<div class="line"><a name="l11673"></a><span class="lineno">11673</span>&#160;<span class="comment">/// applied to it, possibly with an alias.</span></div>
<div class="line"><a name="l11674"></a><span class="lineno">11674</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#ae5cd761f592d5d1e8616de6605c2d437">Sema::DeclApplyPragmaWeak</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S, <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *ND, <span class="keyword">const</span> <a class="code" href="classclang_1_1WeakInfo.html">WeakInfo</a> &amp;W) {</div>
<div class="line"><a name="l11675"></a><span class="lineno">11675</span>&#160;  <span class="keywordflow">if</span> (W.<a class="code" href="classclang_1_1WeakInfo.html#aa10af00be22a252be0b4b22117a03d59">getAlias</a>()) { <span class="comment">// clone decl, impersonate __attribute(weak,alias(...))</span></div>
<div class="line"><a name="l11676"></a><span class="lineno">11676</span>&#160;    <a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *NDId = ND-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>();</div>
<div class="line"><a name="l11677"></a><span class="lineno">11677</span>&#160;    <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *NewD = DeclClonePragmaWeak(ND, W.<a class="code" href="classclang_1_1WeakInfo.html#aa10af00be22a252be0b4b22117a03d59">getAlias</a>(), W.<a class="code" href="classclang_1_1WeakInfo.html#a92bcd0ae613e5b18b47a90ae63d33487">getLocation</a>());</div>
<div class="line"><a name="l11678"></a><span class="lineno">11678</span>&#160;    NewD-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(</div>
<div class="line"><a name="l11679"></a><span class="lineno">11679</span>&#160;        AliasAttr::CreateImplicit(Context, NDId-&gt;<a class="code" href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">getName</a>(), W.<a class="code" href="classclang_1_1WeakInfo.html#a92bcd0ae613e5b18b47a90ae63d33487">getLocation</a>()));</div>
<div class="line"><a name="l11680"></a><span class="lineno">11680</span>&#160;    NewD-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(WeakAttr::CreateImplicit(Context, W.<a class="code" href="classclang_1_1WeakInfo.html#a92bcd0ae613e5b18b47a90ae63d33487">getLocation</a>(),</div>
<div class="line"><a name="l11681"></a><span class="lineno">11681</span>&#160;                                           <a class="code" href="classclang_1_1AttributeCommonInfo.html#a2fb9e85e18b9794ac89be1ac461704caa2681658f47edcf2402892cc90e0f86a0">AttributeCommonInfo::AS_Pragma</a>));</div>
<div class="line"><a name="l11682"></a><span class="lineno">11682</span>&#160;    WeakTopLevelDecl.push_back(NewD);</div>
<div class="line"><a name="l11683"></a><span class="lineno">11683</span>&#160;    <span class="comment">// FIXME: &quot;hideous&quot; code from Sema::LazilyCreateBuiltin</span></div>
<div class="line"><a name="l11684"></a><span class="lineno">11684</span>&#160;    <span class="comment">// to insert Decl at TU scope, sorry.</span></div>
<div class="line"><a name="l11685"></a><span class="lineno">11685</span>&#160;    <a class="code" href="classclang_1_1DeclContext.html">DeclContext</a> *SavedContext = CurContext;</div>
<div class="line"><a name="l11686"></a><span class="lineno">11686</span>&#160;    CurContext = Context.<a class="code" href="classclang_1_1ASTContext.html#afad71d8f382bf1943bdd25fb89ebc32c">getTranslationUnitDecl</a>();</div>
<div class="line"><a name="l11687"></a><span class="lineno">11687</span>&#160;    NewD-&gt;<a class="code" href="classclang_1_1Decl.html#ada1b39fcda7fc270cf6e73da6a5d7e51">setDeclContext</a>(CurContext);</div>
<div class="line"><a name="l11688"></a><span class="lineno">11688</span>&#160;    NewD-&gt;<a class="code" href="classclang_1_1Decl.html#ae9774d70804bdaa706bd2ba7c5ccb47f">setLexicalDeclContext</a>(CurContext);</div>
<div class="line"><a name="l11689"></a><span class="lineno">11689</span>&#160;    PushOnScopeChains(NewD, S);</div>
<div class="line"><a name="l11690"></a><span class="lineno">11690</span>&#160;    CurContext = SavedContext;</div>
<div class="line"><a name="l11691"></a><span class="lineno">11691</span>&#160;  } <span class="keywordflow">else</span> { <span class="comment">// just add weak to existing</span></div>
<div class="line"><a name="l11692"></a><span class="lineno">11692</span>&#160;    ND-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(WeakAttr::CreateImplicit(Context, W.<a class="code" href="classclang_1_1WeakInfo.html#a92bcd0ae613e5b18b47a90ae63d33487">getLocation</a>(),</div>
<div class="line"><a name="l11693"></a><span class="lineno">11693</span>&#160;                                         <a class="code" href="classclang_1_1AttributeCommonInfo.html#a2fb9e85e18b9794ac89be1ac461704caa2681658f47edcf2402892cc90e0f86a0">AttributeCommonInfo::AS_Pragma</a>));</div>
<div class="line"><a name="l11694"></a><span class="lineno">11694</span>&#160;  }</div>
<div class="line"><a name="l11695"></a><span class="lineno">11695</span>&#160;}</div>
<div class="line"><a name="l11696"></a><span class="lineno">11696</span>&#160; </div>
<div class="line"><a name="l11697"></a><span class="lineno">11697</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a1a69e1a7c273c91b43990655df3b4460">Sema::ProcessPragmaWeak</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l11698"></a><span class="lineno">11698</span>&#160;  <span class="comment">// It&#39;s valid to &quot;forward-declare&quot; #pragma weak, in which case we</span></div>
<div class="line"><a name="l11699"></a><span class="lineno">11699</span>&#160;  <span class="comment">// have to do this.</span></div>
<div class="line"><a name="l11700"></a><span class="lineno">11700</span>&#160;  LoadExternalWeakUndeclaredIdentifiers();</div>
<div class="line"><a name="l11701"></a><span class="lineno">11701</span>&#160;  <span class="keywordflow">if</span> (WeakUndeclaredIdentifiers.empty())</div>
<div class="line"><a name="l11702"></a><span class="lineno">11702</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11703"></a><span class="lineno">11703</span>&#160;  <a class="code" href="classclang_1_1NamedDecl.html">NamedDecl</a> *ND = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l11704"></a><span class="lineno">11704</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *VD = dyn_cast&lt;VarDecl&gt;(D))</div>
<div class="line"><a name="l11705"></a><span class="lineno">11705</span>&#160;    <span class="keywordflow">if</span> (VD-&gt;<a class="code" href="classclang_1_1VarDecl.html#ac8fd16a0daaa9664bdfe5b6527691da7">isExternC</a>())</div>
<div class="line"><a name="l11706"></a><span class="lineno">11706</span>&#160;      ND = VD;</div>
<div class="line"><a name="l11707"></a><span class="lineno">11707</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D))</div>
<div class="line"><a name="l11708"></a><span class="lineno">11708</span>&#160;    <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1FunctionDecl.html#a8ea4efdbab1cfaf5948126baf6b853a8">isExternC</a>())</div>
<div class="line"><a name="l11709"></a><span class="lineno">11709</span>&#160;      ND = FD;</div>
<div class="line"><a name="l11710"></a><span class="lineno">11710</span>&#160;  <span class="keywordflow">if</span> (!ND)</div>
<div class="line"><a name="l11711"></a><span class="lineno">11711</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11712"></a><span class="lineno">11712</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classclang_1_1IdentifierInfo.html">IdentifierInfo</a> *<a class="code" href="ASTDiff_8cpp.html#afe0b47b3c92f2f69ea3da50cb72553eb">Id</a> = ND-&gt;<a class="code" href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">getIdentifier</a>()) {</div>
<div class="line"><a name="l11713"></a><span class="lineno">11713</span>&#160;    <span class="keyword">auto</span> I = WeakUndeclaredIdentifiers.find(<a class="code" href="ASTDiff_8cpp.html#afe0b47b3c92f2f69ea3da50cb72553eb">Id</a>);</div>
<div class="line"><a name="l11714"></a><span class="lineno">11714</span>&#160;    <span class="keywordflow">if</span> (I != WeakUndeclaredIdentifiers.end()) {</div>
<div class="line"><a name="l11715"></a><span class="lineno">11715</span>&#160;      <span class="keyword">auto</span> &amp;WeakInfos = I-&gt;second;</div>
<div class="line"><a name="l11716"></a><span class="lineno">11716</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;W : WeakInfos)</div>
<div class="line"><a name="l11717"></a><span class="lineno">11717</span>&#160;        DeclApplyPragmaWeak(S, ND, W);</div>
<div class="line"><a name="l11718"></a><span class="lineno">11718</span>&#160;      std::remove_reference_t&lt;decltype(WeakInfos)&gt; EmptyWeakInfos;</div>
<div class="line"><a name="l11719"></a><span class="lineno">11719</span>&#160;      WeakInfos.swap(EmptyWeakInfos);</div>
<div class="line"><a name="l11720"></a><span class="lineno">11720</span>&#160;    }</div>
<div class="line"><a name="l11721"></a><span class="lineno">11721</span>&#160;  }</div>
<div class="line"><a name="l11722"></a><span class="lineno">11722</span>&#160;}</div>
<div class="line"><a name="l11723"></a><span class="lineno">11723</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11724"></a><span class="lineno">11724</span>&#160;<span class="comment">/// ProcessDeclAttributes - Given a declarator (PD) with attributes indicated in</span></div>
<div class="line"><a name="l11725"></a><span class="lineno">11725</span>&#160;<span class="comment">/// it, apply them to D.  This is a bit tricky because PD can have attributes</span></div>
<div class="line"><a name="l11726"></a><span class="lineno">11726</span>&#160;<span class="comment">/// specified in many different places, and we need to find and apply them all.</span></div>
<div class="line"><a name="l11727"></a><span class="lineno">11727</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a3278552a9bd7efc68943fcaae2db65cb">Sema::ProcessDeclAttributes</a>(<a class="code" href="classclang_1_1Scope.html">Scope</a> *S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D, <span class="keyword">const</span> <a class="code" href="classclang_1_1Declarator.html">Declarator</a> &amp;PD) {</div>
<div class="line"><a name="l11728"></a><span class="lineno">11728</span>&#160;  <span class="comment">// Apply decl attributes from the DeclSpec if present.</span></div>
<div class="line"><a name="l11729"></a><span class="lineno">11729</span>&#160;  <span class="keywordflow">if</span> (!PD.<a class="code" href="classclang_1_1Declarator.html#a210ac9dbf8138d3c3be39d2d1bad52c6">getDeclSpec</a>().<a class="code" href="classclang_1_1DeclSpec.html#a6943e56367dc870afb5ce6b7de04b972">getAttributes</a>().<a class="code" href="classclang_1_1ParsedAttributesView.html#a7e714c75df9273a2ac5c218afc780527">empty</a>())</div>
<div class="line"><a name="l11730"></a><span class="lineno">11730</span>&#160;    ProcessDeclAttributeList(S, D, PD.<a class="code" href="classclang_1_1Declarator.html#a210ac9dbf8138d3c3be39d2d1bad52c6">getDeclSpec</a>().<a class="code" href="classclang_1_1DeclSpec.html#a6943e56367dc870afb5ce6b7de04b972">getAttributes</a>());</div>
<div class="line"><a name="l11731"></a><span class="lineno">11731</span>&#160; </div>
<div class="line"><a name="l11732"></a><span class="lineno">11732</span>&#160;  <span class="comment">// Walk the declarator structure, applying decl attributes that were in a type</span></div>
<div class="line"><a name="l11733"></a><span class="lineno">11733</span>&#160;  <span class="comment">// position to the decl itself.  This handles cases like:</span></div>
<div class="line"><a name="l11734"></a><span class="lineno">11734</span>&#160;  <span class="comment">//   int *__attr__(x)** D;</span></div>
<div class="line"><a name="l11735"></a><span class="lineno">11735</span>&#160;  <span class="comment">// when X is a decl attribute.</span></div>
<div class="line"><a name="l11736"></a><span class="lineno">11736</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = PD.<a class="code" href="classclang_1_1Declarator.html#a67506dfb74dc57c4e9e1821a6627bd68">getNumTypeObjects</a>(); i != e; ++i)</div>
<div class="line"><a name="l11737"></a><span class="lineno">11737</span>&#160;    ProcessDeclAttributeList(S, D, PD.<a class="code" href="classclang_1_1Declarator.html#af0454f357891af55721c09b1a88fa5e2">getTypeObject</a>(i).<a class="code" href="structclang_1_1DeclaratorChunk.html#afe7ff226be14b7b19a2fc9cc733b204d">getAttrs</a>(),</div>
<div class="line"><a name="l11738"></a><span class="lineno">11738</span>&#160;                             <span class="comment">/*IncludeCXX11Attributes=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l11739"></a><span class="lineno">11739</span>&#160; </div>
<div class="line"><a name="l11740"></a><span class="lineno">11740</span>&#160;  <span class="comment">// Finally, apply any attributes on the decl itself.</span></div>
<div class="line"><a name="l11741"></a><span class="lineno">11741</span>&#160;  ProcessDeclAttributeList(S, D, PD.<a class="code" href="classclang_1_1Declarator.html#ad207fc91c77fda862755fb315e6c47dc">getAttributes</a>());</div>
<div class="line"><a name="l11742"></a><span class="lineno">11742</span>&#160; </div>
<div class="line"><a name="l11743"></a><span class="lineno">11743</span>&#160;  <span class="comment">// Apply additional attributes specified by &#39;#pragma clang attribute&#39;.</span></div>
<div class="line"><a name="l11744"></a><span class="lineno">11744</span>&#160;  AddPragmaAttributes(S, D);</div>
<div class="line"><a name="l11745"></a><span class="lineno">11745</span>&#160;}</div>
<div class="line"><a name="l11746"></a><span class="lineno">11746</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11747"></a><span class="lineno">11747</span>&#160;<span class="comment">/// Is the given declaration allowed to use a forbidden type?</span></div>
<div class="line"><a name="l11748"></a><span class="lineno">11748</span>&#160;<span class="comment">/// If so, it&#39;ll still be annotated with an attribute that makes it</span></div>
<div class="line"><a name="l11749"></a><span class="lineno">11749</span>&#160;<span class="comment">/// illegal to actually use.</span></div>
<div class="line"><a name="l11750"></a><span class="lineno">11750</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isForbiddenTypeAllowed(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1Decl.html">Decl</a> *D,</div>
<div class="line"><a name="l11751"></a><span class="lineno">11751</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html">DelayedDiagnostic</a> &amp;diag,</div>
<div class="line"><a name="l11752"></a><span class="lineno">11752</span>&#160;                                   UnavailableAttr::ImplicitReason &amp;reason) {</div>
<div class="line"><a name="l11753"></a><span class="lineno">11753</span>&#160;  <span class="comment">// Private ivars are always okay.  Unfortunately, people don&#39;t</span></div>
<div class="line"><a name="l11754"></a><span class="lineno">11754</span>&#160;  <span class="comment">// always properly make their ivars private, even in system headers.</span></div>
<div class="line"><a name="l11755"></a><span class="lineno">11755</span>&#160;  <span class="comment">// Plus we need to make fields okay, too.</span></div>
<div class="line"><a name="l11756"></a><span class="lineno">11756</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;FieldDecl&gt;(D) &amp;&amp; !isa&lt;ObjCPropertyDecl&gt;(D) &amp;&amp;</div>
<div class="line"><a name="l11757"></a><span class="lineno">11757</span>&#160;      !isa&lt;FunctionDecl&gt;(D))</div>
<div class="line"><a name="l11758"></a><span class="lineno">11758</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11759"></a><span class="lineno">11759</span>&#160; </div>
<div class="line"><a name="l11760"></a><span class="lineno">11760</span>&#160;  <span class="comment">// Silently accept unsupported uses of __weak in both user and system</span></div>
<div class="line"><a name="l11761"></a><span class="lineno">11761</span>&#160;  <span class="comment">// declarations when it&#39;s been disabled, for ease of integration with</span></div>
<div class="line"><a name="l11762"></a><span class="lineno">11762</span>&#160;  <span class="comment">// -fno-objc-arc files.  We do have to take some care against attempts</span></div>
<div class="line"><a name="l11763"></a><span class="lineno">11763</span>&#160;  <span class="comment">// to define such things;  for now, we&#39;ve only done that for ivars</span></div>
<div class="line"><a name="l11764"></a><span class="lineno">11764</span>&#160;  <span class="comment">// and properties.</span></div>
<div class="line"><a name="l11765"></a><span class="lineno">11765</span>&#160;  <span class="keywordflow">if</span> ((isa&lt;ObjCIvarDecl&gt;(D) || isa&lt;ObjCPropertyDecl&gt;(D))) {</div>
<div class="line"><a name="l11766"></a><span class="lineno">11766</span>&#160;    <span class="keywordflow">if</span> (diag.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#a40e7c3c2da0322d9069c05f63d078f75">getForbiddenTypeDiagnostic</a>() == diag::err_arc_weak_disabled ||</div>
<div class="line"><a name="l11767"></a><span class="lineno">11767</span>&#160;        diag.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#a40e7c3c2da0322d9069c05f63d078f75">getForbiddenTypeDiagnostic</a>() == diag::err_arc_weak_no_runtime) {</div>
<div class="line"><a name="l11768"></a><span class="lineno">11768</span>&#160;      reason = UnavailableAttr::IR_ForbiddenWeak;</div>
<div class="line"><a name="l11769"></a><span class="lineno">11769</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11770"></a><span class="lineno">11770</span>&#160;    }</div>
<div class="line"><a name="l11771"></a><span class="lineno">11771</span>&#160;  }</div>
<div class="line"><a name="l11772"></a><span class="lineno">11772</span>&#160; </div>
<div class="line"><a name="l11773"></a><span class="lineno">11773</span>&#160;  <span class="comment">// Allow all sorts of things in system headers.</span></div>
<div class="line"><a name="l11774"></a><span class="lineno">11774</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>.<a class="code" href="classclang_1_1ASTContext.html#a091e2575135f7f9f1aeb25ba0090bfde">getSourceManager</a>().<a class="code" href="classclang_1_1SourceManager.html#aa728bad682c5216d9efa45c03404447a">isInSystemHeader</a>(D-&gt;<a class="code" href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">getLocation</a>())) {</div>
<div class="line"><a name="l11775"></a><span class="lineno">11775</span>&#160;    <span class="comment">// Currently, all the failures dealt with this way are due to ARC</span></div>
<div class="line"><a name="l11776"></a><span class="lineno">11776</span>&#160;    <span class="comment">// restrictions.</span></div>
<div class="line"><a name="l11777"></a><span class="lineno">11777</span>&#160;    reason = UnavailableAttr::IR_ARCForbiddenType;</div>
<div class="line"><a name="l11778"></a><span class="lineno">11778</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l11779"></a><span class="lineno">11779</span>&#160;  }</div>
<div class="line"><a name="l11780"></a><span class="lineno">11780</span>&#160; </div>
<div class="line"><a name="l11781"></a><span class="lineno">11781</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l11782"></a><span class="lineno">11782</span>&#160;}</div>
<div class="line"><a name="l11783"></a><span class="lineno">11783</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11784"></a><span class="lineno">11784</span>&#160;<span class="comment">/// Handle a delayed forbidden-type diagnostic.</span></div>
<div class="line"><a name="l11785"></a><span class="lineno">11785</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> handleDelayedForbiddenType(<a class="code" href="classclang_1_1Sema.html">Sema</a> &amp;S, <a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html">DelayedDiagnostic</a> &amp;DD,</div>
<div class="line"><a name="l11786"></a><span class="lineno">11786</span>&#160;                                       <a class="code" href="classclang_1_1Decl.html">Decl</a> *D) {</div>
<div class="line"><a name="l11787"></a><span class="lineno">11787</span>&#160;  <span class="keyword">auto</span> Reason = UnavailableAttr::IR_None;</div>
<div class="line"><a name="l11788"></a><span class="lineno">11788</span>&#160;  <span class="keywordflow">if</span> (D &amp;&amp; isForbiddenTypeAllowed(S, D, DD, Reason)) {</div>
<div class="line"><a name="l11789"></a><span class="lineno">11789</span>&#160;    assert(Reason &amp;&amp; <span class="stringliteral">&quot;didn&#39;t set reason?&quot;</span>);</div>
<div class="line"><a name="l11790"></a><span class="lineno">11790</span>&#160;    D-&gt;<a class="code" href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">addAttr</a>(UnavailableAttr::CreateImplicit(S.<a class="code" href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">Context</a>, <span class="stringliteral">&quot;&quot;</span>, Reason, DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#ae4bff0be3d2320268c531175fbd44b8d">Loc</a>));</div>
<div class="line"><a name="l11791"></a><span class="lineno">11791</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11792"></a><span class="lineno">11792</span>&#160;  }</div>
<div class="line"><a name="l11793"></a><span class="lineno">11793</span>&#160;  <span class="keywordflow">if</span> (S.<a class="code" href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">getLangOpts</a>().ObjCAutoRefCount)</div>
<div class="line"><a name="l11794"></a><span class="lineno">11794</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *FD = dyn_cast&lt;FunctionDecl&gt;(D)) {</div>
<div class="line"><a name="l11795"></a><span class="lineno">11795</span>&#160;      <span class="comment">// FIXME: we may want to suppress diagnostics for all</span></div>
<div class="line"><a name="l11796"></a><span class="lineno">11796</span>&#160;      <span class="comment">// kind of forbidden type messages on unavailable functions.</span></div>
<div class="line"><a name="l11797"></a><span class="lineno">11797</span>&#160;      <span class="keywordflow">if</span> (FD-&gt;<a class="code" href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">hasAttr</a>&lt;UnavailableAttr&gt;() &amp;&amp;</div>
<div class="line"><a name="l11798"></a><span class="lineno">11798</span>&#160;          DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#a40e7c3c2da0322d9069c05f63d078f75">getForbiddenTypeDiagnostic</a>() ==</div>
<div class="line"><a name="l11799"></a><span class="lineno">11799</span>&#160;              diag::err_arc_array_param_no_ownership) {</div>
<div class="line"><a name="l11800"></a><span class="lineno">11800</span>&#160;        DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#aaffb3d2350bd46b16becaf19f52915ff">Triggered</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l11801"></a><span class="lineno">11801</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11802"></a><span class="lineno">11802</span>&#160;      }</div>
<div class="line"><a name="l11803"></a><span class="lineno">11803</span>&#160;    }</div>
<div class="line"><a name="l11804"></a><span class="lineno">11804</span>&#160; </div>
<div class="line"><a name="l11805"></a><span class="lineno">11805</span>&#160;  S.<a class="code" href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">Diag</a>(DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#ae4bff0be3d2320268c531175fbd44b8d">Loc</a>, DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#a40e7c3c2da0322d9069c05f63d078f75">getForbiddenTypeDiagnostic</a>())</div>
<div class="line"><a name="l11806"></a><span class="lineno">11806</span>&#160;      &lt;&lt; DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#a07037250678ee16ef8e3ae54c84484b7">getForbiddenTypeOperand</a>() &lt;&lt; DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#ad5fbbf6c86a0f38a6ef069b510f1c0e2">getForbiddenTypeArgument</a>();</div>
<div class="line"><a name="l11807"></a><span class="lineno">11807</span>&#160;  DD.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#aaffb3d2350bd46b16becaf19f52915ff">Triggered</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l11808"></a><span class="lineno">11808</span>&#160;}</div>
<div class="line"><a name="l11809"></a><span class="lineno">11809</span>&#160; </div>
<div class="line"><a name="l11810"></a><span class="lineno">11810</span>&#160; </div>
<div class="line"><a name="l11811"></a><span class="lineno">11811</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a6167585a11fb4b402322e834ce50bbc7">Sema::PopParsingDeclaration</a>(ParsingDeclState <a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>, <a class="code" href="classclang_1_1Decl.html">Decl</a> *<a class="code" href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">decl</a>) {</div>
<div class="line"><a name="l11812"></a><span class="lineno">11812</span>&#160;  assert(DelayedDiagnostics.getCurrentPool());</div>
<div class="line"><a name="l11813"></a><span class="lineno">11813</span>&#160;  <a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html">DelayedDiagnosticPool</a> &amp;poppedPool = *DelayedDiagnostics.getCurrentPool();</div>
<div class="line"><a name="l11814"></a><span class="lineno">11814</span>&#160;  DelayedDiagnostics.popWithoutEmitting(<a class="code" href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a>);</div>
<div class="line"><a name="l11815"></a><span class="lineno">11815</span>&#160; </div>
<div class="line"><a name="l11816"></a><span class="lineno">11816</span>&#160;  <span class="comment">// When delaying diagnostics to run in the context of a parsed</span></div>
<div class="line"><a name="l11817"></a><span class="lineno">11817</span>&#160;  <span class="comment">// declaration, we only want to actually emit anything if parsing</span></div>
<div class="line"><a name="l11818"></a><span class="lineno">11818</span>&#160;  <span class="comment">// succeeds.</span></div>
<div class="line"><a name="l11819"></a><span class="lineno">11819</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">decl</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11820"></a><span class="lineno">11820</span>&#160; </div>
<div class="line"><a name="l11821"></a><span class="lineno">11821</span>&#160;  <span class="comment">// We emit all the active diagnostics in this pool or any of its</span></div>
<div class="line"><a name="l11822"></a><span class="lineno">11822</span>&#160;  <span class="comment">// parents.  In general, we&#39;ll get one pool for the decl spec</span></div>
<div class="line"><a name="l11823"></a><span class="lineno">11823</span>&#160;  <span class="comment">// and a child pool for each declarator; in a decl group like:</span></div>
<div class="line"><a name="l11824"></a><span class="lineno">11824</span>&#160;  <span class="comment">//   deprecated_typedef foo, *bar, baz();</span></div>
<div class="line"><a name="l11825"></a><span class="lineno">11825</span>&#160;  <span class="comment">// only the declarator pops will be passed decls.  This is correct;</span></div>
<div class="line"><a name="l11826"></a><span class="lineno">11826</span>&#160;  <span class="comment">// we really do need to consider delayed diagnostics from the decl spec</span></div>
<div class="line"><a name="l11827"></a><span class="lineno">11827</span>&#160;  <span class="comment">// for each of the different declarations.</span></div>
<div class="line"><a name="l11828"></a><span class="lineno">11828</span>&#160;  <span class="keyword">const</span> <a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html">DelayedDiagnosticPool</a> *pool = &amp;poppedPool;</div>
<div class="line"><a name="l11829"></a><span class="lineno">11829</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l11830"></a><span class="lineno">11830</span>&#160;    <span class="keywordtype">bool</span> AnyAccessFailures = <span class="keyword">false</span>;</div>
<div class="line"><a name="l11831"></a><span class="lineno">11831</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a84c81985b9269ed871e17bbc30ad4383">DelayedDiagnosticPool::pool_iterator</a></div>
<div class="line"><a name="l11832"></a><span class="lineno">11832</span>&#160;           i = pool-&gt;<a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a9dfa9df1db1885fa186cf7c0e5d85643">pool_begin</a>(), e = pool-&gt;<a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a4bb3789eda388bfc88684ae7431172d9">pool_end</a>(); i != e; ++i) {</div>
<div class="line"><a name="l11833"></a><span class="lineno">11833</span>&#160;      <span class="comment">// This const_cast is a bit lame.  Really, Triggered should be mutable.</span></div>
<div class="line"><a name="l11834"></a><span class="lineno">11834</span>&#160;      <a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html">DelayedDiagnostic</a> &amp;diag = <span class="keyword">const_cast&lt;</span><a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html">DelayedDiagnostic</a>&amp;<span class="keyword">&gt;</span>(*i);</div>
<div class="line"><a name="l11835"></a><span class="lineno">11835</span>&#160;      <span class="keywordflow">if</span> (diag.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#aaffb3d2350bd46b16becaf19f52915ff">Triggered</a>)</div>
<div class="line"><a name="l11836"></a><span class="lineno">11836</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11837"></a><span class="lineno">11837</span>&#160; </div>
<div class="line"><a name="l11838"></a><span class="lineno">11838</span>&#160;      <span class="keywordflow">switch</span> (diag.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#a4fe071140fa6550b1ab3755c78fcc77c">Kind</a>) {</div>
<div class="line"><a name="l11839"></a><span class="lineno">11839</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#afa3dde167bc8345f26f38d4fa2066218a86ef175926cfc338df48abe9080d8198">DelayedDiagnostic::Availability</a>:</div>
<div class="line"><a name="l11840"></a><span class="lineno">11840</span>&#160;        <span class="comment">// Don&#39;t bother giving deprecation/unavailable diagnostics if</span></div>
<div class="line"><a name="l11841"></a><span class="lineno">11841</span>&#160;        <span class="comment">// the decl is invalid.</span></div>
<div class="line"><a name="l11842"></a><span class="lineno">11842</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">decl</a>-&gt;isInvalidDecl())</div>
<div class="line"><a name="l11843"></a><span class="lineno">11843</span>&#160;          handleDelayedAvailabilityCheck(diag, <a class="code" href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">decl</a>);</div>
<div class="line"><a name="l11844"></a><span class="lineno">11844</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11845"></a><span class="lineno">11845</span>&#160; </div>
<div class="line"><a name="l11846"></a><span class="lineno">11846</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#afa3dde167bc8345f26f38d4fa2066218abc00a3b6a9b0a61d63d0b7e9dacb6cd9">DelayedDiagnostic::Access</a>:</div>
<div class="line"><a name="l11847"></a><span class="lineno">11847</span>&#160;        <span class="comment">// Only produce one access control diagnostic for a structured binding</span></div>
<div class="line"><a name="l11848"></a><span class="lineno">11848</span>&#160;        <span class="comment">// declaration: we don&#39;t need to tell the user that all the fields are</span></div>
<div class="line"><a name="l11849"></a><span class="lineno">11849</span>&#160;        <span class="comment">// inaccessible one at a time.</span></div>
<div class="line"><a name="l11850"></a><span class="lineno">11850</span>&#160;        <span class="keywordflow">if</span> (AnyAccessFailures &amp;&amp; isa&lt;DecompositionDecl&gt;(<a class="code" href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">decl</a>))</div>
<div class="line"><a name="l11851"></a><span class="lineno">11851</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11852"></a><span class="lineno">11852</span>&#160;        HandleDelayedAccessCheck(diag, <a class="code" href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">decl</a>);</div>
<div class="line"><a name="l11853"></a><span class="lineno">11853</span>&#160;        <span class="keywordflow">if</span> (diag.<a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#aaffb3d2350bd46b16becaf19f52915ff">Triggered</a>)</div>
<div class="line"><a name="l11854"></a><span class="lineno">11854</span>&#160;          AnyAccessFailures = <span class="keyword">true</span>;</div>
<div class="line"><a name="l11855"></a><span class="lineno">11855</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11856"></a><span class="lineno">11856</span>&#160; </div>
<div class="line"><a name="l11857"></a><span class="lineno">11857</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classclang_1_1sema_1_1DelayedDiagnostic.html#afa3dde167bc8345f26f38d4fa2066218a7dee369e551e16e70285592d85dc620f">DelayedDiagnostic::ForbiddenType</a>:</div>
<div class="line"><a name="l11858"></a><span class="lineno">11858</span>&#160;        handleDelayedForbiddenType(*<span class="keyword">this</span>, diag, <a class="code" href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">decl</a>);</div>
<div class="line"><a name="l11859"></a><span class="lineno">11859</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11860"></a><span class="lineno">11860</span>&#160;      }</div>
<div class="line"><a name="l11861"></a><span class="lineno">11861</span>&#160;    }</div>
<div class="line"><a name="l11862"></a><span class="lineno">11862</span>&#160;  } <span class="keywordflow">while</span> ((pool = pool-&gt;<a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a209dca4063833b3049aacd198ac9fab4">getParent</a>()));</div>
<div class="line"><a name="l11863"></a><span class="lineno">11863</span>&#160;}</div>
<div class="line"><a name="l11864"></a><span class="lineno">11864</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l11865"></a><span class="lineno">11865</span>&#160;<span class="comment">/// Given a set of delayed diagnostics, re-emit them as if they had</span></div>
<div class="line"><a name="l11866"></a><span class="lineno">11866</span>&#160;<span class="comment">/// been delayed in the current context instead of in the given pool.</span></div>
<div class="line"><a name="l11867"></a><span class="lineno">11867</span>&#160;<span class="comment">/// Essentially, this just moves them to the current pool.</span></div>
<div class="line"><a name="l11868"></a><span class="lineno">11868</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classclang_1_1Sema.html#a5266b3e7ca4ce8afaae1f26f48cdb176">Sema::redelayDiagnostics</a>(<a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html">DelayedDiagnosticPool</a> &amp;pool) {</div>
<div class="line"><a name="l11869"></a><span class="lineno">11869</span>&#160;  <a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html">DelayedDiagnosticPool</a> *curPool = DelayedDiagnostics.getCurrentPool();</div>
<div class="line"><a name="l11870"></a><span class="lineno">11870</span>&#160;  assert(curPool &amp;&amp; <span class="stringliteral">&quot;re-emitting in undelayed context not supported&quot;</span>);</div>
<div class="line"><a name="l11871"></a><span class="lineno">11871</span>&#160;  curPool-&gt;<a class="code" href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a1c66115b3158ca10bff1e75b929d0a92">steal</a>(pool);</div>
<div class="line"><a name="l11872"></a><span class="lineno">11872</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassclang_1_1Decl_html_ae9774d70804bdaa706bd2ba7c5ccb47f"><div class="ttname"><a href="classclang_1_1Decl.html#ae9774d70804bdaa706bd2ba7c5ccb47f">clang::Decl::setLexicalDeclContext</a></div><div class="ttdeci">void setLexicalDeclContext(DeclContext *DC)</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00331">DeclBase.cpp:331</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a522d6c088d4e3e61918a13a1e4c65a4f"><div class="ttname"><a href="classclang_1_1Type.html#a522d6c088d4e3e61918a13a1e4c65a4f">clang::Type::isIntegralType</a></div><div class="ttdeci">bool isIntegralType(const ASTContext &amp;Ctx) const</div><div class="ttdoc">Determine whether this type is an integral type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l01931">Type.cpp:1931</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_af85f17313658274e0a36974ebc397dfa"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#af85f17313658274e0a36974ebc397dfa">clang::AttributeCommonInfo::getParsedKind</a></div><div class="ttdeci">Kind getParsedKind() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00126">AttributeCommonInfo.h:126</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a293a12ce6ae216861c1034a6168a7278"><div class="ttname"><a href="classclang_1_1Sema.html#a293a12ce6ae216861c1034a6168a7278">clang::Sema::MergeIntelNamedSubGroupSizeAttr</a></div><div class="ttdeci">IntelNamedSubGroupSizeAttr * MergeIntelNamedSubGroupSizeAttr(Decl *D, const IntelNamedSubGroupSizeAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1BuiltinType_html"><div class="ttname"><a href="classclang_1_1BuiltinType.html">clang::BuiltinType</a></div><div class="ttdoc">This class is used for builtin types like 'int'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02502">Type.h:2502</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_a2f4a2d9de6cc3baed3a93caf3e06cabc"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#a2f4a2d9de6cc3baed3a93caf3e06cabc">clang::DeclaratorDecl::getInnerLocStart</a></div><div class="ttdeci">SourceLocation getInnerLocStart() const</div><div class="ttdoc">Return start of source range ignoring outer template declarations.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00770">Decl.h:770</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html_a7819f2b9d4b7a93fdb1d54d263feecf5"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html#a7819f2b9d4b7a93fdb1d54d263feecf5">clang::CXXMethodDecl::getThisType</a></div><div class="ttdeci">QualType getThisType() const</div><div class="ttdoc">Return the type of the this pointer.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8cpp_source.html#l02452">DeclCXX.cpp:2452</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a59d59133853ba408765f1a1995d0f5ca"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a59d59133853ba408765f1a1995d0f5ca">checkAttrMutualExclusion</a></div><div class="ttdeci">static bool checkAttrMutualExclusion(Sema &amp;S, Decl *D, const AttributeCommonInfo &amp;AL)</div><div class="ttdoc">Diagnose mutually exclusive attributes when present on a given declaration.</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00272">SemaDeclAttr.cpp:272</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a2ede9a6e1997f827604458045541e339"><div class="ttname"><a href="classclang_1_1Sema.html#a2ede9a6e1997f827604458045541e339">clang::Sema::MergeIntelFPGABankWidthAttr</a></div><div class="ttdeci">IntelFPGABankWidthAttr * MergeIntelFPGABankWidthAttr(Decl *D, const IntelFPGABankWidthAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html">clang::ObjCInterfaceDecl</a></div><div class="ttdoc">Represents an ObjC class declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l01150">DeclObjC.h:1150</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_acf8615443621aecf51b66bd3daaee4da"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#acf8615443621aecf51b66bd3daaee4da">clang::ParsedAttr::getAvailabilityDeprecated</a></div><div class="ttdeci">const AvailabilityChange &amp; getAvailabilityDeprecated() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00528">ParsedAttr.h:528</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a58d48cf40e73e186b299875dac826862"><div class="ttname"><a href="classclang_1_1Sema.html#a58d48cf40e73e186b299875dac826862">clang::Sema::UnifySection</a></div><div class="ttdeci">bool UnifySection(StringRef SectionName, int SectionFlags, NamedDecl *TheDecl)</div><div class="ttdef"><b>Definition:</b> <a href="SemaAttr_8cpp_source.html#l00643">SemaAttr.cpp:643</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_aac0f6e44dc104b9ee57284650d014a01"><div class="ttname"><a href="classclang_1_1Type.html#aac0f6e44dc104b9ee57284650d014a01">clang::Type::getObjCARCImplicitLifetime</a></div><div class="ttdeci">Qualifiers::ObjCLifetime getObjCARCImplicitLifetime() const</div><div class="ttdoc">Return the implicit lifetime for this type, which must not be dependent.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l04280">Type.cpp:4280</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aae4037480b305412714dde2e6fc2039ea85481440eaaebe0f668a5bcf23a13c9c"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea85481440eaaebe0f668a5bcf23a13c9c">clang::TargetInfo::CCCR_Ignore</a></div><div class="ttdeci">@ CCCR_Ignore</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01505">TargetInfo.h:1505</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_ad35282e02924165aae3b360b22ab028e"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#ad35282e02924165aae3b360b22ab028e">isInstanceMethod</a></div><div class="ttdeci">static bool isInstanceMethod(const Decl *D)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00153">SemaDeclAttr.cpp:153</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_abc97ce21ef0d738c701e1486a3c41230"><div class="ttname"><a href="classclang_1_1Sema.html#abc97ce21ef0d738c701e1486a3c41230">clang::Sema::checkTargetAttr</a></div><div class="ttdeci">bool checkTargetAttr(SourceLocation LiteralLoc, StringRef Str)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a15d472bbbf4c14e18f43f3a2fdd66976a17bc10091293fdc562a6db69940ee924"><div class="ttname"><a href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976a17bc10091293fdc562a6db69940ee924">clang::Sema::RetainOwnershipKind::OS</a></div><div class="ttdeci">@ OS</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a37a7ca4a0843130152942ffd58597012"><div class="ttname"><a href="classclang_1_1Sema.html#a37a7ca4a0843130152942ffd58597012">clang::Sema::mergeMSInheritanceAttr</a></div><div class="ttdeci">MSInheritanceAttr * mergeMSInheritanceAttr(Decl *D, const AttributeCommonInfo &amp;CI, bool BestCase, MSInheritanceModel Model)</div></div>
<div class="ttc" id="a____clang__cuda__math_8h_html_ae6bb573e13e3bd5738c8faa552b6a129"><div class="ttname"><a href="____clang__cuda__math_8h.html#ae6bb573e13e3bd5738c8faa552b6a129">max</a></div><div class="ttdeci">__DEVICE__ int max(int __a, int __b)</div><div class="ttdef"><b>Definition:</b> <a href="____clang__cuda__math_8h_source.html#l00196">__clang_cuda_math.h:196</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a213239e747fb0b3a0cacd86267339af2"><div class="ttname"><a href="classclang_1_1Decl.html#a213239e747fb0b3a0cacd86267339af2">clang::Decl::getASTContext</a></div><div class="ttdeci">ASTContext &amp; getASTContext() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00414">DeclBase.cpp:414</a></div></div>
<div class="ttc" id="aclassclang_1_1AccessSpecDecl_html"><div class="ttname"><a href="classclang_1_1AccessSpecDecl.html">clang::AccessSpecDecl</a></div><div class="ttdoc">Represents an access specifier followed by colon ':'.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l00086">DeclCXX.h:86</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_abb126c27ac7070ff0f79c4dfd5286de8"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#abb126c27ac7070ff0f79c4dfd5286de8">clang::ParsedAttr::getMessageExpr</a></div><div class="ttdeci">const Expr * getMessageExpr() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00552">ParsedAttr.h:552</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_ae31723cc087393a154e70e5015828bf8"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#ae31723cc087393a154e70e5015828bf8">clang::AttributeCommonInfo::getLoc</a></div><div class="ttdeci">SourceLocation getLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00129">AttributeCommonInfo.h:129</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a8285a21ebc94f5fdc127b1757c2a57fd"><div class="ttname"><a href="classclang_1_1QualType.html#a8285a21ebc94f5fdc127b1757c2a57fd">clang::QualType::getObjCLifetime</a></div><div class="ttdeci">Qualifiers::ObjCLifetime getObjCLifetime() const</div><div class="ttdoc">Returns lifetime attribute of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l01122">Type.h:1122</a></div></div>
<div class="ttc" id="aclassclang_1_1RecordDecl_html_afc36412f0657ec2e9810e6f9d321b29a"><div class="ttname"><a href="classclang_1_1RecordDecl.html#afc36412f0657ec2e9810e6f9d321b29a">clang::RecordDecl::field_begin</a></div><div class="ttdeci">field_iterator field_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l04639">Decl.cpp:4639</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a16931d319b70270aef72375d85a585f4"><div class="ttname"><a href="classclang_1_1ASTContext.html#a16931d319b70270aef72375d85a585f4">clang::ASTContext::getObjCInstanceTypeDecl</a></div><div class="ttdeci">TypedefDecl * getObjCInstanceTypeDecl()</div><div class="ttdoc">Retrieve the typedef declaration corresponding to the Objective-C &quot;instancetype&quot; type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l07389">ASTContext.cpp:7389</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_abe7399aec8bd64d8e95579dbbda907a6"><div class="ttname"><a href="classclang_1_1Sema.html#abe7399aec8bd64d8e95579dbbda907a6">clang::Sema::MergeIntelFPGAMaxReplicatesAttr</a></div><div class="ttdeci">IntelFPGAMaxReplicatesAttr * MergeIntelFPGAMaxReplicatesAttr(Decl *D, const IntelFPGAMaxReplicatesAttr &amp;A)</div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a10579cffb2afe5a445a4e0a7e0cd64b3"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a10579cffb2afe5a445a4e0a7e0cd64b3">isNSStringType</a></div><div class="ttdeci">static bool isNSStringType(QualType T, ASTContext &amp;Ctx, bool AllowNSAttributedString=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00159">SemaDeclAttr.cpp:159</a></div></div>
<div class="ttc" id="astructclang_1_1IdentifierLoc_html_a57f05785901045720c4255a8761f780c"><div class="ttname"><a href="structclang_1_1IdentifierLoc.html#a57f05785901045720c4255a8761f780c">clang::IdentifierLoc::Ident</a></div><div class="ttdeci">IdentifierInfo * Ident</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00220">ParsedAttr.h:220</a></div></div>
<div class="ttc" id="astructclang_1_1DarwinSDKInfo_1_1OSEnvPair_html_a2bc7adefa88f31da8b31382fab8d9b3a"><div class="ttname"><a href="structclang_1_1DarwinSDKInfo_1_1OSEnvPair.html#a2bc7adefa88f31da8b31382fab8d9b3a">clang::DarwinSDKInfo::OSEnvPair::iOStoWatchOSPair</a></div><div class="ttdeci">static constexpr OSEnvPair iOStoWatchOSPair()</div><div class="ttdoc">Returns the os-environment mapping pair that's used to represent the iOS -&gt; watchOS version mapping.</div><div class="ttdef"><b>Definition:</b> <a href="DarwinSDKInfo_8h_source.html#l00062">DarwinSDKInfo.h:62</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_abe9f1fa0ebd703587762db886aabe459"><div class="ttname"><a href="classclang_1_1Decl.html#abe9f1fa0ebd703587762db886aabe459">clang::Decl::getBeginLoc</a></div><div class="ttdeci">SourceLocation getBeginLoc() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00416">DeclBase.h:416</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25baeee847654c699507e58f40edaef0256a"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25baeee847654c699507e58f40edaef0256a">clang::CC_X86FastCall</a></div><div class="ttdeci">@ CC_X86FastCall</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00266">Specifiers.h:266</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a15d472bbbf4c14e18f43f3a2fdd66976"><div class="ttname"><a href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976">clang::Sema::RetainOwnershipKind</a></div><div class="ttdeci">RetainOwnershipKind</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l10709">Sema.h:10709</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ae3cf2778dffe5ebe820cf811ca0a134f"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ae3cf2778dffe5ebe820cf811ca0a134f">clang::FunctionDecl::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const</div><div class="ttdoc">Return the number of parameters this function must have based on its FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l03402">Decl.cpp:3402</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a06d89fecda3031cfd993e15b425212b2"><div class="ttname"><a href="classclang_1_1Type.html#a06d89fecda3031cfd993e15b425212b2">clang::Type::isBlockPointerType</a></div><div class="ttdeci">bool isBlockPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06758">Type.h:6758</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_ac87b24f7db0903bf1bbf419165c4deeb"><div class="ttname"><a href="classclang_1_1DeclContext.html#ac87b24f7db0903bf1bbf419165c4deeb">clang::DeclContext::decls</a></div><div class="ttdeci">decl_range decls() const</div><div class="ttdoc">decls_begin/decls_end - Iterate over the declarations stored in this context.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l02127">DeclBase.h:2127</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_ada1b39fcda7fc270cf6e73da6a5d7e51"><div class="ttname"><a href="classclang_1_1Decl.html#ada1b39fcda7fc270cf6e73da6a5d7e51">clang::Decl::setDeclContext</a></div><div class="ttdeci">void setDeclContext(DeclContext *DC)</div><div class="ttdoc">setDeclContext - Set both the semantic and lexical DeclContext to DC.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00327">DeclBase.cpp:327</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedTargetAttr_html_ac8bc9ff82d81cdc0d512f7f6f0e676ca"><div class="ttname"><a href="structclang_1_1ParsedTargetAttr.html#ac8bc9ff82d81cdc0d512f7f6f0e676ca">clang::ParsedTargetAttr::Architecture</a></div><div class="ttdeci">StringRef Architecture</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00356">Attr.h:356</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a9228a5ca2ef63a84c06fe4f71754daa7"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a9228a5ca2ef63a84c06fe4f71754daa7">clang::ParsedAttr::getNumArgMembers</a></div><div class="ttdeci">unsigned getNumArgMembers() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00158">ParsedAttr.cpp:158</a></div></div>
<div class="ttc" id="aclassclang_1_1Builtin_1_1Context_html_a34cb76e6f3b52104086f87965ece53f9"><div class="ttname"><a href="classclang_1_1Builtin_1_1Context.html#a34cb76e6f3b52104086f87965ece53f9">clang::Builtin::Context::isBuiltinFunc</a></div><div class="ttdeci">static bool isBuiltinFunc(llvm::StringRef Name)</div><div class="ttdoc">Returns true if this is a libc/libm function without the '__builtin_' prefix.</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8cpp_source.html#l00050">Builtins.cpp:50</a></div></div>
<div class="ttc" id="anamespaceclang_1_1interp_html_a16635f6b52b1f71a033528c95bc58274"><div class="ttname"><a href="namespaceclang_1_1interp.html#a16635f6b52b1f71a033528c95bc58274">clang::interp::APInt</a></div><div class="ttdeci">llvm::APInt APInt</div><div class="ttdef"><b>Definition:</b> <a href="Integral_8h_source.html#l00027">Integral.h:27</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a91ee3922aeeb1291e94716a1e5c7dc54"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a91ee3922aeeb1291e94716a1e5c7dc54">clang::ParsedAttr::isUsedAsTypeAttr</a></div><div class="ttdeci">bool isUsedAsTypeAttr() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00486">ParsedAttr.h:486</a></div></div>
<div class="ttc" id="astructclang_1_1MSGuidDeclParts_html"><div class="ttname"><a href="structclang_1_1MSGuidDeclParts.html">clang::MSGuidDeclParts</a></div><div class="ttdoc">Parts of a decomposed MSGuidDecl.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l04136">DeclCXX.h:4136</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba443861eff59bd7828399e4c12c9efa85"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba443861eff59bd7828399e4c12c9efa85">clang::CC_Win64</a></div><div class="ttdeci">@ CC_Win64</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00270">Specifiers.h:270</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_ac6cd74778d73df50bd4ce476afb91f4b"><div class="ttname"><a href="classclang_1_1TargetInfo.html#ac6cd74778d73df50bd4ce476afb91f4b">clang::TargetInfo::getRegParmMax</a></div><div class="ttdeci">unsigned getRegParmMax() const</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01399">TargetInfo.h:1399</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aac51ccea2ca51bbc8e3007fce367efa4"><div class="ttname"><a href="classclang_1_1Sema.html#aac51ccea2ca51bbc8e3007fce367efa4">clang::Sema::MergeSYCLIntelMaxGlobalWorkDimAttr</a></div><div class="ttdeci">SYCLIntelMaxGlobalWorkDimAttr * MergeSYCLIntelMaxGlobalWorkDimAttr(Decl *D, const SYCLIntelMaxGlobalWorkDimAttr &amp;A)</div></div>
<div class="ttc" id="aAttributes_8cpp_html_a2443733863a1efcf2245fa252ffb4c62"><div class="ttname"><a href="Attributes_8cpp.html#a2443733863a1efcf2245fa252ffb4c62">normalizeName</a></div><div class="ttdeci">static SmallString&lt; 64 &gt; normalizeName(const IdentifierInfo *Name, const IdentifierInfo *Scope, AttributeCommonInfo::Syntax SyntaxUsed)</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00094">Attributes.cpp:94</a></div></div>
<div class="ttc" id="anamespaceclang_1_1RISCV_html_a24516708c8e8fa3d362e8a34e9d52b65aede55e74ae6c026223d883aa70d13ed5"><div class="ttname"><a href="namespaceclang_1_1RISCV.html#a24516708c8e8fa3d362e8a34e9d52b65aede55e74ae6c026223d883aa70d13ed5">clang::RISCV::LastRVVBuiltin</a></div><div class="ttdeci">@ LastRVVBuiltin</div><div class="ttdef"><b>Definition:</b> <a href="TargetBuiltins_8h_source.html#l00146">TargetBuiltins.h:146</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_1_1specific__decl__iterator_html"><div class="ttname"><a href="classclang_1_1DeclContext_1_1specific__decl__iterator.html">clang::DeclContext::specific_decl_iterator</a></div><div class="ttdoc">specific_decl_iterator - Iterates over a subrange of declarations stored in a DeclContext,...</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l02147">DeclBase.h:2147</a></div></div>
<div class="ttc" id="aclassclang_1_1NamedDecl_html_acee6a5d553ca31f16c76f880c9c55cd9"><div class="ttname"><a href="classclang_1_1NamedDecl.html#acee6a5d553ca31f16c76f880c9c55cd9">clang::NamedDecl::isCXXInstanceMember</a></div><div class="ttdeci">bool isCXXInstanceMember() const</div><div class="ttdoc">Determine whether the given declaration is an instance member of a C++ class.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l01862">Decl.cpp:1862</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afa927d3bf67f069d5ac700dd19197a75"><div class="ttname"><a href="classclang_1_1Sema.html#afa927d3bf67f069d5ac700dd19197a75">clang::Sema::mergeDLLImportAttr</a></div><div class="ttdeci">DLLImportAttr * mergeDLLImportAttr(Decl *D, const AttributeCommonInfo &amp;CI)</div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a856af5962802c5e86dd819ab58552e7b"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a856af5962802c5e86dd819ab58552e7b">isFunctionOrMethodOrBlock</a></div><div class="ttdeci">static bool isFunctionOrMethodOrBlock(const Decl *D)</div><div class="ttdoc">Return true if the given decl has function type (function or function-typed variable) or an Objective...</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00073">SemaDeclAttr.cpp:73</a></div></div>
<div class="ttc" id="aclassstd_1_1conditional_1_1type_html"><div class="ttname"><a href="classstd_1_1conditional_1_1type.html">type</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ade6bf90a93756865b38488b3e441d2e5"><div class="ttname"><a href="classclang_1_1Sema.html#ade6bf90a93756865b38488b3e441d2e5">clang::Sema::AddSYCLAddIRAttributesFunctionAttr</a></div><div class="ttdeci">void AddSYCLAddIRAttributesFunctionAttr(Decl *D, const AttributeCommonInfo &amp;CI, MutableArrayRef&lt; Expr * &gt; Args)</div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a484d73d39f40a5a462fbd71015f74e1f"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a484d73d39f40a5a462fbd71015f74e1f">checkUInt32Argument</a></div><div class="ttdeci">static bool checkUInt32Argument(Sema &amp;S, const AttrInfo &amp;AI, const Expr *Expr, uint32_t &amp;Val, unsigned Idx=UINT_MAX, bool StrictlyUnsigned=false)</div><div class="ttdoc">If Expr is a valid integer constant, get the value of the integer expression and return success or fa...</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00215">SemaDeclAttr.cpp:215</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_af9607fd10f0eafa9a0a16f92ce47f2cb"><div class="ttname"><a href="classclang_1_1Sema.html#af9607fd10f0eafa9a0a16f92ce47f2cb">clang::Sema::MergeSYCLIntelNoGlobalWorkOffsetAttr</a></div><div class="ttdeci">SYCLIntelNoGlobalWorkOffsetAttr * MergeSYCLIntelNoGlobalWorkOffsetAttr(Decl *D, const SYCLIntelNoGlobalWorkOffsetAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1ObjCInterfaceDecl_html_ae998a76f7cd59e1691962047032a6ba4"><div class="ttname"><a href="classclang_1_1ObjCInterfaceDecl.html#ae998a76f7cd59e1691962047032a6ba4">clang::ObjCInterfaceDecl::setHasDesignatedInitializers</a></div><div class="ttdeci">void setHasDesignatedInitializers()</div><div class="ttdoc">Indicate that this interface decl contains at least one initializer marked with the 'objc_designated_...</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8cpp_source.html#l01566">DeclObjC.cpp:1566</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_ab03e55c8c3ab623f44caa63fa0e151db"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#ab03e55c8c3ab623f44caa63fa0e151db">clang::ParsedAttr::getKind</a></div><div class="ttdeci">AttributeCommonInfo::Kind getKind() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00715">ParsedAttr.h:715</a></div></div>
<div class="ttc" id="anamespaceclang_html_a1b6b4bce2d09ffd33faf8a181d2acd7b"><div class="ttname"><a href="namespaceclang.html#a1b6b4bce2d09ffd33faf8a181d2acd7b">clang::getParameterABISpelling</a></div><div class="ttdeci">llvm::StringRef getParameterABISpelling(ParameterABI kind)</div><div class="ttdef"><b>Definition:</b> <a href="TypePrinter_8cpp_source.html#l00856">TypePrinter.cpp:856</a></div></div>
<div class="ttc" id="anamespaceclang_html_ac4d855143c10ceb396f2e0363e165211a78fdb83282b8f169decee78a0f160c7f"><div class="ttname"><a href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211a78fdb83282b8f169decee78a0f160c7f">clang::FloatModeKind::LongDouble</a></div><div class="ttdeci">@ LongDouble</div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a2935d37297596c57aa383de101a55030"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a2935d37297596c57aa383de101a55030">clang::FunctionDecl::getReturnType</a></div><div class="ttdeci">QualType getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02541">Decl.h:2541</a></div></div>
<div class="ttc" id="aclassclang_1_1LangOptions_html_ae22503755b4482366317d6eac7f598ec"><div class="ttname"><a href="classclang_1_1LangOptions.html#ae22503755b4482366317d6eac7f598ec">clang::LangOptions::getOpenCLCompatibleVersion</a></div><div class="ttdeci">unsigned getOpenCLCompatibleVersion() const</div><div class="ttdoc">Return the OpenCL version that kernel language is compatible with.</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8cpp_source.html#l00055">LangOptions.cpp:55</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_a73cead379a984c4b4ddb6e0d308725f6"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#a73cead379a984c4b4ddb6e0d308725f6">clang::DeclaratorDecl::getBeginLoc</a></div><div class="ttdeci">SourceLocation getBeginLoc() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00779">Decl.h:779</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a928cfe999316f2367598afcc901271af"><div class="ttname"><a href="classclang_1_1Sema.html#a928cfe999316f2367598afcc901271af">clang::Sema::MergeSYCLIntelSchedulerTargetFmaxMhzAttr</a></div><div class="ttdeci">SYCLIntelSchedulerTargetFmaxMhzAttr * MergeSYCLIntelSchedulerTargetFmaxMhzAttr(Decl *D, const SYCLIntelSchedulerTargetFmaxMhzAttr &amp;A)</div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6aabd195a6676c279955e841296e6f265e"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6aabd195a6676c279955e841296e6f265e">clang::ExpectedVariable</a></div><div class="ttdeci">@ ExpectedVariable</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01137">ParsedAttr.h:1137</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a7ca271e78c095346d73202fcee93964c"><div class="ttname"><a href="classclang_1_1Expr.html#a7ca271e78c095346d73202fcee93964c">clang::Expr::isLValue</a></div><div class="ttdeci">bool isLValue() const</div><div class="ttdoc">isLValue - True if this expression is an &quot;l-value&quot; according to the rules of the current language.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00270">Expr.h:270</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_ae896b9d4370dde869549742d97f11cfa"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#ae896b9d4370dde869549742d97f11cfa">clang::ParsedAttr::getEllipsisLoc</a></div><div class="ttdeci">SourceLocation getEllipsisLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00495">ParsedAttr.h:495</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ae110ade2f54505d561de5a2f048254fc"><div class="ttname"><a href="classclang_1_1Type.html#ae110ade2f54505d561de5a2f048254fc">clang::Type::isObjCRetainableType</a></div><div class="ttdeci">bool isObjCRetainableType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l04324">Type.cpp:4324</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceRange_html"><div class="ttname"><a href="classclang_1_1SourceRange.html">clang::SourceRange</a></div><div class="ttdoc">A trivial tuple used to represent a source range.</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00210">SourceLocation.h:210</a></div></div>
<div class="ttc" id="anamespaceclang_1_1arcmt_1_1trans_html_aceb677e7190e935d847801f8d65cc965"><div class="ttname"><a href="namespaceclang_1_1arcmt_1_1trans.html#aceb677e7190e935d847801f8d65cc965">clang::arcmt::trans::isGlobalVar</a></div><div class="ttdeci">bool isGlobalVar(Expr *E)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_8cpp_source.html#l00195">Transforms.cpp:195</a></div></div>
<div class="ttc" id="alib_2Tooling_2CMakeLists_8txt_html_af86de1f06488914e30d948a42f397df5"><div class="ttname"><a href="lib_2Tooling_2CMakeLists_8txt.html#af86de1f06488914e30d948a42f397df5">string</a></div><div class="ttdeci">string(SUBSTRING ${CMAKE_CURRENT_BINARY_DIR} 0 ${PATH_LIB_START} PATH_HEAD) string(SUBSTRING $</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Tooling_2CMakeLists_8txt_source.html#l00022">CMakeLists.txt:22</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnosticPool_html_a9dfa9df1db1885fa186cf7c0e5d85643"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a9dfa9df1db1885fa186cf7c0e5d85643">clang::sema::DelayedDiagnosticPool::pool_begin</a></div><div class="ttdeci">pool_iterator pool_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00317">DelayedDiagnostic.h:317</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html"><div class="ttname"><a href="classclang_1_1DeclContext.html">clang::DeclContext</a></div><div class="ttdoc">DeclContext - This is used only as base class of specific decl types that can act as declaration cont...</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01355">DeclBase.h:1355</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a224ea656376ab3d0d870e82b0f1f8f56"><div class="ttname"><a href="classclang_1_1Sema.html#a224ea656376ab3d0d870e82b0f1f8f56">clang::Sema::mergeMinSizeAttr</a></div><div class="ttdeci">MinSizeAttr * mergeMinSizeAttr(Decl *D, const AttributeCommonInfo &amp;CI)</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a27a66e13de0f33a48523e25961ded5e7"><div class="ttname"><a href="classclang_1_1Type.html#a27a66e13de0f33a48523e25961ded5e7">clang::Type::isVoidPointerType</a></div><div class="ttdeci">bool isVoidPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00589">Type.cpp:589</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aae4037480b305412714dde2e6fc2039ea126cf08c468019a607eaf0d199acee97"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea126cf08c468019a607eaf0d199acee97">clang::TargetInfo::CCCR_Warning</a></div><div class="ttdeci">@ CCCR_Warning</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01504">TargetInfo.h:1504</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_ae7a63b99398864d86f53afd8a03c359b"><div class="ttname"><a href="classclang_1_1Decl.html#ae7a63b99398864d86f53afd8a03c359b">clang::Decl::hasAttr</a></div><div class="ttdeci">bool hasAttr() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00541">DeclBase.h:541</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aef57d20b122f492ebff2dbef6a29ed9a"><div class="ttname"><a href="classclang_1_1Sema.html#aef57d20b122f492ebff2dbef6a29ed9a">clang::Sema::MergeIntelFPGANumBanksAttr</a></div><div class="ttdeci">IntelFPGANumBanksAttr * MergeIntelFPGANumBanksAttr(Decl *D, const IntelFPGANumBanksAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_a5b49760ab67866ecd4f949cc88729f7d"><div class="ttname"><a href="classclang_1_1TargetInfo.html#a5b49760ab67866ecd4f949cc88729f7d">clang::TargetInfo::checkCallingConvention</a></div><div class="ttdeci">virtual CallingConvCheckResult checkCallingConvention(CallingConv CC) const</div><div class="ttdoc">Determines whether a given calling convention is valid for the target.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01513">TargetInfo.h:1513</a></div></div>
<div class="ttc" id="aclassclang_1_1FixItHint_html_afd481d826e9ddaa39fc82a698a810246"><div class="ttname"><a href="classclang_1_1FixItHint.html#afd481d826e9ddaa39fc82a698a810246">clang::FixItHint::CreateInsertion</a></div><div class="ttdeci">static FixItHint CreateInsertion(SourceLocation InsertionLoc, StringRef Code, bool BeforePreviousInsertions=false)</div><div class="ttdoc">Create a code modification hint that inserts the given code string at a specific location.</div><div class="ttdef"><b>Definition:</b> <a href="Basic_2Diagnostic_8h_source.html#l00097">Diagnostic.h:97</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6ab9d1b7c2c5b379a61141b3abbb2076dd"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ab9d1b7c2c5b379a61141b3abbb2076dd">clang::ExpectedVariableOrFunction</a></div><div class="ttdeci">@ ExpectedVariableOrFunction</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01133">ParsedAttr.h:1133</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab9b993262e89efbf7932338a955783de"><div class="ttname"><a href="classclang_1_1Sema.html#ab9b993262e89efbf7932338a955783de">clang::Sema::getASTContext</a></div><div class="ttdeci">ASTContext &amp; getASTContext() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01781">Sema.h:1781</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7c290fe8101a0b108e426214266cff56a20f1613a091be0d3eb93f8bfed02fca9"><div class="ttname"><a href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a20f1613a091be0d3eb93f8bfed02fca9">clang::ParameterABI::SwiftAsyncContext</a></div><div class="ttdeci">@ SwiftAsyncContext</div><div class="ttdoc">This parameter (which must have pointer type) uses the special Swift asynchronous context-pointer ABI...</div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_aca156152b1a49b67df130233ccb77a29"><div class="ttname"><a href="classclang_1_1QualType.html#aca156152b1a49b67df130233ccb77a29">clang::QualType::isConstQualified</a></div><div class="ttdeci">bool isConstQualified() const</div><div class="ttdoc">Determine whether this type is const-qualified.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06561">Type.h:6561</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a70883d55e5f59f51d40eb524e8322fe2"><div class="ttname"><a href="classclang_1_1Decl.html#a70883d55e5f59f51d40eb524e8322fe2">clang::Decl::getAsFunction</a></div><div class="ttdeci">FunctionDecl * getAsFunction() LLVM_READONLY</div><div class="ttdoc">Returns the function itself, or the templated function if this is a function template.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00218">DeclBase.cpp:218</a></div></div>
<div class="ttc" id="aclassclang_1_1Declarator_html_a67506dfb74dc57c4e9e1821a6627bd68"><div class="ttname"><a href="classclang_1_1Declarator.html#a67506dfb74dc57c4e9e1821a6627bd68">clang::Declarator::getNumTypeObjects</a></div><div class="ttdeci">unsigned getNumTypeObjects() const</div><div class="ttdoc">Return the number of types applied to this declarator.</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l02236">DeclSpec.h:2236</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ab88f9a7d1946c06e508f3e4016913f78"><div class="ttname"><a href="classclang_1_1Type.html#ab88f9a7d1946c06e508f3e4016913f78">clang::Type::getVisibility</a></div><div class="ttdeci">Visibility getVisibility() const</div><div class="ttdoc">Determine the visibility of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02412">Type.h:2412</a></div></div>
<div class="ttc" id="aLiteralSupport_8cpp_html_a5f4a4a29292c4a1697226abf1d22b9dd"><div class="ttname"><a href="LiteralSupport_8cpp.html#a5f4a4a29292c4a1697226abf1d22b9dd">Diag</a></div><div class="ttdeci">static DiagnosticBuilder Diag(DiagnosticsEngine *Diags, const LangOptions &amp;Features, FullSourceLoc TokLoc, const char *TokBegin, const char *TokRangeBegin, const char *TokRangeEnd, unsigned DiagID)</div><div class="ttdoc">Produce a diagnostic highlighting some portion of a literal.</div><div class="ttdef"><b>Definition:</b> <a href="LiteralSupport_8cpp_source.html#l00078">LiteralSupport.cpp:78</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclSpec_html_a6943e56367dc870afb5ce6b7de04b972"><div class="ttname"><a href="classclang_1_1DeclSpec.html#a6943e56367dc870afb5ce6b7de04b972">clang::DeclSpec::getAttributes</a></div><div class="ttdeci">ParsedAttributes &amp; getAttributes()</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l00795">DeclSpec.h:795</a></div></div>
<div class="ttc" id="aclassclang_1_1NamedDecl_html_ae261851b288b486223cea4d3516861a6"><div class="ttname"><a href="classclang_1_1NamedDecl.html#ae261851b288b486223cea4d3516861a6">clang::NamedDecl::isExternallyVisible</a></div><div class="ttdeci">bool isExternallyVisible() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00406">Decl.h:406</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_a1280e3f4075ff54f856987cf002ba300ad62a7a19d7027c37d407d2ca7638a89c"><div class="ttname"><a href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300ad62a7a19d7027c37d407d2ca7638a89c">clang::Qualifiers::OCL_Weak</a></div><div class="ttdeci">@ OCL_Weak</div><div class="ttdoc">Reading or writing from this object requires a barrier call.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00178">Type.h:178</a></div></div>
<div class="ttc" id="aSemaInternal_8h_html"><div class="ttname"><a href="SemaInternal_8h.html">SemaInternal.h</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7c290fe8101a0b108e426214266cff56a5681660b68aa20365a8e3279790ea419"><div class="ttname"><a href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a5681660b68aa20365a8e3279790ea419">clang::ParameterABI::Ordinary</a></div><div class="ttdeci">@ Ordinary</div><div class="ttdoc">This parameter uses ordinary ABI rules for its type.</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a2c9850e71c1c771e229b962699ddaa19"><div class="ttname"><a href="classclang_1_1Type.html#a2c9850e71c1c771e229b962699ddaa19">clang::Type::isCharType</a></div><div class="ttdeci">bool isCharType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l01962">Type.cpp:1962</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00038">LLVM.h:38</a></div></div>
<div class="ttc" id="aSema_2Lookup_8h_html"><div class="ttname"><a href="Sema_2Lookup_8h.html">Lookup.h</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierTable_html_aea14376d325400caa8a8183d14a02f39"><div class="ttname"><a href="classclang_1_1IdentifierTable.html#aea14376d325400caa8a8183d14a02f39">clang::IdentifierTable::get</a></div><div class="ttdeci">IdentifierInfo &amp; get(StringRef Name)</div><div class="ttdoc">Return the identifier token info for the specified named identifier.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00596">IdentifierTable.h:596</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae555fc7019e94c75897766189ed3c050"><div class="ttname"><a href="namespaceclang.html#ae555fc7019e94c75897766189ed3c050">clang::if</a></div><div class="ttdeci">if(T-&gt;getSizeExpr()) TRY_TO(TraverseStmt(T -&gt; getSizeExpr()))</div><div class="ttdef"><b>Definition:</b> <a href="RecursiveASTVisitor_8h_source.html#l01009">RecursiveASTVisitor.h:1009</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_abd27b2c7d960f6e944c257914930b260"><div class="ttname"><a href="classclang_1_1Sema.html#abd27b2c7d960f6e944c257914930b260">clang::Sema::mergeAlwaysInlineAttr</a></div><div class="ttdeci">AlwaysInlineAttr * mergeAlwaysInlineAttr(Decl *D, const AttributeCommonInfo &amp;CI, const IdentifierInfo *Ident)</div></div>
<div class="ttc" id="aclassclang_1_1SourceLocation_html"><div class="ttname"><a href="classclang_1_1SourceLocation.html">clang::SourceLocation</a></div><div class="ttdoc">Encodes a location in the source.</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00086">SourceLocation.h:86</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a79656767a29a455153af86c4afac9fbe"><div class="ttname"><a href="classclang_1_1QualType.html#a79656767a29a455153af86c4afac9fbe">clang::QualType::getQualifiers</a></div><div class="ttdeci">Qualifiers getQualifiers() const</div><div class="ttdoc">Retrieve the set of qualifiers applied to this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06529">Type.h:6529</a></div></div>
<div class="ttc" id="aclassclang_1_1ActionResult_html_ae61f73e5f3e09fb136635ebd0d35100f"><div class="ttname"><a href="classclang_1_1ActionResult.html#ae61f73e5f3e09fb136635ebd0d35100f">clang::ActionResult::getAs</a></div><div class="ttdeci">T * getAs()</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00170">Ownership.h:170</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac6a77200b822234520e0ef64fcf2f502"><div class="ttname"><a href="classclang_1_1Sema.html#ac6a77200b822234520e0ef64fcf2f502">clang::Sema::mergeSectionAttr</a></div><div class="ttdeci">SectionAttr * mergeSectionAttr(Decl *D, const AttributeCommonInfo &amp;CI, StringRef Name)</div></div>
<div class="ttc" id="anamespaceclang_html_a9237bdb3cf715b9bff8bcb3172635548ac341a3cfc4dae72e09e2348561fffc12"><div class="ttname"><a href="namespaceclang.html#a9237bdb3cf715b9bff8bcb3172635548ac341a3cfc4dae72e09e2348561fffc12">clang::TTK_Struct</a></div><div class="ttdeci">@ TTK_Struct</div><div class="ttdoc">The &quot;struct&quot; keyword.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l05388">Type.h:5388</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_ae4bff0be3d2320268c531175fbd44b8d"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#ae4bff0be3d2320268c531175fbd44b8d">clang::sema::DelayedDiagnostic::Loc</a></div><div class="ttdeci">SourceLocation Loc</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00131">DelayedDiagnostic.h:131</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_af64af091ac159acbd130350bfb6e4ba1"><div class="ttname"><a href="classclang_1_1Sema.html#af64af091ac159acbd130350bfb6e4ba1">clang::Sema::AddAllocAlignAttr</a></div><div class="ttdeci">void AddAllocAlignAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *ParamExpr)</div><div class="ttdoc">AddAllocAlignAttr - Adds an alloc_align attribute to a particular declaration.</div></div>
<div class="ttc" id="aclassclang_1_1NamedDecl_html"><div class="ttname"><a href="classclang_1_1NamedDecl.html">clang::NamedDecl</a></div><div class="ttdoc">This represents a decl that may have a name.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00247">Decl.h:247</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a502181c4f5710068dddb1b4fc3233238"><div class="ttname"><a href="classclang_1_1ASTContext.html#a502181c4f5710068dddb1b4fc3233238">clang::ASTContext::BuiltinInfo</a></div><div class="ttdeci">Builtin::Context &amp; BuiltinInfo</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00653">ASTContext.h:653</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceRange_html_a508a13d46ee303ccea9a93e554673941"><div class="ttname"><a href="classclang_1_1SourceRange.html#a508a13d46ee303ccea9a93e554673941">clang::SourceRange::getBegin</a></div><div class="ttdeci">SourceLocation getBegin() const</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00219">SourceLocation.h:219</a></div></div>
<div class="ttc" id="aclassclang_1_1Attr_html_adb1b8122069df702fb5077c95e436d7b"><div class="ttname"><a href="classclang_1_1Attr.html#adb1b8122069df702fb5077c95e436d7b">clang::Attr::getLocation</a></div><div class="ttdeci">SourceLocation getLocation() const</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00091">Attr.h:91</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a6f61faa28610039a0996fe03ddbc9eb4"><div class="ttname"><a href="classclang_1_1Type.html#a6f61faa28610039a0996fe03ddbc9eb4">clang::Type::isCARCBridgableType</a></div><div class="ttdeci">bool isCARCBridgableType() const</div><div class="ttdoc">Determine whether the given type T is a &quot;bridgeable&quot; C type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l04358">Type.cpp:4358</a></div></div>
<div class="ttc" id="ainclude_2clang_2Basic_2TargetInfo_8h_html"><div class="ttname"><a href="include_2clang_2Basic_2TargetInfo_8h.html">TargetInfo.h</a></div></div>
<div class="ttc" id="anamespaceclang_html_acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5"><div class="ttname"><a href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66cac41a31890959544c6523af684561abe5">clang::MultiVersionKind::Target</a></div><div class="ttdeci">@ Target</div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_ac62387ec0fa107f2ea2ce7ec655e92f0"><div class="ttname"><a href="classclang_1_1TargetInfo.html#ac62387ec0fa107f2ea2ce7ec655e92f0">clang::TargetInfo::hasProtectedVisibility</a></div><div class="ttdeci">virtual bool hasProtectedVisibility() const</div><div class="ttdoc">Does this target support &quot;protected&quot; visibility?</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01192">TargetInfo.h:1192</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a8be1f3b9e144fba37e7aa9ae2a583de6"><div class="ttname"><a href="classclang_1_1QualType.html#a8be1f3b9e144fba37e7aa9ae2a583de6">clang::QualType::getNonReferenceType</a></div><div class="ttdeci">QualType getNonReferenceType() const</div><div class="ttdoc">If Type is a reference type (e.g., const int&amp;), returns the type that the reference refers to (&quot;const...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06698">Type.h:6698</a></div></div>
<div class="ttc" id="aCXXInheritance_8h_html"><div class="ttname"><a href="CXXInheritance_8h.html">CXXInheritance.h</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedTargetAttr_html"><div class="ttname"><a href="structclang_1_1ParsedTargetAttr.html">clang::ParsedTargetAttr</a></div><div class="ttdoc">Contains information gathered from parsing the contents of TargetAttr.</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00354">Attr.h:354</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a2017d2a1ae842fcf4e5df3097c7b93ba"><div class="ttname"><a href="classclang_1_1ASTContext.html#a2017d2a1ae842fcf4e5df3097c7b93ba">clang::ASTContext::DeclarationNames</a></div><div class="ttdeci">DeclarationNameTable DeclarationNames</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00655">ASTContext.h:655</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aa3dd47a219a599f72ed45231da417e5b"><div class="ttname"><a href="classclang_1_1Sema.html#aa3dd47a219a599f72ed45231da417e5b">clang::Sema::ResolveSingleFunctionTemplateSpecialization</a></div><div class="ttdeci">FunctionDecl * ResolveSingleFunctionTemplateSpecialization(OverloadExpr *ovl, bool Complain=false, DeclAccessPair *Found=nullptr)</div><div class="ttdoc">Given an expression that refers to an overloaded function, try to resolve that overloaded function ex...</div><div class="ttdef"><b>Definition:</b> <a href="SemaOverload_8cpp_source.html#l12536">SemaOverload.cpp:12536</a></div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html_a6844392ee6148b5fe821f211b95e5d1b"><div class="ttname"><a href="classclang_1_1Stmt.html#a6844392ee6148b5fe821f211b95e5d1b">clang::Stmt::getSourceRange</a></div><div class="ttdeci">SourceRange getSourceRange() const LLVM_READONLY</div><div class="ttdoc">SourceLocation tokens are not useful in isolation - they are low level value objects created/interpre...</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8cpp_source.html#l00324">Stmt.cpp:324</a></div></div>
<div class="ttc" id="anamespaceclang_1_1consumed_html_acaee577ec9f365f1eb7eafc869becd77"><div class="ttname"><a href="namespaceclang_1_1consumed.html#acaee577ec9f365f1eb7eafc869becd77">clang::consumed::ConsumedState</a></div><div class="ttdeci">ConsumedState</div><div class="ttdef"><b>Definition:</b> <a href="Consumed_8h_source.html#l00043">Consumed.h:43</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html_aff836161e095eaaed60427ddd4f444de"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html#aff836161e095eaaed60427ddd4f444de">clang::CXXRecordDecl::getDefinition</a></div><div class="ttdeci">CXXRecordDecl * getDefinition() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l00542">DeclCXX.h:542</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3993a9ad89ea4dd89119f9e654068ada"><div class="ttname"><a href="classclang_1_1Sema.html#a3993a9ad89ea4dd89119f9e654068ada">clang::Sema::AddIntelFPGABankBitsAttr</a></div><div class="ttdeci">void AddIntelFPGABankBitsAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr **Exprs, unsigned Size)</div></div>
<div class="ttc" id="aclassclang_1_1QualType_html"><div class="ttname"><a href="classclang_1_1QualType.html">clang::QualType</a></div><div class="ttdoc">A (possibly-)qualified type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00675">Type.h:675</a></div></div>
<div class="ttc" id="aclassclang_1_1TypeDecl_html_a84a2dafb93379e1b892012e92193d3a7"><div class="ttname"><a href="classclang_1_1TypeDecl.html#a84a2dafb93379e1b892012e92193d3a7">clang::TypeDecl::getTypeForDecl</a></div><div class="ttdeci">const Type * getTypeForDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03166">Decl.h:3166</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4fa650452971fb846e9d3a2f63b1e45e"><div class="ttname"><a href="classclang_1_1Sema.html#a4fa650452971fb846e9d3a2f63b1e45e">clang::Sema::MergeIntelFPGAForcePow2DepthAttr</a></div><div class="ttdeci">IntelFPGAForcePow2DepthAttr * MergeIntelFPGAForcePow2DepthAttr(Decl *D, const IntelFPGAForcePow2DepthAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a57c02d1059a0d201b312b8e1a5a7ea52"><div class="ttname"><a href="classclang_1_1Sema.html#a57c02d1059a0d201b312b8e1a5a7ea52">clang::Sema::checkUnusedDeclAttributes</a></div><div class="ttdeci">void checkUnusedDeclAttributes(Declarator &amp;D)</div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_afd761724c0261c3613c187ca98482442"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#afd761724c0261c3613c187ca98482442">clang::FunctionDecl::getParamDecl</a></div><div class="ttdeci">const ParmVarDecl * getParamDecl(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02510">Decl.h:2510</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a95136d337c6d556eff520a7b958baa16"><div class="ttname"><a href="classclang_1_1Sema.html#a95136d337c6d556eff520a7b958baa16">clang::Sema::mergeVisibilityAttr</a></div><div class="ttdeci">VisibilityAttr * mergeVisibilityAttr(Decl *D, const AttributeCommonInfo &amp;CI, VisibilityAttr::VisibilityType Vis)</div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html_a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e"><div class="ttname"><a href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dac1c6ab9ca121c29c650b3ab6a4212b4e">AttributeLangSupport::C</a></div><div class="ttdeci">@ C</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00054">SemaDeclAttr.cpp:54</a></div></div>
<div class="ttc" id="anamespaceclang_1_1driver_1_1options_html_a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9"><div class="ttname"><a href="namespaceclang_1_1driver_1_1options.html#a282a4be3871bbc7ffb8d1267a6fe41a2a20cbbfa924e5ea140b1a8e7a601c3dd9">clang::driver::options::Unsupported</a></div><div class="ttdeci">@ Unsupported</div><div class="ttdef"><b>Definition:</b> <a href="Options_8h_source.html#l00028">Options.h:28</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a1c23175b6d2cfc723d6e18390c5cd25a"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a1c23175b6d2cfc723d6e18390c5cd25a">clang::ParsedAttr::getSemanticSpelling</a></div><div class="ttdeci">unsigned getSemanticSpelling() const</div><div class="ttdoc">If the parsed attribute has a semantic equivalent, and it would have a semantic Spelling enumeration ...</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00221">ParsedAttr.cpp:221</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a8e4339d482d82f4506415c666b67751f"><div class="ttname"><a href="classclang_1_1Sema.html#a8e4339d482d82f4506415c666b67751f">clang::Sema::MergeSYCLIntelFPGAMaxConcurrencyAttr</a></div><div class="ttdeci">SYCLIntelFPGAMaxConcurrencyAttr * MergeSYCLIntelFPGAMaxConcurrencyAttr(Decl *D, const SYCLIntelFPGAMaxConcurrencyAttr &amp;A)</div></div>
<div class="ttc" id="anamespaceclang_html_a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece"><div class="ttname"><a href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a7749fb8107514089095277752fe75ece">clang::OMF_init</a></div><div class="ttdeci">@ OMF_init</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00700">IdentifierTable.h:700</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a64f343d29ea6046970ee5c7526cfc52c"><div class="ttname"><a href="classclang_1_1Sema.html#a64f343d29ea6046970ee5c7526cfc52c">clang::Sema::CheckAlignasUnderalignment</a></div><div class="ttdeci">void CheckAlignasUnderalignment(Decl *D)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a572663d09c8b83ab95521e7371fe33cd"><div class="ttname"><a href="classclang_1_1Sema.html#a572663d09c8b83ab95521e7371fe33cd">clang::Sema::mergeDLLExportAttr</a></div><div class="ttdeci">DLLExportAttr * mergeDLLExportAttr(Decl *D, const AttributeCommonInfo &amp;CI)</div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a900520b154ba282febbaa7267020ca3f"><div class="ttname"><a href="classclang_1_1QualType.html#a900520b154ba282febbaa7267020ca3f">clang::QualType::getCanonicalType</a></div><div class="ttdeci">QualType getCanonicalType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06541">Type.h:6541</a></div></div>
<div class="ttc" id="aclassclang_1_1FieldDecl_html"><div class="ttname"><a href="classclang_1_1FieldDecl.html">clang::FieldDecl</a></div><div class="ttdoc">Represents a member of a struct/union/class.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02839">Decl.h:2839</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedTargetAttr_html_a3e86b26912265e5e36a5d81bbd5755be"><div class="ttname"><a href="structclang_1_1ParsedTargetAttr.html#a3e86b26912265e5e36a5d81bbd5755be">clang::ParsedTargetAttr::BranchProtection</a></div><div class="ttdeci">StringRef BranchProtection</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00358">Attr.h:358</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_acce830e9845ef21b901c5473105e2eda"><div class="ttname"><a href="classclang_1_1Type.html#acce830e9845ef21b901c5473105e2eda">clang::Type::isFloatingType</a></div><div class="ttdeci">bool isFloatingType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l02122">Type.cpp:2122</a></div></div>
<div class="ttc" id="aclassclang_1_1LookupResult_html"><div class="ttname"><a href="classclang_1_1LookupResult.html">clang::LookupResult</a></div><div class="ttdoc">Represents the results of name lookup.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_2Lookup_8h_source.html#l00046">Lookup.h:46</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a60d5109a61814ffd030ffc07b4a9913c"><div class="ttname"><a href="classclang_1_1ASTContext.html#a60d5109a61814ffd030ffc07b4a9913c">clang::ASTContext::getBaseElementType</a></div><div class="ttdeci">QualType getBaseElementType(const ArrayType *VAT) const</div><div class="ttdoc">Return the innermost element type of an array type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l06789">ASTContext.cpp:6789</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ast__matchers_html_a600679c157b5bd05c4bfb940fb2511dd"><div class="ttname"><a href="namespaceclang_1_1ast__matchers.html#a600679c157b5bd05c4bfb940fb2511dd">clang::ast_matchers::type</a></div><div class="ttdeci">const internal::VariadicAllOfMatcher&lt; Type &gt; type</div><div class="ttdoc">Matches Types in the clang AST.</div><div class="ttdef"><b>Definition:</b> <a href="ASTMatchersInternal_8cpp_source.html#l00773">ASTMatchersInternal.cpp:773</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a5c16b561a95982c518ba0362b3b588a8"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a5c16b561a95982c518ba0362b3b588a8">clang::AttributeCommonInfo::hasScope</a></div><div class="ttdeci">bool hasScope() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00133">AttributeCommonInfo.h:133</a></div></div>
<div class="ttc" id="aclassclang_1_1OpenCLOptions_html_aa9a98e2b7bd3337a9929b992c6ff96f0"><div class="ttname"><a href="classclang_1_1OpenCLOptions.html#aa9a98e2b7bd3337a9929b992c6ff96f0">clang::OpenCLOptions::isSupported</a></div><div class="ttdeci">bool isSupported(llvm::StringRef Ext, const LangOptions &amp;LO) const</div><div class="ttdef"><b>Definition:</b> <a href="OpenCLOptions_8cpp_source.html#l00054">OpenCLOptions.cpp:54</a></div></div>
<div class="ttc" id="aclassclang_1_1ParmVarDecl_html"><div class="ttname"><a href="classclang_1_1ParmVarDecl.html">clang::ParmVarDecl</a></div><div class="ttdoc">Represents a parameter to a function.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01664">Decl.h:1664</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a15a47608a70e70543584549a20d4e773"><div class="ttname"><a href="classclang_1_1Sema.html#a15a47608a70e70543584549a20d4e773">clang::Sema::Diag</a></div><div class="ttdeci">SemaDiagnosticBuilder Diag(SourceLocation Loc, unsigned DiagID, bool DeferHint=false)</div><div class="ttdoc">Emit a diagnostic.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8cpp_source.html#l01960">Sema.cpp:1960</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html"><div class="ttname"><a href="classclang_1_1TargetInfo.html">clang::TargetInfo</a></div><div class="ttdoc">Exposes information about the current target.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l00186">TargetInfo.h:186</a></div></div>
<div class="ttc" id="aDeclCXX_8h_html"><div class="ttname"><a href="DeclCXX_8h.html">DeclCXX.h</a></div></div>
<div class="ttc" id="a____clang__hip__libdevice__declares_8h_html_aa7b8984e16daeff79f73e22b4e040334"><div class="ttname"><a href="____clang__hip__libdevice__declares_8h.html#aa7b8984e16daeff79f73e22b4e040334">int</a></div><div class="ttdeci">__device__ int</div><div class="ttdef"><b>Definition:</b> <a href="____clang__hip__libdevice__declares_8h_source.html#l00063">__clang_hip_libdevice_declares.h:63</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_adaa68e898feba5f67c091eb936e53744"><div class="ttname"><a href="classclang_1_1ASTContext.html#adaa68e898feba5f67c091eb936e53744">clang::ASTContext::getAuxTargetInfo</a></div><div class="ttdeci">const TargetInfo * getAuxTargetInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00765">ASTContext.h:765</a></div></div>
<div class="ttc" id="anamespaceclang_html_a702b0ec61c5bb9df98d3364a170c0dfc"><div class="ttname"><a href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfc">clang::AttributeArgumentNType</a></div><div class="ttdeci">AttributeArgumentNType</div><div class="ttdoc">These constants match the enumerated choices of err_attribute_argument_n_type and err_attribute_argum...</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01119">ParsedAttr.h:1119</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3624a2be2a3d0c3a51d812ff5939a3f3"><div class="ttname"><a href="classclang_1_1Sema.html#a3624a2be2a3d0c3a51d812ff5939a3f3">clang::Sema::getTypeName</a></div><div class="ttdeci">ParsedType getTypeName(const IdentifierInfo &amp;II, SourceLocation NameLoc, Scope *S, CXXScopeSpec *SS=nullptr, bool isClassName=false, bool HasTrailingDot=false, ParsedType ObjectType=nullptr, bool IsCtorOrDtorName=false, bool WantNontrivialTypeSourceInfo=false, bool IsClassTemplateDeductionContext=true, IdentifierInfo **CorrectedII=nullptr)</div><div class="ttdoc">If the identifier refers to a type name within this scope, return the declaration of that type.</div><div class="ttdef"><b>Definition:</b> <a href="SemaDecl_8cpp_source.html#l00285">SemaDecl.cpp:285</a></div></div>
<div class="ttc" id="aclassclang_1_1APValue_html_a729b2c00806b977fd000fcec15f28c27"><div class="ttname"><a href="classclang_1_1APValue.html#a729b2c00806b977fd000fcec15f28c27">clang::APValue::hasValue</a></div><div class="ttdeci">bool hasValue() const</div><div class="ttdef"><b>Definition:</b> <a href="APValue_8h_source.html#l00391">APValue.h:391</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateSpecializationType_html"><div class="ttname"><a href="classclang_1_1TemplateSpecializationType.html">clang::TemplateSpecializationType</a></div><div class="ttdoc">Represents a type template specialization; the template must be a class template, a type alias templa...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l05181">Type.h:5181</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4b318347193858996e56f0001f26112dab59b72f0cd69f7d6859640785ebc8a21"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4b318347193858996e56f0001f26112dab59b72f0cd69f7d6859640785ebc8a21">clang::ASTContext::PSF_Execute</a></div><div class="ttdeci">@ PSF_Execute</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l03265">ASTContext.h:3265</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a7bc40d0c154939394989bbe53eeb27a0"><div class="ttname"><a href="classclang_1_1Sema.html#a7bc40d0c154939394989bbe53eeb27a0">clang::Sema::mergeEnforceTCBLeafAttr</a></div><div class="ttdeci">EnforceTCBLeafAttr * mergeEnforceTCBLeafAttr(Decl *D, const EnforceTCBLeafAttr &amp;AL)</div></div>
<div class="ttc" id="astructclang_1_1Expr_1_1EvalStatus_html_a7488cd40b42a4151922651a53a4fe936"><div class="ttname"><a href="structclang_1_1Expr_1_1EvalStatus.html#a7488cd40b42a4151922651a53a4fe936">clang::Expr::EvalStatus::Diag</a></div><div class="ttdeci">SmallVectorImpl&lt; PartialDiagnosticAt &gt; * Diag</div><div class="ttdoc">Diag - If this is non-null, it will be filled in with a stack of notes indicating why evaluation fail...</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00599">Expr.h:599</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceRange_html_a57c37e1fcbc74220b2f82dc78dc7f606"><div class="ttname"><a href="classclang_1_1SourceRange.html#a57c37e1fcbc74220b2f82dc78dc7f606">clang::SourceRange::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00225">SourceLocation.h:225</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9926ceb22d6934583667ea2b7bb65d58"><div class="ttname"><a href="classclang_1_1Sema.html#a9926ceb22d6934583667ea2b7bb65d58">clang::Sema::getSourceManager</a></div><div class="ttdeci">SourceManager &amp; getSourceManager() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01779">Sema.h:1779</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a129f9063859b12a10010182119f9f4ee"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a129f9063859b12a10010182119f9f4ee">getFunctionOrMethodParam</a></div><div class="ttdeci">static const ParmVarDecl * getFunctionOrMethodParam(const Decl *D, unsigned Idx)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00105">SemaDeclAttr.cpp:105</a></div></div>
<div class="ttc" id="aclassclang_1_1WeakInfo_html_aa10af00be22a252be0b4b22117a03d59"><div class="ttname"><a href="classclang_1_1WeakInfo.html#aa10af00be22a252be0b4b22117a03d59">clang::WeakInfo::getAlias</a></div><div class="ttdeci">const IdentifierInfo * getAlias() const</div><div class="ttdef"><b>Definition:</b> <a href="Weak_8h_source.html#l00032">Weak.h:32</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_ad4851f54acecb924f449041d7bdee89c"><div class="ttname"><a href="classclang_1_1TargetInfo.html#ad4851f54acecb924f449041d7bdee89c">clang::TargetInfo::getCharWidth</a></div><div class="ttdeci">unsigned getCharWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l00441">TargetInfo.h:441</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a1a69e1a7c273c91b43990655df3b4460"><div class="ttname"><a href="classclang_1_1Sema.html#a1a69e1a7c273c91b43990655df3b4460">clang::Sema::ProcessPragmaWeak</a></div><div class="ttdeci">void ProcessPragmaWeak(Scope *S, Decl *D)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac5f5d2a5b4d98cf9d59b45044b83fd53"><div class="ttname"><a href="classclang_1_1Sema.html#ac5f5d2a5b4d98cf9d59b45044b83fd53">clang::Sema::LookupQualifiedName</a></div><div class="ttdeci">bool LookupQualifiedName(LookupResult &amp;R, DeclContext *LookupCtx, bool InUnqualifiedLookup=false)</div><div class="ttdoc">Perform qualified name lookup into a given context.</div><div class="ttdef"><b>Definition:</b> <a href="SemaLookup_8cpp_source.html#l02223">SemaLookup.cpp:2223</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a9630077a927001f119e396456dc9e091"><div class="ttname"><a href="classclang_1_1ASTContext.html#a9630077a927001f119e396456dc9e091">clang::ASTContext::OverloadTy</a></div><div class="ttdeci">CanQualType OverloadTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01120">ASTContext.h:1120</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_a1280e3f4075ff54f856987cf002ba300a1868aff47acf923ca643cb6950363615"><div class="ttname"><a href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a1868aff47acf923ca643cb6950363615">clang::Qualifiers::OCL_ExplicitNone</a></div><div class="ttdeci">@ OCL_ExplicitNone</div><div class="ttdoc">This object can be modified without requiring retains or releases.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00168">Type.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00040">LLVM.h:40</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_afd85b5081f1dded428912184ccf42e05"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#afd85b5081f1dded428912184ccf42e05">clang::ParsedAttr::getTypeArg</a></div><div class="ttdeci">const ParsedType &amp; getTypeArg() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00582">ParsedAttr.h:582</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00082">ASTContext.h:82</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_ab2805c22eb5de4b1a6144a1ae0e840b0"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#ab2805c22eb5de4b1a6144a1ae0e840b0">clang::AttributeCommonInfo::getAttrName</a></div><div class="ttdeci">const IdentifierInfo * getAttrName() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00128">AttributeCommonInfo.h:128</a></div></div>
<div class="ttc" id="aSourceManager_8h_html"><div class="ttname"><a href="SourceManager_8h.html">SourceManager.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTConsumer_html_abb9a2e25f40387eea6c9bbf534031bb3"><div class="ttname"><a href="classclang_1_1ASTConsumer.html#abb9a2e25f40387eea6c9bbf534031bb3">clang::ASTConsumer::AssignInheritanceModel</a></div><div class="ttdeci">virtual void AssignInheritanceModel(CXXRecordDecl *RD)</div><div class="ttdoc">Callback invoked when an MSInheritanceAttr has been attached to a CXXRecordDecl.</div><div class="ttdef"><b>Definition:</b> <a href="ASTConsumer_8h_source.html#l00112">ASTConsumer.h:112</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a08a8d6c5fb67e56ace4f2ce305701781"><div class="ttname"><a href="classclang_1_1Type.html#a08a8d6c5fb67e56ace4f2ce305701781">clang::Type::isVoidType</a></div><div class="ttdeci">bool isVoidType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07057">Type.h:7057</a></div></div>
<div class="ttc" id="anamespaceclang_html_a702b0ec61c5bb9df98d3364a170c0dfcacd1c26a060b255bf967903d838dcae73"><div class="ttname"><a href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcacd1c26a060b255bf967903d838dcae73">clang::AANT_ArgumentString</a></div><div class="ttdeci">@ AANT_ArgumentString</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01122">ParsedAttr.h:1122</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae722275ed5d5c9f9373f97183a897b49"><div class="ttname"><a href="classclang_1_1Sema.html#ae722275ed5d5c9f9373f97183a897b49">clang::Sema::CheckAttrNoArgs</a></div><div class="ttdeci">bool CheckAttrNoArgs(const ParsedAttr &amp;CurrAttr)</div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_ab169ae1144a8e0838958634171cf1ccd"><div class="ttname"><a href="classclang_1_1Qualifiers.html#ab169ae1144a8e0838958634171cf1ccd">clang::Qualifiers::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00425">Type.h:425</a></div></div>
<div class="ttc" id="aDeclSpec_8h_html"><div class="ttname"><a href="DeclSpec_8h.html">DeclSpec.h</a></div></div>
<div class="ttc" id="anamespaceclang_1_1serialized__diags_html_aff3d77d6832f7e576d1f410a478997aaa5c7281567c5fe43cde001bd23a8391d4"><div class="ttname"><a href="namespaceclang_1_1serialized__diags.html#aff3d77d6832f7e576d1f410a478997aaa5c7281567c5fe43cde001bd23a8391d4">clang::serialized_diags::Note</a></div><div class="ttdeci">@ Note</div><div class="ttdef"><b>Definition:</b> <a href="SerializedDiagnostics_8h_source.html#l00045">SerializedDiagnostics.h:45</a></div></div>
<div class="ttc" id="anamespaceclang_1_1tooling_html_a4ffee664435dba78b2225a5457619b53"><div class="ttname"><a href="namespaceclang_1_1tooling.html#a4ffee664435dba78b2225a5457619b53">clang::tooling::X</a></div><div class="ttdeci">static ToolExecutorPluginRegistry::Add&lt; AllTUsToolExecutorPlugin &gt; X(&quot;all-TUs&quot;, &quot;Runs FrontendActions on all TUs in the compilation database. &quot; &quot;Tool results are stored in memory.&quot;)</div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_aef0e4b06e995dbc54de3cc99993edf5b"><div class="ttname"><a href="classclang_1_1Decl.html#aef0e4b06e995dbc54de3cc99993edf5b">clang::Decl::getAttr</a></div><div class="ttdeci">T * getAttr() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00537">DeclBase.h:537</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba49ff8852eacaf74d36536e700613881f"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba49ff8852eacaf74d36536e700613881f">clang::CC_X86ThisCall</a></div><div class="ttdeci">@ CC_X86ThisCall</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00267">Specifiers.h:267</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac1d165b1a802532f800a73ed9e8275a4ad9851b2653a2f363617ac52b23752e4a"><div class="ttname"><a href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ad9851b2653a2f363617ac52b23752e4a">clang::Sema::AP_Explicit</a></div><div class="ttdeci">@ AP_Explicit</div><div class="ttdoc">The availability attribute was specified explicitly next to the declaration.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l03668">Sema.h:3668</a></div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html_a2f895ae8ae6d7966390f197b109d1f4dab600815d6d9e18d9146b12719639e8f3"><div class="ttname"><a href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4dab600815d6d9e18d9146b12719639e8f3">AttributeLangSupport::Cpp</a></div><div class="ttdeci">@ Cpp</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00055">SemaDeclAttr.cpp:55</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializedEntity_html_aa5e72e026c95ee7c907147bb2b2e1462"><div class="ttname"><a href="classclang_1_1InitializedEntity.html#aa5e72e026c95ee7c907147bb2b2e1462">clang::InitializedEntity::InitializeParameter</a></div><div class="ttdeci">static InitializedEntity InitializeParameter(ASTContext &amp;Context, ParmVarDecl *Parm)</div><div class="ttdoc">Create the initialization entity for a parameter.</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00253">Initialization.h:253</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a45c0f5a000bc434250cb5338a536e187"><div class="ttname"><a href="classclang_1_1Expr.html#a45c0f5a000bc434250cb5338a536e187">clang::Expr::containsUnexpandedParameterPack</a></div><div class="ttdeci">bool containsUnexpandedParameterPack() const</div><div class="ttdoc">Whether this expression contains an unexpanded parameter pack (for C++11 variadic templates).</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00232">Expr.h:232</a></div></div>
<div class="ttc" id="astructclang_1_1MSGuidDeclParts_html_a7362f8775f12d394516c87b68f5157e9"><div class="ttname"><a href="structclang_1_1MSGuidDeclParts.html#a7362f8775f12d394516c87b68f5157e9">clang::MSGuidDeclParts::Part1</a></div><div class="ttdeci">uint32_t Part1</div><div class="ttdoc">{01234567-...</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l04138">DeclCXX.h:4138</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_af1177013fb679cc26f4d06173c488e14"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#af1177013fb679cc26f4d06173c488e14">clang::FunctionDecl::isInlineSpecified</a></div><div class="ttdeci">bool isInlineSpecified() const</div><div class="ttdoc">Determine whether the &quot;inline&quot; keyword was specified for this function.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02595">Decl.h:2595</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_ae693f45ea1a152c3c8c697afbd5c1a52"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#ae693f45ea1a152c3c8c697afbd5c1a52">clang::ParsedAttr::getArg</a></div><div class="ttdeci">ArgsUnion getArg(unsigned Arg) const</div><div class="ttdoc">getArg - Return the specified argument.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00501">ParsedAttr.h:501</a></div></div>
<div class="ttc" id="aSemaStmtAttr_8cpp_html_a120c76f8d213e602c147d9e4c372b613"><div class="ttname"><a href="SemaStmtAttr_8cpp.html#a120c76f8d213e602c147d9e4c372b613">handleSYCLIntelFPGAInitiationIntervalAttr</a></div><div class="ttdeci">static Attr * handleSYCLIntelFPGAInitiationIntervalAttr(Sema &amp;S, Stmt *St, const ParsedAttr &amp;A)</div><div class="ttdef"><b>Definition:</b> <a href="SemaStmtAttr_8cpp_source.html#l00121">SemaStmtAttr.cpp:121</a></div></div>
<div class="ttc" id="aclassclang_1_1LangOptions_html_a36c2921589f9511c30ba427915674344"><div class="ttname"><a href="classclang_1_1LangOptions.html#a36c2921589f9511c30ba427915674344">clang::LangOptions::getOpenCLVersionString</a></div><div class="ttdeci">std::string getOpenCLVersionString() const</div><div class="ttdoc">Return the OpenCL C or C++ for OpenCL language name and version as a string.</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8cpp_source.html#l00071">LangOptions.cpp:71</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_afdc1284ec603cbb2bd528220d8d4cf6c"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#afdc1284ec603cbb2bd528220d8d4cf6c">checkPositiveIntArgument</a></div><div class="ttdeci">static bool checkPositiveIntArgument(Sema &amp;S, const AttrInfo &amp;AI, const Expr *Expr, int &amp;Val, unsigned Idx=UINT_MAX)</div><div class="ttdoc">Wrapper around checkUInt32Argument, with an extra check to be sure that the result will fit into a re...</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00251">SemaDeclAttr.cpp:251</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionType_html"><div class="ttname"><a href="classclang_1_1FunctionType.html">clang::FunctionType</a></div><div class="ttdoc">FunctionType - C99 6.7.5.3 - Function Declarators.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l03561">Type.h:3561</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a59a746b5fc30334d212916f57780d998"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a59a746b5fc30334d212916f57780d998">clang::ParsedAttr::hasProcessingCache</a></div><div class="ttdeci">bool hasProcessingCache() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00474">ParsedAttr.h:474</a></div></div>
<div class="ttc" id="anamespaceclang_html_a73616c07a633e772603049315dc55554acf9a137faaa271043c56f0008325ecbf"><div class="ttname"><a href="namespaceclang.html#a73616c07a633e772603049315dc55554acf9a137faaa271043c56f0008325ecbf">clang::SD_Automatic</a></div><div class="ttdeci">@ SD_Automatic</div><div class="ttdoc">Automatic storage duration (most local variables).</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00308">Specifiers.h:308</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a903bf4c74ba42c007ea7d9be02bd918a"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a903bf4c74ba42c007ea7d9be02bd918a">clang::ParsedAttr::checkAtLeastNumArgs</a></div><div class="ttdeci">bool checkAtLeastNumArgs(class Sema &amp;S, unsigned Num) const</div><div class="ttdoc">Check if the attribute has at least as many args as Num.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00262">ParsedAttr.cpp:262</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aec0fc8f2a9641771e6a446be3db9df05"><div class="ttname"><a href="classclang_1_1Sema.html#aec0fc8f2a9641771e6a446be3db9df05">clang::Sema::mergeBTFDeclTagAttr</a></div><div class="ttdeci">BTFDeclTagAttr * mergeBTFDeclTagAttr(Decl *D, const BTFDeclTagAttr &amp;AL)</div></div>
<div class="ttc" id="astructclang_1_1Expr_1_1EvalResult_html_a94083629a969e7faa7812eb84a7ecd24"><div class="ttname"><a href="structclang_1_1Expr_1_1EvalResult.html#a94083629a969e7faa7812eb84a7ecd24">clang::Expr::EvalResult::Val</a></div><div class="ttdeci">APValue Val</div><div class="ttdoc">Val - This is the value the expression can be folded to.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00614">Expr.h:614</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclarationName_html"><div class="ttname"><a href="classclang_1_1DeclarationName.html">clang::DeclarationName</a></div><div class="ttdoc">The name of a declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00143">DeclarationName.h:143</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a091e2575135f7f9f1aeb25ba0090bfde"><div class="ttname"><a href="classclang_1_1ASTContext.html#a091e2575135f7f9f1aeb25ba0090bfde">clang::ASTContext::getSourceManager</a></div><div class="ttdeci">SourceManager &amp; getSourceManager()</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00712">ASTContext.h:712</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a2fb9e85e18b9794ac89be1ac461704caa50b64659642efa5b07a11db3e89d68ba"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a2fb9e85e18b9794ac89be1ac461704caa50b64659642efa5b07a11db3e89d68ba">clang::AttributeCommonInfo::AS_GNU</a></div><div class="ttdeci">@ AS_GNU</div><div class="ttdoc">attribute((...))</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00027">AttributeCommonInfo.h:27</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a4443a6593412d7b2eab3a28a0bc4a248"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a4443a6593412d7b2eab3a28a0bc4a248">clang::AttributeCommonInfo::isDeclspecAttribute</a></div><div class="ttdeci">bool isDeclspecAttribute() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00142">AttributeCommonInfo.h:142</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_afad71d8f382bf1943bdd25fb89ebc32c"><div class="ttname"><a href="classclang_1_1ASTContext.html#afad71d8f382bf1943bdd25fb89ebc32c">clang::ASTContext::getTranslationUnitDecl</a></div><div class="ttdeci">TranslationUnitDecl * getTranslationUnitDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01074">ASTContext.h:1074</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_a40e7c3c2da0322d9069c05f63d078f75"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#a40e7c3c2da0322d9069c05f63d078f75">clang::sema::DelayedDiagnostic::getForbiddenTypeDiagnostic</a></div><div class="ttdeci">unsigned getForbiddenTypeDiagnostic() const</div><div class="ttdoc">The diagnostic ID to emit.</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00206">DelayedDiagnostic.h:206</a></div></div>
<div class="ttc" id="anamespaceclang_html_a702b0ec61c5bb9df98d3364a170c0dfca9dc817d1f3f2239c873381c657af2d64"><div class="ttname"><a href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca9dc817d1f3f2239c873381c657af2d64">clang::AANT_ArgumentConstantExpr</a></div><div class="ttdeci">@ AANT_ArgumentConstantExpr</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01124">ParsedAttr.h:1124</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_aa63911e14ab3a36ddafa3fe6d1ae6b2c"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#aa63911e14ab3a36ddafa3fe6d1ae6b2c">getAttrLoc</a></div><div class="ttdeci">static std::enable_if_t&lt; std::is_base_of&lt; Attr, AttrInfo &gt;::value, SourceLocation &gt; getAttrLoc(const AttrInfo &amp;AL)</div><div class="ttdoc">A helper function to provide Attribute Location for the Attr types AND the ParsedAttr.</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00204">SemaDeclAttr.cpp:204</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html">clang::sema::DelayedDiagnostic</a></div><div class="ttdoc">A diagnostic message which has been conditionally emitted pending the complete parsing of the current...</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00124">DelayedDiagnostic.h:124</a></div></div>
<div class="ttc" id="aclassclang_1_1Preprocessor_html_a7770871c2bdcd43cfa195d5936c8e268"><div class="ttname"><a href="classclang_1_1Preprocessor.html#a7770871c2bdcd43cfa195d5936c8e268">clang::Preprocessor::getIdentifierTable</a></div><div class="ttdeci">IdentifierTable &amp; getIdentifierTable()</div><div class="ttdef"><b>Definition:</b> <a href="Preprocessor_8h_source.html#l00992">Preprocessor.h:992</a></div></div>
<div class="ttc" id="astructclang_1_1IdentifierLoc_html_a578b8e66510e593cace88d60a2a00325"><div class="ttname"><a href="structclang_1_1IdentifierLoc.html#a578b8e66510e593cace88d60a2a00325">clang::IdentifierLoc::Loc</a></div><div class="ttdeci">SourceLocation Loc</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00219">ParsedAttr.h:219</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a2d776f75f5ed5623a36ae604e4845527"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a2d776f75f5ed5623a36ae604e4845527">clang::ParsedAttr::checkExactlyNumArgs</a></div><div class="ttdeci">bool checkExactlyNumArgs(class Sema &amp;S, unsigned Num) const</div><div class="ttdoc">Check if the attribute has exactly as many args as Num.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00257">ParsedAttr.cpp:257</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25bab08f1a124e4aaef328ca1459f8b0d710"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25bab08f1a124e4aaef328ca1459f8b0d710">clang::CC_X86StdCall</a></div><div class="ttdeci">@ CC_X86StdCall</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00265">Specifiers.h:265</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ab8b286127868e62b176caa0987422d36"><div class="ttname"><a href="classclang_1_1Type.html#ab8b286127868e62b176caa0987422d36">clang::Type::hasFloatingRepresentation</a></div><div class="ttdeci">bool hasFloatingRepresentation() const</div><div class="ttdoc">Determine whether this type has a floating-point representation of some sort, e.g....</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l02131">Type.cpp:2131</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3ccddacb1f4f71b084296175cc9e5b0e"><div class="ttname"><a href="classclang_1_1Sema.html#a3ccddacb1f4f71b084296175cc9e5b0e">clang::Sema::Context</a></div><div class="ttdeci">ASTContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00587">Sema.h:587</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html"><div class="ttname"><a href="classclang_1_1Type.html">clang::Type</a></div><div class="ttdoc">The base class of the type hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l01492">Type.h:1492</a></div></div>
<div class="ttc" id="aPreprocessor_8h_html"><div class="ttname"><a href="Preprocessor_8h.html">Preprocessor.h</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a246ca9296386dfded3561bc9d3f42c57"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a246ca9296386dfded3561bc9d3f42c57">clang::FunctionDecl::isInlined</a></div><div class="ttdeci">bool isInlined() const</div><div class="ttdoc">Determine whether this function should be inlined, because it is either marked &quot;inline&quot; or &quot;constexpr...</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02617">Decl.h:2617</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a3c07141b907d12b1c37952600899cbb2"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a3c07141b907d12b1c37952600899cbb2">clang::FunctionDecl::hasPrototype</a></div><div class="ttdeci">bool hasPrototype() const</div><div class="ttdoc">Whether this function has a prototype, either because one was explicitly written or because it was &quot;i...</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02256">Decl.h:2256</a></div></div>
<div class="ttc" id="aclassclang_1_1TypedefType_html"><div class="ttname"><a href="classclang_1_1TypedefType.html">clang::TypedefType</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04407">Type.h:4407</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a5b42d6ab5ff217daa5fa373ee027b685"><div class="ttname"><a href="classclang_1_1Type.html#a5b42d6ab5ff217daa5fa373ee027b685">clang::Type::isExtVectorType</a></div><div class="ttdeci">bool isExtVectorType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06856">Type.h:6856</a></div></div>
<div class="ttc" id="aDeclObjC_8h_html"><div class="ttname"><a href="DeclObjC_8h.html">DeclObjC.h</a></div></div>
<div class="ttc" id="aFormat_8cpp_html_a9fcf84dffafb0ea03c0f9b686ddbf2b3"><div class="ttname"><a href="Format_8cpp.html#a9fcf84dffafb0ea03c0f9b686ddbf2b3">Offset</a></div><div class="ttdeci">unsigned Offset</div><div class="ttdef"><b>Definition:</b> <a href="Format_8cpp_source.html#l02552">Format.cpp:2552</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_af4dce621d5b24cbf26188c24a6878033"><div class="ttname"><a href="classclang_1_1Sema.html#af4dce621d5b24cbf26188c24a6878033">clang::Sema::addSYCLIntelPipeIOAttr</a></div><div class="ttdeci">void addSYCLIntelPipeIOAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *ID)</div><div class="ttdoc">addSYCLIntelPipeIOAttr - Adds a pipe I/O attribute to a particular declaration.</div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnosticPool_html"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnosticPool.html">clang::sema::DelayedDiagnosticPool</a></div><div class="ttdoc">A collection of diagnostics which were delayed.</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00263">DelayedDiagnostic.h:263</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a2bc86255142d5d88a43caef2415a31c7"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a2bc86255142d5d88a43caef2415a31c7">clang::ExpectedFunctionWithProtoType</a></div><div class="ttdeci">@ ExpectedFunctionWithProtoType</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01143">ParsedAttr.h:1143</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a540668767abd51f301f14046491cd37b"><div class="ttname"><a href="classclang_1_1Sema.html#a540668767abd51f301f14046491cd37b">clang::Sema::DiagnoseDeprecatedAttribute</a></div><div class="ttdeci">void DiagnoseDeprecatedAttribute(const ParsedAttr &amp;A, StringRef NewScope, StringRef NewName)</div><div class="ttdoc">Emit a diagnostic about the given attribute having a deprecated name, and also emit a fixit hint to g...</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00293">SemaDeclAttr.cpp:293</a></div></div>
<div class="ttc" id="aclassclang_1_1FixItHint_html"><div class="ttname"><a href="classclang_1_1FixItHint.html">clang::FixItHint</a></div><div class="ttdoc">Annotates a diagnostic with some code that should be inserted, removed, or replaced to fix the proble...</div><div class="ttdef"><b>Definition:</b> <a href="Basic_2Diagnostic_8h_source.html#l00071">Diagnostic.h:71</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6f470e1c56366f40fea93aef0c2b5e9e"><div class="ttname"><a href="classclang_1_1Sema.html#a6f470e1c56366f40fea93aef0c2b5e9e">clang::Sema::getLangOpts</a></div><div class="ttdeci">const LangOptions &amp; getLangOpts() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01774">Sema.h:1774</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3d4f840234e8680704c5fa29522c825b"><div class="ttname"><a href="classclang_1_1Sema.html#a3d4f840234e8680704c5fa29522c825b">clang::Sema::AddWorkGroupSizeHintAttr</a></div><div class="ttdeci">void AddWorkGroupSizeHintAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *XDim, Expr *YDim, Expr *ZDim)</div></div>
<div class="ttc" id="anamespaceclang_html_ac4d855143c10ceb396f2e0363e165211"><div class="ttname"><a href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211">clang::FloatModeKind</a></div><div class="ttdeci">FloatModeKind</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l00053">TargetInfo.h:53</a></div></div>
<div class="ttc" id="anamespaceclang_html_ad3b44399e5a02cb6427596a4489bb3aea6fcdc090caeade09d0efd6253932b6f5"><div class="ttname"><a href="namespaceclang.html#ad3b44399e5a02cb6427596a4489bb3aea6fcdc090caeade09d0efd6253932b6f5">clang::MSInheritanceModel::Unspecified</a></div><div class="ttdeci">@ Unspecified</div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a67b41c24681cb0ed6bb9076ebc0453ef"><div class="ttname"><a href="classclang_1_1Decl.html#a67b41c24681cb0ed6bb9076ebc0453ef">clang::Decl::getFunctionType</a></div><div class="ttdeci">const FunctionType * getFunctionType(bool BlocksToo=true) const</div><div class="ttdoc">Looks through the Decl's underlying type to extract a FunctionType when possible.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l01014">DeclBase.cpp:1014</a></div></div>
<div class="ttc" id="anamespaceclang_html_a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b"><div class="ttname"><a href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfcabb61c424dd5e8dd7b07865081bb3fb2b">clang::AANT_ArgumentIdentifier</a></div><div class="ttdeci">@ AANT_ArgumentIdentifier</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01123">ParsedAttr.h:1123</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a07111138b85e822af31a341cadb6c31f"><div class="ttname"><a href="classclang_1_1ASTContext.html#a07111138b85e822af31a341cadb6c31f">clang::ASTContext::getTypeAlignInChars</a></div><div class="ttdeci">CharUnits getTypeAlignInChars(QualType T) const</div><div class="ttdoc">Return the ABI-specified alignment of a (complete) type T, in characters.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l02481">ASTContext.cpp:2481</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a5928345bfac5758ac40b1e30645bc98a"><div class="ttname"><a href="classclang_1_1Sema.html#a5928345bfac5758ac40b1e30645bc98a">clang::Sema::AddParameterABIAttr</a></div><div class="ttdeci">void AddParameterABIAttr(Decl *D, const AttributeCommonInfo &amp;CI, ParameterABI ABI)</div></div>
<div class="ttc" id="aclassclang_1_1Declarator_html_a210ac9dbf8138d3c3be39d2d1bad52c6"><div class="ttname"><a href="classclang_1_1Declarator.html#a210ac9dbf8138d3c3be39d2d1bad52c6">clang::Declarator::getDeclSpec</a></div><div class="ttdeci">const DeclSpec &amp; getDeclSpec() const</div><div class="ttdoc">getDeclSpec - Return the declaration-specifier that this declarator was declared with.</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l01910">DeclSpec.h:1910</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a99ee92ee180fe80ddaebb942c667c01b"><div class="ttname"><a href="classclang_1_1Sema.html#a99ee92ee180fe80ddaebb942c667c01b">clang::Sema::DiagnoseSwiftName</a></div><div class="ttdeci">bool DiagnoseSwiftName(Decl *D, StringRef Name, SourceLocation Loc, const ParsedAttr &amp;AL, bool IsAsync)</div><div class="ttdoc">Do a check to make sure Name looks like a legal argument for the swift_name attribute applied to decl...</div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html_ab584bc52cf7c2397a67fde7f8fc5786a"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html#ab584bc52cf7c2397a67fde7f8fc5786a">clang::CXXRecordDecl::getDescribedClassTemplate</a></div><div class="ttdeci">ClassTemplateDecl * getDescribedClassTemplate() const</div><div class="ttdoc">Retrieves the class template that is described by this class declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8cpp_source.html#l01810">DeclCXX.cpp:1810</a></div></div>
<div class="ttc" id="anamespaceclang_1_1dataflow_html_a976b5e84c22bdee7966721cba9133be6"><div class="ttname"><a href="namespaceclang_1_1dataflow.html#a976b5e84c22bdee7966721cba9133be6">clang::dataflow::Literal</a></div><div class="ttdeci">uint32_t Literal</div><div class="ttdoc">Literals are represented as positive integers.</div><div class="ttdef"><b>Definition:</b> <a href="WatchedLiteralsSolver_8cpp_source.html#l00055">WatchedLiteralsSolver.cpp:55</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a602c03777aa1be29b6e5bc9e34fd6daa"><div class="ttname"><a href="classclang_1_1Sema.html#a602c03777aa1be29b6e5bc9e34fd6daa">clang::Sema::checkNSReturnsRetainedReturnType</a></div><div class="ttdeci">bool checkNSReturnsRetainedReturnType(SourceLocation loc, QualType type)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9e8d942a7336514421c8e2ffddd0ea78"><div class="ttname"><a href="classclang_1_1Sema.html#a9e8d942a7336514421c8e2ffddd0ea78">clang::Sema::AddAssumeAlignedAttr</a></div><div class="ttdeci">void AddAssumeAlignedAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E, Expr *OE)</div><div class="ttdoc">AddAssumeAlignedAttr - Adds an assume_aligned attribute to a particular declaration.</div></div>
<div class="ttc" id="aByteCodeEmitter_8cpp_html_abcdace8b2ec8db6d1a21f45f8a45e6fd"><div class="ttname"><a href="ByteCodeEmitter_8cpp.html#abcdace8b2ec8db6d1a21f45f8a45e6fd">APSInt</a></div><div class="ttdeci">llvm::APSInt APSInt</div><div class="ttdef"><b>Definition:</b> <a href="ByteCodeEmitter_8cpp_source.html#l00019">ByteCodeEmitter.cpp:19</a></div></div>
<div class="ttc" id="aclassU_html"><div class="ttname"><a href="classU.html">U</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aef198114231022aaccdce766cc26d21d"><div class="ttname"><a href="classclang_1_1Sema.html#aef198114231022aaccdce766cc26d21d">clang::Sema::getCurLexicalContext</a></div><div class="ttdeci">DeclContext * getCurLexicalContext() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l13513">Sema.h:13513</a></div></div>
<div class="ttc" id="aclassclang_1_1UnresolvedUsingTypenameDecl_html"><div class="ttname"><a href="classclang_1_1UnresolvedUsingTypenameDecl.html">clang::UnresolvedUsingTypenameDecl</a></div><div class="ttdoc">Represents a dependent using declaration which was marked with typename.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l03829">DeclCXX.h:3829</a></div></div>
<div class="ttc" id="aclassclang_1_1ParmVarDecl_html_a4cc8300afc1f80e4a56cae8d5b30eb6c"><div class="ttname"><a href="classclang_1_1ParmVarDecl.html#a4cc8300afc1f80e4a56cae8d5b30eb6c">clang::ParmVarDecl::setScopeInfo</a></div><div class="ttdeci">void setScopeInfo(unsigned scopeDepth, unsigned parameterIndex)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01697">Decl.h:1697</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_ab5fca65130cfae5e28e7c93be2375d92"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#ab5fca65130cfae5e28e7c93be2375d92">clang::ParsedAttr::setProcessingCache</a></div><div class="ttdeci">void setProcessingCache(unsigned value) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00481">ParsedAttr.h:481</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_a4fe071140fa6550b1ab3755c78fcc77c"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#a4fe071140fa6550b1ab3755c78fcc77c">clang::sema::DelayedDiagnostic::Kind</a></div><div class="ttdeci">DDKind Kind</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00128">DelayedDiagnostic.h:128</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierInfo_html_abc1663235bb2ceb625df5eb934f0aad5"><div class="ttname"><a href="classclang_1_1IdentifierInfo.html#abc1663235bb2ceb625df5eb934f0aad5">clang::IdentifierInfo::isStr</a></div><div class="ttdeci">bool isStr(const char(&amp;Str)[StrLen]) const</div><div class="ttdoc">Return true if this is the identifier for the specified string.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00176">IdentifierTable.h:176</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a71ce58e657f548708725ba2ad028f186"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a71ce58e657f548708725ba2ad028f186">hasDeclarator</a></div><div class="ttdeci">static bool hasDeclarator(const Decl *D)</div><div class="ttdoc">Return true if the given decl has a declarator that should have been processed by Sema::GetTypeForDec...</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00079">SemaDeclAttr.cpp:79</a></div></div>
<div class="ttc" id="aSemaStmtAttr_8cpp_html_a677c8a76b71993d24c638d7dc970593e"><div class="ttname"><a href="SemaStmtAttr_8cpp.html#a677c8a76b71993d24c638d7dc970593e">handleAlwaysInlineAttr</a></div><div class="ttdeci">static Attr * handleAlwaysInlineAttr(Sema &amp;S, Stmt *St, const ParsedAttr &amp;A, SourceRange Range)</div><div class="ttdef"><b>Definition:</b> <a href="SemaStmtAttr_8cpp_source.html#l00619">SemaStmtAttr.cpp:619</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_abd6277ab35f295a66e19e60c66dbee48"><div class="ttname"><a href="classclang_1_1Sema.html#abd6277ab35f295a66e19e60c66dbee48">clang::Sema::addAMDGPUFlatWorkGroupSizeAttr</a></div><div class="ttdeci">void addAMDGPUFlatWorkGroupSizeAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *Min, Expr *Max)</div><div class="ttdoc">addAMDGPUFlatWorkGroupSizeAttr - Adds an amdgpu_flat_work_group_size attribute to a particular declar...</div></div>
<div class="ttc" id="aclassclang_1_1FunctionTemplateDecl_html"><div class="ttname"><a href="classclang_1_1FunctionTemplateDecl.html">clang::FunctionTemplateDecl</a></div><div class="ttdoc">Declaration of a template function.</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l00979">DeclTemplate.h:979</a></div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html">llvm::MutableArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00035">LLVM.h:35</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_ab6698db0487ba2b1b4577b29bba0a16e"><div class="ttname"><a href="classclang_1_1Expr.html#ab6698db0487ba2b1b4577b29bba0a16e">clang::Expr::getIntegerConstantExpr</a></div><div class="ttdeci">Optional&lt; llvm::APSInt &gt; getIntegerConstantExpr(const ASTContext &amp;Ctx, SourceLocation *Loc=nullptr, bool isEvaluated=true) const</div><div class="ttdoc">isIntegerConstantExpr - Return the value if this expression is a valid integer constant expression.</div><div class="ttdef"><b>Definition:</b> <a href="ExprConstant_8cpp_source.html#l15700">ExprConstant.cpp:15700</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a48b2c2b1c98a1800de465320ee70badc"><div class="ttname"><a href="classclang_1_1Type.html#a48b2c2b1c98a1800de465320ee70badc">clang::Type::isReferenceType</a></div><div class="ttdeci">bool isReferenceType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06762">Type.h:6762</a></div></div>
<div class="ttc" id="anamespaceclang_1_1syntax_html_a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c"><div class="ttname"><a href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a3225a10b07f1580f10dee4abc3779e6c">clang::syntax::NodeRole::Parameters</a></div><div class="ttdeci">@ Parameters</div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a7d86e913845c5a21d398d802859983fc"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a7d86e913845c5a21d398d802859983fc">clang::ParsedAttr::getNumArgs</a></div><div class="ttdeci">unsigned getNumArgs() const</div><div class="ttdoc">getNumArgs - Return the number of actual arguments to this attribute.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00498">ParsedAttr.h:498</a></div></div>
<div class="ttc" id="aASTContext_8h_html_ab1457e11becd51c5d0c750caab5446c2"><div class="ttname"><a href="ASTContext_8h.html#ab1457e11becd51c5d0c750caab5446c2">V</a></div><div class="ttdeci">#define V(N, I)</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l03167">ASTContext.h:3167</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba2aeacc446ef2639ee6e06b0318b7f1f7"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba2aeacc446ef2639ee6e06b0318b7f1f7">clang::CC_Swift</a></div><div class="ttdeci">@ CC_Swift</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00278">Specifiers.h:278</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a9752df3b5bc2715e4540c700f7721860a06dc56f1cb392281d335fb36f6165be1"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a9752df3b5bc2715e4540c700f7721860a06dc56f1cb392281d335fb36f6165be1">clang::AttributeCommonInfo::UnknownAttribute</a></div><div class="ttdeci">@ UnknownAttribute</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00058">AttributeCommonInfo.h:58</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aba40da784200469100c172bffdb61df4"><div class="ttname"><a href="classclang_1_1Sema.html#aba40da784200469100c172bffdb61df4">clang::Sema::AddIntelFPGAMaxReplicatesAttr</a></div><div class="ttdeci">void AddIntelFPGAMaxReplicatesAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_a9cb044961dd694f5ea2dc908a11fc99e"><div class="ttname"><a href="classclang_1_1TargetInfo.html#a9cb044961dd694f5ea2dc908a11fc99e">clang::TargetInfo::getRegisterWidth</a></div><div class="ttdeci">virtual unsigned getRegisterWidth() const</div><div class="ttdoc">Return the &quot;preferred&quot; register width on this target.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l00795">TargetInfo.h:795</a></div></div>
<div class="ttc" id="anamespaceclang_1_1prec_html_a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0"><div class="ttname"><a href="namespaceclang_1_1prec.html#a9bfbe31f4770359ea44ad42e7c7ed8ffa42cd826122049bf4beeda9fb3ef918f0">clang::prec::Unknown</a></div><div class="ttdeci">@ Unknown</div><div class="ttdef"><b>Definition:</b> <a href="OperatorPrecedence_8h_source.html#l00027">OperatorPrecedence.h:27</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnosticPool_html_a1c66115b3158ca10bff1e75b929d0a92"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a1c66115b3158ca10bff1e75b929d0a92">clang::sema::DelayedDiagnosticPool::steal</a></div><div class="ttdeci">void steal(DelayedDiagnosticPool &amp;pool)</div><div class="ttdoc">Steal the diagnostics from the given pool.</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00304">DelayedDiagnostic.h:304</a></div></div>
<div class="ttc" id="aclassclang_1_1ParamIdx_html_a62d65ba307efac5f42ae7488fc68f2cf"><div class="ttname"><a href="classclang_1_1ParamIdx.html#a62d65ba307efac5f42ae7488fc68f2cf">clang::ParamIdx::getSourceIndex</a></div><div class="ttdeci">unsigned getSourceIndex() const</div><div class="ttdoc">Get the parameter index as it would normally be encoded for attributes at the source level of represe...</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00296">Attr.h:296</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ad804e1759ffeb82b327639afc2fb3a88"><div class="ttname"><a href="classclang_1_1Sema.html#ad804e1759ffeb82b327639afc2fb3a88">clang::Sema::MergeSYCLUsesAspectsAttr</a></div><div class="ttdeci">SYCLUsesAspectsAttr * MergeSYCLUsesAspectsAttr(Decl *D, const SYCLUsesAspectsAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a69c39f9c64c82f2764b2126c425bfa68"><div class="ttname"><a href="classclang_1_1Type.html#a69c39f9c64c82f2764b2126c425bfa68">clang::Type::isBitIntType</a></div><div class="ttdeci">bool isBitIntType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06992">Type.h:6992</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a4c591bf2c0aa4f4d5f343ec665cbf196"><div class="ttname"><a href="classclang_1_1Decl.html#a4c591bf2c0aa4f4d5f343ec665cbf196">clang::Decl::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdoc">Lists the kind of concrete classes of Decl.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00086">DeclBase.h:86</a></div></div>
<div class="ttc" id="anamespaceclang_html_a4ed394d9a335c1d6c7fc168a88ffcec5"><div class="ttname"><a href="namespaceclang.html#a4ed394d9a335c1d6c7fc168a88ffcec5">clang::isValidAsciiIdentifier</a></div><div class="ttdeci">LLVM_READONLY bool isValidAsciiIdentifier(StringRef S, bool AllowDollar=false)</div><div class="ttdoc">Return true if this is a valid ASCII identifier.</div><div class="ttdef"><b>Definition:</b> <a href="CharInfo_8h_source.html#l00228">CharInfo.h:228</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7c290fe8101a0b108e426214266cff56"><div class="ttname"><a href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56">clang::ParameterABI</a></div><div class="ttdeci">ParameterABI</div><div class="ttdoc">Kinds of parameter ABI.</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00343">Specifiers.h:343</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_aa2b55a07e5fc1895b81d5e6baf67d4ef"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#aa2b55a07e5fc1895b81d5e6baf67d4ef">getFunctionOrMethodResultSourceRange</a></div><div class="ttdeci">static SourceRange getFunctionOrMethodResultSourceRange(const Decl *D)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00137">SemaDeclAttr.cpp:137</a></div></div>
<div class="ttc" id="a____clang__cuda__math_8h_html_a56979bdbfd9314c50e30a5c645f2bc4d"><div class="ttname"><a href="____clang__cuda__math_8h.html#a56979bdbfd9314c50e30a5c645f2bc4d">min</a></div><div class="ttdeci">__DEVICE__ int min(int __a, int __b)</div><div class="ttdef"><b>Definition:</b> <a href="____clang__cuda__math_8h_source.html#l00197">__clang_cuda_math.h:197</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a403c0901c1e01d4c42a80e5e139e9bd5"><div class="ttname"><a href="classclang_1_1Expr.html#a403c0901c1e01d4c42a80e5e139e9bd5">clang::Expr::isTypeDependent</a></div><div class="ttdeci">bool isTypeDependent() const</div><div class="ttdoc">Determines whether the type of this expression depends on.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00185">Expr.h:185</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_a4a89d99c5a7f5992fe2d22793fa82f37"><div class="ttname"><a href="classclang_1_1TargetInfo.html#a4a89d99c5a7f5992fe2d22793fa82f37">clang::TargetInfo::getDefaultCallingConv</a></div><div class="ttdeci">virtual CallingConv getDefaultCallingConv() const</div><div class="ttdoc">Gets the default calling convention for the given target and declaration context.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01495">TargetInfo.h:1495</a></div></div>
<div class="ttc" id="aclassclang_1_1RecordType_html"><div class="ttname"><a href="classclang_1_1RecordType.html">clang::RecordType</a></div><div class="ttdoc">A helper class that allows the use of isa/cast/dyncast to detect TagType objects of structs/unions/cl...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04649">Type.h:4649</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedTargetAttr_html_ad6336ecc619cd436b2b12fa2a118252e"><div class="ttname"><a href="structclang_1_1ParsedTargetAttr.html#ad6336ecc619cd436b2b12fa2a118252e">clang::ParsedTargetAttr::DuplicateArchitecture</a></div><div class="ttdeci">bool DuplicateArchitecture</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00359">Attr.h:359</a></div></div>
<div class="ttc" id="aclassclang_1_1Module_html"><div class="ttname"><a href="classclang_1_1Module.html">clang::Module</a></div><div class="ttdoc">Describes a module or submodule.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00096">Module.h:96</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateParameterList_html_ac087742e8b1da896b9e7f4d80b749ec4"><div class="ttname"><a href="classclang_1_1TemplateParameterList.html#ac087742e8b1da896b9e7f4d80b749ec4">clang::TemplateParameterList::getParam</a></div><div class="ttdeci">NamedDecl * getParam(unsigned Idx)</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l00138">DeclTemplate.h:138</a></div></div>
<div class="ttc" id="aDeclTemplate_8h_html"><div class="ttname"><a href="DeclTemplate_8h.html">DeclTemplate.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_aef25a855bd12b76726842c826920ecae"><div class="ttname"><a href="classclang_1_1Type.html#aef25a855bd12b76726842c826920ecae">clang::Type::hasPointerRepresentation</a></div><div class="ttdeci">bool hasPointerRepresentation() const</div><div class="ttdoc">Whether this type is represented natively as a pointer.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07204">Type.h:7204</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9e314454e8c3b859b7db983827069f16"><div class="ttname"><a href="classclang_1_1Sema.html#a9e314454e8c3b859b7db983827069f16">clang::Sema::inTemplateInstantiation</a></div><div class="ttdeci">bool inTemplateInstantiation() const</div><div class="ttdoc">Determine whether we are currently performing template instantiation.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l09479">Sema.h:9479</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a765f7182bccdc02a5e0ac40fc2ea465a"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a765f7182bccdc02a5e0ac40fc2ea465a">clang::ParsedAttr::getStrictLoc</a></div><div class="ttdeci">SourceLocation getStrictLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00540">ParsedAttr.h:540</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae44d69d2ff9517aeee346e5c0ec518c2"><div class="ttname"><a href="namespaceclang.html#ae44d69d2ff9517aeee346e5c0ec518c2">clang::PartialDiagnosticAt</a></div><div class="ttdeci">std::pair&lt; SourceLocation, PartialDiagnostic &gt; PartialDiagnosticAt</div><div class="ttdoc">A partial diagnostic along with the source location where this diagnostic occurs.</div><div class="ttdef"><b>Definition:</b> <a href="PartialDiagnostic_8h_source.html#l00205">PartialDiagnostic.h:205</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_acf2f4cf825418fb318c5984feec3d80a"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#acf2f4cf825418fb318c5984feec3d80a">clang::ParsedAttr::isArgExpr</a></div><div class="ttdeci">bool isArgExpr(unsigned Arg) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00506">ParsedAttr.h:506</a></div></div>
<div class="ttc" id="aclassclang_1_1LangOptions_html_a34a8b84f730051971c84c36daa84dda7"><div class="ttname"><a href="classclang_1_1LangOptions.html#a34a8b84f730051971c84c36daa84dda7">clang::LangOptions::ObjCRuntime</a></div><div class="ttdeci">clang::ObjCRuntime ObjCRuntime</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8h_source.html#l00362">LangOptions.h:362</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a9c0ac8ddf9155de0b95eeeb18034e50f"><div class="ttname"><a href="classclang_1_1Decl.html#a9c0ac8ddf9155de0b95eeeb18034e50f">clang::Decl::specific_attrs</a></div><div class="ttdeci">llvm::iterator_range&lt; specific_attr_iterator&lt; T &gt; &gt; specific_attrs() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00523">DeclBase.h:523</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a1dc6d06fe673db5053adfa3160f3175f"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a1dc6d06fe673db5053adfa3160f3175f">clang::FunctionDecl::param_end</a></div><div class="ttdeci">param_iterator param_end()</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02500">Decl.h:2500</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a6cc7661c7c6b310a91fd90d78b9539db"><div class="ttname"><a href="classclang_1_1QualType.html#a6cc7661c7c6b310a91fd90d78b9539db">clang::QualType::getAddressSpace</a></div><div class="ttdeci">LangAS getAddressSpace() const</div><div class="ttdoc">Return the address space of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06623">Type.h:6623</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_aedd1ee920162f9a35e8d249a4926d9d5"><div class="ttname"><a href="classclang_1_1Decl.html#aedd1ee920162f9a35e8d249a4926d9d5">clang::Decl::getKind</a></div><div class="ttdeci">Kind getKind() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00427">DeclBase.h:427</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_af4bc4e9853a101b16769c91f3cd19aa8"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#af4bc4e9853a101b16769c91f3cd19aa8">clang::AttributeCommonInfo::isStandardAttributeSyntax</a></div><div class="ttdeci">bool isStandardAttributeSyntax() const</div><div class="ttdoc">The attribute is spelled [[]] in either C or C++ mode, including standard attributes spelled with a k...</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00160">AttributeCommonInfo.h:160</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a3f7483d592cbd904ed592312222ca6ae"><div class="ttname"><a href="classclang_1_1ASTContext.html#a3f7483d592cbd904ed592312222ca6ae">clang::ASTContext::getDefaultCallingConvention</a></div><div class="ttdeci">CallingConv getDefaultCallingConvention(bool IsVariadic, bool IsCXXMethod, bool IsBuiltin=false) const</div><div class="ttdoc">Retrieves the default calling convention for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l11628">ASTContext.cpp:11628</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a37e01e1c4d4c2d459123b9c46b9eaaf9"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a37e01e1c4d4c2d459123b9c46b9eaaf9">getFunctionOrMethodParamType</a></div><div class="ttdeci">static QualType getFunctionOrMethodParamType(const Decl *D, unsigned Idx)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00116">SemaDeclAttr.cpp:116</a></div></div>
<div class="ttc" id="aASTDiff_8cpp_html_afe0b47b3c92f2f69ea3da50cb72553eb"><div class="ttname"><a href="ASTDiff_8cpp.html#afe0b47b3c92f2f69ea3da50cb72553eb">Id</a></div><div class="ttdeci">int Id</div><div class="ttdef"><b>Definition:</b> <a href="ASTDiff_8cpp_source.html#l00191">ASTDiff.cpp:191</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_a1280e3f4075ff54f856987cf002ba300a056719970802d94ba3740489f709a96e"><div class="ttname"><a href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a056719970802d94ba3740489f709a96e">clang::Qualifiers::OCL_Strong</a></div><div class="ttdeci">@ OCL_Strong</div><div class="ttdoc">Assigning into this object requires the old value to be released and the new value to be retained.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00175">Type.h:175</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_adf9c6d2a06193650855cc26c601846fe"><div class="ttname"><a href="classclang_1_1Type.html#adf9c6d2a06193650855cc26c601846fe">clang::Type::isNullPtrType</a></div><div class="ttdeci">bool isNullPtrType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07082">Type.h:7082</a></div></div>
<div class="ttc" id="anamespaceclang_1_1XRayInstrKind_html_a74957f939e9c2b26d53095846a926c34"><div class="ttname"><a href="namespaceclang_1_1XRayInstrKind.html#a74957f939e9c2b26d53095846a926c34">clang::XRayInstrKind::None</a></div><div class="ttdeci">constexpr XRayInstrMask None</div><div class="ttdef"><b>Definition:</b> <a href="XRayInstr_8h_source.html#l00038">XRayInstr.h:38</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_aee85c06098fa320e9a215214c2b94e65"><div class="ttname"><a href="classclang_1_1DeclContext.html#aee85c06098fa320e9a215214c2b94e65">clang::DeclContext::getDeclKind</a></div><div class="ttdeci">Decl::Kind getDeclKind() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01865">DeclBase.h:1865</a></div></div>
<div class="ttc" id="aclassclang_1_1Scope_html"><div class="ttname"><a href="classclang_1_1Scope.html">clang::Scope</a></div><div class="ttdoc">Scope - A scope is a transient data structure that is used while parsing the program.</div><div class="ttdef"><b>Definition:</b> <a href="Scope_8h_source.html#l00040">Scope.h:40</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedAttrInfo_html_aa7dae8b44aa7722c4b85277e114efb65"><div class="ttname"><a href="structclang_1_1ParsedAttrInfo.html#aa7dae8b44aa7722c4b85277e114efb65">clang::ParsedAttrInfo::handleDeclAttribute</a></div><div class="ttdeci">virtual AttrHandling handleDeclAttribute(Sema &amp;S, Decl *D, const ParsedAttr &amp;Attr) const</div><div class="ttdoc">If this ParsedAttrInfo knows how to handle this ParsedAttr applied to this Decl then do so and return...</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00153">ParsedAttr.h:153</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aeb871140de6874d241e57b6d009aa8cb"><div class="ttname"><a href="classclang_1_1Sema.html#aeb871140de6874d241e57b6d009aa8cb">clang::Sema::AddAlignValueAttr</a></div><div class="ttdeci">void AddAlignValueAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div><div class="ttdoc">AddAlignValueAttr - Adds an align_value attribute to a particular declaration.</div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac9a4a6ed1e081765793c8b764506f5c2">clang::ExpectedFunction</a></div><div class="ttdeci">@ ExpectedFunction</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01131">ParsedAttr.h:1131</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a903df8e91e75403da0da82add1e8a833"><div class="ttname"><a href="classclang_1_1Type.html#a903df8e91e75403da0da82add1e8a833">clang::Type::isObjCIdType</a></div><div class="ttdeci">bool isObjCIdType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06911">Type.h:6911</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_aa39dff434d30711957097bb5b9d04343"><div class="ttname"><a href="classclang_1_1ASTContext.html#aa39dff434d30711957097bb5b9d04343">clang::ASTContext::getAsArrayType</a></div><div class="ttdeci">const ArrayType * getAsArrayType(QualType T) const</div><div class="ttdoc">Type Query functions.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l06678">ASTContext.cpp:6678</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_ad5fbbf6c86a0f38a6ef069b510f1c0e2"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#ad5fbbf6c86a0f38a6ef069b510f1c0e2">clang::sema::DelayedDiagnostic::getForbiddenTypeArgument</a></div><div class="ttdeci">unsigned getForbiddenTypeArgument() const</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00211">DelayedDiagnostic.h:211</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a2e0f3d588fe8a7c6c5c9fee9d14fa393"><div class="ttname"><a href="classclang_1_1Type.html#a2e0f3d588fe8a7c6c5c9fee9d14fa393">clang::Type::isFunctionPointerType</a></div><div class="ttdeci">bool isFunctionPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06784">Type.h:6784</a></div></div>
<div class="ttc" id="anamespaceclang_1_1threadSafety_1_1sx_html_ae17443dfb73305637d8d327cc2fd0058"><div class="ttname"><a href="namespaceclang_1_1threadSafety_1_1sx.html#ae17443dfb73305637d8d327cc2fd0058">clang::threadSafety::sx::toString</a></div><div class="ttdeci">std::string toString(const til::SExpr *E)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSafetyCommon_8h_source.html#l00089">ThreadSafetyCommon.h:89</a></div></div>
<div class="ttc" id="aclassclang_1_1VectorType_html"><div class="ttname"><a href="classclang_1_1VectorType.html">clang::VectorType</a></div><div class="ttdoc">Represents a GCC generic vector type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l03244">Type.h:3244</a></div></div>
<div class="ttc" id="anamespaceclang_html_a5dc786a6640e4d510cd8b68a5a87a140a64eaf6dd57d06411366a75201a9f2850"><div class="ttname"><a href="namespaceclang.html#a5dc786a6640e4d510cd8b68a5a87a140a64eaf6dd57d06411366a75201a9f2850">clang::OMF_dealloc</a></div><div class="ttdeci">@ OMF_dealloc</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00707">IdentifierTable.h:707</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4b318347193858996e56f0001f26112daaf3ba5843080a5765fc6c9d0a7913249"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4b318347193858996e56f0001f26112daaf3ba5843080a5765fc6c9d0a7913249">clang::ASTContext::PSF_Read</a></div><div class="ttdeci">@ PSF_Read</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l03263">ASTContext.h:3263</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a1ac2b87b937cc44d8980a898851c0c75"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a1ac2b87b937cc44d8980a898851c0c75">clang::FunctionDecl::getReturnTypeSourceRange</a></div><div class="ttdeci">SourceRange getReturnTypeSourceRange() const</div><div class="ttdoc">Attempt to compute an informative source range covering the function return type.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l03569">Decl.cpp:3569</a></div></div>
<div class="ttc" id="aclassclang_1_1ParamIdx_html"><div class="ttname"><a href="classclang_1_1ParamIdx.html">clang::ParamIdx</a></div><div class="ttdoc">A single parameter index whose accessors require each use to make explicit the parameter index encodi...</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00230">Attr.h:230</a></div></div>
<div class="ttc" id="aclassclang_1_1FPOptionsOverride_html"><div class="ttname"><a href="classclang_1_1FPOptionsOverride.html">clang::FPOptionsOverride</a></div><div class="ttdoc">Represents difference between two FPOptions values.</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8h_source.html#l00654">LangOptions.h:654</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a12fbc6a677ba028f3c1b9343e7819b29"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a12fbc6a677ba028f3c1b9343e7819b29">clang::FunctionDecl::isThisDeclarationADefinition</a></div><div class="ttdeci">bool isThisDeclarationADefinition() const</div><div class="ttdoc">Returns whether this specific declaration of the function is also a definition that does not contain ...</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02151">Decl.h:2151</a></div></div>
<div class="ttc" id="anamespaceclang_html_a56dabc7d0ce7d72b9a35f6f5c3f89370a5d305f71b6e8fb20f648c2aca83753ac"><div class="ttname"><a href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370a5d305f71b6e8fb20f648c2aca83753ac">clang::SC_Extern</a></div><div class="ttdeci">@ SC_Extern</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00236">Specifiers.h:236</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html"><div class="ttname"><a href="classclang_1_1ASTContext.html">clang::ASTContext</a></div><div class="ttdoc">Holds long-lived AST nodes (such as types and decls) that can be referred to throughout the semantic ...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00208">ASTContext.h:208</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_abcceffc185d10c5c1cc9f26fb0256ce4"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#abcceffc185d10c5c1cc9f26fb0256ce4">clang::DeclaratorDecl::getQualifierLoc</a></div><div class="ttdeci">NestedNameSpecifierLoc getQualifierLoc() const</div><div class="ttdoc">Retrieve the nested-name-specifier (with source-location information) that qualifies the name of this...</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00793">Decl.h:793</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclarationNameTable_html_aa9c7b7abbc2dc29780eb51a110c8d934"><div class="ttname"><a href="classclang_1_1DeclarationNameTable.html#aa9c7b7abbc2dc29780eb51a110c8d934">clang::DeclarationNameTable::getCXXOperatorName</a></div><div class="ttdeci">DeclarationName getCXXOperatorName(OverloadedOperatorKind Op)</div><div class="ttdoc">Get the name of the overloadable C++ operator corresponding to Op.</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00637">DeclarationName.h:637</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a05d1d321a7094ef098f9471db9c43ba4"><div class="ttname"><a href="classclang_1_1Sema.html#a05d1d321a7094ef098f9471db9c43ba4">clang::Sema::getCurFunctionOrMethodDecl</a></div><div class="ttdeci">NamedDecl * getCurFunctionOrMethodDecl()</div><div class="ttdoc">getCurFunctionOrMethodDecl - Return the Decl for the current ObjC method or C function we're in,...</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8cpp_source.html#l01505">Sema.cpp:1505</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae38d864f8f7300e049e2ff2ca2bedc07"><div class="ttname"><a href="classclang_1_1Sema.html#ae38d864f8f7300e049e2ff2ca2bedc07">clang::Sema::AddAnnotationAttr</a></div><div class="ttdeci">void AddAnnotationAttr(Decl *D, const AttributeCommonInfo &amp;CI, StringRef Annot, MutableArrayRef&lt; Expr * &gt; Args)</div><div class="ttdoc">AddAnnotationAttr - Adds an annotation Annot with Args arguments to D.</div></div>
<div class="ttc" id="aclassclang_1_1RecursiveASTVisitor_html"><div class="ttname"><a href="classclang_1_1RecursiveASTVisitor.html">clang::RecursiveASTVisitor</a></div><div class="ttdoc">A class that does preorder or postorder depth-first traversal on the entire Clang AST and visits each...</div><div class="ttdef"><b>Definition:</b> <a href="RecursiveASTVisitor_8h_source.html#l00164">RecursiveASTVisitor.h:164</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab04a81490867cb728a613ca5f940da77"><div class="ttname"><a href="classclang_1_1Sema.html#ab04a81490867cb728a613ca5f940da77">clang::Sema::mergeOptimizeNoneAttr</a></div><div class="ttdeci">OptimizeNoneAttr * mergeOptimizeNoneAttr(Decl *D, const AttributeCommonInfo &amp;CI)</div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_ac66d35a5a57c1b17590a2dbd4cd36249"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#ac66d35a5a57c1b17590a2dbd4cd36249">clang::ParsedAttr::isParamExpr</a></div><div class="ttdeci">bool isParamExpr(size_t N) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00233">ParsedAttr.cpp:233</a></div></div>
<div class="ttc" id="aclassclang_1_1WeakInfo_html"><div class="ttname"><a href="classclang_1_1WeakInfo.html">clang::WeakInfo</a></div><div class="ttdoc">Captures information about a #pragma weak directive.</div><div class="ttdef"><b>Definition:</b> <a href="Weak_8h_source.html#l00025">Weak.h:25</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a055ffcfc79821816092eb192a077337e"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a055ffcfc79821816092eb192a077337e">clang::AttributeCommonInfo::getSyntax</a></div><div class="ttdeci">Syntax getSyntax() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00127">AttributeCommonInfo.h:127</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae202970107ac736d01b53987dc1a6fc4"><div class="ttname"><a href="classclang_1_1Sema.html#ae202970107ac736d01b53987dc1a6fc4">clang::Sema::mergeTypeVisibilityAttr</a></div><div class="ttdeci">TypeVisibilityAttr * mergeTypeVisibilityAttr(Decl *D, const AttributeCommonInfo &amp;CI, TypeVisibilityAttr::VisibilityType Vis)</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_adae68e1f4c85ede2d36da45fbefc48a2"><div class="ttname"><a href="classclang_1_1Type.html#adae68e1f4c85ede2d36da45fbefc48a2">clang::Type::getAs</a></div><div class="ttdeci">const T * getAs() const</div><div class="ttdoc">Member-template getAs&lt;specific type&gt;'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07263">Type.h:7263</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a171b4ee1948d6cb430df6747202d16fd"><div class="ttname"><a href="classclang_1_1Type.html#a171b4ee1948d6cb430df6747202d16fd">clang::Type::isComplexType</a></div><div class="ttdeci">bool isComplexType() const</div><div class="ttdoc">isComplexType() does not include complex integers (a GCC extension).</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00601">Type.cpp:601</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_a9c1051527ce6e3f95274ad9f2c7a33af"><div class="ttname"><a href="classclang_1_1TargetInfo.html#a9c1051527ce6e3f95274ad9f2c7a33af">clang::TargetInfo::getMaxTLSAlign</a></div><div class="ttdeci">unsigned getMaxTLSAlign() const</div><div class="ttdoc">Return the maximum alignment (in bits) of a TLS variable.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01413">TargetInfo.h:1413</a></div></div>
<div class="ttc" id="aclassclang_1_1Scope_html_afa7e82b8e23f84d0d73e27953b9afab7ad0c60d6cb6734034fb8ee9d694e2d854"><div class="ttname"><a href="classclang_1_1Scope.html#afa7e82b8e23f84d0d73e27953b9afab7ad0c60d6cb6734034fb8ee9d694e2d854">clang::Scope::FunctionDeclarationScope</a></div><div class="ttdeci">@ FunctionDeclarationScope</div><div class="ttdoc">This is a scope that corresponds to the parameters within a function prototype for a function declara...</div><div class="ttdef"><b>Definition:</b> <a href="Scope_8h_source.html#l00087">Scope.h:87</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a8cdf2955f2dc6bf8e832defc751a6b17"><div class="ttname"><a href="classclang_1_1Decl.html#a8cdf2955f2dc6bf8e832defc751a6b17">clang::Decl::isInvalidDecl</a></div><div class="ttdeci">bool isInvalidDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00552">DeclBase.h:552</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aeef24474a0a5aa43429fac620e828b88"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aeef24474a0a5aa43429fac620e828b88">clang::TargetInfo::isValidCPUName</a></div><div class="ttdeci">virtual bool isValidCPUName(StringRef Name) const</div><div class="ttdoc">brief Determine whether this TargetInfo supports the given CPU name.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01253">TargetInfo.h:1253</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae5cd761f592d5d1e8616de6605c2d437"><div class="ttname"><a href="classclang_1_1Sema.html#ae5cd761f592d5d1e8616de6605c2d437">clang::Sema::DeclApplyPragmaWeak</a></div><div class="ttdeci">void DeclApplyPragmaWeak(Scope *S, NamedDecl *ND, const WeakInfo &amp;W)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6fd5be08919ffcceade0e51f7789f2d5"><div class="ttname"><a href="classclang_1_1Sema.html#a6fd5be08919ffcceade0e51f7789f2d5">clang::Sema::MaximumAlignment</a></div><div class="ttdeci">static const uint64_t MaximumAlignment</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00576">Sema.h:576</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTMutationListener_html"><div class="ttname"><a href="classclang_1_1ASTMutationListener.html">clang::ASTMutationListener</a></div><div class="ttdoc">An abstract interface that should be implemented by listeners that want to be notified when an AST en...</div><div class="ttdef"><b>Definition:</b> <a href="ASTMutationListener_8h_source.html#l00046">ASTMutationListener.h:46</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a69f55a1c542e724b49a035ceeca1b6ee"><div class="ttname"><a href="classclang_1_1Sema.html#a69f55a1c542e724b49a035ceeca1b6ee">clang::Sema::DiagnoseUnexpandedParameterPack</a></div><div class="ttdeci">bool DiagnoseUnexpandedParameterPack(SourceLocation Loc, TypeSourceInfo *T, UnexpandedParameterPackContext UPPC)</div><div class="ttdoc">If the given type contains an unexpanded parameter pack, diagnose the error.</div><div class="ttdef"><b>Definition:</b> <a href="SemaTemplateVariadic_8cpp_source.html#l00380">SemaTemplateVariadic.cpp:380</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aae4037480b305412714dde2e6fc2039ea925f72416bdf7fe52e525ace8be394b2"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039ea925f72416bdf7fe52e525ace8be394b2">clang::TargetInfo::CCCR_OK</a></div><div class="ttdeci">@ CCCR_OK</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01503">TargetInfo.h:1503</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7c290fe8101a0b108e426214266cff56aaf1dd368d799611c46f3e22d59352935"><div class="ttname"><a href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56aaf1dd368d799611c46f3e22d59352935">clang::ParameterABI::SwiftIndirectResult</a></div><div class="ttdeci">@ SwiftIndirectResult</div><div class="ttdoc">This parameter (which must have pointer type) is a Swift indirect result parameter.</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a95ba45be206bcbf954cdd2f58296bb9f"><div class="ttname"><a href="classclang_1_1Sema.html#a95ba45be206bcbf954cdd2f58296bb9f">clang::Sema::PerformContextuallyConvertToBool</a></div><div class="ttdeci">ExprResult PerformContextuallyConvertToBool(Expr *From)</div><div class="ttdoc">PerformContextuallyConvertToBool - Perform a contextual conversion of the expression From to bool (C+...</div><div class="ttdef"><b>Definition:</b> <a href="SemaOverload_8cpp_source.html#l05608">SemaOverload.cpp:5608</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ac05278434b747d760b219c67625f41e1"><div class="ttname"><a href="classclang_1_1Type.html#ac05278434b747d760b219c67625f41e1">clang::Type::isVectorType</a></div><div class="ttdeci">bool isVectorType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06852">Type.h:6852</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a4d86762caf086f3ad034be9e65092320"><div class="ttname"><a href="classclang_1_1Type.html#a4d86762caf086f3ad034be9e65092320">clang::Type::getPointeeCXXRecordDecl</a></div><div class="ttdeci">const CXXRecordDecl * getPointeeCXXRecordDecl() const</div><div class="ttdoc">If this is a pointer or reference to a RecordType, return the CXXRecordDecl that the type refers to.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l01745">Type.cpp:1745</a></div></div>
<div class="ttc" id="aclassclang_1_1ParamIdx_html_aa3698a486e8b2b116b3cab2bb3851cd7"><div class="ttname"><a href="classclang_1_1ParamIdx.html#aa3698a486e8b2b116b3cab2bb3851cd7">clang::ParamIdx::getASTIndex</a></div><div class="ttdeci">unsigned getASTIndex() const</div><div class="ttdoc">Get the parameter index as it would normally be encoded at the AST level of representation: zero-orig...</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00307">Attr.h:307</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a57c33a6df3c94d6c1c67cafe32a8b164"><div class="ttname"><a href="classclang_1_1Sema.html#a57c33a6df3c94d6c1c67cafe32a8b164">clang::Sema::AddLaunchBoundsAttr</a></div><div class="ttdeci">void AddLaunchBoundsAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *MaxThreads, Expr *MinBlocks)</div><div class="ttdoc">AddLaunchBoundsAttr - Adds a launch_bounds attribute to a particular declaration.</div></div>
<div class="ttc" id="aDelayedDiagnostic_8h_html"><div class="ttname"><a href="DelayedDiagnostic_8h.html">DelayedDiagnostic.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a8dc8c86b18af77eba9afe42e4f429fdc"><div class="ttname"><a href="classclang_1_1Decl.html#a8dc8c86b18af77eba9afe42e4f429fdc">clang::Decl::getCanonicalDecl</a></div><div class="ttdeci">virtual Decl * getCanonicalDecl()</div><div class="ttdoc">Retrieves the &quot;canonical&quot; declaration of the given declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00909">DeclBase.h:909</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a61cf3339820555a98aad5ccca2e9c83d"><div class="ttname"><a href="classclang_1_1Sema.html#a61cf3339820555a98aad5ccca2e9c83d">clang::Sema::ProcessAccessDeclAttributeList</a></div><div class="ttdeci">bool ProcessAccessDeclAttributeList(AccessSpecDecl *ASDecl, const ParsedAttributesView &amp;AttrList)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac1d54bada076817ebee6b14b4df4ad05a69f6da662c2d72a4e3fa820874cfcda4"><div class="ttname"><a href="classclang_1_1Sema.html#ac1d54bada076817ebee6b14b4df4ad05a69f6da662c2d72a4e3fa820874cfcda4">clang::Sema::AMK_None</a></div><div class="ttdeci">@ AMK_None</div><div class="ttdoc">Don't merge availability attributes at all.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l03638">Sema.h:3638</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab0fd9d3a9541c25e082752452d8732f6"><div class="ttname"><a href="classclang_1_1Sema.html#ab0fd9d3a9541c25e082752452d8732f6">clang::Sema::MergeReqdWorkGroupSizeAttr</a></div><div class="ttdeci">ReqdWorkGroupSizeAttr * MergeReqdWorkGroupSizeAttr(Decl *D, const ReqdWorkGroupSizeAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a94894bb73fbf5675123327560d3c8568"><div class="ttname"><a href="classclang_1_1Expr.html#a94894bb73fbf5675123327560d3c8568">clang::Expr::EvaluateAsConstantExpr</a></div><div class="ttdeci">bool EvaluateAsConstantExpr(EvalResult &amp;Result, const ASTContext &amp;Ctx, ConstantExprKind Kind=ConstantExprKind::Normal) const</div><div class="ttdoc">Evaluate an expression that is required to be a constant expression.</div><div class="ttdef"><b>Definition:</b> <a href="ExprConstant_8cpp_source.html#l15012">ExprConstant.cpp:15012</a></div></div>
<div class="ttc" id="aclassclang_1_1LazyVector_html_a1e7f341045a85d9146d7a09457438ee1"><div class="ttname"><a href="classclang_1_1LazyVector.html#a1e7f341045a85d9146d7a09457438ee1">clang::LazyVector::push_back</a></div><div class="ttdeci">void push_back(const T &amp;LocalValue)</div><div class="ttdef"><b>Definition:</b> <a href="ExternalASTSource_8h_source.html#l00549">ExternalASTSource.h:549</a></div></div>
<div class="ttc" id="aclassclang_1_1IntegerLiteral_html_a68782c17506bd26183c21aa2bf9dc1d7"><div class="ttname"><a href="classclang_1_1IntegerLiteral.html#a68782c17506bd26183c21aa2bf9dc1d7">clang::IntegerLiteral::Create</a></div><div class="ttdeci">static IntegerLiteral * Create(const ASTContext &amp;C, const llvm::APInt &amp;V, QualType type, SourceLocation l)</div><div class="ttdoc">Returns a new integer literal with value 'V' and type 'type'.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l00953">Expr.cpp:953</a></div></div>
<div class="ttc" id="anamespaceclang_1_1index_html_a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7"><div class="ttname"><a href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea6f16a5f8ff5d75ab84c018adacdfcbb7">clang::index::SymbolKind::Field</a></div><div class="ttdeci">@ Field</div></div>
<div class="ttc" id="aclassclang_1_1MSGuidDecl_html"><div class="ttname"><a href="classclang_1_1MSGuidDecl.html">clang::MSGuidDecl</a></div><div class="ttdoc">A global _GUID constant.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l04159">DeclCXX.h:4159</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_aa7a28eab5ee69542aff5b8216ed77046"><div class="ttname"><a href="classclang_1_1ASTContext.html#aa7a28eab5ee69542aff5b8216ed77046">clang::ASTContext::getTypeSize</a></div><div class="ttdeci">uint64_t getTypeSize(QualType T) const</div><div class="ttdoc">Return the size of the specified (complete) type T, in bits.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l02282">ASTContext.h:2282</a></div></div>
<div class="ttc" id="anamespaceclang_html_a09cf2fc3951483df7a3cafac379a4f03"><div class="ttname"><a href="namespaceclang.html#a09cf2fc3951483df7a3cafac379a4f03">clang::isa</a></div><div class="ttdeci">bool isa(CodeGen::Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="Address_8h_source.html#l00177">Address.h:177</a></div></div>
<div class="ttc" id="aclassclang_1_1ImplicitCastExpr_html_a080c7b455a9ba17fd2e8c8956eb3853a"><div class="ttname"><a href="classclang_1_1ImplicitCastExpr.html#a080c7b455a9ba17fd2e8c8956eb3853a">clang::ImplicitCastExpr::Create</a></div><div class="ttdeci">static ImplicitCastExpr * Create(const ASTContext &amp;Context, QualType T, CastKind Kind, Expr *Operand, const CXXCastPath *BasePath, ExprValueKind Cat, FPOptionsOverride FPO)</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l02028">Expr.cpp:2028</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_acfba30764741d4d84417952239df7845"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#acfba30764741d4d84417952239df7845">clang::ParsedAttr::getLayoutCompatible</a></div><div class="ttdeci">bool getLayoutCompatible() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00570">ParsedAttr.h:570</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_af01ac7ae5060cb2c8714b3fc034069a2"><div class="ttname"><a href="classclang_1_1Sema.html#af01ac7ae5060cb2c8714b3fc034069a2">clang::Sema::GetTypeFromParser</a></div><div class="ttdeci">static QualType GetTypeFromParser(ParsedType Ty, TypeSourceInfo **TInfo=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SemaType_8cpp_source.html#l03020">SemaType.cpp:3020</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_a59082c38a902401609bf08db31286e75"><div class="ttname"><a href="classclang_1_1DeclContext.html#a59082c38a902401609bf08db31286e75">clang::DeclContext::isTranslationUnit</a></div><div class="ttdeci">bool isTranslationUnit() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01947">DeclBase.h:1947</a></div></div>
<div class="ttc" id="aclassclang_1_1AutoType_html"><div class="ttname"><a href="classclang_1_1AutoType.html">clang::AutoType</a></div><div class="ttdoc">Represents a C++11 auto or C++14 decltype(auto) type, possibly constrained by a type-constraint.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l05050">Type.h:5050</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclRefExpr_html_a22eec021070f5d0733e90b6c5c127a25"><div class="ttname"><a href="classclang_1_1DeclRefExpr.html#a22eec021070f5d0733e90b6c5c127a25">clang::DeclRefExpr::getDecl</a></div><div class="ttdeci">ValueDecl * getDecl()</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l01295">Expr.h:1295</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ab63e4b997dc203acefb4932261a17583"><div class="ttname"><a href="classclang_1_1Type.html#ab63e4b997dc203acefb4932261a17583">clang::Type::isFunctionType</a></div><div class="ttdeci">bool isFunctionType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06746">Type.h:6746</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html"><div class="ttname"><a href="classclang_1_1ParsedAttr.html">clang::ParsedAttr</a></div><div class="ttdoc">ParsedAttr - Represents a syntactic attribute.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00240">ParsedAttr.h:240</a></div></div>
<div class="ttc" id="anamespaceclang_1_1AArch64_html_aba8b4c5e5685e9436c51d964b959273fa480a4973c83f92d18c6374095f120c2a"><div class="ttname"><a href="namespaceclang_1_1AArch64.html#aba8b4c5e5685e9436c51d964b959273fa480a4973c83f92d18c6374095f120c2a">clang::AArch64::FirstSVEBuiltin</a></div><div class="ttdeci">@ FirstSVEBuiltin</div><div class="ttdef"><b>Definition:</b> <a href="TargetBuiltins_8h_source.html#l00060">TargetBuiltins.h:60</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a00c7c18084e8774a6a101c8fd0dbb65f"><div class="ttname"><a href="classclang_1_1Type.html#a00c7c18084e8774a6a101c8fd0dbb65f">clang::Type::isSizelessType</a></div><div class="ttdeci">bool isSizelessType() const</div><div class="ttdoc">As an extension, we classify types as one of &quot;sized&quot; or &quot;sizeless&quot;; every type is one or the other.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l02322">Type.cpp:2322</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a79fff26bde63d435aa3334c0a752b16f"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a79fff26bde63d435aa3334c0a752b16f">clang::ParsedAttr::isTypeAttr</a></div><div class="ttdeci">bool isTypeAttr() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00201">ParsedAttr.cpp:201</a></div></div>
<div class="ttc" id="aExpr_8h_html"><div class="ttname"><a href="Expr_8h.html">Expr.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00037">LLVM.h:37</a></div></div>
<div class="ttc" id="astructclang_1_1Expr_1_1EvalResult_html"><div class="ttname"><a href="structclang_1_1Expr_1_1EvalResult.html">clang::Expr::EvalResult</a></div><div class="ttdoc">EvalResult is a struct with detailed info about an evaluated expression.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00612">Expr.h:612</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_acdb962829d692aab45f326e0d220ccd8"><div class="ttname"><a href="classclang_1_1Sema.html#acdb962829d692aab45f326e0d220ccd8">clang::Sema::ProcessDeclAttributeList</a></div><div class="ttdeci">void ProcessDeclAttributeList(Scope *S, Decl *D, const ParsedAttributesView &amp;AL, bool IncludeCXX11Attributes=true)</div></div>
<div class="ttc" id="aclassclang_1_1ParmVarDecl_html_af0dd329fcf621274077bdf71403f6f2b"><div class="ttname"><a href="classclang_1_1ParmVarDecl.html#af0dd329fcf621274077bdf71403f6f2b">clang::ParmVarDecl::getSourceRange</a></div><div class="ttdeci">SourceRange getSourceRange() const override LLVM_READONLY</div><div class="ttdoc">Source range that this declaration covers.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l02793">Decl.cpp:2793</a></div></div>
<div class="ttc" id="aASTContext_8h_html"><div class="ttname"><a href="ASTContext_8h.html">ASTContext.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a6b50b44b241ecee20c8b4fb9d3747ef2"><div class="ttname"><a href="classclang_1_1ASTContext.html#a6b50b44b241ecee20c8b4fb9d3747ef2">clang::ASTContext::getIntTypeForBitwidth</a></div><div class="ttdeci">QualType getIntTypeForBitwidth(unsigned DestWidth, unsigned Signed) const</div><div class="ttdoc">getIntTypeForBitwidth - sets integer QualTy according to specified details: bitwidth,...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l11756">ASTContext.cpp:11756</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a483f80074dcd745a9fadd1ae138cb333"><div class="ttname"><a href="classclang_1_1Sema.html#a483f80074dcd745a9fadd1ae138cb333">clang::Sema::checkMSInheritanceAttrOnDefinition</a></div><div class="ttdeci">bool checkMSInheritanceAttrOnDefinition(CXXRecordDecl *RD, SourceRange Range, bool BestCase, MSInheritanceModel SemanticSpelling)</div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25b"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25b">clang::CallingConv</a></div><div class="ttdeci">CallingConv</div><div class="ttdoc">CallingConv - Specifies the calling convention that a function uses.</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00263">Specifiers.h:263</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html"><div class="ttname"><a href="classclang_1_1VarDecl.html">clang::VarDecl</a></div><div class="ttdoc">Represents a variable declaration or definition.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00875">Decl.h:875</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a02e572bb27d5f79ff36f66ddc036d1f0"><div class="ttname"><a href="classclang_1_1Type.html#a02e572bb27d5f79ff36f66ddc036d1f0">clang::Type::isStructureType</a></div><div class="ttdeci">bool isStructureType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00563">Type.cpp:563</a></div></div>
<div class="ttc" id="anamespaceclang_1_1CodeGen_html_aa449a094497948e9866507fe2a00916fa6e8d896972f26cb8025dbf8873ad0c29"><div class="ttname"><a href="namespaceclang_1_1CodeGen.html#aa449a094497948e9866507fe2a00916fa6e8d896972f26cb8025dbf8873ad0c29">clang::CodeGen::BlockCaptureEntityKind::CXXRecord</a></div><div class="ttdeci">@ CXXRecord</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a56c474868f4027b847f181f99b226f47"><div class="ttname"><a href="classclang_1_1Type.html#a56c474868f4027b847f181f99b226f47">clang::Type::getPointeeType</a></div><div class="ttdeci">QualType getPointeeType() const</div><div class="ttdoc">If this is a pointer, ObjC object pointer, or block pointer, this returns the respective pointee.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00625">Type.cpp:625</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a496f50545cf1933f899411d717519a8b"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a496f50545cf1933f899411d717519a8b">clang::ParsedAttr::handleAttrWithDelayedArgs</a></div><div class="ttdeci">void handleAttrWithDelayedArgs(Sema &amp;S, Decl *D) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00237">ParsedAttr.cpp:237</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a2c90b11c77f2927fb28e2a4b086e0acd"><div class="ttname"><a href="classclang_1_1ASTContext.html#a2c90b11c77f2927fb28e2a4b086e0acd">clang::ASTContext::getRealTypeForBitwidth</a></div><div class="ttdeci">QualType getRealTypeForBitwidth(unsigned DestWidth, FloatModeKind ExplicitType) const</div><div class="ttdoc">getRealTypeForBitwidth - sets floating point QualTy according to specified bitwidth.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l11768">ASTContext.cpp:11768</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateParameterList_html"><div class="ttname"><a href="classclang_1_1TemplateParameterList.html">clang::TemplateParameterList</a></div><div class="ttdoc">Stores a list of template parameters for a TemplateDecl and its derived classes.</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l00069">DeclTemplate.h:69</a></div></div>
<div class="ttc" id="aclassclang_1_1StringLiteral_html"><div class="ttname"><a href="classclang_1_1StringLiteral.html">clang::StringLiteral</a></div><div class="ttdoc">StringLiteral - This represents a string literal expression, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l01767">Expr.h:1767</a></div></div>
<div class="ttc" id="aObjCMT_8cpp_html_aa27fd0ac86a837b4545eeb922a1c88b2"><div class="ttname"><a href="ObjCMT_8cpp.html#aa27fd0ac86a837b4545eeb922a1c88b2">versionsMatch</a></div><div class="ttdeci">static bool versionsMatch(const VersionTuple &amp;X, const VersionTuple &amp;Y)</div><div class="ttdoc">Check whether the two versions match.</div><div class="ttdef"><b>Definition:</b> <a href="ObjCMT_8cpp_source.html#l01071">ObjCMT.cpp:1071</a></div></div>
<div class="ttc" id="aclassclang_1_1LangOptions_html_ab77f63ee3a4b2592fe64deea72c94de1ad75c21b8eb68f2232771433dfa41d63d"><div class="ttname"><a href="classclang_1_1LangOptions.html#ab77f63ee3a4b2592fe64deea72c94de1ad75c21b8eb68f2232771433dfa41d63d">clang::LangOptions::SYCL_2017</a></div><div class="ttdeci">@ SYCL_2017</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8h_source.html#l00136">LangOptions.h:136</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_a91c66f861a69f88019a52dcf7043b3e7"><div class="ttname"><a href="classclang_1_1TargetInfo.html#a91c66f861a69f88019a52dcf7043b3e7">clang::TargetInfo::isTLSSupported</a></div><div class="ttdeci">bool isTLSSupported() const</div><div class="ttdoc">Whether the target supports thread-local storage.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01405">TargetInfo.h:1405</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_ada9633495d42d0efc3485fab4e8214ae"><div class="ttname"><a href="classclang_1_1TargetInfo.html#ada9633495d42d0efc3485fab4e8214ae">clang::TargetInfo::supportsTargetAttributeTune</a></div><div class="ttdeci">virtual bool supportsTargetAttributeTune() const</div><div class="ttdoc">brief Determine whether this TargetInfo supports tune in target attribute.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01264">TargetInfo.h:1264</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceLocation_html_a0ac7b4fd2f2ae0f3a501ffa38b30443a"><div class="ttname"><a href="classclang_1_1SourceLocation.html#a0ac7b4fd2f2ae0f3a501ffa38b30443a">clang::SourceLocation::isFileID</a></div><div class="ttdeci">bool isFileID() const</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00102">SourceLocation.h:102</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_a26530f47209fb32279e11e1f7df45000"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#a26530f47209fb32279e11e1f7df45000">clang::DeclaratorDecl::getTrailingRequiresClause</a></div><div class="ttdeci">Expr * getTrailingRequiresClause()</div><div class="ttdoc">Get the constraint-expression introduced by the trailing requires-clause in the function/member decla...</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00803">Decl.h:803</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a0506d2fd1e686757c62a2b1aa3f9de8d"><div class="ttname"><a href="classclang_1_1Type.html#a0506d2fd1e686757c62a2b1aa3f9de8d">clang::Type::getAsCXXRecordDecl</a></div><div class="ttdeci">CXXRecordDecl * getAsCXXRecordDecl() const</div><div class="ttdoc">Retrieves the CXXRecordDecl that this type refers to, either because the type is a RecordType or beca...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l01760">Type.cpp:1760</a></div></div>
<div class="ttc" id="aclassclang_1_1TagDecl_html_a938e536b03a85612984a4a2155b8fc6c"><div class="ttname"><a href="classclang_1_1TagDecl.html#a938e536b03a85612984a4a2155b8fc6c">clang::TagDecl::isUnion</a></div><div class="ttdeci">bool isUnion() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03538">Decl.h:3538</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_a4dee8ca84ff0e7c1dcc74d1f89c59327"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#a4dee8ca84ff0e7c1dcc74d1f89c59327">clang::DeclaratorDecl::getQualifier</a></div><div class="ttdeci">NestedNameSpecifier * getQualifier() const</div><div class="ttdoc">Retrieve the nested-name-specifier that qualifies the name of this declaration, if it was present in ...</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00785">Decl.h:785</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_a701b158251d143e1b2f608221113db60"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#a701b158251d143e1b2f608221113db60">clang::DeclaratorDecl::getTypeSpecStartLoc</a></div><div class="ttdeci">SourceLocation getTypeSpecStartLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l01888">Decl.cpp:1888</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclRefExpr_html_a5a7911c416252815e0f245d63775f881"><div class="ttname"><a href="classclang_1_1DeclRefExpr.html#a5a7911c416252815e0f245d63775f881">clang::DeclRefExpr::getNameInfo</a></div><div class="ttdeci">DeclarationNameInfo getNameInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l01299">Expr.h:1299</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a8ce18c64eab6738432e45e2d4684a3b0"><div class="ttname"><a href="classclang_1_1Sema.html#a8ce18c64eab6738432e45e2d4684a3b0">clang::Sema::AddIntelReqdSubGroupSize</a></div><div class="ttdeci">void AddIntelReqdSubGroupSize(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_ad0dac4a57c44bbdd325b25d3adc267e5"><div class="ttname"><a href="classclang_1_1TargetInfo.html#ad0dac4a57c44bbdd325b25d3adc267e5">clang::TargetInfo::getUnwindWordWidth</a></div><div class="ttdeci">virtual unsigned getUnwindWordWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l00792">TargetInfo.h:792</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_ab0315817477d3f3e155f86290e98e782"><div class="ttname"><a href="classclang_1_1Decl.html#ab0315817477d3f3e155f86290e98e782">clang::Decl::redecls</a></div><div class="ttdeci">redecl_range redecls() const</div><div class="ttdoc">Returns an iterator range for all the redeclarations of the same decl.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00980">DeclBase.h:980</a></div></div>
<div class="ttc" id="anamespaceclang_html_a56dabc7d0ce7d72b9a35f6f5c3f89370a76a85026905d09aaa68c9cba6953c82b"><div class="ttname"><a href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370a76a85026905d09aaa68c9cba6953c82b">clang::SC_Register</a></div><div class="ttdeci">@ SC_Register</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00242">Specifiers.h:242</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnosticPool_html_a84c81985b9269ed871e17bbc30ad4383"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a84c81985b9269ed871e17bbc30ad4383">clang::sema::DelayedDiagnosticPool::pool_iterator</a></div><div class="ttdeci">SmallVectorImpl&lt; DelayedDiagnostic &gt;::const_iterator pool_iterator</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00315">DelayedDiagnostic.h:315</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_afa3dde167bc8345f26f38d4fa2066218a86ef175926cfc338df48abe9080d8198"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#afa3dde167bc8345f26f38d4fa2066218a86ef175926cfc338df48abe9080d8198">clang::sema::DelayedDiagnostic::Availability</a></div><div class="ttdeci">@ Availability</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00126">DelayedDiagnostic.h:126</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceManager_html_a96cf5b49a9e9c314298e9d4e55d10f1f"><div class="ttname"><a href="classclang_1_1SourceManager.html#a96cf5b49a9e9c314298e9d4e55d10f1f">clang::SourceManager::isInSystemMacro</a></div><div class="ttdeci">bool isInSystemMacro(SourceLocation loc) const</div><div class="ttdoc">Returns whether Loc is expanded from a macro in a system header.</div><div class="ttdef"><b>Definition:</b> <a href="SourceManager_8h_source.html#l01498">SourceManager.h:1498</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_ac0cde90dc0b5c986ea29c96c0f9f2fe6"><div class="ttname"><a href="classclang_1_1TargetInfo.html#ac0cde90dc0b5c986ea29c96c0f9f2fe6">clang::TargetInfo::validateCPUSpecificCPUDispatch</a></div><div class="ttdeci">virtual bool validateCPUSpecificCPUDispatch(StringRef Name) const</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01368">TargetInfo.h:1368</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_ac5bbbbd3bd6f30050bb2aab73b310f92"><div class="ttname"><a href="classclang_1_1ASTContext.html#ac5bbbbd3bd6f30050bb2aab73b310f92">clang::ASTContext::getComplexType</a></div><div class="ttdeci">QualType getComplexType(QualType T) const</div><div class="ttdoc">Return the uniqued reference to the type for a complex number with the specified element type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l03242">ASTContext.cpp:3242</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a00a517f219ce0e9f93e1a10339493c12"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a00a517f219ce0e9f93e1a10339493c12">clang::AttributeCommonInfo::getScopeLoc</a></div><div class="ttdeci">SourceLocation getScopeLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00135">AttributeCommonInfo.h:135</a></div></div>
<div class="ttc" id="aExprCXX_8h_html"><div class="ttname"><a href="ExprCXX_8h.html">ExprCXX.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a588d60a36016f23f0cb2806e7b3c1b53"><div class="ttname"><a href="classclang_1_1Sema.html#a588d60a36016f23f0cb2806e7b3c1b53">clang::Sema::AddIntelFPGAPrivateCopiesAttr</a></div><div class="ttdeci">void AddIntelFPGAPrivateCopiesAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassBase_html"><div class="ttname"><a href="classBase.html">Base</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aaad21f30ac0972a50baecd428960443a"><div class="ttname"><a href="classclang_1_1Sema.html#aaad21f30ac0972a50baecd428960443a">clang::Sema::CUDADiagIfHostCode</a></div><div class="ttdeci">SemaDiagnosticBuilder CUDADiagIfHostCode(SourceLocation Loc, unsigned DiagID)</div><div class="ttdoc">Creates a SemaDiagnosticBuilder that emits the diagnostic if the current context is &quot;used as host cod...</div><div class="ttdef"><b>Definition:</b> <a href="SemaCUDA_8cpp_source.html#l00759">SemaCUDA.cpp:759</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a15d472bbbf4c14e18f43f3a2fdd66976a758951cac5e62129e654698c8ca0333b"><div class="ttname"><a href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976a758951cac5e62129e654698c8ca0333b">clang::Sema::RetainOwnershipKind::CF</a></div><div class="ttdeci">@ CF</div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ac0027637798e850bd7f6c5f823ca6362"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ac0027637798e850bd7f6c5f823ca6362">clang::FunctionDecl::getOverloadedOperator</a></div><div class="ttdeci">OverloadedOperatorKind getOverloadedOperator() const</div><div class="ttdoc">getOverloadedOperator - Which C++ overloaded operator this function represents, if any.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l03675">Decl.cpp:3675</a></div></div>
<div class="ttc" id="aclassclang_1_1UnresolvedUsingValueDecl_html"><div class="ttname"><a href="classclang_1_1UnresolvedUsingValueDecl.html">clang::UnresolvedUsingValueDecl</a></div><div class="ttdoc">Represents a dependent using declaration which was not marked with typename.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l03733">DeclCXX.h:3733</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a8c70d72829247fb8ff3a58b935a380af"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a8c70d72829247fb8ff3a58b935a380af">clang::FunctionDecl::Create</a></div><div class="ttdeci">static FunctionDecl * Create(ASTContext &amp;C, DeclContext *DC, SourceLocation StartLoc, SourceLocation NLoc, DeclarationName N, QualType T, TypeSourceInfo *TInfo, StorageClass SC, bool UsesFPIntrin=false, bool isInlineSpecified=false, bool hasWrittenPrototype=true, ConstexprSpecKind ConstexprKind=ConstexprSpecKind::Unspecified, Expr *TrailingRequiresClause=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02028">Decl.h:2028</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac9074c46199231b2c93bc9690fe132d0"><div class="ttname"><a href="classclang_1_1Sema.html#ac9074c46199231b2c93bc9690fe132d0">clang::Sema::getNSErrorIdent</a></div><div class="ttdeci">IdentifierInfo * getNSErrorIdent()</div><div class="ttdoc">Retrieve the identifier &quot;NSError&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="SemaType_8cpp_source.html#l04039">SemaType.cpp:4039</a></div></div>
<div class="ttc" id="aclassclang_1_1TagDecl_html_a42d39fe75b915fdc8c36e840c3a86f50"><div class="ttname"><a href="classclang_1_1TagDecl.html#a42d39fe75b915fdc8c36e840c3a86f50">clang::TagDecl::isCompleteDefinition</a></div><div class="ttdeci">bool isCompleteDefinition() const</div><div class="ttdoc">Return true if this decl has its body fully specified.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03437">Decl.h:3437</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclRefExpr_html_a922adecbb6631a59630ada2889d11d36"><div class="ttname"><a href="classclang_1_1DeclRefExpr.html#a922adecbb6631a59630ada2889d11d36">clang::DeclRefExpr::hasQualifier</a></div><div class="ttdeci">bool hasQualifier() const</div><div class="ttdoc">Determine whether this declaration reference was preceded by a C++ nested-name-specifier,...</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l01310">Expr.h:1310</a></div></div>
<div class="ttc" id="aclassclang_1_1VectorType_html_a807990d3b88bf4e957936b17f7a4c45ca7898e4f62492152901a72e442e78ac1d"><div class="ttname"><a href="classclang_1_1VectorType.html#a807990d3b88bf4e957936b17f7a4c45ca7898e4f62492152901a72e442e78ac1d">clang::VectorType::GenericVector</a></div><div class="ttdeci">@ GenericVector</div><div class="ttdoc">not a target-specific vector type</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l03248">Type.h:3248</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a00275bb81215fa4ffb2a9b3915011225"><div class="ttname"><a href="classclang_1_1Sema.html#a00275bb81215fa4ffb2a9b3915011225">clang::Sema::AddXConsumedAttr</a></div><div class="ttdeci">void AddXConsumedAttr(Decl *D, const AttributeCommonInfo &amp;CI, RetainOwnershipKind K, bool IsTemplateInstantiation)</div></div>
<div class="ttc" id="aclassclang_1_1IdentifierInfo_html_a2770c184558b32d8747fba68d95fd5c2"><div class="ttname"><a href="classclang_1_1IdentifierInfo.html#a2770c184558b32d8747fba68d95fd5c2">clang::IdentifierInfo::getBuiltinID</a></div><div class="ttdeci">unsigned getBuiltinID() const</div><div class="ttdoc">Return a value indicating whether this is a builtin function.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00302">IdentifierTable.h:302</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedTargetAttr_html_a8c8da06cfbbd928acd4e331fb5b5fe53"><div class="ttname"><a href="structclang_1_1ParsedTargetAttr.html#a8c8da06cfbbd928acd4e331fb5b5fe53">clang::ParsedTargetAttr::Tune</a></div><div class="ttdeci">StringRef Tune</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00357">Attr.h:357</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a19feed0aad4d7a0c97f3706787aa7aff"><div class="ttname"><a href="classclang_1_1QualType.html#a19feed0aad4d7a0c97f3706787aa7aff">clang::QualType::hasQualifiers</a></div><div class="ttdeci">bool hasQualifiers() const</div><div class="ttdoc">Determine whether this type has any qualifiers.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06577">Type.h:6577</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_abd5cfc880214a4e8b29d1875602ae3c6a9d620e432e4fb1d0137c9aaa4de9ee3d"><div class="ttname"><a href="classclang_1_1VarDecl.html#abd5cfc880214a4e8b29d1875602ae3c6a9d620e432e4fb1d0137c9aaa4de9ee3d">clang::VarDecl::TLS_None</a></div><div class="ttdeci">@ TLS_None</div><div class="ttdoc">Not a TLS variable.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00892">Decl.h:892</a></div></div>
<div class="ttc" id="aclassclang_1_1Builtin_1_1Context_html_a3b92d940eca29e4ef7ef7b6c8ce4aa95"><div class="ttname"><a href="classclang_1_1Builtin_1_1Context.html#a3b92d940eca29e4ef7ef7b6c8ce4aa95">clang::Builtin::Context::getAuxBuiltinID</a></div><div class="ttdeci">unsigned getAuxBuiltinID(unsigned ID) const</div><div class="ttdoc">Return real builtin ID (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8h_source.html#l00227">Builtins.h:227</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a83adc0e369f33e9177d5cec74c1638ec"><div class="ttname"><a href="classclang_1_1Sema.html#a83adc0e369f33e9177d5cec74c1638ec">clang::Sema::AddIntelFPGABankWidthAttr</a></div><div class="ttdeci">void AddIntelFPGABankWidthAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1BlockPointerType_html"><div class="ttname"><a href="classclang_1_1BlockPointerType.html">clang::BlockPointerType</a></div><div class="ttdoc">Pointer to a block type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02735">Type.h:2735</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4206a4c787485a03460cf2b2d9d1a38b"><div class="ttname"><a href="classclang_1_1Sema.html#a4206a4c787485a03460cf2b2d9d1a38b">clang::Sema::AddSYCLIntelFPGAMaxConcurrencyAttr</a></div><div class="ttdeci">void AddSYCLIntelFPGAMaxConcurrencyAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div><div class="ttdoc">AddSYCLIntelFPGAMaxConcurrencyAttr - Adds a max_concurrency attribute to a particular declaration.</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a90c2849fbeb8bd3889258205f158dd9a"><div class="ttname"><a href="classclang_1_1Sema.html#a90c2849fbeb8bd3889258205f158dd9a">clang::Sema::checkStringLiteralArgumentAttr</a></div><div class="ttdeci">bool checkStringLiteralArgumentAttr(const AttributeCommonInfo &amp;CI, const Expr *E, StringRef &amp;Str, SourceLocation *ArgLocation=nullptr)</div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_aa66a4f788c2087c9710be661d1179c22"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#aa66a4f788c2087c9710be661d1179c22">getNumAttributeArgs</a></div><div class="ttdeci">static unsigned getNumAttributeArgs(const ParsedAttr &amp;AL)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00195">SemaDeclAttr.cpp:195</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afe058e1cba6389a944b7115eb4c7b96a"><div class="ttname"><a href="classclang_1_1Sema.html#afe058e1cba6389a944b7115eb4c7b96a">clang::Sema::getASTMutationListener</a></div><div class="ttdeci">ASTMutationListener * getASTMutationListener() const</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8cpp_source.html#l00575">Sema.cpp:575</a></div></div>
<div class="ttc" id="anamespaceclang_html_acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656"><div class="ttname"><a href="namespaceclang.html#acdf88ec6c845aa781824469fcb0af66ca750a906955a5f84955d90455a0f45656">clang::MultiVersionKind::TargetClones</a></div><div class="ttdeci">@ TargetClones</div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a3473b8e666542b2dd59de1e6d184fed4"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a3473b8e666542b2dd59de1e6d184fed4">clang::ExpectedTypeOrNamespace</a></div><div class="ttdeci">@ ExpectedTypeOrNamespace</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01140">ParsedAttr.h:1140</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a7647a339a261be1a890fe741f29d23d9"><div class="ttname"><a href="classclang_1_1Sema.html#a7647a339a261be1a890fe741f29d23d9">clang::Sema::mergeEnforceTCBAttr</a></div><div class="ttdeci">EnforceTCBAttr * mergeEnforceTCBAttr(Decl *D, const EnforceTCBAttr &amp;AL)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a07135143f9767cce4da3fdb098955b39"><div class="ttname"><a href="classclang_1_1Sema.html#a07135143f9767cce4da3fdb098955b39">clang::Sema::getOpenCLOptions</a></div><div class="ttdeci">OpenCLOptions &amp; getOpenCLOptions()</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01775">Sema.h:1775</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_a06bcd00c13ed00b56a767f33d1b98ddd"><div class="ttname"><a href="classclang_1_1VarDecl.html#a06bcd00c13ed00b56a767f33d1b98ddd">clang::VarDecl::Create</a></div><div class="ttdeci">static VarDecl * Create(ASTContext &amp;C, DeclContext *DC, SourceLocation StartLoc, SourceLocation IdLoc, const IdentifierInfo *Id, QualType T, TypeSourceInfo *TInfo, StorageClass S)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l02051">Decl.cpp:2051</a></div></div>
<div class="ttc" id="anamespaceclang_html_a0667c189ac152d457c17935303efeb5a"><div class="ttname"><a href="namespaceclang.html#a0667c189ac152d457c17935303efeb5a">clang::OverloadedOperatorKind</a></div><div class="ttdeci">OverloadedOperatorKind</div><div class="ttdoc">Enumeration specifying the different kinds of C++ overloaded operators.</div><div class="ttdef"><b>Definition:</b> <a href="OperatorKinds_8h_source.html#l00021">OperatorKinds.h:21</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_a1280e3f4075ff54f856987cf002ba300afd7d211973aef2cc5945b96a963f0e4f"><div class="ttname"><a href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300afd7d211973aef2cc5945b96a963f0e4f">clang::Qualifiers::OCL_Autoreleasing</a></div><div class="ttdeci">@ OCL_Autoreleasing</div><div class="ttdoc">Assigning into this object requires a lifetime extension.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00181">Type.h:181</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_aad3006722dcaf55029ad2176b195e402"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#aad3006722dcaf55029ad2176b195e402">clang::ParsedAttr::getAvailabilityObsoleted</a></div><div class="ttdeci">const AvailabilityChange &amp; getAvailabilityObsoleted() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00534">ParsedAttr.h:534</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a74e6beab3066d55443ee4f8258934e80"><div class="ttname"><a href="classclang_1_1Decl.html#a74e6beab3066d55443ee4f8258934e80">clang::Decl::canBeWeakImported</a></div><div class="ttdeci">bool canBeWeakImported(bool &amp;IsDefinition) const</div><div class="ttdoc">Determines whether this symbol can be weak-imported, e.g., whether it would be well-formed to add the...</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00688">DeclBase.cpp:688</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_ace94b0549b59e1bfbfa38c31e256be01"><div class="ttname"><a href="classclang_1_1Decl.html#ace94b0549b59e1bfbfa38c31e256be01">clang::Decl::dropAttr</a></div><div class="ttdeci">void dropAttr()</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00512">DeclBase.h:512</a></div></div>
<div class="ttc" id="aStaticAnalyzer_2README_8txt_html_a1a264b3e48bda8ea3bed83698db8dca7"><div class="ttname"><a href="StaticAnalyzer_2README_8txt.html#a1a264b3e48bda8ea3bed83698db8dca7">state</a></div><div class="ttdeci">and static some checkers Checker The latter are built on top of the former via the Checker and CheckerVisitor and attempts to isolate them from much of the gore of the internal analysis the analyzer is basically a source code simulator that traces out possible paths of execution The state of the and the combination of state and program point is a node in an exploded which has the entry program point and initial state</div><div class="ttdef"><b>Definition:</b> <a href="StaticAnalyzer_2README_8txt_source.html#l00030">README.txt:30</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_a1280e3f4075ff54f856987cf002ba300"><div class="ttname"><a href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300">clang::Qualifiers::ObjCLifetime</a></div><div class="ttdeci">ObjCLifetime</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00162">Type.h:162</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a61b2769f68aa8b84795102bde1b69e85"><div class="ttname"><a href="classclang_1_1Sema.html#a61b2769f68aa8b84795102bde1b69e85">clang::Sema::CheckDeprecatedSYCLAttributeSpelling</a></div><div class="ttdeci">void CheckDeprecatedSYCLAttributeSpelling(const ParsedAttr &amp;A, StringRef NewName=&quot;&quot;)</div><div class="ttdoc">Diagnoses an attribute in the 'intelfpga' namespace and suggests using the attribute in the 'intel' n...</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00323">SemaDeclAttr.cpp:323</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aff9df59ee454e353ab88dd9f3a34c795"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aff9df59ee454e353ab88dd9f3a34c795">clang::TargetInfo::validateBranchProtection</a></div><div class="ttdeci">virtual bool validateBranchProtection(StringRef Spec, StringRef Arch, BranchProtectionInfo &amp;BPI, StringRef &amp;Err) const</div><div class="ttdoc">Determine if this TargetInfo supports the given branch protection specification.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01317">TargetInfo.h:1317</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6da5a25306c679ff309e842bb7ffc394"><div class="ttname"><a href="classclang_1_1Sema.html#a6da5a25306c679ff309e842bb7ffc394">clang::Sema::LangOpts</a></div><div class="ttdeci">const LangOptions &amp; LangOpts</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00585">Sema.h:585</a></div></div>
<div class="ttc" id="anamespaceclang_html_ac4d855143c10ceb396f2e0363e165211a40ff4090052bf9eae6dc325f08d2f638"><div class="ttname"><a href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211a40ff4090052bf9eae6dc325f08d2f638">clang::FloatModeKind::NoFloat</a></div><div class="ttdeci">@ NoFloat</div></div>
<div class="ttc" id="aclassclang_1_1TemplateDecl_html_a7f8b28a5d4a680cea9dc71c5c886a7f3"><div class="ttname"><a href="classclang_1_1TemplateDecl.html#a7f8b28a5d4a680cea9dc71c5c886a7f3">clang::TemplateDecl::getTemplateParameters</a></div><div class="ttdeci">TemplateParameterList * getTemplateParameters() const</div><div class="ttdoc">Get the list of template parameters.</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l00419">DeclTemplate.h:419</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a9163b7f9b8aa211925297f3096e80ba9"><div class="ttname"><a href="classclang_1_1QualType.html#a9163b7f9b8aa211925297f3096e80ba9">clang::QualType::getUnqualifiedType</a></div><div class="ttdeci">QualType getUnqualifiedType() const</div><div class="ttdoc">Retrieve the unqualified variant of the given type, removing as little sugar as possible.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06582">Type.h:6582</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_aa6a396f356364a0d2fe9479bc07f30b2"><div class="ttname"><a href="classclang_1_1Type.html#aa6a396f356364a0d2fe9479bc07f30b2">clang::Type::isObjCLifetimeType</a></div><div class="ttdeci">bool isObjCLifetimeType() const</div><div class="ttdoc">Returns true if objects of this type have lifetime semantics under ARC.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l04344">Type.cpp:4344</a></div></div>
<div class="ttc" id="aclassclang_1_1UsingDecl_html"><div class="ttname"><a href="classclang_1_1UsingDecl.html">clang::UsingDecl</a></div><div class="ttdoc">Represents a C++ using-declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l03399">DeclCXX.h:3399</a></div></div>
<div class="ttc" id="astructclang_1_1DeclarationNameInfo_html_a09d47cb0da3fea189ecbd6ab0094c70d"><div class="ttname"><a href="structclang_1_1DeclarationNameInfo.html#a09d47cb0da3fea189ecbd6ab0094c70d">clang::DeclarationNameInfo::getName</a></div><div class="ttdeci">DeclarationName getName() const</div><div class="ttdoc">getName - Returns the embedded declaration name.</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00779">DeclarationName.h:779</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnosticPool_html_a4bb3789eda388bfc88684ae7431172d9"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a4bb3789eda388bfc88684ae7431172d9">clang::sema::DelayedDiagnosticPool::pool_end</a></div><div class="ttdeci">pool_iterator pool_end() const</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00318">DelayedDiagnostic.h:318</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba7a504297547dacad7f909bc7da059378"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba7a504297547dacad7f909bc7da059378">clang::CC_C</a></div><div class="ttdeci">@ CC_C</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00264">Specifiers.h:264</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ab6892f73d3e8a207c397b038ab090b77"><div class="ttname"><a href="classclang_1_1Type.html#ab6892f73d3e8a207c397b038ab090b77">clang::Type::isObjCObjectPointerType</a></div><div class="ttdeci">bool isObjCObjectPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06878">Type.h:6878</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ae945682c5190f733b118993e5b1b9c1d"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ae945682c5190f733b118993e5b1b9c1d">clang::FunctionDecl::hasBody</a></div><div class="ttdeci">bool hasBody(const FunctionDecl *&amp;Definition) const</div><div class="ttdoc">Returns true if the function has a body.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l02972">Decl.cpp:2972</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a17ba07837d61ad9e44ea341dc4a63686"><div class="ttname"><a href="classclang_1_1Sema.html#a17ba07837d61ad9e44ea341dc4a63686">clang::Sema::AddModeAttr</a></div><div class="ttdeci">void AddModeAttr(Decl *D, const AttributeCommonInfo &amp;CI, IdentifierInfo *Name, bool InInstantiation=false)</div><div class="ttdoc">AddModeAttr - Adds a mode attribute to a particular declaration.</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_abdd8761bdcecbf6cdce472f76e437a58"><div class="ttname"><a href="classclang_1_1Sema.html#abdd8761bdcecbf6cdce472f76e437a58">clang::Sema::NoteAllOverloadCandidates</a></div><div class="ttdeci">void NoteAllOverloadCandidates(Expr *E, QualType DestType=QualType(), bool TakingAddress=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaOverload_8cpp_source.html#l10437">SemaOverload.cpp:10437</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a5d8a76380838094257a859e4c894b6ed"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a5d8a76380838094257a859e4c894b6ed">clang::ParsedAttr::getUnavailableLoc</a></div><div class="ttdeci">SourceLocation getUnavailableLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00546">ParsedAttr.h:546</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCRuntime_html_ad39258c17d6c4521e6481815defb20ec"><div class="ttname"><a href="classclang_1_1ObjCRuntime.html#ad39258c17d6c4521e6481815defb20ec">clang::ObjCRuntime::allowsDirectDispatch</a></div><div class="ttdeci">bool allowsDirectDispatch() const</div><div class="ttdoc">Does this runtime supports direct dispatch.</div><div class="ttdef"><b>Definition:</b> <a href="ObjCRuntime_8h_source.html#l00451">ObjCRuntime.h:451</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttributesView_html_a7e714c75df9273a2ac5c218afc780527"><div class="ttname"><a href="classclang_1_1ParsedAttributesView.html#a7e714c75df9273a2ac5c218afc780527">clang::ParsedAttributesView::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00915">ParsedAttr.h:915</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a55da4b4ad6a1bdc68b7e6f3d553fdbba"><div class="ttname"><a href="classclang_1_1Type.html#a55da4b4ad6a1bdc68b7e6f3d553fdbba">clang::Type::isAlignValT</a></div><div class="ttdeci">bool isAlignValT() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l02744">Type.cpp:2744</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a116343cf997daa43cdcfaf6c6b89e237"><div class="ttname"><a href="classclang_1_1Sema.html#a116343cf997daa43cdcfaf6c6b89e237">clang::Sema::AddIntelFPGAForcePow2DepthAttr</a></div><div class="ttdeci">void AddIntelFPGAForcePow2DepthAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1OpaquePtr_html"><div class="ttname"><a href="classclang_1_1OpaquePtr.html">clang::OpaquePtr&lt; QualType &gt;</a></div></div>
<div class="ttc" id="anamespaceclang_html_aa60adc99d2d93078eb3aa83d71f6f564"><div class="ttname"><a href="namespaceclang.html#aa60adc99d2d93078eb3aa83d71f6f564">clang::isHexDigit</a></div><div class="ttdeci">LLVM_READONLY bool isHexDigit(unsigned char c)</div><div class="ttdoc">Return true if this character is an ASCII hex digit: [0-9a-fA-F].</div><div class="ttdef"><b>Definition:</b> <a href="CharInfo_8h_source.html#l00129">CharInfo.h:129</a></div></div>
<div class="ttc" id="astructclang_1_1AvailabilityChange_html"><div class="ttname"><a href="structclang_1_1AvailabilityChange.html">clang::AvailabilityChange</a></div><div class="ttdoc">Represents information about a change in availability for an entity, which is part of the encoding of...</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00167">ParsedAttr.h:167</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedAttrInfo_html_a07627921573ae362d9ff0ca2204f532baa9f6cb84385e75cd060e1fe4b541177b"><div class="ttname"><a href="structclang_1_1ParsedAttrInfo.html#a07627921573ae362d9ff0ca2204f532baa9f6cb84385e75cd060e1fe4b541177b">clang::ParsedAttrInfo::NotHandled</a></div><div class="ttdeci">@ NotHandled</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00146">ParsedAttr.h:146</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a2aeab101dc398b79dda9649356b6a2d2"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a2aeab101dc398b79dda9649356b6a2d2">clang::ParsedAttr::existsInTarget</a></div><div class="ttdeci">bool existsInTarget(const TargetInfo &amp;Target) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00205">ParsedAttr.cpp:205</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9efacb17965963abb580b676a76a10ec"><div class="ttname"><a href="classclang_1_1Sema.html#a9efacb17965963abb580b676a76a10ec">clang::Sema::isCFError</a></div><div class="ttdeci">bool isCFError(RecordDecl *D)</div><div class="ttdef"><b>Definition:</b> <a href="SemaType_8cpp_source.html#l04223">SemaType.cpp:4223</a></div></div>
<div class="ttc" id="anamespaceclang_1_1index_html_a2f70a3d61ba9b8a97d8e609dcdf069dea2a9f85f18ecd7a64a7f091bc82f61483"><div class="ttname"><a href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea2a9f85f18ecd7a64a7f091bc82f61483">clang::index::SymbolKind::ClassMethod</a></div><div class="ttdeci">@ ClassMethod</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a436b8b08ae7f2404b4712d37986194ce"><div class="ttname"><a href="classclang_1_1Type.html#a436b8b08ae7f2404b4712d37986194ce">clang::Type::castAs</a></div><div class="ttdeci">const T * castAs() const</div><div class="ttdoc">Member-template castAs&lt;specific type&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07330">Type.h:7330</a></div></div>
<div class="ttc" id="anamespaceclang_1_1transformer_html_ad80941aa4fbfbd2f0d99e77a2c779b2ca87ba2ecc8b6915e8bd6f5089918229fd"><div class="ttname"><a href="namespaceclang_1_1transformer.html#ad80941aa4fbfbd2f0d99e77a2c779b2ca87ba2ecc8b6915e8bd6f5089918229fd">clang::transformer::EditKind::Range</a></div><div class="ttdeci">@ Range</div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_afa3dde167bc8345f26f38d4fa2066218abc00a3b6a9b0a61d63d0b7e9dacb6cd9"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#afa3dde167bc8345f26f38d4fa2066218abc00a3b6a9b0a61d63d0b7e9dacb6cd9">clang::sema::DelayedDiagnostic::Access</a></div><div class="ttdeci">@ Access</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00126">DelayedDiagnostic.h:126</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a397a707d10e0d3ac4a150325eafa4368"><div class="ttname"><a href="classclang_1_1Expr.html#a397a707d10e0d3ac4a150325eafa4368">clang::Expr::IgnoreParenCasts</a></div><div class="ttdeci">Expr * IgnoreParenCasts() LLVM_READONLY</div><div class="ttdoc">Skip past any parentheses and casts which might surround this expression until reaching a fixed point...</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l02953">Expr.cpp:2953</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_abbc87af30c26901adb25c948c72e9039"><div class="ttname"><a href="classclang_1_1TargetInfo.html#abbc87af30c26901adb25c948c72e9039">clang::TargetInfo::getTriple</a></div><div class="ttdeci">const llvm::Triple &amp; getTriple() const</div><div class="ttdoc">Returns the target triple of the primary target.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01160">TargetInfo.h:1160</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_af32959df6a722f5089bbdd3dd88ea9bd"><div class="ttname"><a href="classclang_1_1Decl.html#af32959df6a722f5089bbdd3dd88ea9bd">clang::Decl::getSourceRange</a></div><div class="ttdeci">virtual SourceRange getSourceRange() const LLVM_READONLY</div><div class="ttdoc">Source range that this declaration covers.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00412">DeclBase.h:412</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a517ea1862592f0eb10bf6d20b907287a"><div class="ttname"><a href="classclang_1_1ASTContext.html#a517ea1862592f0eb10bf6d20b907287a">clang::ASTContext::getConstType</a></div><div class="ttdeci">QualType getConstType(QualType T) const</div><div class="ttdoc">Return the uniqued reference to the type for a const qualified type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01289">ASTContext.h:1289</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCObjectPointerType_html"><div class="ttname"><a href="classclang_1_1ObjCObjectPointerType.html">clang::ObjCObjectPointerType</a></div><div class="ttdoc">Represents a pointer to an Objective C object.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06150">Type.h:6150</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a0f96152b9cae84ed0427b9299e59afff"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a0f96152b9cae84ed0427b9299e59afff">clang::AttributeCommonInfo::isMicrosoftAttribute</a></div><div class="ttdeci">bool isMicrosoftAttribute() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00143">AttributeCommonInfo.h:143</a></div></div>
<div class="ttc" id="astructclang_1_1TargetInfo_1_1BranchProtectionInfo_html"><div class="ttname"><a href="structclang_1_1TargetInfo_1_1BranchProtectionInfo.html">clang::TargetInfo::BranchProtectionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01301">TargetInfo.h:1301</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_ac47112a6493b71e27575d0aab313332d"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#ac47112a6493b71e27575d0aab313332d">hasFunctionProto</a></div><div class="ttdeci">static bool hasFunctionProto(const Decl *D)</div><div class="ttdoc">hasFunctionProto - Return true if the given decl has a argument information.</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00088">SemaDeclAttr.cpp:88</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a39131ec9bc79c05187f92381f54aff8d"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a39131ec9bc79c05187f92381f54aff8d">clang::ParsedAttr::hasVariadicArg</a></div><div class="ttdeci">bool hasVariadicArg() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00225">ParsedAttr.cpp:225</a></div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html_a2f895ae8ae6d7966390f197b109d1f4d"><div class="ttname"><a href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4d">AttributeLangSupport::LANG</a></div><div class="ttdeci">LANG</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00053">SemaDeclAttr.cpp:53</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4567efa666ca700c6d7ff3c6245d00ef"><div class="ttname"><a href="classclang_1_1Sema.html#a4567efa666ca700c6d7ff3c6245d00ef">clang::Sema::addAMDGPUWavesPerEUAttr</a></div><div class="ttdeci">void addAMDGPUWavesPerEUAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *Min, Expr *Max)</div><div class="ttdoc">addAMDGPUWavePersEUAttr - Adds an amdgpu_waves_per_eu attribute to a particular declaration.</div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html">clang::CXXRecordDecl</a></div><div class="ttdoc">Represents a C++ struct/union/class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l00254">DeclCXX.h:254</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_af567be8de0ee90a38d42b3bbc2bee3dd"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#af567be8de0ee90a38d42b3bbc2bee3dd">clang::ParsedAttr::checkAtMostNumArgs</a></div><div class="ttdeci">bool checkAtMostNumArgs(class Sema &amp;S, unsigned Num) const</div><div class="ttdoc">Check if the attribute has at most as many args as Num.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00267">ParsedAttr.cpp:267</a></div></div>
<div class="ttc" id="aSourceLocation_8h_html"><div class="ttname"><a href="SourceLocation_8h.html">SourceLocation.h</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_afa3dde167bc8345f26f38d4fa2066218a7dee369e551e16e70285592d85dc620f"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#afa3dde167bc8345f26f38d4fa2066218a7dee369e551e16e70285592d85dc620f">clang::sema::DelayedDiagnostic::ForbiddenType</a></div><div class="ttdeci">@ ForbiddenType</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00126">DelayedDiagnostic.h:126</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a144846c00257c86421cf162de68f80dd"><div class="ttname"><a href="classclang_1_1Type.html#a144846c00257c86421cf162de68f80dd">clang::Type::getAsUnionType</a></div><div class="ttdeci">const RecordType * getAsUnionType() const</div><div class="ttdoc">NOTE: getAs*ArrayType are methods on ASTContext.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00660">Type.cpp:660</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_a61743ae6acff989a26641900282e6305"><div class="ttname"><a href="classclang_1_1DeclContext.html#a61743ae6acff989a26641900282e6305">clang::DeclContext::getRedeclContext</a></div><div class="ttdeci">DeclContext * getRedeclContext()</div><div class="ttdoc">getRedeclContext - Retrieve the context in which an entity conflicts with other entities of the same ...</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l01792">DeclBase.cpp:1792</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ast__matchers_html_ac5ccadfbea5e9e43c2153175afca6cac"><div class="ttname"><a href="namespaceclang_1_1ast__matchers.html#ac5ccadfbea5e9e43c2153175afca6cac">clang::ast_matchers::decl</a></div><div class="ttdeci">const internal::VariadicAllOfMatcher&lt; Decl &gt; decl</div><div class="ttdoc">Matches declarations.</div><div class="ttdef"><b>Definition:</b> <a href="ASTMatchersInternal_8cpp_source.html#l00734">ASTMatchersInternal.cpp:734</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a6dad8fcca7899221aaa212d56d84d7d7"><div class="ttname"><a href="classclang_1_1Type.html#a6dad8fcca7899221aaa212d56d84d7d7">clang::Type::isDependentType</a></div><div class="ttdeci">bool isDependentType() const</div><div class="ttdoc">Whether this type is a dependent type, meaning that its definition somehow depends on a template para...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02183">Type.h:2183</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a3aaefe89fd12252284cee68b661d1eaa"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a3aaefe89fd12252284cee68b661d1eaa">clang::AttributeCommonInfo::isCXX11Attribute</a></div><div class="ttdeci">bool isCXX11Attribute() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00152">AttributeCommonInfo.h:152</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a667dce4e01854030af47e218428222fe"><div class="ttname"><a href="classclang_1_1Type.html#a667dce4e01854030af47e218428222fe">clang::Type::isInstantiationDependentType</a></div><div class="ttdeci">bool isInstantiationDependentType() const</div><div class="ttdoc">Determine whether this type is an instantiation-dependent type, meaning that the type involves a temp...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02191">Type.h:2191</a></div></div>
<div class="ttc" id="anamespaceclang_html_ac7b1e4926b152c0385bc7ec72319a340a4c79e862e6b6be5be4dec932c3114572"><div class="ttname"><a href="namespaceclang.html#ac7b1e4926b152c0385bc7ec72319a340a4c79e862e6b6be5be4dec932c3114572">clang::VK_PRValue</a></div><div class="ttdeci">@ VK_PRValue</div><div class="ttdoc">A pr-value expression (in the C++11 taxonomy) produces a temporary value.</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00120">Specifiers.h:120</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a6ac9f16e167718c8da4ac46735de8dcd"><div class="ttname"><a href="classclang_1_1Type.html#a6ac9f16e167718c8da4ac46735de8dcd">clang::Type::isBuiltinType</a></div><div class="ttdeci">bool isBuiltinType() const</div><div class="ttdoc">Helper methods to distinguish type categories.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06836">Type.h:6836</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a989c30946e5cabc831bca08a8da4b3dda691144416ccd7da1984a21de8941c3e2"><div class="ttname"><a href="classclang_1_1Sema.html#a989c30946e5cabc831bca08a8da4b3dda691144416ccd7da1984a21de8941c3e2">clang::Sema::Compatible</a></div><div class="ttdeci">@ Compatible</div><div class="ttdoc">Compatible - the types are compatible according to the standard.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l12112">Sema.h:12112</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a8b36a55b543df95901cb5df40fc032d5"><div class="ttname"><a href="classclang_1_1ASTContext.html#a8b36a55b543df95901cb5df40fc032d5">clang::ASTContext::getVectorType</a></div><div class="ttdeci">QualType getVectorType(QualType VectorType, unsigned NumElts, VectorType::VectorKind VecKind) const</div><div class="ttdoc">Return the unique reference to a vector type of the specified element type and size.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l03995">ASTContext.cpp:3995</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a45c0547cf33c21f34242c137fe6910bb"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a45c0547cf33c21f34242c137fe6910bb">clang::AttributeCommonInfo::getRange</a></div><div class="ttdeci">SourceRange getRange() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00130">AttributeCommonInfo.h:130</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a873e93be80ba4f6439e8fafdacabd056"><div class="ttname"><a href="classclang_1_1Type.html#a873e93be80ba4f6439e8fafdacabd056">clang::Type::isMemberPointerType</a></div><div class="ttdeci">bool isMemberPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06798">Type.h:6798</a></div></div>
<div class="ttc" id="aCharInfo_8h_html"><div class="ttname"><a href="CharInfo_8h.html">CharInfo.h</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a5b0f71fd207798cf4d3d54a89b89b20f"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a5b0f71fd207798cf4d3d54a89b89b20f">isFunctionOrMethod</a></div><div class="ttdeci">static bool isFunctionOrMethod(const Decl *D)</div><div class="ttdoc">isFunctionOrMethod - Return true if the given decl has function type (function or function-typed vari...</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00067">SemaDeclAttr.cpp:67</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a92982e7f219d7eebdbf4323a98c3f801"><div class="ttname"><a href="classclang_1_1Sema.html#a92982e7f219d7eebdbf4323a98c3f801">clang::Sema::mergeErrorAttr</a></div><div class="ttdeci">ErrorAttr * mergeErrorAttr(Decl *D, const AttributeCommonInfo &amp;CI, StringRef NewUserDiagnostic)</div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_af03c4510d385db776ddeb93415c024ab"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#af03c4510d385db776ddeb93415c024ab">clang::ParsedAttr::getAvailabilityIntroduced</a></div><div class="ttdeci">const AvailabilityChange &amp; getAvailabilityIntroduced() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00522">ParsedAttr.h:522</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a3688f77a02d79959b912ca2f28cc4bb9"><div class="ttname"><a href="classclang_1_1Type.html#a3688f77a02d79959b912ca2f28cc4bb9">clang::Type::isPointerType</a></div><div class="ttdeci">bool isPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06750">Type.h:6750</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a1e0b6223e2547ac65ddbf4802117998b"><div class="ttname"><a href="classclang_1_1Decl.html#a1e0b6223e2547ac65ddbf4802117998b">clang::Decl::hasAttrs</a></div><div class="ttdeci">bool hasAttrs() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00483">DeclBase.h:483</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_a07037250678ee16ef8e3ae54c84484b7"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#a07037250678ee16ef8e3ae54c84484b7">clang::sema::DelayedDiagnostic::getForbiddenTypeOperand</a></div><div class="ttdeci">QualType getForbiddenTypeOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00216">DelayedDiagnostic.h:216</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4a2227dc7cbd030a12ec6c4d776270f8"><div class="ttname"><a href="classclang_1_1Sema.html#a4a2227dc7cbd030a12ec6c4d776270f8">clang::Sema::AddSYCLDeviceHasAttr</a></div><div class="ttdeci">void AddSYCLDeviceHasAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr **Exprs, unsigned Size)</div></div>
<div class="ttc" id="anamespaceclang_1_1syntax_html_a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719"><div class="ttname"><a href="namespaceclang_1_1syntax.html#a0d10149d69e32e3c86140b4d325925e5a6f6cb72d544962fa333e2e34ce64f719">clang::syntax::NodeRole::Size</a></div><div class="ttdeci">@ Size</div></div>
<div class="ttc" id="aSemaStmtAttr_8cpp_html_a4db93cf4fd15e8cfd0702ee32c3dc1bf"><div class="ttname"><a href="SemaStmtAttr_8cpp.html#a4db93cf4fd15e8cfd0702ee32c3dc1bf">handleSYCLIntelFPGAMaxConcurrencyAttr</a></div><div class="ttdeci">static Attr * handleSYCLIntelFPGAMaxConcurrencyAttr(Sema &amp;S, Stmt *St, const ParsedAttr &amp;A)</div><div class="ttdef"><b>Definition:</b> <a href="SemaStmtAttr_8cpp_source.html#l00092">SemaStmtAttr.cpp:92</a></div></div>
<div class="ttc" id="anamespaceclang_html_a6f904bf7056cbce941d51eeebe3bfd5c"><div class="ttname"><a href="namespaceclang.html#a6f904bf7056cbce941d51eeebe3bfd5c">clang::Language</a></div><div class="ttdeci">Language</div><div class="ttdoc">The language for the input, used to select and validate the language standard and possible actions.</div><div class="ttdef"><b>Definition:</b> <a href="LangStandard_8h_source.html#l00019">LangStandard.h:19</a></div></div>
<div class="ttc" id="alimits_8h_html_ac998ea02fbd821fc123d60445ce76f38"><div class="ttname"><a href="limits_8h.html#ac998ea02fbd821fc123d60445ce76f38">UINT_MAX</a></div><div class="ttdeci">#define UINT_MAX</div><div class="ttdef"><b>Definition:</b> <a href="limits_8h_source.html#l00056">limits.h:56</a></div></div>
<div class="ttc" id="aclassclang_1_1TagDecl_html_a2387df6a82c20b2d0a54acacb25ef501"><div class="ttname"><a href="classclang_1_1TagDecl.html#a2387df6a82c20b2d0a54acacb25ef501">clang::TagDecl::isBeingDefined</a></div><div class="ttdeci">bool isBeingDefined() const</div><div class="ttdoc">Return true if this decl is currently being defined.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03457">Decl.h:3457</a></div></div>
<div class="ttc" id="aclassclang_1_1ConstantExpr_html_a9c075760ac34f144d8b0577d207ffa6d"><div class="ttname"><a href="classclang_1_1ConstantExpr.html#a9c075760ac34f144d8b0577d207ffa6d">clang::ConstantExpr::Create</a></div><div class="ttdeci">static ConstantExpr * Create(const ASTContext &amp;Context, Expr *E, const APValue &amp;Result)</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l00319">Expr.cpp:319</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ad36f57d7a801997658ab43b24034db20"><div class="ttname"><a href="classclang_1_1Sema.html#ad36f57d7a801997658ab43b24034db20">clang::Sema::PerformCopyInitialization</a></div><div class="ttdeci">ExprResult PerformCopyInitialization(const InitializedEntity &amp;Entity, SourceLocation EqualLoc, ExprResult Init, bool TopLevelOfInitList=false, bool AllowExplicit=false)</div><div class="ttdef"><b>Definition:</b> <a href="SemaInit_8cpp_source.html#l09907">SemaInit.cpp:9907</a></div></div>
<div class="ttc" id="aclassclang_1_1ActionResult_html_aedbbd11dd798f32ce162ab772320d530"><div class="ttname"><a href="classclang_1_1ActionResult.html#aedbbd11dd798f32ce162ab772320d530">clang::ActionResult::get</a></div><div class="ttdeci">PtrTy get() const</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00169">Ownership.h:169</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a36b2c8c10756382ad9402264b4fa47d0"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a36b2c8c10756382ad9402264b4fa47d0">clang::ParsedAttr::setInvalid</a></div><div class="ttdeci">void setInvalid(bool b=true) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00472">ParsedAttr.h:472</a></div></div>
<div class="ttc" id="aclassclang_1_1NamedDecl_html_a7fab32caa3b7d601128265248260fd37"><div class="ttname"><a href="classclang_1_1NamedDecl.html#a7fab32caa3b7d601128265248260fd37">clang::NamedDecl::getIdentifier</a></div><div class="ttdeci">IdentifierInfo * getIdentifier() const</div><div class="ttdoc">Get the identifier that names this declaration, if there is one.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00268">Decl.h:268</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a420328fbe9c6b66703346448e2b26dc1"><div class="ttname"><a href="classclang_1_1QualType.html#a420328fbe9c6b66703346448e2b26dc1">clang::QualType::getLocalUnqualifiedType</a></div><div class="ttdeci">QualType getLocalUnqualifiedType() const</div><div class="ttdoc">Return this type with all of the instance-specific qualifiers removed, but without removing any quali...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00914">Type.h:914</a></div></div>
<div class="ttc" id="aclassclang_1_1ClassTemplateDecl_html"><div class="ttname"><a href="classclang_1_1ClassTemplateDecl.html">clang::ClassTemplateDecl</a></div><div class="ttdoc">Declaration of a class template.</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l02247">DeclTemplate.h:2247</a></div></div>
<div class="ttc" id="aclassclang_1_1ValueDecl_html"><div class="ttname"><a href="classclang_1_1ValueDecl.html">clang::ValueDecl</a></div><div class="ttdoc">Represent the declaration of a variable (in which case it is an lvalue) a function (in which case it ...</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00675">Decl.h:675</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a873a1148a8ffe184f0e5bd27bf90c0dc"><div class="ttname"><a href="classclang_1_1ASTContext.html#a873a1148a8ffe184f0e5bd27bf90c0dc">clang::ASTContext::IntTy</a></div><div class="ttdeci">CanQualType IntTy</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l01101">ASTContext.h:1101</a></div></div>
<div class="ttc" id="anamespaceclang_1_1RISCV_html_a24516708c8e8fa3d362e8a34e9d52b65a76727cb512daba236bffc6c5adf1af1a"><div class="ttname"><a href="namespaceclang_1_1RISCV.html#a24516708c8e8fa3d362e8a34e9d52b65a76727cb512daba236bffc6c5adf1af1a">clang::RISCV::FirstRVVBuiltin</a></div><div class="ttdeci">@ FirstRVVBuiltin</div><div class="ttdef"><b>Definition:</b> <a href="TargetBuiltins_8h_source.html#l00145">TargetBuiltins.h:145</a></div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html_a2f895ae8ae6d7966390f197b109d1f4da418144dcd01da96ec63ac5a2417ab396"><div class="ttname"><a href="namespaceAttributeLangSupport.html#a2f895ae8ae6d7966390f197b109d1f4da418144dcd01da96ec63ac5a2417ab396">AttributeLangSupport::ObjC</a></div><div class="ttdeci">@ ObjC</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00056">SemaDeclAttr.cpp:56</a></div></div>
<div class="ttc" id="aSemaSYCL_8cpp_html_a5d2c023108742a1ce78ba9823c06ea35"><div class="ttname"><a href="SemaSYCL_8cpp.html#a5d2c023108742a1ce78ba9823c06ea35">target</a></div><div class="ttdeci">target</div><div class="ttdef"><b>Definition:</b> <a href="SemaSYCL_8cpp_source.html#l00042">SemaSYCL.cpp:42</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_add8da545ba3e9f44462e85440a478546"><div class="ttname"><a href="classclang_1_1VarDecl.html#add8da545ba3e9f44462e85440a478546">clang::VarDecl::getStorageClass</a></div><div class="ttdeci">StorageClass getStorageClass() const</div><div class="ttdoc">Returns the storage class as written in the source.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01084">Decl.h:1084</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a3268778235a07ab81be02b50fe601582"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a3268778235a07ab81be02b50fe601582">clang::ParsedAttr::hasParsedType</a></div><div class="ttdeci">bool hasParsedType() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00464">ParsedAttr.h:464</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25bae2cbd0c56b4a0ec6e0e4a475bffaa414"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25bae2cbd0c56b4a0ec6e0e4a475bffaa414">clang::CC_PreserveAll</a></div><div class="ttdeci">@ CC_PreserveAll</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00281">Specifiers.h:281</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a1f66339e2295c5b8a43321f31797aaa8"><div class="ttname"><a href="classclang_1_1ASTContext.html#a1f66339e2295c5b8a43321f31797aaa8">clang::ASTContext::getTagDeclType</a></div><div class="ttdeci">QualType getTagDeclType(const TagDecl *Decl) const</div><div class="ttdoc">Return the unique reference to the type for the specified TagDecl (struct/union/class/enum) decl.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l05817">ASTContext.cpp:5817</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionProtoType_html"><div class="ttname"><a href="classclang_1_1FunctionProtoType.html">clang::FunctionProtoType</a></div><div class="ttdoc">Represents a prototype with parameter type info, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l03900">Type.h:3900</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a4f95adb9958e22fbe55212ae6482feb4"><div class="ttname"><a href="classclang_1_1ASTContext.html#a4f95adb9958e22fbe55212ae6482feb4">clang::ASTContext::Idents</a></div><div class="ttdeci">IdentifierTable &amp; Idents</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00651">ASTContext.h:651</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_a31c99b38017e8d702fda9c0f1d021186"><div class="ttname"><a href="classclang_1_1DeclContext.html#a31c99b38017e8d702fda9c0f1d021186">clang::DeclContext::getParent</a></div><div class="ttdeci">DeclContext * getParent()</div><div class="ttdoc">getParent - Returns the containing DeclContext.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01872">DeclBase.h:1872</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_ab4fa508722ecc1546ad73cb31b0dc06c"><div class="ttname"><a href="classclang_1_1Expr.html#ab4fa508722ecc1546ad73cb31b0dc06c">clang::Expr::getExprLoc</a></div><div class="ttdeci">SourceLocation getExprLoc() const LLVM_READONLY</div><div class="ttdoc">getExprLoc - Return the preferred location for the arrow when diagnosing a problem with a generic exp...</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8cpp_source.html#l00246">Expr.cpp:246</a></div></div>
<div class="ttc" id="aclassclang_1_1RecordDecl_html_a5e73db3d805697af36d80739d55369ec"><div class="ttname"><a href="classclang_1_1RecordDecl.html#a5e73db3d805697af36d80739d55369ec">clang::RecordDecl::fields</a></div><div class="ttdeci">field_range fields() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l04105">Decl.h:4105</a></div></div>
<div class="ttc" id="aclassclang_1_1TemplateDecl_html"><div class="ttname"><a href="classclang_1_1TemplateDecl.html">clang::TemplateDecl</a></div><div class="ttdoc">The base class of all kinds of template declarations (e.g., class, function, etc.).</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l00400">DeclTemplate.h:400</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_ae888850016931a136ee06eb03505b9f2"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#ae888850016931a136ee06eb03505b9f2">clang::AttributeCommonInfo::getScopeName</a></div><div class="ttdeci">const IdentifierInfo * getScopeName() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00134">AttributeCommonInfo.h:134</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a54127635d2ca4754e91ee96b594eff74"><div class="ttname"><a href="classclang_1_1QualType.html#a54127635d2ca4754e91ee96b594eff74">clang::QualType::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Return true if this QualType doesn't point to a type yet.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00740">Type.h:740</a></div></div>
<div class="ttc" id="anamespaceclang_1_1extractapi_html_ababb0c926bf44d38d9c7ebc34dcb8532a86408593c34af77fdd90df932f8b5261"><div class="ttname"><a href="namespaceclang_1_1extractapi.html#ababb0c926bf44d38d9c7ebc34dcb8532a86408593c34af77fdd90df932f8b5261">clang::extractapi::GVKind::Function</a></div><div class="ttdeci">@ Function</div></div>
<div class="ttc" id="aclassclang_1_1Scope_html_a42bf6d862e958f486c21020f81395afa"><div class="ttname"><a href="classclang_1_1Scope.html#a42bf6d862e958f486c21020f81395afa">clang::Scope::getFlags</a></div><div class="ttdeci">unsigned getFlags() const</div><div class="ttdoc">getFlags - Return the flags for this scope.</div><div class="ttdef"><b>Definition:</b> <a href="Scope_8h_source.html#l00226">Scope.h:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00034">LLVM.h:34</a></div></div>
<div class="ttc" id="aUninitializedValues_8cpp_html_a896c037a32087c5c20d97e64a1786880"><div class="ttname"><a href="UninitializedValues_8cpp.html#a896c037a32087c5c20d97e64a1786880">Value</a></div><div class="ttdeci">Value</div><div class="ttdef"><b>Definition:</b> <a href="UninitializedValues_8cpp_source.html#l00102">UninitializedValues.cpp:102</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html"><div class="ttname"><a href="classclang_1_1Decl.html">clang::Decl</a></div><div class="ttdoc">Decl - This represents one declaration (or definition), e.g.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00083">DeclBase.h:83</a></div></div>
<div class="ttc" id="astructclang_1_1MSGuidDeclParts_html_a215565eda81740326631c42ce2649a42"><div class="ttname"><a href="structclang_1_1MSGuidDeclParts.html#a215565eda81740326631c42ce2649a42">clang::MSGuidDeclParts::Part2</a></div><div class="ttdeci">uint16_t Part2</div><div class="ttdoc">...-89ab-...</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l04140">DeclCXX.h:4140</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html">clang::AttributeCommonInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00022">AttributeCommonInfo.h:22</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a2b3e517390147ef7d156b99df51ce511"><div class="ttname"><a href="classclang_1_1Sema.html#a2b3e517390147ef7d156b99df51ce511">clang::Sema::AddSYCLUsesAspectsAttr</a></div><div class="ttdeci">void AddSYCLUsesAspectsAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr **Exprs, unsigned Size)</div></div>
<div class="ttc" id="aScope_8h_html"><div class="ttname"><a href="Scope_8h.html">Scope.h</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a9709edaa3b4a796fe6ddb4584204c953"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a9709edaa3b4a796fe6ddb4584204c953">clang::ParsedAttr::isStmtAttr</a></div><div class="ttdeci">bool isStmtAttr() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00203">ParsedAttr.cpp:203</a></div></div>
<div class="ttc" id="anamespaceclang_html_a702b0ec61c5bb9df98d3364a170c0dfca6d2ba8014bbcf83ee5761acc5dbbacf7"><div class="ttname"><a href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca6d2ba8014bbcf83ee5761acc5dbbacf7">clang::AANT_ArgumentIntOrBool</a></div><div class="ttdeci">@ AANT_ArgumentIntOrBool</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01120">ParsedAttr.h:1120</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCPropertyDecl_html"><div class="ttname"><a href="classclang_1_1ObjCPropertyDecl.html">clang::ObjCPropertyDecl</a></div><div class="ttdoc">Represents one property declaration in an Objective-C interface.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00732">DeclObjC.h:732</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_abb0166241058a45af82cc0ee40a8005a"><div class="ttname"><a href="classclang_1_1Sema.html#abb0166241058a45af82cc0ee40a8005a">clang::Sema::Consumer</a></div><div class="ttdeci">ASTConsumer &amp; Consumer</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00588">Sema.h:588</a></div></div>
<div class="ttc" id="aASTMutationListener_8h_html"><div class="ttname"><a href="ASTMutationListener_8h.html">ASTMutationListener.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a5266b3e7ca4ce8afaae1f26f48cdb176"><div class="ttname"><a href="classclang_1_1Sema.html#a5266b3e7ca4ce8afaae1f26f48cdb176">clang::Sema::redelayDiagnostics</a></div><div class="ttdeci">void redelayDiagnostics(sema::DelayedDiagnosticPool &amp;pool)</div></div>
<div class="ttc" id="aclassclang_1_1WeakInfo_html_a92bcd0ae613e5b18b47a90ae63d33487"><div class="ttname"><a href="classclang_1_1WeakInfo.html#a92bcd0ae613e5b18b47a90ae63d33487">clang::WeakInfo::getLocation</a></div><div class="ttdeci">SourceLocation getLocation() const</div><div class="ttdef"><b>Definition:</b> <a href="Weak_8h_source.html#l00033">Weak.h:33</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html"><div class="ttname"><a href="classclang_1_1Sema.html">clang::Sema</a></div><div class="ttdoc">Sema - This implements semantic analysis and AST building for C.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00531">Sema.h:531</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae8fd528d9e01462ea2543a9a2e69f5ea"><div class="ttname"><a href="classclang_1_1Sema.html#ae8fd528d9e01462ea2543a9a2e69f5ea">clang::Sema::getDarwinSDKInfoForAvailabilityChecking</a></div><div class="ttdeci">DarwinSDKInfo * getDarwinSDKInfoForAvailabilityChecking(SourceLocation Loc, StringRef Platform)</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8cpp_source.html#l00061">Sema.cpp:61</a></div></div>
<div class="ttc" id="aclassclang_1_1ActionResult_html_a6475448d7da1ad75e4d36cf025586173"><div class="ttname"><a href="classclang_1_1ActionResult.html#a6475448d7da1ad75e4d36cf025586173">clang::ActionResult::isInvalid</a></div><div class="ttdeci">bool isInvalid() const</div><div class="ttdef"><b>Definition:</b> <a href="Ownership_8h_source.html#l00165">Ownership.h:165</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_acc80fd34c2353066ca3034e7cd90c29c"><div class="ttname"><a href="classclang_1_1Sema.html#acc80fd34c2353066ca3034e7cd90c29c">clang::Sema::mergeSwiftNameAttr</a></div><div class="ttdeci">SwiftNameAttr * mergeSwiftNameAttr(Decl *D, const SwiftNameAttr &amp;SNA, StringRef Name)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6167585a11fb4b402322e834ce50bbc7"><div class="ttname"><a href="classclang_1_1Sema.html#a6167585a11fb4b402322e834ce50bbc7">clang::Sema::PopParsingDeclaration</a></div><div class="ttdeci">void PopParsingDeclaration(ParsingDeclState state, Decl *decl)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a7bb94ced8df1c2bc0449a5596198ba3e"><div class="ttname"><a href="classclang_1_1Sema.html#a7bb94ced8df1c2bc0449a5596198ba3e">clang::Sema::AddSYCLIntelSchedulerTargetFmaxMhzAttr</a></div><div class="ttdeci">void AddSYCLIntelSchedulerTargetFmaxMhzAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html_abe3e84f0c980e5a5d1ea2277d3e85704"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html#abe3e84f0c980e5a5d1ea2277d3e85704">clang::CXXMethodDecl::isStaticOverloadedOperator</a></div><div class="ttdeci">static bool isStaticOverloadedOperator(OverloadedOperatorKind OOK)</div><div class="ttdoc">Returns true if the given operator is implicitly static in a record context.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l01999">DeclCXX.h:1999</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba71c99c14409da8ef2e72ec69e4ed12fe"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba71c99c14409da8ef2e72ec69e4ed12fe">clang::CC_AAPCS</a></div><div class="ttdeci">@ CC_AAPCS</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00273">Specifiers.h:273</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a4e3de3ff56b0be3aa6c30799e3085474"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a4e3de3ff56b0be3aa6c30799e3085474">clang::ExpectedVariableFieldOrTag</a></div><div class="ttdeci">@ ExpectedVariableFieldOrTag</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01139">ParsedAttr.h:1139</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_aa27183a8150702d6a4b94bc73a605047"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#aa27183a8150702d6a4b94bc73a605047">clang::DeclaratorDecl::setQualifierInfo</a></div><div class="ttdeci">void setQualifierInfo(NestedNameSpecifierLoc QualifierLoc)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l01900">Decl.cpp:1900</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a16eb0575c711c0e24f411931d2eff068"><div class="ttname"><a href="classclang_1_1Type.html#a16eb0575c711c0e24f411931d2eff068">clang::Type::isSignedIntegerType</a></div><div class="ttdeci">bool isSignedIntegerType() const</div><div class="ttdoc">Return true if this is an integer type that is signed, according to C99 6.2.5p4 [char,...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l02019">Type.cpp:2019</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_afb825a845dced571b094627bfcae7870"><div class="ttname"><a href="classclang_1_1ASTContext.html#afb825a845dced571b094627bfcae7870">clang::ASTContext::getTypeAlign</a></div><div class="ttdeci">unsigned getTypeAlign(QualType T) const</div><div class="ttdoc">Return the ABI-specified alignment of a (complete) type T, in bits.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l02313">ASTContext.h:2313</a></div></div>
<div class="ttc" id="aASTConsumer_8h_html"><div class="ttname"><a href="ASTConsumer_8h.html">ASTConsumer.h</a></div></div>
<div class="ttc" id="astructclang_1_1ParsedTargetAttr_html_a3c8f9cf95dfe28518781670fb01a8e17"><div class="ttname"><a href="structclang_1_1ParsedTargetAttr.html#a3c8f9cf95dfe28518781670fb01a8e17">clang::ParsedTargetAttr::DuplicateTune</a></div><div class="ttdeci">bool DuplicateTune</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00360">Attr.h:360</a></div></div>
<div class="ttc" id="astructclang_1_1DarwinSDKInfo_1_1OSEnvPair_html_a280ae1f91c10e3f9f6812ee88323d53a"><div class="ttname"><a href="structclang_1_1DarwinSDKInfo_1_1OSEnvPair.html#a280ae1f91c10e3f9f6812ee88323d53a">clang::DarwinSDKInfo::OSEnvPair::macOStoMacCatalystPair</a></div><div class="ttdeci">static constexpr OSEnvPair macOStoMacCatalystPair()</div><div class="ttdoc">Returns the os-environment mapping pair that's used to represent the macOS -&gt; Mac Catalyst version ma...</div><div class="ttdef"><b>Definition:</b> <a href="DarwinSDKInfo_8h_source.html#l00048">DarwinSDKInfo.h:48</a></div></div>
<div class="ttc" id="aTargetBuiltins_8h_html"><div class="ttname"><a href="TargetBuiltins_8h.html">TargetBuiltins.h</a></div></div>
<div class="ttc" id="anamespaceAttributeLangSupport_html"><div class="ttname"><a href="namespaceAttributeLangSupport.html">AttributeLangSupport</a></div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00052">SemaDeclAttr.cpp:52</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9b5b1b26afaab7786d781464b699a8cd"><div class="ttname"><a href="classclang_1_1Sema.html#a9b5b1b26afaab7786d781464b699a8cd">clang::Sema::AddSYCLAddIRAttributesKernelParameterAttr</a></div><div class="ttdeci">void AddSYCLAddIRAttributesKernelParameterAttr(Decl *D, const AttributeCommonInfo &amp;CI, MutableArrayRef&lt; Expr * &gt; Args)</div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_a0b3d5097b06b49bf8db1907a934773e4"><div class="ttname"><a href="classclang_1_1DeclContext.html#a0b3d5097b06b49bf8db1907a934773e4">clang::DeclContext::isFileContext</a></div><div class="ttdeci">bool isFileContext() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01942">DeclBase.h:1942</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a23e6d35fc1ec39e9118c981ae4dfceb4"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a23e6d35fc1ec39e9118c981ae4dfceb4">clang::AttributeCommonInfo::getNormalizedFullName</a></div><div class="ttdeci">std::string getNormalizedFullName() const</div><div class="ttdoc">Gets the normalized full name, which consists of both scope and name and with surrounding underscores...</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00118">Attributes.cpp:118</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25baa19aa9c1c05709b58e9572b216c5713c"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25baa19aa9c1c05709b58e9572b216c5713c">clang::CC_X86VectorCall</a></div><div class="ttdeci">@ CC_X86VectorCall</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00268">Specifiers.h:268</a></div></div>
<div class="ttc" id="astructclang_1_1DeclaratorChunk_html_afe7ff226be14b7b19a2fc9cc733b204d"><div class="ttname"><a href="structclang_1_1DeclaratorChunk.html#afe7ff226be14b7b19a2fc9cc733b204d">clang::DeclaratorChunk::getAttrs</a></div><div class="ttdeci">const ParsedAttributesView &amp; getAttrs() const</div><div class="ttdoc">If there are attributes applied to this declaratorchunk, return them.</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l01573">DeclSpec.h:1573</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a635f5dc70c38e827066a1c8f3ac3a77e"><div class="ttname"><a href="classclang_1_1Sema.html#a635f5dc70c38e827066a1c8f3ac3a77e">clang::Sema::checkTargetClonesAttrString</a></div><div class="ttdeci">bool checkTargetClonesAttrString(SourceLocation LiteralLoc, StringRef Str, const StringLiteral *Literal, bool &amp;HasDefault, bool &amp;HasCommas, SmallVectorImpl&lt; StringRef &gt; &amp;Strings)</div></div>
<div class="ttc" id="aclassclang_1_1TemplateParameterList_html_a45186b53bc1a721cc1f9395003bc2f40"><div class="ttname"><a href="classclang_1_1TemplateParameterList.html#a45186b53bc1a721cc1f9395003bc2f40">clang::TemplateParameterList::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclTemplate_8h_source.html#l00129">DeclTemplate.h:129</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a8a86f4cf4eaa54fa3809eae4b8f925e0"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a8a86f4cf4eaa54fa3809eae4b8f925e0">clang::ParsedAttr::getMustBeNull</a></div><div class="ttdeci">bool getMustBeNull() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00576">ParsedAttr.h:576</a></div></div>
<div class="ttc" id="aSemaStmtAttr_8cpp_html_a0476e39e8c617612ae5a10fa2409daff"><div class="ttname"><a href="SemaStmtAttr_8cpp.html#a0476e39e8c617612ae5a10fa2409daff">handleSuppressAttr</a></div><div class="ttdeci">static Attr * handleSuppressAttr(Sema &amp;S, Stmt *St, const ParsedAttr &amp;A, SourceRange Range)</div><div class="ttdef"><b>Definition:</b> <a href="SemaStmtAttr_8cpp_source.html#l00053">SemaStmtAttr.cpp:53</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a4e98722ddd2ada0092f35503d40b9363"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a4e98722ddd2ada0092f35503d40b9363">clang::ParsedAttr::getInfo</a></div><div class="ttdeci">const ParsedAttrInfo &amp; getInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00718">ParsedAttr.h:718</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a9752df3b5bc2715e4540c700f7721860a793e65c8b112029a87c5d70b10735c20"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a9752df3b5bc2715e4540c700f7721860a793e65c8b112029a87c5d70b10735c20">clang::AttributeCommonInfo::IgnoredAttribute</a></div><div class="ttdeci">@ IgnoredAttribute</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00057">AttributeCommonInfo.h:57</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a3d637bce7879f620fab6be5d39e9035f"><div class="ttname"><a href="classclang_1_1Expr.html#a3d637bce7879f620fab6be5d39e9035f">clang::Expr::isValueDependent</a></div><div class="ttdeci">bool isValueDependent() const</div><div class="ttdoc">Determines whether the value of this expression depends on.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00168">Expr.h:168</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_ac7c11b41528f74b044dad1e8a270a761"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#ac7c11b41528f74b044dad1e8a270a761">getFunctionOrMethodNumParams</a></div><div class="ttdeci">static unsigned getFunctionOrMethodNumParams(const Decl *D)</div><div class="ttdoc">getFunctionOrMethodNumParams - Return number of function or method parameters.</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00097">SemaDeclAttr.cpp:97</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierInfo_html"><div class="ttname"><a href="classclang_1_1IdentifierInfo.html">clang::IdentifierInfo</a></div><div class="ttdoc">One of these records is kept for each identifier that is lexed.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00084">IdentifierTable.h:84</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6">clang::AttributeDeclKind</a></div><div class="ttdeci">AttributeDeclKind</div><div class="ttdoc">These constants match the enumerated choices of warn_attribute_wrong_decl_type and err_attribute_wron...</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01130">ParsedAttr.h:1130</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae926bdadf47f89f8ef6ff5415386286e"><div class="ttname"><a href="classclang_1_1Sema.html#ae926bdadf47f89f8ef6ff5415386286e">clang::Sema::CheckAssignmentConstraints</a></div><div class="ttdeci">AssignConvertType CheckAssignmentConstraints(SourceLocation Loc, QualType LHSType, QualType RHSType)</div><div class="ttdoc">CheckAssignmentConstraints - Perform type checking for assignment, argument passing,...</div><div class="ttdef"><b>Definition:</b> <a href="SemaExpr_8cpp_source.html#l09434">SemaExpr.cpp:9434</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a0f6e749cb5925e01a5f08377f1d95d0a"><div class="ttname"><a href="classclang_1_1Expr.html#a0f6e749cb5925e01a5f08377f1d95d0a">clang::Expr::EvaluateAsInt</a></div><div class="ttdeci">bool EvaluateAsInt(EvalResult &amp;Result, const ASTContext &amp;Ctx, SideEffectsKind AllowSideEffects=SE_NoSideEffects, bool InConstantContext=false) const</div><div class="ttdoc">EvaluateAsInt - Return true if this is a constant which we can fold and convert to an integer,...</div><div class="ttdef"><b>Definition:</b> <a href="ExprConstant_8cpp_source.html#l14929">ExprConstant.cpp:14929</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_ac052b2e7614712bb410e01756f9669e9"><div class="ttname"><a href="classclang_1_1ASTContext.html#ac052b2e7614712bb410e01756f9669e9">clang::ASTContext::getTargetInfo</a></div><div class="ttdeci">const TargetInfo &amp; getTargetInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00764">ASTContext.h:764</a></div></div>
<div class="ttc" id="aclassclang_1_1RecordDecl_html_a5c6e33929fd31d2c56ae28db7ff01237"><div class="ttname"><a href="classclang_1_1RecordDecl.html#a5c6e33929fd31d2c56ae28db7ff01237">clang::RecordDecl::field_end</a></div><div class="ttdeci">field_iterator field_end() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l04108">Decl.h:4108</a></div></div>
<div class="ttc" id="aFormat_8cpp_html_a4450b0bad265ba3bd24e994f70aec802"><div class="ttname"><a href="Format_8cpp.html#a4450b0bad265ba3bd24e994f70aec802">Priority</a></div><div class="ttdeci">int Priority</div><div class="ttdef"><b>Definition:</b> <a href="Format_8cpp_source.html#l02554">Format.cpp:2554</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a82e18d5a17f9a92a6d914a863e35206d"><div class="ttname"><a href="classclang_1_1Sema.html#a82e18d5a17f9a92a6d914a863e35206d">clang::Sema::mergeUuidAttr</a></div><div class="ttdeci">UuidAttr * mergeUuidAttr(Decl *D, const AttributeCommonInfo &amp;CI, StringRef UuidAsWritten, MSGuidDecl *GuidDecl)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a5a338b92ad0aa77589c06fc298db923c"><div class="ttname"><a href="classclang_1_1Sema.html#a5a338b92ad0aa77589c06fc298db923c">clang::Sema::MergeSYCLAddIRAttributesFunctionAttr</a></div><div class="ttdeci">SYCLAddIRAttributesFunctionAttr * MergeSYCLAddIRAttributesFunctionAttr(Decl *D, const SYCLAddIRAttributesFunctionAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9ec549da663eebde2ff1ba6c6d08e8a6"><div class="ttname"><a href="classclang_1_1Sema.html#a9ec549da663eebde2ff1ba6c6d08e8a6">clang::Sema::AddSYCLIntelMaxGlobalWorkDimAttr</a></div><div class="ttdeci">void AddSYCLIntelMaxGlobalWorkDimAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1SourceLocation_html_a7b86d0136676be7b367dc8202cd0729a"><div class="ttname"><a href="classclang_1_1SourceLocation.html#a7b86d0136676be7b367dc8202cd0729a">clang::SourceLocation::isMacroID</a></div><div class="ttdeci">bool isMacroID() const</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00103">SourceLocation.h:103</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_a24b818ce77cbe070cae0427e1e74648b"><div class="ttname"><a href="classclang_1_1VarDecl.html#a24b818ce77cbe070cae0427e1e74648b">clang::VarDecl::setARCPseudoStrong</a></div><div class="ttdeci">void setARCPseudoStrong(bool PS)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01457">Decl.h:1457</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnosticPool_html_a209dca4063833b3049aacd198ac9fab4"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnosticPool.html#a209dca4063833b3049aacd198ac9fab4">clang::sema::DelayedDiagnosticPool::getParent</a></div><div class="ttdeci">const DelayedDiagnosticPool * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00291">DelayedDiagnostic.h:291</a></div></div>
<div class="ttc" id="aclassclang_1_1LangOptions_html"><div class="ttname"><a href="classclang_1_1LangOptions.html">clang::LangOptions</a></div><div class="ttdoc">Keeps track of the various options that can be enabled, which controls the dialect of C or C++ that i...</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8h_source.html#l00058">LangOptions.h:58</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a8ea4efdbab1cfaf5948126baf6b853a8"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a8ea4efdbab1cfaf5948126baf6b853a8">clang::FunctionDecl::isExternC</a></div><div class="ttdeci">bool isExternC() const</div><div class="ttdoc">Determines whether this function is a function with external, C linkage.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l03239">Decl.cpp:3239</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a096577dc2c0e924586ad954a1f99e671"><div class="ttname"><a href="classclang_1_1Type.html#a096577dc2c0e924586ad954a1f99e671">clang::Type::isBooleanType</a></div><div class="ttdeci">bool isBooleanType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07173">Type.h:7173</a></div></div>
<div class="ttc" id="anamespaceclang_1_1ObjCPropertyAttribute_html_a5cee046f95725089d626e8e3c42bf60c"><div class="ttname"><a href="namespaceclang_1_1ObjCPropertyAttribute.html#a5cee046f95725089d626e8e3c42bf60c">clang::ObjCPropertyAttribute::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjCCommon_8h_source.html#l00022">DeclObjCCommon.h:22</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_1_1SemaDiagnosticBuilder_html"><div class="ttname"><a href="classclang_1_1Sema_1_1SemaDiagnosticBuilder.html">clang::Sema::SemaDiagnosticBuilder</a></div><div class="ttdoc">A generic diagnostic builder for errors which may or may not be deferred.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l01940">Sema.h:1940</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba308ad5c13f13cc72ac772a63583eab64"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba308ad5c13f13cc72ac772a63583eab64">clang::CC_IntelOclBicc</a></div><div class="ttdeci">@ CC_IntelOclBicc</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00275">Specifiers.h:275</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_aaa7c2f922a6d517d8060f0806299762b"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#aaa7c2f922a6d517d8060f0806299762b">clang::ParsedAttr::isPragmaClangAttribute</a></div><div class="ttdeci">bool isPragmaClangAttribute() const</div><div class="ttdoc">True if the attribute is specified using '#pragma clang attribute'.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00490">ParsedAttr.h:490</a></div></div>
<div class="ttc" id="aclassclang_1_1ActionResult_html"><div class="ttname"><a href="classclang_1_1ActionResult.html">clang::ActionResult&lt; Expr * &gt;</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_aa21d6c6c8ce9f35147e67e4c5789e3c8"><div class="ttname"><a href="classclang_1_1Type.html#aa21d6c6c8ce9f35147e67e4c5789e3c8">clang::Type::isObjCObjectType</a></div><div class="ttdeci">bool isObjCObjectType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06882">Type.h:6882</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a6a69076dd0b301790ab5b7f416f2b8b4"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a6a69076dd0b301790ab5b7f416f2b8b4">clang::ParsedAttr::acceptsExprPack</a></div><div class="ttdeci">bool acceptsExprPack() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00219">ParsedAttr.cpp:219</a></div></div>
<div class="ttc" id="anamespaceclang_1_1AArch64_html_aba8b4c5e5685e9436c51d964b959273fa6c3a37f8d311852540956ff2cce16ec1"><div class="ttname"><a href="namespaceclang_1_1AArch64.html#aba8b4c5e5685e9436c51d964b959273fa6c3a37f8d311852540956ff2cce16ec1">clang::AArch64::LastSVEBuiltin</a></div><div class="ttdeci">@ LastSVEBuiltin</div><div class="ttdef"><b>Definition:</b> <a href="TargetBuiltins_8h_source.html#l00061">TargetBuiltins.h:61</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXThisExpr_html"><div class="ttname"><a href="classclang_1_1CXXThisExpr.html">clang::CXXThisExpr</a></div><div class="ttdoc">Represents the this expression in C++.</div><div class="ttdef"><b>Definition:</b> <a href="ExprCXX_8h_source.html#l01142">ExprCXX.h:1142</a></div></div>
<div class="ttc" id="anamespaceclang_html_ac4d855143c10ceb396f2e0363e165211ad64db716c4b47cdff60676ef5d1c9202"><div class="ttname"><a href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211ad64db716c4b47cdff60676ef5d1c9202">clang::FloatModeKind::Ibm128</a></div><div class="ttdeci">@ Ibm128</div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a676f5101b2301d1a1cb13d2e3fd55f52"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a676f5101b2301d1a1cb13d2e3fd55f52">clang::ExpectedVariableOrField</a></div><div class="ttdeci">@ ExpectedVariableOrField</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01138">ParsedAttr.h:1138</a></div></div>
<div class="ttc" id="aclassclang_1_1ObjCMethodDecl_html"><div class="ttname"><a href="classclang_1_1ObjCMethodDecl.html">clang::ObjCMethodDecl</a></div><div class="ttdoc">ObjCMethodDecl - Represents an instance or class method declaration.</div><div class="ttdef"><b>Definition:</b> <a href="DeclObjC_8h_source.html#l00139">DeclObjC.h:139</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a2c86bcade973975c740a783b831362d9"><div class="ttname"><a href="classclang_1_1Sema.html#a2c86bcade973975c740a783b831362d9">clang::Sema::ExtVectorDecls</a></div><div class="ttdeci">ExtVectorDeclsType ExtVectorDecls</div><div class="ttdoc">ExtVectorDecls - This is a list all the extended vector types.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00996">Sema.h:996</a></div></div>
<div class="ttc" id="aclassclang_1_1PointerType_html"><div class="ttname"><a href="classclang_1_1PointerType.html">clang::PointerType</a></div><div class="ttdoc">PointerType - C99 6.7.5.1 - Pointer Declarators.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02655">Type.h:2655</a></div></div>
<div class="ttc" id="anamespaceclang_1_1index_html_a2f70a3d61ba9b8a97d8e609dcdf069deaaef12e903e606a4895a16b393bfdec8c"><div class="ttname"><a href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069deaaef12e903e606a4895a16b393bfdec8c">clang::index::SymbolKind::Union</a></div><div class="ttdeci">@ Union</div></div>
<div class="ttc" id="aScopeInfo_8h_html"><div class="ttname"><a href="ScopeInfo_8h.html">ScopeInfo.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac1d165b1a802532f800a73ed9e8275a4ace5f121fd7e5acd9c842855035a33cdf"><div class="ttname"><a href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4ace5f121fd7e5acd9c842855035a33cdf">clang::Sema::AP_InferredFromOtherPlatform</a></div><div class="ttdeci">@ AP_InferredFromOtherPlatform</div><div class="ttdoc">The availability attribute for a specific platform was inferred from an availability attribute for an...</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l03675">Sema.h:3675</a></div></div>
<div class="ttc" id="anamespaceclang_html_aa3eb18d56ff745e83217cde4d647793aa7a1920d61156abc05a60135aefe8bc67"><div class="ttname"><a href="namespaceclang.html#aa3eb18d56ff745e83217cde4d647793aa7a1920d61156abc05a60135aefe8bc67">clang::LangAS::Default</a></div><div class="ttdeci">@ Default</div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a1e9a1fefc3e275238655221aad5a1097"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a1e9a1fefc3e275238655221aad5a1097">clang::ExpectedFunctionMethodOrParameter</a></div><div class="ttdeci">@ ExpectedFunctionMethodOrParameter</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01136">ParsedAttr.h:1136</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_a1280e3f4075ff54f856987cf002ba300a29b319bca942e44bf183ca2749b072b3"><div class="ttname"><a href="classclang_1_1Qualifiers.html#a1280e3f4075ff54f856987cf002ba300a29b319bca942e44bf183ca2749b072b3">clang::Qualifiers::OCL_None</a></div><div class="ttdeci">@ OCL_None</div><div class="ttdoc">There is no lifetime qualification on this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00164">Type.h:164</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_ac8fd16a0daaa9664bdfe5b6527691da7"><div class="ttname"><a href="classclang_1_1VarDecl.html#ac8fd16a0daaa9664bdfe5b6527691da7">clang::VarDecl::isExternC</a></div><div class="ttdeci">bool isExternC() const</div><div class="ttdoc">Determines whether this variable is a variable with external, C linkage.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l02146">Decl.cpp:2146</a></div></div>
<div class="ttc" id="aclassclang_1_1EnumType_html_af32a806a5e9cfb8e3131eadb2279cb40"><div class="ttname"><a href="classclang_1_1EnumType.html#af32a806a5e9cfb8e3131eadb2279cb40">clang::EnumType::getDecl</a></div><div class="ttdeci">EnumDecl * getDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04682">Type.h:4682</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html_abb7efa999c3f9c9a95e255bf29dd9edd"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html#abb7efa999c3f9c9a95e255bf29dd9edd">clang::CXXRecordDecl::calculateInheritanceModel</a></div><div class="ttdeci">MSInheritanceModel calculateInheritanceModel() const</div><div class="ttdoc">Calculate what the inheritance model would be for this class.</div><div class="ttdef"><b>Definition:</b> <a href="AST_2MicrosoftCXXABI_8cpp_source.html#l00212">MicrosoftCXXABI.cpp:212</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_ad28df365bbdd775ad793819325699e78"><div class="ttname"><a href="classclang_1_1TargetInfo.html#ad28df365bbdd775ad793819325699e78">clang::TargetInfo::isValidFeatureName</a></div><div class="ttdeci">virtual bool isValidFeatureName(StringRef Feature) const</div><div class="ttdoc">Determine whether this TargetInfo supports the given feature.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01297">TargetInfo.h:1297</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a15d472bbbf4c14e18f43f3a2fdd66976a53c8d15a175221d2127083e66a8cc937"><div class="ttname"><a href="classclang_1_1Sema.html#a15d472bbbf4c14e18f43f3a2fdd66976a53c8d15a175221d2127083e66a8cc937">clang::Sema::RetainOwnershipKind::NS</a></div><div class="ttdeci">@ NS</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ae783b0c325d8d74aa51c89c593f45036"><div class="ttname"><a href="classclang_1_1Sema.html#ae783b0c325d8d74aa51c89c593f45036">clang::Sema::mergeImportNameAttr</a></div><div class="ttdeci">WebAssemblyImportNameAttr * mergeImportNameAttr(Decl *D, const WebAssemblyImportNameAttr &amp;AL)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a99bfe9921eee10e208a83f4e74f86bb8"><div class="ttname"><a href="classclang_1_1Sema.html#a99bfe9921eee10e208a83f4e74f86bb8">clang::Sema::AddSYCLIntelNoGlobalWorkOffsetAttr</a></div><div class="ttdeci">void AddSYCLIntelNoGlobalWorkOffsetAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac02bc05fa620d0746e7201fe6f48eb87"><div class="ttname"><a href="classclang_1_1Sema.html#ac02bc05fa620d0746e7201fe6f48eb87">clang::Sema::CheckCallingConvAttr</a></div><div class="ttdeci">bool CheckCallingConvAttr(const ParsedAttr &amp;attr, CallingConv &amp;CC, const FunctionDecl *FD=nullptr)</div></div>
<div class="ttc" id="astructclang_1_1ParsedTargetAttr_html_a1b07765723b75cab71db6ae1e644e5b5"><div class="ttname"><a href="structclang_1_1ParsedTargetAttr.html#a1b07765723b75cab71db6ae1e644e5b5">clang::ParsedTargetAttr::Features</a></div><div class="ttdeci">std::vector&lt; std::string &gt; Features</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00355">Attr.h:355</a></div></div>
<div class="ttc" id="aclassclang_1_1IdentifierInfo_html_ae3eae8e88234cfc11812fc54266bd0f1"><div class="ttname"><a href="classclang_1_1IdentifierInfo.html#ae3eae8e88234cfc11812fc54266bd0f1">clang::IdentifierInfo::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return the actual identifier string.</div><div class="ttdef"><b>Definition:</b> <a href="IdentifierTable_8h_source.html#l00195">IdentifierTable.h:195</a></div></div>
<div class="ttc" id="anamespaceclang_1_1Builtin_html_a96281da348e2b70f3a45a66f6e48905c"><div class="ttname"><a href="namespaceclang_1_1Builtin.html#a96281da348e2b70f3a45a66f6e48905c">clang::Builtin::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8h_source.html#l00049">Builtins.h:49</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a2c9689ea2433df5199a907e99d7a7486"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a2c9689ea2433df5199a907e99d7a7486">clang::ExpectedFunctionMethodOrBlock</a></div><div class="ttdeci">@ ExpectedFunctionMethodOrBlock</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01135">ParsedAttr.h:1135</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba4f0830e79d59eb79781124533ae24053"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba4f0830e79d59eb79781124533ae24053">clang::CC_AArch64VectorCall</a></div><div class="ttdeci">@ CC_AArch64VectorCall</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00282">Specifiers.h:282</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a3278552a9bd7efc68943fcaae2db65cb"><div class="ttname"><a href="classclang_1_1Sema.html#a3278552a9bd7efc68943fcaae2db65cb">clang::Sema::ProcessDeclAttributes</a></div><div class="ttdeci">void ProcessDeclAttributes(Scope *S, Decl *D, const Declarator &amp;PD)</div></div>
<div class="ttc" id="anamespaceclang_html"><div class="ttname"><a href="namespaceclang.html">clang</a></div><div class="ttdef"><b>Definition:</b> <a href="CalledOnceCheck_8h_source.html#l00017">CalledOnceCheck.h:17</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_acec6a1ac593ef9b1805529f25dd32b12"><div class="ttname"><a href="classclang_1_1Type.html#acec6a1ac593ef9b1805529f25dd32b12">clang::Type::isAnyPointerType</a></div><div class="ttdeci">bool isAnyPointerType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06754">Type.h:6754</a></div></div>
<div class="ttc" id="aclassclang_1_1LangOptions_html_a7983f34b7e049bbeb320161fb6e1bfc4a25686ec00ddc4346ce82cf17d5d1cf79"><div class="ttname"><a href="classclang_1_1LangOptions.html#a7983f34b7e049bbeb320161fb6e1bfc4a25686ec00ddc4346ce82cf17d5d1cf79">clang::LangOptions::MSVC2015</a></div><div class="ttdeci">@ MSVC2015</div><div class="ttdef"><b>Definition:</b> <a href="LangOptions_8h_source.html#l00125">LangOptions.h:125</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_a47c9a0e81f53370347c491bb29f9efe7"><div class="ttname"><a href="classclang_1_1DeclContext.html#a47c9a0e81f53370347c491bb29f9efe7">clang::DeclContext::lookup</a></div><div class="ttdeci">lookup_result lookup(DeclarationName Name) const</div><div class="ttdoc">lookup - Find the declarations (if any) with the given Name in this context.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l01657">DeclBase.cpp:1657</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a2c11a3a0ab42e6a9aca748967de1ede8"><div class="ttname"><a href="classclang_1_1Type.html#a2c11a3a0ab42e6a9aca748967de1ede8">clang::Type::isArrayType</a></div><div class="ttdeci">bool isArrayType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06816">Type.h:6816</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_ad236937ee0824ce057d168e31290370a"><div class="ttname"><a href="classclang_1_1ASTContext.html#ad236937ee0824ce057d168e31290370a">clang::ASTContext::toCharUnitsFromBits</a></div><div class="ttdeci">CharUnits toCharUnitsFromBits(int64_t BitSize) const</div><div class="ttdoc">Convert a size in bits to a size in characters.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l02461">ASTContext.cpp:2461</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a1185613e456030a6df6e5687e8c8ba8e"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a1185613e456030a6df6e5687e8c8ba8e">clang::ParsedAttr::getMatchingCType</a></div><div class="ttdeci">const ParsedType &amp; getMatchingCType() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00564">ParsedAttr.h:564</a></div></div>
<div class="ttc" id="astructclang_1_1MSGuidDeclParts_html_a8c72ba958d0a04b582599dc719beb7f9"><div class="ttname"><a href="structclang_1_1MSGuidDeclParts.html#a8c72ba958d0a04b582599dc719beb7f9">clang::MSGuidDeclParts::Part4And5</a></div><div class="ttdeci">uint8_t Part4And5[8]</div><div class="ttdoc">...-0123-456789abcdef}</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l04144">DeclCXX.h:4144</a></div></div>
<div class="ttc" id="aRecursiveASTVisitor_8h_html"><div class="ttname"><a href="RecursiveASTVisitor_8h.html">RecursiveASTVisitor.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ad269d80f4b9afb68b95196aa6dfe66bb"><div class="ttname"><a href="classclang_1_1Sema.html#ad269d80f4b9afb68b95196aa6dfe66bb">clang::Sema::CheckAttrTarget</a></div><div class="ttdeci">bool CheckAttrTarget(const ParsedAttr &amp;CurrAttr)</div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a1871252d058185ae1bda13d08805da11"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a1871252d058185ae1bda13d08805da11">clang::AttributeCommonInfo::setAttributeSpellingListIndex</a></div><div class="ttdeci">void setAttributeSpellingListIndex(unsigned V)</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00179">AttributeCommonInfo.h:179</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aac1cfac8a30d87399e705804c50db802"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aac1cfac8a30d87399e705804c50db802">clang::TargetInfo::getPointerWidth</a></div><div class="ttdeci">uint64_t getPointerWidth(unsigned AddrSpace) const</div><div class="ttdoc">Return the width of pointers on this target, for the specified address space.</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l00419">TargetInfo.h:419</a></div></div>
<div class="ttc" id="anamespaceclang_html_ac4d855143c10ceb396f2e0363e165211ae74f68ddb36c1ed379de92ae3b589d34"><div class="ttname"><a href="namespaceclang.html#ac4d855143c10ceb396f2e0363e165211ae74f68ddb36c1ed379de92ae3b589d34">clang::FloatModeKind::Float128</a></div><div class="ttdeci">@ Float128</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a21b78ed406b5cbe39da7b58af4f0e8b8"><div class="ttname"><a href="classclang_1_1Sema.html#a21b78ed406b5cbe39da7b58af4f0e8b8">clang::Sema::checkCommonAttributeFeatures</a></div><div class="ttdeci">bool checkCommonAttributeFeatures(const Decl *D, const ParsedAttr &amp;A, bool SkipArgCountCheck=false)</div><div class="ttdoc">Handles semantic checking for features that are common to all attributes, such as checking whether a ...</div><div class="ttdef"><b>Definition:</b> <a href="SemaAttr_8cpp_source.html#l01301">SemaAttr.cpp:1301</a></div></div>
<div class="ttc" id="aclassclang_1_1Qualifiers_html_aa6f052c23afa79b0aa0b7f415ed9f826"><div class="ttname"><a href="classclang_1_1Qualifiers.html#aa6f052c23afa79b0aa0b7f415ed9f826">clang::Qualifiers::getObjCLifetime</a></div><div class="ttdeci">ObjCLifetime getObjCLifetime() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00337">Type.h:337</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a7eec7e2c71a515a8f76f10dcd3561874"><div class="ttname"><a href="classclang_1_1Sema.html#a7eec7e2c71a515a8f76f10dcd3561874">clang::Sema::MergeIntelReqdSubGroupSizeAttr</a></div><div class="ttdeci">IntelReqdSubGroupSizeAttr * MergeIntelReqdSubGroupSizeAttr(Decl *D, const IntelReqdSubGroupSizeAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4c5972da4ab29deebf57316eb4c2200b"><div class="ttname"><a href="classclang_1_1Sema.html#a4c5972da4ab29deebf57316eb4c2200b">clang::Sema::AddIntelFPGANumBanksAttr</a></div><div class="ttdeci">void AddIntelFPGANumBanksAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba085f5ddc5db3eaf20e859b71ffa8fb0f"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba085f5ddc5db3eaf20e859b71ffa8fb0f">clang::CC_X86Pascal</a></div><div class="ttdeci">@ CC_X86Pascal</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00269">Specifiers.h:269</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7c290fe8101a0b108e426214266cff56a2892fdd5fbfb0f8c4317836c4199d191"><div class="ttname"><a href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56a2892fdd5fbfb0f8c4317836c4199d191">clang::ParameterABI::SwiftErrorResult</a></div><div class="ttdeci">@ SwiftErrorResult</div><div class="ttdoc">This parameter (which must have pointer-to-pointer type) uses the special Swift error-result ABI trea...</div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a40e68cec9809258ad0c2fc477b81dd97"><div class="ttname"><a href="classclang_1_1QualType.html#a40e68cec9809258ad0c2fc477b81dd97">clang::QualType::withConst</a></div><div class="ttdeci">QualType withConst() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00847">Type.h:847</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a27596d04a7c8119447f9306ce0de3552"><div class="ttname"><a href="classclang_1_1Sema.html#a27596d04a7c8119447f9306ce0de3552">clang::Sema::getScopeForContext</a></div><div class="ttdeci">Scope * getScopeForContext(DeclContext *Ctx)</div><div class="ttdoc">Determines the active Scope associated with the given declaration context.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8cpp_source.html#l02158">Sema.cpp:2158</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a058fa1c71b80e23992dd14c8e19b0b97"><div class="ttname"><a href="classclang_1_1Sema.html#a058fa1c71b80e23992dd14c8e19b0b97">clang::Sema::mergeInternalLinkageAttr</a></div><div class="ttdeci">InternalLinkageAttr * mergeInternalLinkageAttr(Decl *D, const ParsedAttr &amp;AL)</div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a12afa036cb4e017652edff238e76bfeb"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a12afa036cb4e017652edff238e76bfeb">isFunctionOrMethodVariadic</a></div><div class="ttdeci">static bool isFunctionOrMethodVariadic(const Decl *D)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00145">SemaDeclAttr.cpp:145</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba998b3ac72a9aeb0acc846d688e549411"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba998b3ac72a9aeb0acc846d688e549411">clang::CC_X86RegCall</a></div><div class="ttdeci">@ CC_X86RegCall</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00272">Specifiers.h:272</a></div></div>
<div class="ttc" id="aclassclang_1_1Declarator_html"><div class="ttname"><a href="classclang_1_1Declarator.html">clang::Declarator</a></div><div class="ttdoc">Information about one declarator, including the parsed type information and the identifier.</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l01803">DeclSpec.h:1803</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba8c6186dcdb49afc079f8bcf87e190ce5"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba8c6186dcdb49afc079f8bcf87e190ce5">clang::CC_SwiftAsync</a></div><div class="ttdeci">@ CC_SwiftAsync</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00279">Specifiers.h:279</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceManager_html_aa728bad682c5216d9efa45c03404447a"><div class="ttname"><a href="classclang_1_1SourceManager.html#aa728bad682c5216d9efa45c03404447a">clang::SourceManager::isInSystemHeader</a></div><div class="ttdeci">bool isInSystemHeader(SourceLocation Loc) const</div><div class="ttdoc">Returns if a SourceLocation is in a system header.</div><div class="ttdef"><b>Definition:</b> <a href="SourceManager_8h_source.html#l01488">SourceManager.h:1488</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a74cb68dc2791d12d252561ec2a941405"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a74cb68dc2791d12d252561ec2a941405">clang::ExpectedUnion</a></div><div class="ttdeci">@ ExpectedUnion</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01132">ParsedAttr.h:1132</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a9b6d471da0496fc51f89217258f60f6b"><div class="ttname"><a href="classclang_1_1Expr.html#a9b6d471da0496fc51f89217258f60f6b">clang::Expr::isIntegerConstantExpr</a></div><div class="ttdeci">bool isIntegerConstantExpr(const ASTContext &amp;Ctx, SourceLocation *Loc=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="ExprConstant_8cpp_source.html#l15684">ExprConstant.cpp:15684</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a873862ae3d3ef21308d961f87fc51b71"><div class="ttname"><a href="classclang_1_1Sema.html#a873862ae3d3ef21308d961f87fc51b71">clang::Sema::isValidPointerAttrType</a></div><div class="ttdeci">bool isValidPointerAttrType(QualType T, bool RefOkay=false)</div><div class="ttdoc">Determine if type T is a valid subject for a nonnull and similar attributes.</div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_af1d98aaa8c74192f9375e3f3a4843bcc"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#af1d98aaa8c74192f9375e3f3a4843bcc">clang::ParsedAttr::isInvalid</a></div><div class="ttdeci">bool isInvalid() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00471">ParsedAttr.h:471</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25ba438e1d380de59c9ce17cef5ccac07930"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25ba438e1d380de59c9ce17cef5ccac07930">clang::CC_PreserveMost</a></div><div class="ttdeci">@ CC_PreserveMost</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00280">Specifiers.h:280</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_ac9bfcc699442f2093723cfcf703d9f47"><div class="ttname"><a href="classclang_1_1Expr.html#ac9bfcc699442f2093723cfcf703d9f47">clang::Expr::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00141">Expr.h:141</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aae4037480b305412714dde2e6fc2039eaf7bb90380e18e878d50092877afdbaa8"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039eaf7bb90380e18e878d50092877afdbaa8">clang::TargetInfo::CCCR_Error</a></div><div class="ttdeci">@ CCCR_Error</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01506">TargetInfo.h:1506</a></div></div>
<div class="ttc" id="aclassclang_1_1SourceLocation_html_a980da8d6100c0a0c3764991ca80ce6e7"><div class="ttname"><a href="classclang_1_1SourceLocation.html#a980da8d6100c0a0c3764991ca80ce6e7">clang::SourceLocation::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Return true if this is a valid SourceLocation object.</div><div class="ttdef"><b>Definition:</b> <a href="SourceLocation_8h_source.html#l00110">SourceLocation.h:110</a></div></div>
<div class="ttc" id="astructclang_1_1MSGuidDeclParts_html_a76af38b644e3d8390a9df333328a6b3a"><div class="ttname"><a href="structclang_1_1MSGuidDeclParts.html#a76af38b644e3d8390a9df333328a6b3a">clang::MSGuidDeclParts::Part3</a></div><div class="ttdeci">uint16_t Part3</div><div class="ttdoc">...-cdef-...</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l04142">DeclCXX.h:4142</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html_ab3f30c6d31454fa41835a0641b603e33"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html#ab3f30c6d31454fa41835a0641b603e33">clang::CXXRecordDecl::hasDefinition</a></div><div class="ttdeci">bool hasDefinition() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l00549">DeclCXX.h:549</a></div></div>
<div class="ttc" id="aclassclang_1_1Attr_html"><div class="ttname"><a href="classclang_1_1Attr.html">clang::Attr</a></div><div class="ttdoc">Attr - This represents one attribute.</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00044">Attr.h:44</a></div></div>
<div class="ttc" id="aclassclang_1_1TypeSourceInfo_html"><div class="ttname"><a href="classclang_1_1TypeSourceInfo.html">clang::TypeSourceInfo</a></div><div class="ttdoc">A container of type source information.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06473">Type.h:6473</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionType_html_a72d2fe185651231ebe4856ad548b99b7"><div class="ttname"><a href="classclang_1_1FunctionType.html#a72d2fe185651231ebe4856ad548b99b7">clang::FunctionType::getReturnType</a></div><div class="ttdeci">QualType getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l03824">Type.h:3824</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a150d4864858a1a2e736f5da30f59de23"><div class="ttname"><a href="classclang_1_1Sema.html#a150d4864858a1a2e736f5da30f59de23">clang::Sema::mergeAvailabilityAttr</a></div><div class="ttdeci">AvailabilityAttr * mergeAvailabilityAttr(NamedDecl *D, const AttributeCommonInfo &amp;CI, IdentifierInfo *Platform, bool Implicit, VersionTuple Introduced, VersionTuple Deprecated, VersionTuple Obsoleted, bool IsUnavailable, StringRef Message, bool IsStrict, StringRef Replacement, AvailabilityMergeKind AMK, int Priority)</div><div class="ttdoc">Attribute merging methods. Return true if a new attribute was added.</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ae3c22dc5cfd5317df51b0855e57fdfb0"><div class="ttname"><a href="classclang_1_1Type.html#ae3c22dc5cfd5317df51b0855e57fdfb0">clang::Type::isTypedefNameType</a></div><div class="ttdeci">bool isTypedefNameType() const</div><div class="ttdoc">Determines whether this type is written as a typedef-name.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07191">Type.h:7191</a></div></div>
<div class="ttc" id="aclassclang_1_1Declarator_html_af0454f357891af55721c09b1a88fa5e2"><div class="ttname"><a href="classclang_1_1Declarator.html#af0454f357891af55721c09b1a88fa5e2">clang::Declarator::getTypeObject</a></div><div class="ttdeci">const DeclaratorChunk &amp; getTypeObject(unsigned i) const</div><div class="ttdoc">Return the specified TypeInfo from this declarator.</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l02240">DeclSpec.h:2240</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7c290fe8101a0b108e426214266cff56af9bba77d3c723c0692ff7678151d5bc5"><div class="ttname"><a href="namespaceclang.html#a7c290fe8101a0b108e426214266cff56af9bba77d3c723c0692ff7678151d5bc5">clang::ParameterABI::SwiftContext</a></div><div class="ttdeci">@ SwiftContext</div><div class="ttdoc">This parameter (which must have pointer type) uses the special Swift context-pointer ABI treatment.</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a640104bde18ff6448eedd2321c65a1fe"><div class="ttname"><a href="classclang_1_1Sema.html#a640104bde18ff6448eedd2321c65a1fe">clang::Sema::MergeSYCLIntelPipeIOAttr</a></div><div class="ttdeci">SYCLIntelPipeIOAttr * MergeSYCLIntelPipeIOAttr(Decl *D, const SYCLIntelPipeIOAttr &amp;A)</div></div>
<div class="ttc" id="aclassunsigned_html"><div class="ttname"><a href="classunsigned.html">unsigned</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab2aaa7c1383b097cba2063da93cad4f4"><div class="ttname"><a href="classclang_1_1Sema.html#ab2aaa7c1383b097cba2063da93cad4f4">clang::Sema::MergeSYCLIntelMaxWorkGroupSizeAttr</a></div><div class="ttdeci">SYCLIntelMaxWorkGroupSizeAttr * MergeSYCLIntelMaxWorkGroupSizeAttr(Decl *D, const SYCLIntelMaxWorkGroupSizeAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Stmt_html_ae1bc6287562ce48c56562a69e7f637de"><div class="ttname"><a href="classclang_1_1Stmt.html#ae1bc6287562ce48c56562a69e7f637de">clang::Stmt::getBeginLoc</a></div><div class="ttdeci">SourceLocation getBeginLoc() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="Stmt_8cpp_source.html#l00336">Stmt.cpp:336</a></div></div>
<div class="ttc" id="anamespaceclang_html_a7491b5cdc2843824aac96e74c3947c87a5ad234cb2cde4266195252a23ca7d84e"><div class="ttname"><a href="namespaceclang.html#a7491b5cdc2843824aac96e74c3947c87a5ad234cb2cde4266195252a23ca7d84e">clang::ObjCSubstitutionContext::Property</a></div><div class="ttdeci">@ Property</div><div class="ttdoc">The type of a property.</div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25baf0614fbebb3b0d48dc9575b4f5e1caa2"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25baf0614fbebb3b0d48dc9575b4f5e1caa2">clang::CC_AAPCS_VFP</a></div><div class="ttdeci">@ CC_AAPCS_VFP</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00274">Specifiers.h:274</a></div></div>
<div class="ttc" id="anamespaceclang_html_ad3b44399e5a02cb6427596a4489bb3ae"><div class="ttname"><a href="namespaceclang.html#ad3b44399e5a02cb6427596a4489bb3ae">clang::MSInheritanceModel</a></div><div class="ttdeci">MSInheritanceModel</div><div class="ttdoc">Assigned inheritance model for a class in the MS C++ ABI.</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00369">Specifiers.h:369</a></div></div>
<div class="ttc" id="aclassclang_1_1InitializedEntity_html"><div class="ttname"><a href="classclang_1_1InitializedEntity.html">clang::InitializedEntity</a></div><div class="ttdoc">Describes an entity that is being initialized.</div><div class="ttdef"><b>Definition:</b> <a href="Initialization_8h_source.html#l00047">Initialization.h:47</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a4a1ed5708e9778a32d15ef3668f2ebc9"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a4a1ed5708e9778a32d15ef3668f2ebc9">clang::FunctionDecl::isVariadic</a></div><div class="ttdeci">bool isVariadic() const</div><div class="ttdoc">Whether this function is variadic.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l02940">Decl.cpp:2940</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_adfc8b9030353f23f3091c3bee1148aa4"><div class="ttname"><a href="classclang_1_1QualType.html#adfc8b9030353f23f3091c3bee1148aa4">clang::QualType::getTypePtrOrNull</a></div><div class="ttdeci">const Type * getTypePtrOrNull() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06506">Type.h:6506</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a2fb9e85e18b9794ac89be1ac461704caa2681658f47edcf2402892cc90e0f86a0"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a2fb9e85e18b9794ac89be1ac461704caa2681658f47edcf2402892cc90e0f86a0">clang::AttributeCommonInfo::AS_Pragma</a></div><div class="ttdeci">@ AS_Pragma</div><div class="ttdoc">#pragma ...</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00045">AttributeCommonInfo.h:45</a></div></div>
<div class="ttc" id="aclassclang_1_1TagDecl_html_accefcad38f434144d721650cadcb05dd"><div class="ttname"><a href="classclang_1_1TagDecl.html#accefcad38f434144d721650cadcb05dd">clang::TagDecl::getTagKind</a></div><div class="ttdeci">TagKind getTagKind() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03529">Decl.h:3529</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ade3143863492c2334132ed6b6eb47364"><div class="ttname"><a href="classclang_1_1Type.html#ade3143863492c2334132ed6b6eb47364">clang::Type::getUnqualifiedDesugaredType</a></div><div class="ttdeci">const Type * getUnqualifiedDesugaredType() const</div><div class="ttdoc">Return the specified type with any &quot;sugar&quot; removed from the type, removing any typedefs,...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00539">Type.cpp:539</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a89f08b5121e136c72fd2acc87ea2752f"><div class="ttname"><a href="classclang_1_1Sema.html#a89f08b5121e136c72fd2acc87ea2752f">clang::Sema::MergeSYCLAddIRAttributesKernelParameterAttr</a></div><div class="ttdeci">SYCLAddIRAttributesKernelParameterAttr * MergeSYCLAddIRAttributesKernelParameterAttr(Decl *D, const SYCLAddIRAttributesKernelParameterAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1TypedefNameDecl_html"><div class="ttname"><a href="classclang_1_1TypedefNameDecl.html">clang::TypedefNameDecl</a></div><div class="ttdoc">Base class for declarations which introduce a typedef-name.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03184">Decl.h:3184</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a48678562009dc8b21f0e4611eb96c433"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a48678562009dc8b21f0e4611eb96c433">clang::FunctionDecl::param_begin</a></div><div class="ttdeci">param_iterator param_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02499">Decl.h:2499</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_abae11b19b60f5291f70b397af22d81ca"><div class="ttname"><a href="classclang_1_1Decl.html#abae11b19b60f5291f70b397af22d81ca">clang::Decl::getAttrs</a></div><div class="ttdeci">AttrVec &amp; getAttrs()</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00489">DeclBase.h:489</a></div></div>
<div class="ttc" id="aDarwinSDKInfo_8h_html"><div class="ttname"><a href="DarwinSDKInfo_8h.html">DarwinSDKInfo.h</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContextLookupResult_html"><div class="ttname"><a href="classclang_1_1DeclContextLookupResult.html">clang::DeclContextLookupResult</a></div><div class="ttdoc">The results of name lookup within a DeclContext.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01300">DeclBase.h:1300</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a642dfcd6bcbe60201479cce23552edb6"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a642dfcd6bcbe60201479cce23552edb6">clang::ParsedAttr::getProcessingCache</a></div><div class="ttdeci">unsigned getProcessingCache() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00476">ParsedAttr.h:476</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac13d352eeb09d3feaad360af1d8a0831"><div class="ttname"><a href="classclang_1_1Sema.html#ac13d352eeb09d3feaad360af1d8a0831">clang::Sema::CurrentCUDATarget</a></div><div class="ttdeci">CUDAFunctionTarget CurrentCUDATarget()</div><div class="ttdoc">Gets the CUDA target for the current context.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l12827">Sema.h:12827</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4ec5ceb3962651215141272e49b4afa3"><div class="ttname"><a href="classclang_1_1Sema.html#a4ec5ceb3962651215141272e49b4afa3">clang::Sema::MergeSYCLDeviceHasAttr</a></div><div class="ttdeci">SYCLDeviceHasAttr * MergeSYCLDeviceHasAttr(Decl *D, const SYCLDeviceHasAttr &amp;A)</div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_ad679022ecf8dd3d896855e9675c338ae"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#ad679022ecf8dd3d896855e9675c338ae">getFunctionOrMethodResultType</a></div><div class="ttdeci">static QualType getFunctionOrMethodResultType(const Decl *D)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00131">SemaDeclAttr.cpp:131</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a5f98f4b287011e4d342d57af74557e2d"><div class="ttname"><a href="classclang_1_1Sema.html#a5f98f4b287011e4d342d57af74557e2d">clang::Sema::mergeCodeSegAttr</a></div><div class="ttdeci">CodeSegAttr * mergeCodeSegAttr(Decl *D, const AttributeCommonInfo &amp;CI, StringRef Name)</div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a786de219f69e374dd9caf0e2401ceda3"><div class="ttname"><a href="classclang_1_1ASTContext.html#a786de219f69e374dd9caf0e2401ceda3">clang::ASTContext::getTrivialTypeSourceInfo</a></div><div class="ttdeci">TypeSourceInfo * getTrivialTypeSourceInfo(QualType T, SourceLocation Loc=SourceLocation()) const</div><div class="ttdoc">Allocate a TypeSourceInfo where all locations have been initialized to a given location,...</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l02971">ASTContext.cpp:2971</a></div></div>
<div class="ttc" id="aclassclang_1_1QualType_html_a65e11b49a966983cbd84c37f165fe716"><div class="ttname"><a href="classclang_1_1QualType.html#a65e11b49a966983cbd84c37f165fe716">clang::QualType::getTypePtr</a></div><div class="ttdeci">const Type * getTypePtr() const</div><div class="ttdoc">Retrieves a pointer to the underlying (unqualified) type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l06502">Type.h:6502</a></div></div>
<div class="ttc" id="aclassclang_1_1RecordType_html_a11e6b541275f7003dc00276da5c6c7cc"><div class="ttname"><a href="classclang_1_1RecordType.html#a11e6b541275f7003dc00276da5c6c7cc">clang::RecordType::getDecl</a></div><div class="ttdeci">RecordDecl * getDecl() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04659">Type.h:4659</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_ad7b0ece68181a256c8f6b382dc6ba25c"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#ad7b0ece68181a256c8f6b382dc6ba25c">clang::ParsedAttr::getReplacementExpr</a></div><div class="ttdeci">const Expr * getReplacementExpr() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00558">ParsedAttr.h:558</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6a9451fa0607ef74d9e4ba14a7f2ae238d">clang::ExpectedFunctionOrMethod</a></div><div class="ttdeci">@ ExpectedFunctionOrMethod</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01134">ParsedAttr.h:1134</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a41483c42a2f92e8cb7737cf20661a92c"><div class="ttname"><a href="classclang_1_1ASTContext.html#a41483c42a2f92e8cb7737cf20661a92c">clang::ASTContext::getPointerType</a></div><div class="ttdeci">QualType getPointerType(QualType T) const</div><div class="ttdoc">Return the uniqued reference to the type for a pointer to the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l03270">ASTContext.cpp:3270</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aff0f7886c084529fd73f67a52d69a432"><div class="ttname"><a href="classclang_1_1Sema.html#aff0f7886c084529fd73f67a52d69a432">clang::Sema::DeclClonePragmaWeak</a></div><div class="ttdeci">NamedDecl * DeclClonePragmaWeak(NamedDecl *ND, const IdentifierInfo *II, SourceLocation Loc)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a206ef02d52b47f3a3ad3c27d71b78298"><div class="ttname"><a href="classclang_1_1Sema.html#a206ef02d52b47f3a3ad3c27d71b78298">clang::Sema::checkSectionName</a></div><div class="ttdeci">bool checkSectionName(SourceLocation LiteralLoc, StringRef Str)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aec8d6a3671dc3b894d97ed597f88b920"><div class="ttname"><a href="classclang_1_1Sema.html#aec8d6a3671dc3b894d97ed597f88b920">clang::Sema::AddSYCLIntelLoopFuseAttr</a></div><div class="ttdeci">void AddSYCLIntelLoopFuseAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_a00319681c00349140baab62dbe185875"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#a00319681c00349140baab62dbe185875">isCFStringType</a></div><div class="ttdeci">static bool isCFStringType(QualType T, ASTContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00179">SemaDeclAttr.cpp:179</a></div></div>
<div class="ttc" id="anamespaceclang_1_1interp_html_a59dd81ef98bc25cff31fd627896f1f45"><div class="ttname"><a href="namespaceclang_1_1interp.html#a59dd81ef98bc25cff31fd627896f1f45">clang::interp::DeclTy</a></div><div class="ttdeci">unsigned llvm::PointerUnion&lt; const Decl *, const Expr * &gt; DeclTy</div><div class="ttdef"><b>Definition:</b> <a href="Descriptor_8h_source.html#l00026">Descriptor.h:26</a></div></div>
<div class="ttc" id="aclassclang_1_1ReferenceType_html"><div class="ttname"><a href="classclang_1_1ReferenceType.html">clang::ReferenceType</a></div><div class="ttdoc">Base for LValueReferenceType and RValueReferenceType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02766">Type.h:2766</a></div></div>
<div class="ttc" id="aclassclang_1_1CharUnits_html"><div class="ttname"><a href="classclang_1_1CharUnits.html">clang::CharUnits</a></div><div class="ttdoc">CharUnits - This is an opaque type for sizes expressed in character units.</div><div class="ttdef"><b>Definition:</b> <a href="CharUnits_8h_source.html#l00038">CharUnits.h:38</a></div></div>
<div class="ttc" id="aclassclang_1_1PointerType_html_a61947aeea27fba448a5f0d21e74c70a7"><div class="ttname"><a href="classclang_1_1PointerType.html#a61947aeea27fba448a5f0d21e74c70a7">clang::PointerType::getPointeeType</a></div><div class="ttdeci">QualType getPointeeType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l02665">Type.h:2665</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclContext_html_ad7ab62cfc73a62174af9418139e47f5a"><div class="ttname"><a href="classclang_1_1DeclContext.html#ad7ab62cfc73a62174af9418139e47f5a">clang::DeclContext::isExternCContext</a></div><div class="ttdeci">bool isExternCContext() const</div><div class="ttdoc">Determines whether this context or some of its ancestors is a linkage specification context that spec...</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l01202">DeclBase.cpp:1202</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a5633727ff414f272a3c4b2e6ca310718"><div class="ttname"><a href="classclang_1_1Sema.html#a5633727ff414f272a3c4b2e6ca310718">clang::Sema::isValidSectionSpecifier</a></div><div class="ttdeci">llvm::Error isValidSectionSpecifier(StringRef Str)</div></div>
<div class="ttc" id="anamespaceclang_1_1index_html_a2f70a3d61ba9b8a97d8e609dcdf069dea178c196a9c68e642ae8236ed5d19f571"><div class="ttname"><a href="namespaceclang_1_1index.html#a2f70a3d61ba9b8a97d8e609dcdf069dea178c196a9c68e642ae8236ed5d19f571">clang::index::SymbolKind::InstanceMethod</a></div><div class="ttdeci">@ InstanceMethod</div></div>
<div class="ttc" id="aMangle_8h_html"><div class="ttname"><a href="Mangle_8h.html">Mangle.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a92dc2e00b88296cddf5d4a9fe17be6d6"><div class="ttname"><a href="classclang_1_1Sema.html#a92dc2e00b88296cddf5d4a9fe17be6d6">clang::Sema::mergeFormatAttr</a></div><div class="ttdeci">FormatAttr * mergeFormatAttr(Decl *D, const AttributeCommonInfo &amp;CI, IdentifierInfo *Format, int FormatIdx, int FirstArg)</div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a46b92fa90488bdc219831b05cd858c0b"><div class="ttname"><a href="classclang_1_1Decl.html#a46b92fa90488bdc219831b05cd858c0b">clang::Decl::setInvalidDecl</a></div><div class="ttdeci">void setInvalidDecl(bool Invalid=true)</div><div class="ttdoc">setInvalidDecl - Indicates the Decl had a semantic error.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00132">DeclBase.cpp:132</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6abf610e87b3d57d11d9c3aa8c27e50491"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6abf610e87b3d57d11d9c3aa8c27e50491">clang::ExpectedKernelFunction</a></div><div class="ttdeci">@ ExpectedKernelFunction</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01142">ParsedAttr.h:1142</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9a28522152f040e42dd33e305be47e81"><div class="ttname"><a href="classclang_1_1Sema.html#a9a28522152f040e42dd33e305be47e81">clang::Sema::AddSYCLIntelFPGAInitiationIntervalAttr</a></div><div class="ttdeci">void AddSYCLIntelFPGAInitiationIntervalAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1CXXRecordDecl_html_a47bd4d56ae0e4ddd26ac0bec6e977160"><div class="ttname"><a href="classclang_1_1CXXRecordDecl.html#a47bd4d56ae0e4ddd26ac0bec6e977160">clang::CXXRecordDecl::isLambda</a></div><div class="ttdeci">bool isLambda() const</div><div class="ttdoc">Determine whether this class describes a lambda function object.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l00999">DeclCXX.h:999</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ae0dad247b544b8927e77a05d51f8eede"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ae0dad247b544b8927e77a05d51f8eede">clang::FunctionDecl::isFunctionTemplateSpecialization</a></div><div class="ttdeci">bool isFunctionTemplateSpecialization() const</div><div class="ttdoc">Determine whether this function is a function template specialization.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02693">Decl.h:2693</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a3556b4a11d8724de9a397309835827d0"><div class="ttname"><a href="classclang_1_1ASTContext.html#a3556b4a11d8724de9a397309835827d0">clang::ASTContext::hasSameType</a></div><div class="ttdeci">bool hasSameType(QualType T1, QualType T2) const</div><div class="ttdoc">Determine whether the given types T1 and T2 are equivalent.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l02521">ASTContext.h:2521</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66"><div class="ttname"><a href="classclang_1_1Sema.html#a0c6e994c44767e74e2892aa0235efb1aa0f401cd356feef42a5d4f95df7a6bf66">clang::Sema::LookupOrdinaryName</a></div><div class="ttdeci">@ LookupOrdinaryName</div><div class="ttdoc">Ordinary name lookup, which finds ordinary names (functions, variables, typedefs, etc....</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l04305">Sema.h:4305</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a190965d69b6e3d8486d48d85a6b20f54"><div class="ttname"><a href="classclang_1_1Sema.html#a190965d69b6e3d8486d48d85a6b20f54">clang::Sema::MergeSYCLIntelNumSimdWorkItemsAttr</a></div><div class="ttdeci">SYCLIntelNumSimdWorkItemsAttr * MergeSYCLIntelNumSimdWorkItemsAttr(Decl *D, const SYCLIntelNumSimdWorkItemsAttr &amp;A)</div></div>
<div class="ttc" id="anamespaceclang_html_a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e"><div class="ttname"><a href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca026f679d45ce5b7f618b89ac18d8595e">clang::AANT_ArgumentIntegerConstant</a></div><div class="ttdeci">@ AANT_ArgumentIntegerConstant</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01121">ParsedAttr.h:1121</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVM_8h_source.html#l00039">LLVM.h:39</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a28872df2407f7a0964e27bd8b2c717a6"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a28872df2407f7a0964e27bd8b2c717a6">clang::ParsedAttr::supportsNonconformingLambdaSyntax</a></div><div class="ttdeci">bool supportsNonconformingLambdaSyntax() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8cpp_source.html#l00215">ParsedAttr.cpp:215</a></div></div>
<div class="ttc" id="aclassclang_1_1ParameterABIAttr_html"><div class="ttname"><a href="classclang_1_1ParameterABIAttr.html">clang::ParameterABIAttr</a></div><div class="ttdoc">A parameter attribute which changes the argument-passing ABI rule for the parameter.</div><div class="ttdef"><b>Definition:</b> <a href="Attr_8h_source.html#l00198">Attr.h:198</a></div></div>
<div class="ttc" id="anamespaceclang_html_a56dabc7d0ce7d72b9a35f6f5c3f89370aebf74ba707605e744f1303f997b2477f"><div class="ttname"><a href="namespaceclang.html#a56dabc7d0ce7d72b9a35f6f5c3f89370aebf74ba707605e744f1303f997b2477f">clang::SC_None</a></div><div class="ttdeci">@ SC_None</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00235">Specifiers.h:235</a></div></div>
<div class="ttc" id="aclassclang_1_1ValueDecl_html_a673ae4e2fab42426820de8df166fef5d"><div class="ttname"><a href="classclang_1_1ValueDecl.html#a673ae4e2fab42426820de8df166fef5d">clang::ValueDecl::getType</a></div><div class="ttdeci">QualType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00686">Decl.h:686</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html_a15c4864dd115441a6bd6fa83d26b5bda"><div class="ttname"><a href="classclang_1_1Expr.html#a15c4864dd115441a6bd6fa83d26b5bda">clang::Expr::isPotentialConstantExprUnevaluated</a></div><div class="ttdeci">static bool isPotentialConstantExprUnevaluated(Expr *E, const FunctionDecl *FD, SmallVectorImpl&lt; PartialDiagnosticAt &gt; &amp;Diags)</div><div class="ttdoc">isPotentialConstantExprUnevaluted - Return true if this expression might be usable in a constant expr...</div><div class="ttdef"><b>Definition:</b> <a href="ExprConstant_8cpp_source.html#l15884">ExprConstant.cpp:15884</a></div></div>
<div class="ttc" id="aclassclang_1_1AttributeCommonInfo_html_a6940b4f3219ae86ee8e691e5451e1e22"><div class="ttname"><a href="classclang_1_1AttributeCommonInfo.html#a6940b4f3219ae86ee8e691e5451e1e22">clang::AttributeCommonInfo::getAttributeSpellingListIndex</a></div><div class="ttdeci">unsigned getAttributeSpellingListIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="AttributeCommonInfo_8h_source.html#l00172">AttributeCommonInfo.h:172</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a3b8d0cdfe0bdd8b98296b84ae9d438c5"><div class="ttname"><a href="classclang_1_1Type.html#a3b8d0cdfe0bdd8b98296b84ae9d438c5">clang::Type::isIntegerType</a></div><div class="ttdeci">bool isIntegerType() const</div><div class="ttdoc">isIntegerType() does not include complex integers (a GCC extension).</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07089">Type.h:7089</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a1d081811578f251f5d23e8f42ee077c0"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a1d081811578f251f5d23e8f42ee077c0">clang::FunctionDecl::getBuiltinID</a></div><div class="ttdeci">unsigned getBuiltinID(bool ConsiderWrapperFunctions=false) const</div><div class="ttdoc">Returns a value indicating whether this function corresponds to a builtin function.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l03342">Decl.cpp:3342</a></div></div>
<div class="ttc" id="anamespaceclang_html_a138d839737bf2bbc2201172be5547ab6ac12fab256a88ffabb612b3990ebf4e66"><div class="ttname"><a href="namespaceclang.html#a138d839737bf2bbc2201172be5547ab6ac12fab256a88ffabb612b3990ebf4e66">clang::ExpectedFunctionVariableOrClass</a></div><div class="ttdeci">@ ExpectedFunctionVariableOrClass</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01141">ParsedAttr.h:1141</a></div></div>
<div class="ttc" id="anamespaceclang_html_ae6d16e133294b0b9c8c8d3108aadd25bac0b883ae27291a0b85df3e629d1c14a4"><div class="ttname"><a href="namespaceclang.html#ae6d16e133294b0b9c8c8d3108aadd25bac0b883ae27291a0b85df3e629d1c14a4">clang::CC_X86_64SysV</a></div><div class="ttdeci">@ CC_X86_64SysV</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00271">Specifiers.h:271</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6c479c16f7a4d826dde1ec1f346ba3f9"><div class="ttname"><a href="classclang_1_1Sema.html#a6c479c16f7a4d826dde1ec1f346ba3f9">clang::Sema::CheckRegparmAttr</a></div><div class="ttdeci">bool CheckRegparmAttr(const ParsedAttr &amp;attr, unsigned &amp;value)</div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a7eed522be3a64a18a0fceb5e78395b0c"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a7eed522be3a64a18a0fceb5e78395b0c">clang::ParsedAttr::isArgIdent</a></div><div class="ttdeci">bool isArgIdent(unsigned Arg) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00514">ParsedAttr.h:514</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_afe6cd99c0a9fd38178c260c50d70b5e5"><div class="ttname"><a href="classclang_1_1Sema.html#afe6cd99c0a9fd38178c260c50d70b5e5">clang::Sema::AddSYCLIntelMaxWorkGroupSizeAttr</a></div><div class="ttdeci">void AddSYCLIntelMaxWorkGroupSizeAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *XDim, Expr *YDim, Expr *ZDim)</div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttributesView_html"><div class="ttname"><a href="classclang_1_1ParsedAttributesView.html">clang::ParsedAttributesView</a></div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00909">ParsedAttr.h:909</a></div></div>
<div class="ttc" id="aclassclang_1_1Expr_html"><div class="ttname"><a href="classclang_1_1Expr.html">clang::Expr</a></div><div class="ttdoc">This represents one expression.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l00109">Expr.h:109</a></div></div>
<div class="ttc" id="astructclang_1_1DarwinSDKInfo_1_1OSEnvPair_html_a5b9b6d3be47dd4ed41ba335e7888aa5f"><div class="ttname"><a href="structclang_1_1DarwinSDKInfo_1_1OSEnvPair.html#a5b9b6d3be47dd4ed41ba335e7888aa5f">clang::DarwinSDKInfo::OSEnvPair::iOStoTvOSPair</a></div><div class="ttdeci">static constexpr OSEnvPair iOStoTvOSPair()</div><div class="ttdoc">Returns the os-environment mapping pair that's used to represent the iOS -&gt; tvOS version mapping.</div><div class="ttdef"><b>Definition:</b> <a href="DarwinSDKInfo_8h_source.html#l00069">DarwinSDKInfo.h:69</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a0fe9b0623549d55629263242cbf3927e"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a0fe9b0623549d55629263242cbf3927e">clang::FunctionDecl::getDescribedFunctionTemplate</a></div><div class="ttdeci">FunctionTemplateDecl * getDescribedFunctionTemplate() const</div><div class="ttdoc">Retrieves the function template that is described by this function declaration.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8cpp_source.html#l03733">Decl.cpp:3733</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_adf3b36e6619eb137a0f511bc54237ee0"><div class="ttname"><a href="classclang_1_1TargetInfo.html#adf3b36e6619eb137a0f511bc54237ee0">clang::TargetInfo::shouldDLLImportComdatSymbols</a></div><div class="ttdeci">virtual bool shouldDLLImportComdatSymbols() const</div><div class="ttdoc">Does this target aim for semantic compatibility with Microsoft C++ code using dllimport/export attrib...</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01196">TargetInfo.h:1196</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_aea83ce33ebe6da5a5ced45aaf1686cdb"><div class="ttname"><a href="classclang_1_1Sema.html#aea83ce33ebe6da5a5ced45aaf1686cdb">clang::Sema::AddSYCLIntelNumSimdWorkItemsAttr</a></div><div class="ttdeci">void AddSYCLIntelNumSimdWorkItemsAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="anamespaceclang_html_a702b0ec61c5bb9df98d3364a170c0dfca61bfee29a82b998912bdc510b7c974b1"><div class="ttname"><a href="namespaceclang.html#a702b0ec61c5bb9df98d3364a170c0dfca61bfee29a82b998912bdc510b7c974b1">clang::AANT_ArgumentBuiltinFunction</a></div><div class="ttdeci">@ AANT_ArgumentBuiltinFunction</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l01125">ParsedAttr.h:1125</a></div></div>
<div class="ttc" id="aclassclang_1_1Declarator_html_ad207fc91c77fda862755fb315e6c47dc"><div class="ttname"><a href="classclang_1_1Declarator.html#ad207fc91c77fda862755fb315e6c47dc">clang::Declarator::getAttributes</a></div><div class="ttdeci">const ParsedAttributes &amp; getAttributes() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclSpec_8h_source.html#l02523">DeclSpec.h:2523</a></div></div>
<div class="ttc" id="aclassclang_1_1VarDecl_html_ab7c54da372d71f7a83cc5a8834cb70f7"><div class="ttname"><a href="classclang_1_1VarDecl.html#ab7c54da372d71f7a83cc5a8834cb70f7">clang::VarDecl::hasLocalStorage</a></div><div class="ttdeci">bool hasLocalStorage() const</div><div class="ttdoc">Returns true if a variable with function scope is a non-static local variable.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01100">Decl.h:1100</a></div></div>
<div class="ttc" id="anamespaceclang_html_aaf6f0b7818fd6a7fc4e0e05f0d1d17a4"><div class="ttname"><a href="namespaceclang.html#aaf6f0b7818fd6a7fc4e0e05f0d1d17a4">clang::parseSanitizerValue</a></div><div class="ttdeci">SanitizerMask parseSanitizerValue(StringRef Value, bool AllowGroups)</div><div class="ttdoc">Parse a single value from a -fsanitize= or -fno-sanitize= value list.</div><div class="ttdef"><b>Definition:</b> <a href="Sanitizers_8cpp_source.html#l00029">Sanitizers.cpp:29</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ac1d165b1a802532f800a73ed9e8275a4a721f29e9c65b3ee019eee99a0972e78f"><div class="ttname"><a href="classclang_1_1Sema.html#ac1d165b1a802532f800a73ed9e8275a4a721f29e9c65b3ee019eee99a0972e78f">clang::Sema::AP_PragmaClangAttribute</a></div><div class="ttdeci">@ AP_PragmaClangAttribute</div><div class="ttdoc">The availability attribute was applied using '#pragma clang attribute'.</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l03671">Sema.h:3671</a></div></div>
<div class="ttc" id="astructclang_1_1AvailabilityChange_html_a08876af43059ef0b231423e9a304d23d"><div class="ttname"><a href="structclang_1_1AvailabilityChange.html#a08876af43059ef0b231423e9a304d23d">clang::AvailabilityChange::Version</a></div><div class="ttdeci">VersionTuple Version</div><div class="ttdoc">The version number at which the change occurred.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00172">ParsedAttr.h:172</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a1308f06d5efd10ca0c114d4bd96f8dfe"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a1308f06d5efd10ca0c114d4bd96f8dfe">clang::ParsedAttr::getArgAsIdent</a></div><div class="ttdeci">IdentifierLoc * getArgAsIdent(unsigned Arg) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00518">ParsedAttr.h:518</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a6829f2b169c74ad544c53a8b1415061b"><div class="ttname"><a href="classclang_1_1Sema.html#a6829f2b169c74ad544c53a8b1415061b">clang::Sema::PP</a></div><div class="ttdeci">Preprocessor &amp; PP</div><div class="ttdef"><b>Definition:</b> <a href="Sema_8h_source.html#l00586">Sema.h:586</a></div></div>
<div class="ttc" id="aclassclang_1_1EnumType_html"><div class="ttname"><a href="classclang_1_1EnumType.html">clang::EnumType</a></div><div class="ttdoc">A helper class that allows the use of isa/cast/dyncast to detect TagType objects of enums.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l04675">Type.h:4675</a></div></div>
<div class="ttc" id="aParsedAttr_8h_html"><div class="ttname"><a href="ParsedAttr_8h.html">ParsedAttr.h</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ad7fab0a3f999e36cc86eb13480b40866"><div class="ttname"><a href="classclang_1_1Sema.html#ad7fab0a3f999e36cc86eb13480b40866">clang::Sema::AddAlignedAttr</a></div><div class="ttdeci">void AddAlignedAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E, bool IsPackExpansion)</div><div class="ttdoc">AddAlignedAttr - Adds an aligned attribute to a particular declaration.</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ad2e5289d83d35aa083c1a3c38fcd8f71"><div class="ttname"><a href="classclang_1_1Sema.html#ad2e5289d83d35aa083c1a3c38fcd8f71">clang::Sema::AddSYCLIntelESimdVectorizeAttr</a></div><div class="ttdeci">void AddSYCLIntelESimdVectorizeAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *E)</div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a920f88ccbce6c2ce4cd30f161b6b7f0d"><div class="ttname"><a href="classclang_1_1ASTContext.html#a920f88ccbce6c2ce4cd30f161b6b7f0d">clang::ASTContext::getObjCObjectPointerType</a></div><div class="ttdeci">QualType getObjCObjectPointerType(QualType OIT) const</div><div class="ttdoc">Return a ObjCObjectPointerType type for the given ObjCObjectType.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l05491">ASTContext.cpp:5491</a></div></div>
<div class="ttc" id="astructclang_1_1IdentifierLoc_html"><div class="ttname"><a href="structclang_1_1IdentifierLoc.html">clang::IdentifierLoc</a></div><div class="ttdoc">Wraps an identifier and optional source location for the identifier.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00218">ParsedAttr.h:218</a></div></div>
<div class="ttc" id="astructclang_1_1DeclarationNameInfo_html"><div class="ttname"><a href="structclang_1_1DeclarationNameInfo.html">clang::DeclarationNameInfo</a></div><div class="ttdoc">DeclarationNameInfo - A collector data type for bundling together a DeclarationName and the correspnd...</div><div class="ttdef"><b>Definition:</b> <a href="DeclarationName_8h_source.html#l00756">DeclarationName.h:756</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_adeae50dacf3aca8217cd288ce4a7e4ae"><div class="ttname"><a href="classclang_1_1Sema.html#adeae50dacf3aca8217cd288ce4a7e4ae">clang::Sema::MergeWorkGroupSizeHintAttr</a></div><div class="ttdeci">WorkGroupSizeHintAttr * MergeWorkGroupSizeHintAttr(Decl *D, const WorkGroupSizeHintAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Type_html_ab349777c8b730854e626849c6acff90d"><div class="ttname"><a href="classclang_1_1Type.html#ab349777c8b730854e626849c6acff90d">clang::Type::isIncompleteType</a></div><div class="ttdeci">bool isIncompleteType(NamedDecl **Def=nullptr) const</div><div class="ttdoc">Types are partitioned into 3 broad categories (C99 6.2.5p1): object types, function types,...</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l02235">Type.cpp:2235</a></div></div>
<div class="ttc" id="aclassclang_1_1TargetInfo_html_aae4037480b305412714dde2e6fc2039e"><div class="ttname"><a href="classclang_1_1TargetInfo.html#aae4037480b305412714dde2e6fc2039e">clang::TargetInfo::CallingConvCheckResult</a></div><div class="ttdeci">CallingConvCheckResult</div><div class="ttdef"><b>Definition:</b> <a href="include_2clang_2Basic_2TargetInfo_8h_source.html#l01502">TargetInfo.h:1502</a></div></div>
<div class="ttc" id="aclassclang_1_1Builtin_1_1Context_html_a0fe8c3db54bc86586346d2472d5bfbd5"><div class="ttname"><a href="classclang_1_1Builtin_1_1Context.html#a0fe8c3db54bc86586346d2472d5bfbd5">clang::Builtin::Context::isAuxBuiltinID</a></div><div class="ttdeci">bool isAuxBuiltinID(unsigned ID) const</div><div class="ttdoc">Return true if builtin ID belongs to AuxTarget.</div><div class="ttdef"><b>Definition:</b> <a href="Builtins_8h_source.html#l00221">Builtins.h:221</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_ab95c29a19de7d1c1e967d59cdbac2dcc"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#ab95c29a19de7d1c1e967d59cdbac2dcc">clang::FunctionDecl::parameters</a></div><div class="ttdeci">ArrayRef&lt; ParmVarDecl * &gt; parameters() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02487">Decl.h:2487</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a00ec7fab6f88207f4914e265a1a142d6"><div class="ttname"><a href="classclang_1_1ASTContext.html#a00ec7fab6f88207f4914e265a1a142d6">clang::ASTContext::getMSGuidDecl</a></div><div class="ttdeci">MSGuidDecl * getMSGuidDecl(MSGuidDeclParts Parts) const</div><div class="ttdoc">Return a declaration for the global GUID object representing the given GUID value.</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8cpp_source.html#l11903">ASTContext.cpp:11903</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a9ac934b2f7ae95704682dc44da1f0867"><div class="ttname"><a href="classclang_1_1Decl.html#a9ac934b2f7ae95704682dc44da1f0867">clang::Decl::getLocation</a></div><div class="ttdeci">SourceLocation getLocation() const</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00424">DeclBase.h:424</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a2ec18eb04c0441468ab57e4fe3e922c5"><div class="ttname"><a href="classclang_1_1Sema.html#a2ec18eb04c0441468ab57e4fe3e922c5">clang::Sema::mergeImportModuleAttr</a></div><div class="ttdeci">WebAssemblyImportModuleAttr * mergeImportModuleAttr(Decl *D, const WebAssemblyImportModuleAttr &amp;AL)</div></div>
<div class="ttc" id="anamespaceclang_html_a583fcd7bd4c641e26e303d7db6efa11ea3b0fbbe7fa53bea291ac093fd1ac7421"><div class="ttname"><a href="namespaceclang.html#a583fcd7bd4c641e26e303d7db6efa11ea3b0fbbe7fa53bea291ac093fd1ac7421">clang::TSCS_unspecified</a></div><div class="ttdeci">@ TSCS_unspecified</div><div class="ttdef"><b>Definition:</b> <a href="Specifiers_8h_source.html#l00221">Specifiers.h:221</a></div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_a23a77a5397a182e93686db8897e57a80"><div class="ttname"><a href="classclang_1_1Decl.html#a23a77a5397a182e93686db8897e57a80">clang::Decl::addAttr</a></div><div class="ttdeci">void addAttr(Attr *A)</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8cpp_source.html#l00885">DeclBase.cpp:885</a></div></div>
<div class="ttc" id="aclassclang_1_1DeclRefExpr_html"><div class="ttname"><a href="classclang_1_1DeclRefExpr.html">clang::DeclRefExpr</a></div><div class="ttdoc">A reference to a declared variable, function, enum, etc.</div><div class="ttdef"><b>Definition:</b> <a href="Expr_8h_source.html#l01223">Expr.h:1223</a></div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html"><div class="ttname"><a href="classclang_1_1FunctionDecl.html">clang::FunctionDecl</a></div><div class="ttdoc">Represents a function declaration or definition.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l01856">Decl.h:1856</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_ab5933d2206753a4f135c26c5ed43bafb"><div class="ttname"><a href="classclang_1_1Sema.html#ab5933d2206753a4f135c26c5ed43bafb">clang::Sema::AddSYCLAddIRAttributesGlobalVariableAttr</a></div><div class="ttdeci">void AddSYCLAddIRAttributesGlobalVariableAttr(Decl *D, const AttributeCommonInfo &amp;CI, MutableArrayRef&lt; Expr * &gt; Args)</div></div>
<div class="ttc" id="aclassclang_1_1RecordDecl_html"><div class="ttname"><a href="classclang_1_1RecordDecl.html">clang::RecordDecl</a></div><div class="ttdoc">Represents a struct/union/class.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l03885">Decl.h:3885</a></div></div>
<div class="ttc" id="astructclang_1_1AvailabilityChange_html_a445c0590e132224e65e5723f6b21abf7"><div class="ttname"><a href="structclang_1_1AvailabilityChange.html#a445c0590e132224e65e5723f6b21abf7">clang::AvailabilityChange::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Determine whether this availability change is valid.</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00178">ParsedAttr.h:178</a></div></div>
<div class="ttc" id="aclassclang_1_1DarwinSDKInfo_html_a7fe8bf714c1c63c58e4386e8e30a8e79"><div class="ttname"><a href="classclang_1_1DarwinSDKInfo.html#a7fe8bf714c1c63c58e4386e8e30a8e79">clang::DarwinSDKInfo::getVersionMapping</a></div><div class="ttdeci">const RelatedTargetVersionMapping * getVersionMapping(OSEnvPair Kind) const</div><div class="ttdef"><b>Definition:</b> <a href="DarwinSDKInfo_8h_source.html#l00141">DarwinSDKInfo.h:141</a></div></div>
<div class="ttc" id="aSemaDeclAttr_8cpp_html_ad6161fbdebab1f810744ffe63468299e"><div class="ttname"><a href="SemaDeclAttr_8cpp.html#ad6161fbdebab1f810744ffe63468299e">getFunctionOrMethodParamRange</a></div><div class="ttdeci">static SourceRange getFunctionOrMethodParamRange(const Decl *D, unsigned Idx)</div><div class="ttdef"><b>Definition:</b> <a href="SemaDeclAttr_8cpp_source.html#l00125">SemaDeclAttr.cpp:125</a></div></div>
<div class="ttc" id="anamespaceclang_1_1interp_html_a1bf3981a441b5357f0f3984df94fb2c5"><div class="ttname"><a href="namespaceclang_1_1interp.html#a1bf3981a441b5357f0f3984df94fb2c5">clang::interp::Sub</a></div><div class="ttdeci">bool Sub(InterpState &amp;S, CodePtr OpPC)</div><div class="ttdef"><b>Definition:</b> <a href="Interp_8h_source.html#l00142">Interp.h:142</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a9fb88737e97b44e0fd940c371514765a"><div class="ttname"><a href="classclang_1_1Sema.html#a9fb88737e97b44e0fd940c371514765a">clang::Sema::MergeSYCLIntelFPGAInitiationIntervalAttr</a></div><div class="ttdeci">SYCLIntelFPGAInitiationIntervalAttr * MergeSYCLIntelFPGAInitiationIntervalAttr(Decl *D, const SYCLIntelFPGAInitiationIntervalAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a91f9fb3f344d7fe876cd48cbb8cea045"><div class="ttname"><a href="classclang_1_1Sema.html#a91f9fb3f344d7fe876cd48cbb8cea045">clang::Sema::MergeSYCLIntelESimdVectorizeAttr</a></div><div class="ttdeci">SYCLIntelESimdVectorizeAttr * MergeSYCLIntelESimdVectorizeAttr(Decl *D, const SYCLIntelESimdVectorizeAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1FunctionDecl_html_a24dba9bcdd8392c3124cb62d7b56a5e5"><div class="ttname"><a href="classclang_1_1FunctionDecl.html#a24dba9bcdd8392c3124cb62d7b56a5e5">clang::FunctionDecl::setIsMultiVersion</a></div><div class="ttdeci">void setIsMultiVersion(bool V=true)</div><div class="ttdoc">Sets the multiversion state for this declaration and all of its redeclarations.</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l02441">Decl.h:2441</a></div></div>
<div class="ttc" id="aclassclang_1_1ASTContext_html_a5d08520048c29a58b06a07f1bfb69b77"><div class="ttname"><a href="classclang_1_1ASTContext.html#a5d08520048c29a58b06a07f1bfb69b77">clang::ASTContext::getLangOpts</a></div><div class="ttdeci">const LangOptions &amp; getLangOpts() const</div><div class="ttdef"><b>Definition:</b> <a href="ASTContext_8h_source.html#l00782">ASTContext.h:782</a></div></div>
<div class="ttc" id="aclassclang_1_1CharUnits_html_a968b1a66a449ab256c4dd176bd663c07"><div class="ttname"><a href="classclang_1_1CharUnits.html#a968b1a66a449ab256c4dd176bd663c07">clang::CharUnits::getQuantity</a></div><div class="ttdeci">QuantityType getQuantity() const</div><div class="ttdoc">getQuantity - Get the raw integer representation of this quantity.</div><div class="ttdef"><b>Definition:</b> <a href="CharUnits_8h_source.html#l00179">CharUnits.h:179</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a13b7164c3932d73c6fef92bf5ff8e990"><div class="ttname"><a href="classclang_1_1Sema.html#a13b7164c3932d73c6fef92bf5ff8e990">clang::Sema::ProcessDeclAttributeDelayed</a></div><div class="ttdeci">void ProcessDeclAttributeDelayed(Decl *D, const ParsedAttributesView &amp;AttrList)</div></div>
<div class="ttc" id="aclassclang_1_1SanitizerMask_html"><div class="ttname"><a href="classclang_1_1SanitizerMask.html">clang::SanitizerMask</a></div><div class="ttdef"><b>Definition:</b> <a href="Sanitizers_8h_source.html#l00030">Sanitizers.h:30</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a7355fd655f8598380692eaafd580f6b4"><div class="ttname"><a href="classclang_1_1Sema.html#a7355fd655f8598380692eaafd580f6b4">clang::Sema::AddReqdWorkGroupSizeAttr</a></div><div class="ttdeci">void AddReqdWorkGroupSizeAttr(Decl *D, const AttributeCommonInfo &amp;CI, Expr *XDim, Expr *YDim, Expr *ZDim)</div></div>
<div class="ttc" id="aclassclang_1_1DeclaratorDecl_html_ab852295980e376690af292afb7ce40d6"><div class="ttname"><a href="classclang_1_1DeclaratorDecl.html#ab852295980e376690af292afb7ce40d6">clang::DeclaratorDecl::getTypeSourceInfo</a></div><div class="ttdeci">TypeSourceInfo * getTypeSourceInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00756">Decl.h:756</a></div></div>
<div class="ttc" id="aclassclang_1_1FixItHint_html_a90e122cd34933ba821718385fddfae7a"><div class="ttname"><a href="classclang_1_1FixItHint.html#a90e122cd34933ba821718385fddfae7a">clang::FixItHint::CreateReplacement</a></div><div class="ttdeci">static FixItHint CreateReplacement(CharSourceRange RemoveRange, StringRef Code)</div><div class="ttdoc">Create a code modification hint that replaces the given source range with the given code string.</div><div class="ttdef"><b>Definition:</b> <a href="Basic_2Diagnostic_8h_source.html#l00134">Diagnostic.h:134</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a58b6f352a1bd0963e500a4e902c4e74c"><div class="ttname"><a href="classclang_1_1Type.html#a58b6f352a1bd0963e500a4e902c4e74c">clang::Type::isIntegralOrEnumerationType</a></div><div class="ttdeci">bool isIntegralOrEnumerationType() const</div><div class="ttdoc">Determine whether this type is an integral or enumeration type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l07160">Type.h:7160</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a007e14267fb78c7410a53836a3ec21a0"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a007e14267fb78c7410a53836a3ec21a0">clang::ParsedAttr::isPackExpansion</a></div><div class="ttdeci">bool isPackExpansion() const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00494">ParsedAttr.h:494</a></div></div>
<div class="ttc" id="aclassclang_1_1Type_html_a4b9b73b137f6c80e4804d034cede4bb1"><div class="ttname"><a href="classclang_1_1Type.html#a4b9b73b137f6c80e4804d034cede4bb1">clang::Type::isObjCNSObjectType</a></div><div class="ttdeci">bool isObjCNSObjectType() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l04305">Type.cpp:4305</a></div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a4def03ad9f265dab3d83354079020854"><div class="ttname"><a href="classclang_1_1Sema.html#a4def03ad9f265dab3d83354079020854">clang::Sema::MergeSYCLAddIRAttributesGlobalVariableAttr</a></div><div class="ttdeci">SYCLAddIRAttributesGlobalVariableAttr * MergeSYCLAddIRAttributesGlobalVariableAttr(Decl *D, const SYCLAddIRAttributesGlobalVariableAttr &amp;A)</div></div>
<div class="ttc" id="aclassclang_1_1Sema_html_a38ecaa7c3142a2c38cc66efd3e96e89f"><div class="ttname"><a href="classclang_1_1Sema.html#a38ecaa7c3142a2c38cc66efd3e96e89f">clang::Sema::MergeSYCLIntelLoopFuseAttr</a></div><div class="ttdeci">SYCLIntelLoopFuseAttr * MergeSYCLIntelLoopFuseAttr(Decl *D, const SYCLIntelLoopFuseAttr &amp;A)</div></div>
<div class="ttc" id="anamespaceclang_html_ad9d926b16adbdbc93705737b69d47cae"><div class="ttname"><a href="namespaceclang.html#ad9d926b16adbdbc93705737b69d47cae">clang::declaresSameEntity</a></div><div class="ttdeci">bool declaresSameEntity(const Decl *D1, const Decl *D2)</div><div class="ttdoc">Determine whether two declarations declare the same entity.</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l01206">DeclBase.h:1206</a></div></div>
<div class="ttc" id="aclassclang_1_1ParsedAttr_html_a3595ed02bc953c91ba501b07485d2644"><div class="ttname"><a href="classclang_1_1ParsedAttr.html#a3595ed02bc953c91ba501b07485d2644">clang::ParsedAttr::getArgAsExpr</a></div><div class="ttdeci">Expr * getArgAsExpr(unsigned Arg) const</div><div class="ttdef"><b>Definition:</b> <a href="ParsedAttr_8h_source.html#l00510">ParsedAttr.h:510</a></div></div>
<div class="ttc" id="aclassclang_1_1ValueDecl_html_a3a82ca5762f3fb1c2d25d9cf63728cd2"><div class="ttname"><a href="classclang_1_1ValueDecl.html#a3a82ca5762f3fb1c2d25d9cf63728cd2">clang::ValueDecl::setType</a></div><div class="ttdeci">void setType(QualType newType)</div><div class="ttdef"><b>Definition:</b> <a href="Decl_8h_source.html#l00687">Decl.h:687</a></div></div>
<div class="ttc" id="aInitialization_8h_html"><div class="ttname"><a href="Initialization_8h.html">Initialization.h</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html_a290cbceee004310e1a43bb8cd9ab25de"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html#a290cbceee004310e1a43bb8cd9ab25de">clang::CXXMethodDecl::getParent</a></div><div class="ttdeci">const CXXRecordDecl * getParent() const</div><div class="ttdoc">Return the parent of this method declaration, which is the class in which this method is defined.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l02083">DeclCXX.h:2083</a></div></div>
<div class="ttc" id="aclassclang_1_1CXXMethodDecl_html"><div class="ttname"><a href="classclang_1_1CXXMethodDecl.html">clang::CXXMethodDecl</a></div><div class="ttdoc">Represents a static or instance method of a struct/union/class.</div><div class="ttdef"><b>Definition:</b> <a href="DeclCXX_8h_source.html#l01968">DeclCXX.h:1968</a></div></div>
<div class="ttc" id="aclassclang_1_1sema_1_1DelayedDiagnostic_html_aaffb3d2350bd46b16becaf19f52915ff"><div class="ttname"><a href="classclang_1_1sema_1_1DelayedDiagnostic.html#aaffb3d2350bd46b16becaf19f52915ff">clang::sema::DelayedDiagnostic::Triggered</a></div><div class="ttdeci">bool Triggered</div><div class="ttdef"><b>Definition:</b> <a href="DelayedDiagnostic_8h_source.html#l00129">DelayedDiagnostic.h:129</a></div></div>
<div class="ttc" id="anamespaceclang_html_a3019e867704f9d3b354988f302282bc5a6fcdc090caeade09d0efd6253932b6f5"><div class="ttname"><a href="namespaceclang.html#a3019e867704f9d3b354988f302282bc5a6fcdc090caeade09d0efd6253932b6f5">clang::ConstexprSpecKind::Unspecified</a></div><div class="ttdeci">@ Unspecified</div></div>
<div class="ttc" id="aclassclang_1_1Decl_html_af67e1a1d24dcc51093b95dbcf68d4288"><div class="ttname"><a href="classclang_1_1Decl.html#af67e1a1d24dcc51093b95dbcf68d4288">clang::Decl::getDeclContext</a></div><div class="ttdeci">DeclContext * getDeclContext()</div><div class="ttdef"><b>Definition:</b> <a href="DeclBase_8h_source.html#l00433">DeclBase.h:433</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 4 2022 01:35:42 for clang by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
